/*! For license information please see 2.adbebb1b.chunk.js.LICENSE.txt */
(this["webpackJsonpott-smarttv"]=this["webpackJsonpott-smarttv"]||[]).push([[2],[,,function(t,e,n){"use strict";t.exports=n(1215)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(12);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(278);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(36),i=n(419);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n(16);function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(a.a)(t):e}function u(t){return function(){var e,n=Object(r.a)(t);if(Object(i.a)()){var o=Object(r.a)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return s(this,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Spotlight=e.getDirection=e.default=void 0;var r=n(402),i=n(1229),o=p(n(1230)),a=p(n(500)),s=p(n(1244)),u=n(22),l=n(415),c=n(324),f=n(652),h=n(1270),d=n(504);function p(t){return t&&t.__esModule?t:{default:t}}var g=(0,r.is)("down"),v=(0,r.is)("enter"),m=(0,r.is)("left"),y=(0,r.is)("right"),b=(0,r.is)("up"),w=function(t){return(g(t)?"down":m(t)&&"left")||y(t)&&"right"||b(t)&&"up"};e.getDirection=w;var S=new s.default,T=function(){var t=!1,e=!1,n=!1,r=!1,s=!1;function p(t){return t.preventDefault(),t.stopPropagation(),!1}function g(){return(0,l.isPaused)()||0===(0,c.getAllContainerIds)().length}function m(){if((0,i.isWindowReady)()){var t=document.activeElement;return t&&t!==document.body?t:void 0}}function y(){var t=window.PalmSystem;t&&t.cursor&&(0,f.setPointerMode)(t.cursor.visibility)}function b(t,n,r){if(!t)return!1;if((0,f.getPointerMode)()&&!r)return(0,c.setContainerLastFocusedElement)(t,n),!1;var i=m();if(t===i)return!0;var o=(0,c.isWithinOverflowContainer)(t,n)?{preventScroll:!0}:null,a=function(){t.focus(o),E(t,n)};return e?(a(),!0):(e=!0,(0,l.isPaused)()?(a(),e=!1,!0):(t.focus(o),e=!1,E(t,n),!0))}function E(t,e){e&&e.length||(e=(0,c.getContainersForNode)(t));var n=(0,a.default)(e);n&&((0,c.setContainerLastFocusedElement)(t,e),(0,c.setLastContainer)(n))}function _(){var t,e=(0,c.getLastContainer)();if(e){var n=(0,f.getLastPointerPosition)();t=(0,c.getContainersForNode)((0,c.getContainerNode)(e)).reverse();var r=(0,c.getContainerConfig)(e).overflow&&(0,h.getNearestTargetFromPosition)(n,e)||(0,c.getContainerLastFocusedElement)(e);r&&t.unshift(r)}else t=[c.rootContainerId];return t.reduce((function(t,e){return t||T.focus(e)}),!1)}function k(t,e,r){var i=(0,h.getTargetByDirectionFromElement)(t,e);if(i){var o=(0,a.default)(r),s=(0,c.getContainersForNode)(i);if(n&&s.indexOf(o)<0&&!(0,c.isContainer5WayHoldable)(o))return!1;(0,c.notifyLeaveContainer)(t,e,r,i,s),(0,c.setContainerPreviousTarget)(o,t,i,e);var u=b(i,s);return(0,c.notifyEnterContainer)(t,e,r,i,s),u}return(0,c.notifyLeaveContainerFail)(t,e,r),!1}function x(t){var e=w(t.keyCode);if(e){var n=m();k(e,n,(0,c.getContainersForNode)(n))}}function M(){var t=m();t&&t.blur(),T.setPointerMode(!1),r=!0,s=!1}function A(t){!(0,l.isPaused)()&&t&&t.detail&&"Leave"===t.detail.type&&M()}function R(t){t.visibility||y()}function I(){if(r){y();for(var t=(0,c.getContainerLastFocusedElement)(c.rootContainerId);(0,c.isContainer)(t);){t=(0,c.getContainerConfig)(t).lastFocusedElement}T.focus(t)||T.focus(),r=!1}}function C(t){s=!1;var e=t.keyCode;(w(e)||v(e))&&(S.reset(),n=!1)}function L(){m()||_()}function D(t){if(g())(0,f.notifyKeyDown)(t.keyCode);else{var e=t.keyCode,r=w(e);(0,f.notifyKeyDown)(e,L)||!r&&!v(e)||((0,l.isPaused)()||s||(m()?S.processKey(t,x):function(t,e){var n=T.getActiveContainer(),r=(0,h.getTargetByDirectionFromPosition)(t,e,n);return!!r&&((0,c.setContainerPreviousTarget)(n,t,r,(0,c.getContainerLastFocusedElement)(n)),b(r,(0,c.getContainersForNode)(r)))}(r,(0,f.getLastPointerPosition)())||_(),n=!0),r&&p(t))}}function O(t){var e=t.target,r=t.clientX,i=t.clientY;if(g())(0,f.notifyPointerMove)(null,e,r,i);else{var o=m();if((0,f.notifyPointerMove)(o,e,r,i)){n&&(s=!0);var a=(0,h.getNavigableTarget)(e);if(a!==o){if(a)return b(a,(0,c.getContainersForNode)(a),!0),!0;o&&(o.blur(),(0,c.setLastContainerFromTarget)(o,e))}}}}function P(t){if(!g()){var e=t.target;if((0,f.getPointerMode)()&&(0,f.hasPointerMoved)(t.clientX,t.clientY)){var n=(0,h.getNavigableTarget)(e);if(n&&n!==m())return b(n,(0,c.getContainersForNode)(n),!0),!0;p(t)}}}function N(t){var e=m();e&&!e.contains(t.target)&&e.blur()}return{initialize:function(e){t||(window.addEventListener("blur",M),window.addEventListener("focus",I),window.addEventListener("keydown",D),window.addEventListener("keyup",C),window.addEventListener("mouseover",P),window.addEventListener("mousemove",O),o.default.touch&&window.addEventListener("touchend",N),o.default.webos&&(window.top.document.addEventListener("webOSMouse",A),window.top.document.addEventListener("keyboardStateChange",R)),(0,c.setLastContainer)(c.rootContainerId),(0,c.configureDefaults)(e),(0,c.configureContainer)(c.rootContainerId),(0,f.setPointerMode)(!1),y(),t=!0)},terminate:function(){window.removeEventListener("blur",M),window.removeEventListener("focus",I),window.removeEventListener("keydown",D),window.removeEventListener("keyup",C),window.removeEventListener("mouseover",P),window.removeEventListener("mousemove",O),o.default.touch&&window.removeEventListener("touchend",N),o.default.webos&&(window.top.document.removeEventListener("webOSMouse",A),window.top.document.removeEventListener("keyboardStateChange",R)),T.clear(),t=!1},clear:function(){(0,c.removeAllContainers)(),(0,c.setDefaultContainer)(),(0,c.setLastContainer)(),e=!1},set:c.configureContainer,add:c.addContainer,unmount:function(t){if(!t||"string"!==typeof t)throw new Error('Please assign the "containerId"!');(0,c.unmountContainer)(t)},remove:function(t){if(!t||"string"!==typeof t)throw new Error('Please assign the "containerId"!');return!!(0,c.getContainerConfig)(t)&&((0,c.removeContainer)(t),(0,c.getLastContainer)()===t&&T.setActiveContainer(null),!0)},disableSelector:function(t){return!!(0,c.isContainer)(t)&&((0,c.configureContainer)(t,{selectorDisabled:!1}),!0)},enableSelector:function(t){return!!(0,c.isContainer)(t)&&((0,c.configureContainer)(t,{selectorDisabled:!1}),!0)},pause:l.pause,resume:l.resume,focus:function(t){var e=t,n=!1;t?"string"===typeof t?(0,c.getContainerConfig)(t)?(e=(0,h.getTargetByContainer)(t),n=!0):e=/^[\w\d-]+$/.test(t)?(0,h.getTargetBySelector)("[data-spotlight-id=".concat(t,"]")):(0,h.getTargetBySelector)(t):(0,c.isContainer)(t)&&(e=(0,h.getTargetByContainer)((0,c.getContainerId)(t))):e=(0,h.getTargetByContainer)();var r=(0,c.getContainersForNode)(e),i=(0,a.default)(r);if((0,c.isNavigable)(e,i,!0)){var o=b(e,r);return!o&&n&&(0,c.setLastContainer)(t),o}return n&&(0,c.setLastContainer)(t),!1},move:function(t,e){if("up"!==(t=t.toLowerCase())&&"down"!==t&&"left"!==t&&"right"!==t)return!1;var n=e?(0,d.parseSelector)(e)[0]:m();if(!n)return!1;var r=(0,c.getContainersForNode)(n);return!!r.length&&k(t,n,r)},setDefaultContainer:c.setDefaultContainer,getActiveContainer:function(){return(0,c.getLastContainer)()||c.rootContainerId},setActiveContainer:function(t){(0,c.mayActivateContainer)(t)&&(0,c.setLastContainer)(t||c.rootContainerId)},getPointerMode:f.getPointerMode,setPointerMode:f.setPointerMode,isMuted:function(t){return!!t&&(0,d.matchSelector)('[data-spotlight-container-muted="true"] .'+u.spottableClass,t)},isPaused:l.isPaused,isSpottable:function(t){return!!t&&(0,h.isFocusable)(t)},getCurrent:function(){return m()},getSpottableDescendants:function(t){if(!t||"string"!==typeof t)throw new Error('Please assign the "containerId"!');return(0,c.getSpottableDescendants)(t)}}}();e.Spotlight=T;var E=T;e.default=E},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,"a",(function(){return r}))},,,function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spotlightDefaultClass=e.SpotlightContainerDecorator=e.default=void 0;var r=n(647),i=l(n(497)),o=l(n(2)),a=l(n(61)),s=n(652),u=l(n(11));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){h(t,e,n[e])}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.spotlightDefaultClass="spottable-default";var y=function(t){return(0,s.hasPointerMoved)(t.clientX,t.clientY)},b={continue5WayHold:!1,defaultElement:".".concat("spottable-default"),enterTo:null,preserveId:!1},w=(0,i.default)(b,(function(t,e){var n,i,s=t.navigableFilter,l=t.preserveId,h=m(t,["navigableFilter","preserveId"]),b=function(t){var e=t.spotlightId,n=t.spotlightRestrict,r={restrict:n},i=u.default.add(e||r,r);return{id:i,preserveId:l&&i===e,spotlightRestrict:n}},w=function(t){var e=t.preserveId,n=t.id;e?u.default.unmount(n):u.default.remove(n)};return i=n=function(t){function n(t){var e,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?g(t):e}(this,p(n).call(this,t))).navigableFilter=function(t){return"function"!==typeof s||!1!==s(t,e.props,e.context)},e.silentBlur=function(t){var n=t.target;e.shouldPreventBlur=!0,n.blur(),e.shouldPreventBlur=!1},e.handle=r.handle.bind(g(e)),e.handleBlur=(0,r.oneOf)([function(){return e.shouldPreventBlur},r.stop],[r.returnsTrue,(0,r.forward)("onBlurCapture")]).bindAs(g(e),"handleBlur"),e.handleFocus=(0,r.oneOf)([(0,r.forProp)("spotlightDisabled",!0),(0,r.handle)(r.stop,(0,r.call)("silentBlur"))],[r.returnsTrue,(0,r.forward)("onFocusCapture")]).bindAs(g(e),"handleFocus"),e.handleMouseEnter=e.handle((0,r.forward)("onMouseEnter"),y,(function(){return u.default.setActiveContainer(e.state.id)})),e.handleMouseLeave=e.handle((0,r.forward)("onMouseLeave"),(i=(0,r.forProp)("spotlightRestrict","self-only"),function(){return!i.apply(this,arguments)}),y,(function(t){var n=t.currentTarget.parentNode.closest("[data-spotlight-container]"),r=u.default.getActiveContainer();n&&r===e.state.id&&(r=n.dataset.spotlightId,u.default.setActiveContainer(r))})),e.state=b(t),e.shouldPreventBlur=!1;var o=f({},h,{navigableFilter:e.navigableFilter});return u.default.set(e.state.id,o),e}var i,a,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(n,t),i=n,l=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.spotlightId,r=t.spotlightRestrict,i=e.id,o=e.spotlightRestrict,a=i&&n&&i!==n;return a&&w(e),a||r!==o?b(f({spotlightId:i,spotlightRestrict:o},t)):null}}],(a=[{key:"componentWillUnmount",value:function(){w(this.state)}},{key:"render",value:function(){var t=this.props,n=t.spotlightDisabled,r=t.spotlightMuted,i=m(t,["spotlightDisabled","spotlightMuted"]);return delete i.containerId,delete i.spotlightId,delete i.spotlightRestrict,i["data-spotlight-container"]=!0,i["data-spotlight-id"]=this.state.id,i.onBlurCapture=this.handleBlur,i.onFocusCapture=this.handleFocus,i.onMouseEnter=this.handleMouseEnter,i.onMouseLeave=this.handleMouseLeave,n&&(i["data-spotlight-container-disabled"]=n),r&&(i["data-spotlight-container-muted"]=r),o.default.createElement(e,i)}}])&&d(i.prototype,a),l&&d(i,l),n}(o.default.Component),n.displayName="SpotlightContainerDecorator",n.propTypes={spotlightDisabled:a.default.bool,spotlightId:a.default.string,spotlightMuted:a.default.bool,spotlightRestrict:a.default.oneOf(["none","self-first","self-only"])},n.defaultProps={spotlightDisabled:!1,spotlightMuted:!1,spotlightRestrict:"self-first"},i}));e.SpotlightContainerDecorator=w;var S=w;e.default=S},,,function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(331);var i=n(276);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spottableClass=e.Spottable=e.default=void 0;var r=n(647),i=f(n(497)),o=n(402),a=f(n(61)),s=f(n(2)),u=f(n(413)),l=n(324),c=n(11);function f(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.spottableClass="spottable";var y=function(t){return!t.spotlightDisabled},b=null,w=!1,S=(0,i.default)({emulateMouse:!0},(function(t,e){var n,i,f=t.emulateMouse;return i=n=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?v(t):e}(this,g(n).call(this,t))).shouldEmulateMouse=function(t,e){if(f){var n=t.currentTarget,i=t.repeat,o=t.type,a=t.which,s=e.selectionKeys,u=function(t){if(!t)return!1;var e=t.nodeName.toUpperCase(),n=t.type?t.type.toUpperCase():null;return"BUTTON"===e||"A"===e||"INPUT"===e&&("BUTTON"===n||"CHECKBOX"===n||"IMAGE"===n||"RADIO"===n||"RESET"===n||"SUBMIT"===n)}(n),l=s.find((function(t){return 16777221===a||a===t&&("keypress"!==o||!u)}));return(0,c.getDirection)(l)?((0,r.preventDefault)(t),(0,r.stop)(t)):l&&u&&(0,r.preventDefault)(t),l&&!i}},e.forwardSpotlightEvents=function(t,e){var n=e.onSpotlightDown,r=e.onSpotlightLeft,i=e.onSpotlightRight,a=e.onSpotlightUp,s=t.keyCode;return n&&(0,o.is)("down",s)?n(t):r&&(0,o.is)("left",s)?r(t):i&&(0,o.is)("right",s)?i(t):a&&(0,o.is)("up",s)&&a(t),!0},e.handleSelect=function(t,n){var r=t.which;if(n.selectionKeys.find((function(t){return r===t}))){if(w||b&&b!==v(e))return!1;b=v(e)}return!0},e.forwardAndResetLastSelectTarget=function(t,n){var i=t.keyCode,a=n.selectionKeys.find((function(t){return i===t})),s=(0,r.forwardWithPrevent)("onKeyUp",t,n);if(!a&&(!(0,o.is)("enter",i)||!(0,c.getDirection)(i)))return s;var u=b===v(e);return w=!1,b=null,s&&u},e.isActionable=function(t,e){return y(e)},e.handle=r.handle.bind(v(e)),e.handleKeyDown=e.handle((0,r.forwardWithPrevent)("onKeyDown"),e.forwardSpotlightEvents,e.isActionable,e.handleSelect,e.shouldEmulateMouse,(0,r.forward)("onMouseDown")),e.handleKeyUp=e.handle(e.forwardAndResetLastSelectTarget,e.isActionable,e.shouldEmulateMouse,(0,r.forward)("onMouseUp"),(0,r.forward)("onClick")),e.handleBlur=function(t){e.shouldPreventBlur||(t.currentTarget===t.target&&(e.isFocused=!1,e.focusedWhenDisabled&&(e.focusedWhenDisabled=!1,e.forceUpdate())),c.Spotlight.isMuted(t.target)?t.stopPropagation():(0,r.forward)("onBlur",t,e.props))},e.handleFocus=function(t){if(e.props.spotlightDisabled)return e.shouldPreventBlur=!0,t.target.blur(),void(e.shouldPreventBlur=!1);t.currentTarget===t.target&&(e.isFocused=!0),c.Spotlight.isMuted(t.target)?t.stopPropagation():(0,r.forward)("onFocus",t,e.props)},e.handleEnter=function(t){(0,r.forward)("onMouseEnter",t,e.props),e.isHovered=!0},e.handleLeave=function(t){(0,r.forward)("onMouseLeave",t,e.props),e.isHovered=!1},e.isHovered=!1,e.shouldPreventBlur=!1,e.isFocused=!1,e.focusedWhenDisabled=!1,e}var i,a,S;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(n,t),i=n,(a=[{key:"componentDidMount",value:function(){this.node=u.default.findDOMNode(this)}},{key:"componentDidUpdate",value:function(t){if(this.isFocused=this.node&&c.Spotlight.getCurrent()===this.node,this.isFocused&&this.props.disabled&&b===this&&!w&&(w=!0,(0,r.forward)("onMouseUp",null,this.props)),y(this.props)&&!y(t)&&!c.Spotlight.isPaused())if(c.Spotlight.getPointerMode())this.isHovered&&(c.Spotlight.setPointerMode(!1),c.Spotlight.focus(this.node),c.Spotlight.setPointerMode(!0));else if(!c.Spotlight.getCurrent()){var e=(0,l.getContainersForNode)(this.node),n=c.Spotlight.getActiveContainer();e.indexOf(n)>=0&&c.Spotlight.focus(n)}}},{key:"componentWillUnmount",value:function(){this.isFocused&&(0,r.forward)("onSpotlightDisappear",null,this.props),b===this&&(b=null)}},{key:"render",value:function(){var t=this.props,n=t.disabled,r=t.spotlightId,i=t.spotlightDisabled,o=d(t,["disabled","spotlightId","spotlightDisabled"]);this.focusedWhenDisabled=this.isFocused&&i;var a=this.focusedWhenDisabled||y(this.props),u=o.tabIndex;return delete o.onSpotlightDisappear,delete o.onSpotlightDown,delete o.onSpotlightLeft,delete o.onSpotlightRight,delete o.onSpotlightUp,delete o.selectionKeys,delete o.spotlightDisabled,null==u&&(u=-1),a&&(o.className?o.className+=" spottable":o.className="spottable"),r&&(o["data-spotlight-id"]=r),s.default.createElement(e,Object.assign({},o,{onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,disabled:n,tabIndex:u}))}}])&&p(i.prototype,a),S&&p(i,S),n}(s.default.Component),n.displayName="Spottable",n.propTypes={disabled:a.default.bool,onSpotlightDisappear:a.default.func,onSpotlightDown:a.default.func,onSpotlightLeft:a.default.func,onSpotlightRight:a.default.func,onSpotlightUp:a.default.func,selectionKeys:a.default.arrayOf(a.default.number),spotlightDisabled:a.default.bool,spotlightId:a.default.string,tabIndex:a.default.number},n.defaultProps={selectionKeys:[13,16777221]},i}));e.Spottable=S;var T=S;e.default=T},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return N}));var o=n(2),a=n.n(o),s=n(61),u=n.n(s),l=a.a.createContext(null),c=function(t){function e(e){var n;n=t.call(this,e)||this;var r=e.store;return n.state={storeState:r.getState(),store:r},n}i(e,t);var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(t){this.props.store!==t.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var t=this,e=this.props.store;this.unsubscribe=e.subscribe((function(){var n=e.getState();t._isMounted&&t.setState((function(t){return t.storeState===n?null:{storeState:n}}))}));var n=e.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var t=this.props.context||l;return a.a.createElement(t.Provider,{value:this.state},this.props.children)},e}(o.Component);c.propTypes={store:u.a.shape({subscribe:u.a.func.isRequired,dispatch:u.a.func.isRequired,getState:u.a.func.isRequired}),context:u.a.object,children:u.a.any};var f=c;function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var p=n(531),g=n.n(p),v=n(204),m=n.n(v),y=n(414);function b(t,e){void 0===e&&(e={});var n=e,r=n.getDisplayName,s=void 0===r?function(t){return"ConnectAdvanced("+t+")"}:r,u=n.methodName,c=void 0===u?"connectAdvanced":u,f=n.renderCountProp,p=void 0===f?void 0:f,v=n.shouldHandleStateChanges,b=void 0===v||v,w=n.storeKey,S=void 0===w?"store":w,T=n.withRef,E=void 0!==T&&T,_=n.forwardRef,k=void 0!==_&&_,x=n.context,M=void 0===x?l:x,A=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);m()(void 0===p,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),m()(!E,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var R="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";m()("store"===S,"storeKey has been removed and does not do anything. "+R);var I=M;return function(e){var n=e.displayName||e.name||"Component",r=s(n),u=h({},A,{getDisplayName:s,methodName:c,renderCountProp:p,shouldHandleStateChanges:b,storeKey:S,displayName:r,wrappedComponentName:n,WrappedComponent:e}),l=A.pure,f=o.Component;l&&(f=o.PureComponent);var d=function(n){function o(e){var r;return r=n.call(this,e)||this,m()(k?!e.wrapperProps[S]:!e[S],"Passing redux store in props has been removed and does not do anything. "+R),r.selectDerivedProps=function(){var e,n,r,i,o,a;return function(s,u,c,f){if(l&&e===u&&n===s)return r;c===i&&o===f||(i=c,o=f,a=t(c.dispatch,f)),e=u,n=s;var h=a(s,u);return r=h}}(),r.selectChildElement=function(){var t,e,n,r;return function(i,o,s){return o===t&&s===e&&r===i||(t=o,e=s,r=i,n=a.a.createElement(i,h({},o,{ref:s}))),n}}(),r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r}i(o,n);var s=o.prototype;return s.indirectRenderWrappedComponent=function(t){return this.renderWrappedComponent(t)},s.renderWrappedComponent=function(t){m()(t,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var n,i=t.storeState,o=t.store,a=this.props;k&&(a=this.props.wrapperProps,n=this.props.forwardedRef);var s=this.selectDerivedProps(i,a,o,u);return this.selectChildElement(e,s,n)},s.render=function(){var t=this.props.context&&this.props.context.Consumer&&Object(y.isContextConsumer)(a.a.createElement(this.props.context.Consumer,null))?this.props.context:I;return a.a.createElement(t.Consumer,null,this.indirectRenderWrappedComponent)},o}(f);if(d.WrappedComponent=e,d.displayName=r,k){var v=a.a.forwardRef((function(t,e){return a.a.createElement(d,{wrapperProps:t,forwardedRef:e})}));return v.displayName=r,v.WrappedComponent=e,g()(v,e)}return g()(d,e)}}var w=Object.prototype.hasOwnProperty;function S(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function T(t,e){if(S(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!w.call(e,n[i])||!S(t[n[i]],e[n[i]]))return!1;return!0}var E=n(230);function _(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function k(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function x(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=k(t);var i=r(e,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=k(i),i=r(e,n)),i},r}}var M=[function(t){return"function"===typeof t?x(t):void 0},function(t){return t?void 0:_((function(t){return{dispatch:t}}))},function(t){return t&&"object"===typeof t?_((function(e){return Object(E.b)(t,e)})):void 0}];var A=[function(t){return"function"===typeof t?x(t):void 0},function(t){return t?void 0:_((function(){return{}}))}];function R(t,e,n){return h({},n,t,e)}var I=[function(t){return"function"===typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return R}}];function C(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function L(t,e,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,a),g=!c(i,o);return o=i,a=d,p&&g?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):p?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):g?function(){var e=t(o,a),r=!h(e,s);return s=e,r&&(l=n(s,u,a)),l}():l}return function(i,c){return d?p(i,c):(s=t(o=i,a=c),u=e(r,a),l=n(s,u,a),d=!0,l)}}function D(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=d(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?L:C)(a,s,u,t,o)}function O(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function P(t,e){return t===e}var N=function(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?b:n,i=e.mapStateToPropsFactories,o=void 0===i?A:i,a=e.mapDispatchToPropsFactories,s=void 0===a?M:a,u=e.mergePropsFactories,l=void 0===u?I:u,c=e.selectorFactory,f=void 0===c?D:c;return function(t,e,n,i){void 0===i&&(i={});var a=i,u=a.pure,c=void 0===u||u,p=a.areStatesEqual,g=void 0===p?P:p,v=a.areOwnPropsEqual,m=void 0===v?T:v,y=a.areStatePropsEqual,b=void 0===y?T:y,w=a.areMergedPropsEqual,S=void 0===w?T:w,E=d(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=O(t,o,"mapStateToProps"),k=O(e,s,"mapDispatchToProps"),x=O(n,l,"mergeProps");return r(f,h({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:_,initMapDispatchToProps:k,initMergeProps:x,pure:c,areStatesEqual:g,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:S},E))}}()},function(t,e,n){var r=n(28),i=n(91).f,o=n(137),a=n(84),s=n(468),u=n(579),l=n(316);t.exports=function(t,e){var n,c,f,h,d,p=t.target,g=t.global,v=t.stat;if(n=g?r:v?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in e){if(h=e[c],f=t.noTargetGet?(d=i(n,c))&&d.value:n[c],!l(g?c:p+(v?".":"#")+c,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,c,h,t)}}},function(t,e,n){(function(t){!function(){var n="undefined"!=typeof window?window:t,r={};for(var i in function(t,e,n){var r;function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof t&&t,"object"==typeof self&&self,"object"==typeof e&&e];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(t,e){if(e)t:{for(var n=s,r=t.split("."),i=0;i<r.length-1;i++){var o=r[i];if(!(o in n))break t;n=n[o]}(o=e(i=n[r=r[r.length-1]]))!=i&&null!=o&&a(n,r,{configurable:!0,writable:!0,value:o})}}function l(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}function f(t){if(!(t instanceof Array)){t=c(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}u("Symbol",(function(t){function e(t,e){this.g=t,a(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=s[e[n]];"function"===typeof r&&"function"!=typeof r.prototype[t]&&a(r.prototype,t,{configurable:!0,writable:!0,value:function(){return l(o(this))}})}return t}));var h,d="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var p;t:{var g={};try{g.__proto__={a:!0},p=g.a;break t}catch(mm){}p=!1}h=p?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var v=h;function m(t,e){if(t.prototype=d(e.prototype),t.prototype.constructor=t,v)v(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.Pg=e.prototype}function y(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function b(t){if(t.o)throw new TypeError("Generator is already running");t.o=!0}function w(t,e){t.i={ke:e,re:!0},t.g=t.m||t.j}function S(t,e,n){return t.g=n,{value:e}}function T(t){t.g=0}function E(t,e,n){t.m=e,void 0!=n&&(t.j=n)}function _(t){t.m=0,t.j=2}function k(t,e){t.g=e,t.m=0}function x(t){t.m=0;var e=t.i.ke;return t.i=null,e}function M(t){t.u=[t.i],t.m=0,t.j=0}function A(t,e){var n=t.u.splice(0)[0];(n=t.i=t.i||n)?n.re?t.g=t.m||t.j:void 0!=n.B&&t.j<n.B?(t.g=n.B,t.i=null):t.g=t.j:t.g=e}function R(t){this.g=new y,this.h=t}function I(t,e,n,r){try{var i=e.call(t.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.o=!1,i;var o=i.value}catch(a){return t.g.l=null,w(t.g,a),C(t)}return t.g.l=null,r.call(t.g,o),C(t)}function C(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.o=!1,{value:e.value,done:!1}}catch(n){t.g.h=void 0,w(t.g,n)}if(t.g.o=!1,t.g.i){if(e=t.g.i,t.g.i=null,e.re)throw e.ke;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function L(t){this.next=function(e){return b(t.g),t.g.l?e=I(t,t.g.l.next,e,t.g.s):(t.g.s(e),e=C(t)),e},this.throw=function(e){return b(t.g),t.g.l?e=I(t,t.g.l.throw,e,t.g.s):(w(t.g,e),e=C(t)),e},this.return=function(e){return function(t,e){b(t.g);var n=t.g.l;return n?I(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),C(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function D(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(t,i)}(t.next())}))}(new L(new R(t)))}function O(){for(var t=Number(this),e=[],n=t;n<arguments.length;n++)e[n-t]=arguments[n];return e}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var o=t[i];if(e.call(n,o,i,t))return{pe:i,v:o}}return{pe:-1,v:void 0}}function j(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}function B(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}y.prototype.s=function(t){this.h=t},y.prototype.return=function(t){this.i={return:t},this.g=this.j},y.prototype.B=function(t){this.g=t},u("Promise",(function(t){function e(t){this.h=0,this.i=void 0,this.g=[],this.o=!1;var e=this.j();try{t(e.resolve,e.reject)}catch(i){e.reject(i)}}function n(){this.g=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.h=function(t){if(null==this.g){this.g=[];var e=this;this.i((function(){e.l()}))}this.g.push(t)};var o=s.setTimeout;n.prototype.i=function(t){o(t,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(t){this.i((function(){throw t}))},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.F),reject:t(this.l)}},e.prototype.F=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.I(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.D(t):this.m(t)}},e.prototype.D=function(t){var e=void 0;try{e=t.then}catch(i){return void this.l(i)}"function"==typeof e?this.L(e,t):this.m(t)},e.prototype.l=function(t){this.s(2,t)},e.prototype.m=function(t){this.s(1,t)},e.prototype.s=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.i=e,2===this.h&&this.G(),this.u()},e.prototype.G=function(){var t=this;o((function(){if(t.C()){var e=s.console;"undefined"!==typeof e&&e.error(t.i)}}),1)},e.prototype.C=function(){if(this.o)return!1;var t=s.CustomEvent,e=s.Event,n=s.dispatchEvent;return"undefined"===typeof n||("function"===typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"===typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,n(t))},e.prototype.u=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)a.h(this.g[t]);this.g=null}};var a=new n;return e.prototype.I=function(t){var e=this.j();t.zc(e.resolve,e.reject)},e.prototype.L=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.zc(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.zc=function(t,e){function n(){switch(r.h){case 1:t(r.i);break;case 2:e(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=c(t),o=i.next();!o.done;o=i.next())r(o.value).zc(e,n)}))},e.all=function(t){var n=c(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).zc(o(a.length-1),e),i=n.next()}while(!i.done)}))},e})),u("WeakMap",(function(t){function e(t){if(this.g=(u+=Math.random()+1).toString(),t){t=c(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(){}function r(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function i(t){if(!P(t,s)){var e=new n;a(t,s,{value:e})}}function o(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(Object.isExtensible(t)&&i(t),e(t))})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(i){return!1}}())return t;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return e.prototype.set=function(t,e){if(!r(t))throw Error("Invalid WeakMap key");if(i(t),!P(t,s))throw Error("WeakMap key fail: "+t);return t[s][this.g]=e,this},e.prototype.get=function(t){return r(t)&&P(t,s)?t[s][this.g]:void 0},e.prototype.has=function(t){return r(t)&&P(t,s)&&P(t[s],this.g)},e.prototype.delete=function(t){return!!(r(t)&&P(t,s)&&P(t[s],this.g))&&delete t[s][this.g]},e})),u("Map",(function(t){function e(){var t={};return t.Ra=t.next=t.head=t}function n(t,e){var n=t.g;return l((function(){if(n){for(;n.head!=t.g;)n=n.Ra;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?o.has(e)?n=o.get(e):(n=""+ ++a,o.set(e,n)):n="p_"+e;var r=t.h[n];if(r&&P(t.h,n))for(var i=0;i<r.length;i++){var s=r[i];if(e!==e&&s.key!==s.key||e===s.key)return{id:n,list:r,index:i,ja:s}}return{id:n,list:r,index:-1,ja:void 0}}function i(t){if(this.h={},this.g=e(),this.size=0,t){t=c(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(c([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(o){return!1}}())return t;var o=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t=0===t?0:t);return n.list||(n.list=this.h[n.id]=[]),n.ja?n.ja.value=e:(n.ja={next:this.g,Ra:this.g.Ra,head:this.g,key:t,value:e},n.list.push(n.ja),this.g.Ra.next=n.ja,this.g.Ra=n.ja,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).ja||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.h[t.id],t.ja.Ra.next=t.ja.next,t.ja.next.Ra=t.ja.Ra,t.ja.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Ra=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).ja},i.prototype.get=function(t){return(t=r(this,t).ja)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var a=0;return i})),u("Set",(function(t){function e(t){if(this.g=new Map,t){t=c(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.g.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(c([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(o){return!1}}()?t:(e.prototype.add=function(t){return t=0===t?0:t,this.g.set(t,t),this.size=this.g.size,this},e.prototype.delete=function(t){return t=this.g.delete(t),this.size=this.g.size,t},e.prototype.clear=function(){this.g.clear(),this.size=0},e.prototype.has=function(t){return this.g.has(t)},e.prototype.entries=function(){return this.g.entries()},e.prototype.values=function(){return this.g.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.g.forEach((function(r){return t.call(e,r,r,n)}))},e)})),u("Array.prototype.findIndex",(function(t){return t||function(t,e){return N(this,t,e).pe}})),u("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}})),u("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var o=n[i];if(o===t||Object.is(o,t))return!0}return!1}})),u("String.prototype.includes",(function(t){return t||function(t,e){return-1!==j(this,t,"includes").indexOf(t,e||0)}})),u("Array.prototype.find",(function(t){return t||function(t,e){return N(this,t,e).v}})),u("String.prototype.startsWith",(function(t){return t||function(t,e){for(var n=j(this,t,"startsWith"),r=n.length,i=t.length,o=Math.max(0,Math.min(0|e,n.length)),a=0;a<i&&o<r;)if(n[o++]!=t[a++])return!1;return a>=i}})),u("Array.prototype.keys",(function(t){return t||function(){return B(this,(function(t){return t}))}}));var F="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)P(r,i)&&(t[i]=r[i])}return t};u("Object.assign",(function(t){return t||F})),u("Array.from",(function(t){return t||function(t,e,n){e=null!=e?e:function(t){return t};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof i){t=i.call(t);for(var o=0;!(i=t.next()).done;)r.push(e.call(n,i.value,o++))}else for(i=t.length,o=0;o<i;o++)r.push(e.call(n,t[o],o));return r}})),u("Array.prototype.values",(function(t){return t||function(){return B(this,(function(t,e){return e}))}})),u("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}})),u("Array.prototype.entries",(function(t){return t||function(){return B(this,(function(t,e){return[t,e]}))}})),u("String.prototype.repeat",(function(t){return t||function(t){var e=j(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}})),u("Number.isNaN",(function(t){return t||function(t){return"number"===typeof t&&isNaN(t)}})),u("Object.values",(function(t){return t||function(t){var e,n=[];for(e in t)P(t,e)&&n.push(t[e]);return n}})),u("Math.log2",(function(t){return t||function(t){return Math.log(t)/Math.LN2}})),u("Object.entries",(function(t){return t||function(t){var e,n=[];for(e in t)P(t,e)&&n.push([e,t[e]]);return n}}));var U=this||self;function H(t,e){var n,r=t.split("."),i=U;r[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=e}function K(t){this.g=Math.exp(Math.log(.5)/t),this.i=this.h=0}function G(t){return t.h/(1-Math.pow(t.g,t.i))}function q(){this.h=new K(2),this.j=new K(5),this.g=0,this.i=128e3,this.l=16e3}function V(){}function z(){}function W(){}function Y(t){var e=O.apply(1,arguments);$.has(t)||($.add(t),W.apply(V,f(e)))}function X(){}K.prototype.sample=function(t,e){var n=Math.pow(this.g,t);n=e*(1-n)+n*this.h,isNaN(n)||(this.h=n,this.i+=t)},q.prototype.configure=function(t){this.i=t.minTotalBytes,this.l=t.minBytes,this.h.g=Math.exp(Math.log(.5)/t.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/t.slowHalfLife)},q.prototype.sample=function(t,e){if(!(e<this.l)){var n=8e3*e/t,r=t/1e3;this.g+=e,this.h.sample(r,n),this.j.sample(r,n)}},q.prototype.getBandwidthEstimate=function(t){return this.g<this.i?t:Math.min(G(this.h),G(this.j))};var $=new Set;if(t.console&&t.console.log.bind){var Z={},J=(Z[1]=console.error.bind(console),Z[2]=console.warn.bind(console),Z[3]=console.info.bind(console),Z[4]=console.log.bind(console),Z[5]=console.debug.bind(console),Z[6]=console.debug.bind(console),Z);W=J[2],z=J[1]}function Q(t,e){return!("number"!==typeof t||"number"!==typeof e||!isNaN(t)||!isNaN(e))||t===e}function tt(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function et(t,e,n){if(n||(n=Q),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=c(t)).next();!i.done;r={ad:r.ad},i=t.next()){if(r.ad=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.ad,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function nt(t,e,n){if(n||(n=Q),t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function rt(t,e,n){this.startTime=t,this.direction=ct,this.endTime=e,this.payload=n,this.region=new wt,this.position=null,this.positionAlign=ot,this.size=0,this.textAlign=at,this.writingMode=ft,this.lineInterpretation=ht,this.line=null,this.lineHeight="",this.lineAlign=dt,this.displayAlign=ut,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=mt,this.fontStyle=yt,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}function it(t,e){if(t.startTime!=e.startTime||t.endTime!=e.endTime||t.payload!=e.payload)return!1;for(var n in t)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!nt(t.nestedCues,e.nestedCues,it))return!1}else if("region"==n||"cellResolution"==n){for(var r in t[n])if(t[n][r]!=e[n][r])return!1}else if(Array.isArray(t[n])){if(!nt(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}rt.prototype.clone=function(){var t,e=new rt(0,0,"");for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e},H("shaka.text.Cue",rt);var ot="auto";rt.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ot};var at="center",st={LEFT:"left",RIGHT:"right",CENTER:at,START:"start",END:"end"};rt.textAlign=st;var ut="after",lt={BEFORE:"before",CENTER:"center",AFTER:ut};rt.displayAlign=lt;var ct="ltr";rt.direction={HORIZONTAL_LEFT_TO_RIGHT:ct,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ft="horizontal-tb";rt.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ft,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var ht=0;rt.lineInterpretation={LINE_NUMBER:ht,PERCENTAGE:1};var dt="start",pt={CENTER:"center",START:dt,END:"end"};rt.lineAlign=pt;var gt={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};rt.defaultTextColor=gt;var vt={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};rt.defaultTextBackgroundColor=vt;var mt=400;rt.fontWeight={NORMAL:mt,BOLD:700};var yt="normal",bt={NORMAL:yt,ITALIC:"italic",OBLIQUE:"oblique"};function wt(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=St,this.scroll=Tt}rt.fontStyle=bt,rt.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},H("shaka.text.CueRegion",wt);var St=1;wt.units={PX:0,PERCENTAGE:St,LINES:2};var Tt="";function Et(){}function _t(t,e){if(!t&&!e)return!0;if(!t||!e||t.byteLength!=e.byteLength)return!1;if(kt(t)==kt(e)&&(t.byteOffset||0)==(e.byteOffset||0))return!0;for(var n=Mt(t),r=Mt(e),i=0;i<t.byteLength;i++)if(n[i]!=r[i])return!1;return!0}function kt(t){return t instanceof ArrayBuffer?t:t.buffer}function xt(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function Mt(t,e,n){return Rt(t,void 0===e?0:e,n=void 0===n?1/0:n,Uint8Array)}function At(t,e,n){return Rt(t,void 0===e?0:e,n=void 0===n?1/0:n,DataView)}function Rt(t,e,n,r){var i=(t.byteOffset||0)+t.byteLength;return e=Math.max(0,Math.min((t.byteOffset||0)+e,i)),new r(kt(t),e,Math.min(e+Math.max(n,0),i)-e)}function It(t,e){this.g=t,this.h=e}function Ct(t,e){var n=new It(4,0),r=Ot,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,t,e)}function Lt(t,e,n,r){W([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function Dt(t,e,n,r){z([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}wt.scrollMode={NONE:Tt,UP:"up"},H("shaka.util.BufferUtils",Et),Et.toDataView=At,Et.toUint8=Mt,Et.toArrayBuffer=xt,Et.equal=_t,It.prototype.toString=function(){return"v"+this.g+"."+this.h};var Ot=null;function Pt(t,e){return t.concat(e)}function Nt(){}function jt(t){return null!=t}function Bt(t){var e=Object.create(t.prototype||Object.prototype);try{var n=t.call(e);n||(Ct("Factories requiring new","Factories should be plain functions"),n=e)}catch(r){Ct("Factories requiring new","Factories should be plain functions"),n=new t}return n}function Ft(){}H("shaka.dependencies",Ft),Ft.has=function(t){return Ht.has(t)},Ft.add=function(t,e){if(!Ut[t])throw Error(t+" is not supported");Ht.set(t,(function(){return e}))};var Ut={muxjs:"muxjs"};Ft.Allowed=Ut;var Ht=new Map([["muxjs",function(){return t.muxjs}]]);function Kt(t,e,n){var r=O.apply(3,arguments);this.severity=t,this.category=e,this.code=n,this.data=r,this.handled=!1}Kt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},H("shaka.util.Error",Kt),Kt.Severity={RECOVERABLE:1,CRITICAL:2},Kt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Kt.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var Gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function qt(t){var e;t instanceof qt?(Vt(this,t.Fa),this.rb=t.rb,this.Ha=t.Ha,zt(this,t.Jb),this.wa=t.wa,Wt(this,t.g.clone()),this.fb=t.fb):t&&(e=String(t).match(Gt))?(Vt(this,e[1]||"",!0),this.rb=Yt(e[2]||""),this.Ha=Yt(e[3]||"",!0),zt(this,e[4]),this.wa=Yt(e[5]||"",!0),Wt(this,e[6]||"",!0),this.fb=Yt(e[7]||"")):this.g=new ne(null)}function Vt(t,e,n){t.Fa=n?Yt(e,!0):e,t.Fa&&(t.Fa=t.Fa.replace(/:$/,""))}function zt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Jb=e}else t.Jb=null}function Wt(t,e,n){e instanceof ne?t.g=e:(n||(e=Xt(e,te)),t.g=new ne(e))}function Yt(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function Xt(t,e,n){return null!=t?(t=encodeURI(t).replace(e,$t),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $t(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=qt.prototype).Fa="",r.rb="",r.Ha="",r.Jb=null,r.wa="",r.fb="",r.toString=function(){var t=[],e=this.Fa;if(e&&t.push(Xt(e,Zt,!0),":"),e=this.Ha){t.push("//");var n=this.rb;n&&t.push(Xt(n,Zt,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Jb)&&t.push(":",String(e))}return(e=this.wa)&&(this.Ha&&"/"!=e.charAt(0)&&t.push("/"),t.push(Xt(e,"/"==e.charAt(0)?Qt:Jt,!0))),(e=this.g.toString())&&t.push("?",e),(e=this.fb)&&t.push("#",Xt(e,ee)),t.join("")},r.resolve=function(t){var e=this.clone();"data"===e.Fa&&(e=new qt);var n=!!t.Fa;n?Vt(e,t.Fa):n=!!t.rb,n?e.rb=t.rb:n=!!t.Ha,n?e.Ha=t.Ha:n=null!=t.Jb;var r=t.wa;if(n)zt(e,t.Jb);else if(n=!!t.wa){if("/"!=r.charAt(0))if(this.Ha&&!this.wa)r="/"+r;else{var i=e.wa.lastIndexOf("/");-1!=i&&(r=e.wa.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?e.wa=r:n=""!==t.g.toString(),n?Wt(e,t.g.clone()):n=!!t.fb,n&&(e.fb=t.fb),e},r.clone=function(){return new qt(this)};var Zt=/[#\/\?@]/g,Jt=/[#\?:]/g,Qt=/[#\?]/g,te=/[#\?@]/g,ee=/#/g;function ne(t){this.g=t||null}function re(t){if(!t.oa&&(t.oa={},t.Bc=0,t.g))for(var e=t.g.split("&"),n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];o=decodeURIComponent(o.replace(/\+/g," ")),i=i||"",t.add(o,decodeURIComponent(i.replace(/\+/g," ")))}}function ie(t,e){if(0==e.length)return t;var n=e.map((function(t){return new qt(t)}));return t.map((function(t){return new qt(t)})).map((function(t){return n.map((function(e){return t.resolve(e)}))})).reduce(Pt,[]).map((function(t){return t.toString()}))}function oe(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:e||[],keyIds:new Set}}function ae(t,e){if(1==e.length)return e[0];var n=se(t,e);if(null!=n)return n;throw new Kt(2,4,4025,e)}function se(t,e){for(var n=c(ce[t]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=c(e),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return t==ue?"":null}(r=ne.prototype).oa=null,r.Bc=null,r.add=function(t,e){re(this),this.g=null;var n=this.oa.hasOwnProperty(t)&&this.oa[t];return n||(this.oa[t]=n=[]),n.push(e),this.Bc++,this},r.set=function(t,e){return re(this),this.g=null,this.oa.hasOwnProperty(t)?this.oa[t]=[e]:this.add(t,e),this},r.toString=function(){if(this.g)return this.g;if(!this.oa)return"";var t,e=[];for(t in this.oa)for(var n=encodeURIComponent(t),r=this.oa[t],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.g=e.join("&")},r.clone=function(){var t=new ne;if(t.g=this.g,this.oa){var e,n={};for(e in this.oa)n[e]=this.oa[e].concat();t.oa=n,t.Bc=this.Bc}return t};var ue="text",le={Na:"video",cb:"audio",Z:ue,Tb:"image",hg:"application"},ce={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function fe(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function he(t){this.h=t,this.g=void 0}function de(t){this.h=t,this.g=null}function pe(t){this.h=t,this.g=null}function ge(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function ve(t){return""!=ke().canPlayType(t)}function me(){return _e("Xbox One")}function ye(){return _e("Tizen")}function be(){return _e("Web0S")}function we(){return _e("CrKey")}function Se(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!ye()&&!_e("PC=EOS")&&!_e("VirginMedia")&&!Te()&&!_e("AFT")}function Te(){return _e("PlayStation 4")}function Ee(){if(!Se())return null;var t=navigator.userAgent.match(/Version\/(\d+)/);return t||(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}function _e(t){return(navigator.userAgent||"").includes(t)}function ke(){return Me||(xe||(xe=new pe((function(){Me=null}))),(Me=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Me=document.createElement("video")),xe.S(1),Me)}fe.prototype.resolve=function(){},fe.prototype.reject=function(){},he.prototype.value=function(){return void 0==this.g&&(this.g=this.h()),this.g},de.prototype.S=function(e){var n=this;this.stop();var r=!0,i=null;return this.g=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.h()}),1e3*e),this},de.prototype.stop=function(){this.g&&(this.g(),this.g=null)},pe.prototype.Nb=function(){return this.stop(),this.h(),this},pe.prototype.S=function(t){var e=this;return this.stop(),this.g=new de((function(){e.h()})).S(t),this},pe.prototype.Da=function(t){var e=this;return this.stop(),this.g=new de((function(){e.g.S(t),e.h()})).S(t),this},pe.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},H("shaka.util.Timer",pe),pe.prototype.stop=pe.prototype.stop,pe.prototype.tickEvery=pe.prototype.Da,pe.prototype.tickAfter=pe.prototype.S,pe.prototype.tickNow=pe.prototype.Nb;var xe=null,Me=null;function Ae(){}function Re(e){if(!e)return"";if(239==(e=Mt(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),t.TextDecoder&&!Te())return(e=(new TextDecoder).decode(e)).includes("\ufffd")&&z('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var n="",r=0;r<e.length;++r){var i=65533;if(0==(128&e[r])?i=e[r]:e.length>=r+2&&192==(224&e[r])&&128==(192&e[r+1])?(i=(31&e[r])<<6|63&e[r+1],r+=1):e.length>=r+3&&224==(240&e[r])&&128==(192&e[r+1])&&128==(192&e[r+2])?(i=(15&e[r])<<12|(63&e[r+1])<<6|63&e[r+2],r+=2):e.length>=r+4&&240==(241&e[r])&&128==(192&e[r+1])&&128==(192&e[r+2])&&128==(192&e[r+3])&&(i=(7&e[r])<<18|(63&e[r+1])<<12|(63&e[r+2])<<6|63&e[r+3],r+=3),65535>=i)n+=String.fromCharCode(i);else{var o=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+o)}}return n}function Ie(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new Kt(2,2,2004);n=Math.floor(t.byteLength/2);var r=new Uint16Array(n);t=At(t);for(var i=0;i<n;i++)r[i]=t.getUint16(2*i,e);return Oe.value()(r)}function Ce(t){function e(t){return n.byteLength<=t||32<=n[t]&&126>=n[t]}if(!t)return"";var n=Mt(t);if(239==n[0]&&187==n[1]&&191==n[2])return Re(n);if(254==n[0]&&255==n[1])return Ie(n.subarray(2),!1);if(255==n[0]&&254==n[1])return Ie(n.subarray(2),!0);if(0==n[0]&&0==n[2])return Ie(t,!1);if(0==n[1]&&0==n[3])return Ie(t,!0);if(e(0)&&e(1)&&e(2)&&e(3))return Re(t);throw new Kt(2,2,2003)}function Le(e){if(t.TextEncoder&&!Te()){var n=new TextEncoder;return xt(n.encode(e))}e=encodeURIComponent(e),e=unescape(e),n=new Uint8Array(e.length);for(var r=0;r<e.length;r++)n[r]=e[r].charCodeAt(0);return xt(n)}function De(t,e){for(var n=new ArrayBuffer(2*t.length),r=new DataView(n),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n}H("shaka.util.StringUtils",Ae),Ae.resetFromCharCode=function(){Oe.g=void 0},Ae.toUTF16=De,Ae.toUTF8=Le,Ae.fromBytesAutoDetect=Ce,Ae.fromUTF16=Ie,Ae.fromUTF8=Re;var Oe=new he((function(){function t(t){try{var e=new Uint8Array(t);return 0<String.fromCharCode.apply(null,e).length}catch(n){return!1}}for(var e={Ua:65536};0<e.Ua;(e={Ua:e.Ua}).Ua/=2)if(t(e.Ua))return function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.Ua)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.Ua));return n}}(e);return null}));function Pe(){}function Ne(t){return t=Mt(t),t=Oe.value()(t),btoa(t)}function je(t,e){e=void 0==e||e;var n=Ne(t).replace(/\+/g,"-").replace(/\//g,"_");return e?n:n.replace(/[=]*$/,"")}function Be(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}function Fe(e){for(var n=e.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.parseInt(e.substr(2*i,2),16);return r}function Ue(t){var e=Mt(t);t="";for(var n=(e=c(e)).next();!n.done;n=e.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),t+=n;return t}function He(){for(var t=O.apply(0,arguments),e=0,n=c(t),r=n.next();!r.done;r=n.next())e+=r.value.byteLength;for(e=new Uint8Array(e),n=0,r=(t=c(t)).next();!r.done;r=t.next())r=r.value,e.set(Mt(r),n),n+=r.byteLength;return e}function Ke(){var t=this;this.o=Ht.get("muxjs")(),this.h=this.g=null,this.m=[],this.j=[],this.i=[],this.l=!1,this.o&&(this.g=new this.o.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",(function(e){t.j=e.captions,t.i=e.metadata,t.m.push(He(e.initSegment,e.data))})),this.g.on("done",(function(){var e={data:He.apply(Pe,f(t.m)),captions:t.j,metadata:t.i};t.h.resolve(e),t.l=!1})))}function Ge(t,e){if(!Ht.get("muxjs")()||!qe(t))return!1;if(e)return MediaSource.isTypeSupported(Ve(e,t));var n=Ve("audio",t),r=Ve("video",t);return MediaSource.isTypeSupported(n)||MediaSource.isTypeSupported(r)}function qe(t){return"mp2t"==t.toLowerCase().split(";")[0].split("/")[1]}function Ve(t,e){var n=e.replace(/mp2t/i,"mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",o=r[1],a=Number(r[2]);i=("66"==o?i+"4200":"77"==o?i+"4d00":i+"6400")+(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n}function ze(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function We(t,e,n){if(qe(e=ze(t,e))){if(Ht.get("muxjs")())return Ve(n,e)}else if("video/mp2t"!=t&&"audio"==n)return e.replace("video","audio");return e}function Ye(t){var e=$e(t);switch(t=e[0],e=e[1].toLowerCase(),!0){case"mp4a"===t&&"69"===e:case"mp4a"===t&&"6b"===e:return"mp3";case"mp4a"===t&&"66"===e:case"mp4a"===t&&"67"===e:case"mp4a"===t&&"68"===e:case"mp4a"===t&&"40.2"===e:case"mp4a"===t&&"40.02"===e:case"mp4a"===t&&"40.5"===e:case"mp4a"===t&&"40.05"===e:case"mp4a"===t&&"40.29"===e:case"mp4a"===t&&"40.42"===e:return"aac";case"mp4a"===t&&"a5"===e:return"ac-3";case"mp4a"===t&&"a6"===e:return"ec-3";case"mp4a"===t&&"b2"===e:return"dtsx";case"mp4a"===t&&"a9"===e:return"dtsc";case"avc1"===t:case"avc3"===t:return"avc";case"hvc1"===t:case"hev1"===t:return"hevc";case"dvh1"===t:case"dvhe"===t:return"dovi"}return t}function Xe(t){return(t=t.split(/ *; */)).shift(),(t=t.find((function(t){return t.startsWith("codecs=")})))?t.split("=")[1].replace(/^"|"$/g,""):""}function $e(t){var e=(t=t.split("."))[0];return t.shift(),[e,t.join(".")]}function Ze(t){this.j=null,this.i=t,this.l=this.u=0,this.m=1/0,this.h=this.g=null,this.s="",this.o=new Map}function Je(t){return!(!nn[t]&&"application/cea-608"!=t&&"application/cea-708"!=t)}function Qe(t,e,n){if(t.s=e,e=t.o.get(e))for(var r=c(e.keys()),i=r.next();!i.done;i=r.next())(i=e.get(i.value).filter((function(t){return t.endTime<=n})))&&t.i.append(i)}function tn(t,e,n){e.startTime+=n,e.endTime+=n;for(var r=(e=c(e.nestedCues)).next();!r.done;r=e.next())tn(t,r.value,n)}function en(t,e,n,r,i){for(var o=n+" "+r,a=new Map,s=(e=c(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,u=u.cue,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),tn(t,u,i),u.startTime>=t.l&&u.startTime<t.m&&(a.get(s).get(o).push(u),s==t.s&&t.i.append([u]))}for(o=(i=c(a.keys())).next();!o.done;o=i.next())for(o=o.value,t.o.has(o)||t.o.set(o,new Map),s=(e=c(a.get(o).keys())).next();!s.done;s=e.next())s=s.value,u=a.get(o).get(s),t.o.get(o).set(s,u);t.g=null==t.g?Math.max(n,t.l):Math.min(t.g,Math.max(n,t.l)),t.h=Math.max(t.h,Math.min(r,t.m))}H("shaka.util.Uint8ArrayUtils",Pe),Pe.concat=He,Pe.toHex=Ue,Pe.fromHex=Fe,Pe.fromBase64=Be,Pe.toBase64=je,Pe.toStandardBase64=Ne,Pe.equal=function(t,e){return Ct("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),_t(t,e)},Ke.prototype.destroy=function(){return this.g&&this.g.dispose(),this.g=null,Promise.resolve()},(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Ze.prototype.destroy=function(){return this.i=this.j=null,this.o.clear(),Promise.resolve()},Ze.prototype.remove=function(t,e){var n=this;return D((function(r){if(1==r.g)return S(r,Promise.resolve(),2);!n.i||!n.i.remove(t,e)||null==n.g||e<=n.g||t>=n.h||(t<=n.g&&e>=n.h?n.g=n.h=null:t<=n.g&&e<n.h?n.g=e:t>n.g&&e>=n.h&&(n.h=t)),T(r)}))},H("shaka.text.TextEngine",Ze),Ze.prototype.destroy=Ze.prototype.destroy,Ze.findParser=function(t){return nn[t]},Ze.unregisterParser=function(t){delete nn[t]},Ze.registerParser=function(t,e){nn[t]=e};var nn={};function rn(){}function on(t,e){return t=un(t),e=un(e),t.split("-")[0]==e.split("-")[0]}function an(t,e){t=un(t),e=un(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function sn(t,e){t=un(t),e=un(e);var n=t.split("-"),r=e.split("-");return 2==n.length&&2==r.length&&n[0]==r[0]}function un(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=dn.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function ln(t,e){return t=un(t),(e=un(e))==t?4:an(e,t)?3:sn(e,t)?2:an(t,e)?1:0}function cn(t){var e=t.indexOf("-");return t=(t=0<=e?t.substring(0,e):t).toLowerCase(),dn.get(t)||t}function fn(t){return t.language?un(t.language):t.audio&&t.audio.language?un(t.audio.language):t.video&&t.video.language?un(t.video.language):"und"}function hn(t,e){for(var n=un(t),r=new Set,i=c(e),o=i.next();!o.done;o=i.next())r.add(un(o.value));for(o=(i=c(r)).next();!o.done;o=i.next())if((o=o.value)==n)return o;for(o=(i=c(r)).next();!o.done;o=i.next())if(an(o=o.value,n))return o;for(o=(i=c(r)).next();!o.done;o=i.next())if(sn(o=o.value,n))return o;for(o=(r=c(r)).next();!o.done;o=r.next())if(an(n,o=o.value))return o;return null}H("shaka.util.LanguageUtils",rn),rn.findClosestLocale=hn,rn.getLocaleForVariant=fn,rn.getLocaleForText=function(t){return un(t.language||"und")},rn.getBase=cn,rn.relatedness=ln,rn.areSiblings=function(t,e){var n=cn(t),r=cn(e);return t!=n&&e!=r&&n==r},rn.normalize=un,rn.isSiblingOf=sn,rn.isParentOf=an,rn.areLanguageCompatible=on,rn.areLocaleCompatible=function(t,e){return(t=un(t))==(e=un(e))};var dn=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function pn(){this.g={}}function gn(t,e){for(var n in t.g)e(n,t.g[n])}function vn(t,e,n,r,i){var o=t.variants;(e.length||n.length)&&(o=function(t,e,n){for(var r={},i=(e=c(e)).next();!i.done;r={md:r.md},i=e.next())if(r.md=i.value,(i=t.filter(function(t){return function(e){return e.video&&e.video.codecs.startsWith(t.md)}}(r))).length){t=i;break}for(r={},n=c(n),e=n.next();!e.done;r={Yc:r.Yc},e=n.next())if(r.Yc=e.value,(e=t.filter(function(t){return function(e){return e.audio&&e.audio.codecs.startsWith(t.Yc)}}(r))).length){t=e;break}return t}(o,e,n));var a=function(t,e){for(var n=c(e),r=n.next();!r.done;r=n.next())if((r=r.value)==Kn||r==Gn){if(1==(t=mn(t,r)).size())return t.keys()[0]}else if(r==qn)break;return function(t){var e="",n=1/0;return gn(t,(function(t,r){for(var i=0,o=0,a=c(r),s=a.next();!s.done;s=a.next())i+=s.value.bandwidth||0,++o;(i/=o)<n&&(e=t,n=i)})),e}(t)}(e=function(t){var e=0,n=new Map,r=t.size();return gn(t,(function(t,i){for(var o=c(i),a=o.next();!a.done;a=o.next()){var s=(a=a.value).video;if(s&&s.width&&s.height){s=s.width*s.height*(s.frameRate||1),n.has(s)||n.set(s,new pn);var u=n.get(s);u.push(t,a),u.size()===r&&(e=Math.max(e,s))}}})),e?n.get(e):t}(e=function(t){for(var e=new pn,n=(t=c(t)).next();!n.done;n=t.next()){var r=yn(n=n.value);e.push(r,n)}return e}(o=Nn(o,r))),i);t.variants=t.variants.filter((function(t){return yn(t)==a}))}function mn(t,e){var n=0,r=new pn;return gn(t,(function(t,i){for(var o=0,a=0,s=c(i),u=s.next();!u.done;u=s.next())(u=u.value).decodingInfos.length&&(o+=u.decodingInfos[0][e]?1:0,a++);(o/=a)>n?(r.g={},r.push(t,i),n=o):o==n&&r.push(t,i)})),r}function yn(t){var e="";t.video&&(e=Ye(t.video.codecs));var n="";return t.audio&&(n=Ye(t.audio.codecs)),e+"-"+n}function bn(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&(!r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))||!r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))||t&&t.video&&t.video.frameRate&&!r(t.video.frameRate,e.minFrameRate,e.maxFrameRate)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function wn(t,e){return D((function(n){if(1==n.g)return S(n,Sn(e,0<e.offlineSessionIds.length),2);xn(t,e),function(t){t.textStreams=t.textStreams.filter((function(t){return Je(ze(t.mimeType,t.codecs))}))}(e),function(t){t.imageStreams=t.imageStreams.filter((function(t){var e=["image/svg+xml","image/png","image/jpeg"];return(be()||ye()||we())&&e.push("image/webp"),e.includes(t.mimeType)}))}(e),T(n)}))}function Sn(t,e){return D((function(n){if(1==n.g)return S(n,Tn(t.variants,e,!1),2);t.variants=t.variants.filter((function(t){var e=t.video;if(e){var n=kn(e.codecs);if(e.codecs.includes(",")){var r=e.codecs.split(",");n=kn(n=ae("video",r)),r=_n(r=ae("audio",r));var i=We(e.mimeType,r,"audio");if(!MediaSource.isTypeSupported(i))return!1;n=[n,r].join()}if(r=We(e.mimeType,n,"video"),!MediaSource.isTypeSupported(r))return!1;e.codecs=n}if(n=t.audio){if(r=_n(n.codecs),i=We(n.mimeType,r,"audio"),!MediaSource.isTypeSupported(i))return!1;n.codecs=r}return me()&&e&&(e.width&&1920<e.width||e.height&&1080<e.height)&&(e.codecs.includes("avc1.")||e.codecs.includes("avc3."))?(Fn(t),!1):((e=t.decodingInfos.some((function(t){return t.supported})))||Fn(t),e)})),T(n)}))}function Tn(t,e,n){var r,i,o,a,s,u,l,f,h,d;return D((function(p){if(t.some((function(t){return t.decodingInfos.length})))return p.return();for(r=navigator.mediaCapabilities,i=[],o=function(t,e){var n;return D((function(i){return 1==i.g?(E(i,2),S(i,r.decodingInfo(e),4)):2!=i.g?(n=i.h,t.decodingInfos.push(n),k(i,0)):(x(i),JSON.stringify(e),void T(i))}))},a=c(t),s=a.next();!s.done;s=a.next())for(u=s.value,l=En(u,e,n),f=c(l),h=f.next();!h.done;h=f.next())d=h.value,i.push(o(u,d));return S(p,Promise.all(i),0)}))}function En(t,e,n){var r=t.audio,i=t.video;if(n={type:n?"file":"media-source"},i){var o=i.codecs;if(i.codecs.includes(",")){var a=i.codecs.split(",");o=kn(o=ae("video",a)),a=ae("audio",a),a=We(i.mimeType,a,"audio"),n.audio={contentType:a,channels:2,bitrate:t.bandwidth||1,samplerate:1,spatialRendering:!1}}if(o=kn(o),o=We(i.mimeType,o,"video"),n.video={contentType:o,width:i.width||64,height:i.height||64,bitrate:i.bandwidth||t.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(r&&(o=_n(r.codecs),o=We(r.mimeType,o,"audio"),n.audio={contentType:o,channels:r.channelsCount||2,bitrate:r.bandwidth||t.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),!(a=(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])).length)return[n];t=[],o=new Map;for(var s=(a=c(a)).next();!s.done;s=a.next()){var u=s.value;o.get(u.keySystem)||o.set(u.keySystem,[]),o.get(u.keySystem).push(u)}a=e?"required":"optional",e=e?["persistent-license"]:["temporary"];for(var l=(u=c(o.keys())).next();!l.done;l=u.next()){var f=l.value;l=Object.assign({},n);var h=o.get(f);for(f={keySystem:f,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:e},s=(h=c(h)).next();!s.done;s=h.next()){if((s=s.value).initData&&s.initData.length){for(var d=new Set,p=c(s.initData),g=p.next();!g.done;g=p.next())d.add(g.value.initDataType);f.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(f.distinctiveIdentifier="required"),s.persistentStateRequired&&(f.persistentState="required"),s.sessionType&&(f.sessionTypes=[s.sessionType]),r&&(""!=s.audioRobustness?f.audio?f.audio.robustness=f.audio.robustness||s.audioRobustness:f.audio={robustness:s.audioRobustness}:f.audio||(f.audio={})),i&&(""!=s.videoRobustness?f.video?f.video.robustness=f.video.robustness||s.videoRobustness:f.video={robustness:s.videoRobustness}:f.video||(f.video={}))}l.keySystemConfiguration=f,t.push(l)}return t}function _n(t){return ye()&&"ac-3"==t.toLowerCase()?"ec-3":t}function kn(t){if(t.includes("avc1")){var e=t.split(".");if(3==e.length)return t=e.shift()+".",(t+=parseInt(e.shift(),10).toString(16))+("000"+parseInt(e.shift(),10).toString(16)).slice(-4)}else if("vp9"==t)return"vp09.00.41.08";return t}function xn(t,e){e.variants=e.variants.filter((function(e){var n=e.audio;return e=e.video,!(n&&t&&t.audio&&!Mn(n,t.audio)||e&&t&&t.video&&!Mn(e,t.video))}))}function Mn(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function An(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,o=[];i&&o.push(i),r&&o.push(r);var a=[];n&&a.push(n.mimeType),e&&a.push(e.mimeType),a=a[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;if(e)for(var l=c(e.roles),f=l.next();!f.done;f=l.next())u.add(f.value);if(n)for(f=(l=c(n.roles)).next();!f.done;f=l.next())u.add(f.value);return t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:a,codecs:o.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.spatialAudio=e.spatialAudio,t.label=e.label,t.audioRoles=e.roles),t}function Rn(t){return{id:t.id,active:!1,type:ue,bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,forced:t.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId,originalImageId:null}}function In(t){var e=t.width||null,n=t.height||null,r=null;t.segmentIndex&&(r=t.segmentIndex.get(0));var i=t.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=e&&(e/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:t.id,active:!1,type:"image",bandwidth:t.bandwidth||0,language:"",label:null,kind:null,width:e,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:t.mimeType,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:t.originalId}}function Cn(t){return t.__shaka_id||(t.__shaka_id=Hn++),t.__shaka_id}function Ln(t){var e=On(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),t.kind&&(e.roles=[t.kind]),"forced"==t.kind&&(e.forced=!0),e}function Dn(t){var e=On(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind&&(e.primary=!0),t.kind&&(e.roles=[t.kind],e.audioRoles=[t.kind],e.label=t.label),e}function On(t){return{id:Cn(t),active:!1,type:"",bandwidth:0,language:un(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function Pn(t){return t.allowedByApplication&&t.allowedByKeySystem}function Nn(t,e){for(var n=t.filter((function(t){return t.audio&&t.audio.channelsCount})),r=new Map,i=(n=c(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter((function(t){return t<=e}))).length?r.get(Math.max.apply(Math,f(i))):r.get(Math.min.apply(Math,f(n)))}function jn(t,e,n,r){var i=t,o=t.filter((function(t){return t.primary}));o.length&&(i=o);var a=i.length?i[0].language:"";if(i=i.filter((function(t){return t.language==a})),e){var s=hn(un(e),t.map((function(t){return t.language})));s&&(i=t.filter((function(t){return un(t.language)==s})))}if(i=i.filter((function(t){return t.forced==r})),n){if((t=Bn(i,n)).length)return t}else if((t=i.filter((function(t){return 0==t.roles.length}))).length)return t;return(t=i.map((function(t){return t.roles})).reduce(Pt,[])).length?Bn(i,t[0]):i}function Bn(t,e){return t.filter((function(t){return t.roles.includes(e)}))}function Fn(t){var e=[];return t.audio&&e.push(Un(t.audio)),t.video&&e.push(Un(t.video)),e.join(", ")}function Un(t){return"audio"==t.type?"type=audio codecs="+t.codecs+" bandwidth="+t.bandwidth+" channelsCount="+t.channelsCount+" audioSamplingRate="+t.audioSamplingRate:"video"==t.type?"type=video codecs="+t.codecs+" bandwidth="+t.bandwidth+" frameRate="+t.frameRate+" width="+t.width+" height="+t.height:"unexpected stream type"}(r=pn.prototype).push=function(t,e){this.g.hasOwnProperty(t)?this.g[t].push(e):this.g[t]=[e]},r.get=function(t){return(t=this.g[t])?t.slice():null},r.remove=function(t,e){t in this.g&&(this.g[t]=this.g[t].filter((function(t){return t!=e})),0==this.g[t].length&&delete this.g[t])},r.size=function(){return Object.keys(this.g).length},r.keys=function(){return Object.keys(this.g)};var Hn=0,Kn="smooth",Gn="powerEfficient",qn="bandwidth";function Vn(){var t=this;this.l=null,this.j=!1,this.h=new q,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(t.g.useNetworkInformation&&t.j){t.h=new q,t.g&&t.h.configure(t.g.advanced);var e=t.chooseVariant();e&&t.l(e)}})),this.i=[],this.o=1,this.s=!1,this.g=this.m=null}function zn(t){var e=t.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&t.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),e}function Wn(t,e){return t&&(e=e.filter((function(e){return bn(e,t,{width:1/0,height:1/0})}))),e.sort((function(t,e){return t.bandwidth-e.bandwidth}))}function Yn(t,e){this.h=t,this.g=new Set([t]);for(var n=c(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function Xn(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!((!(!n.channelsCount||!r.channelsCount||2<n.channelsCount||2<r.channelsCount)||n.channelsCount==r.channelsCount)&&$n(n,r)&&Zn(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!($n(n=t.video,r=e.video)&&Zn(n.roles,r.roles))),!n}function $n(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map((function(t){return $e(t)[0]})),r=e.codecs.split(",").map((function(t){return $e(t)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function Zn(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=c(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Jn(t){this.g=t,this.h=new Qn(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0,"")}function Qn(t,e,n,r){this.i=t,this.j=e,this.g=n,this.h=void 0===r?"":r}function tr(){this.g=rr,this.h=(new Map).set(rr,2).set(nr,1)}function er(t,e,n){t.h.set(rr,n).set(nr,e)}(r=Vn.prototype).stop=function(){this.l=null,this.j=!1,this.i=[],this.o=1,this.m=null},r.init=function(t){this.l=t},r.chooseVariant=function(){var t=Wn(this.g.restrictions,this.i),e=this.h.getBandwidthEstimate(zn(this));this.i.length&&!t.length&&(t=[(t=Wn(null,this.i))[0]]);for(var n=t[0]||null,r=0;r<t.length;r++){for(var i=t[r],o=isNaN(this.o)?1:Math.abs(this.o),a=o*i.bandwidth/this.g.bandwidthDowngradeTarget,s={bandwidth:1/0},u=r+1;u<t.length;u++)if(i.bandwidth!=t[u].bandwidth){s=t[u];break}o=o*s.bandwidth/this.g.bandwidthUpgradeTarget,e>=a&&e<=o&&n.bandwidth!=i.bandwidth&&(n=i)}return this.m=Date.now(),n},r.enable=function(){this.j=!0},r.disable=function(){this.j=!1},r.segmentDownloaded=function(t,e){if(this.h.sample(t,e),null!=this.m&&this.j)t:{if(this.s){if(Date.now()-this.m<1e3*this.g.switchInterval)break t}else{var n=this.h;if(!(n.g>=n.i))break t;this.s=!0}n=this.chooseVariant(),this.h.getBandwidthEstimate(zn(this)),n&&this.l(n)}},r.getBandwidthEstimate=function(){return this.h.getBandwidthEstimate(zn(this))},r.setVariants=function(t){this.i=t},r.playbackRateChanged=function(t){this.o=t},r.configure=function(t){this.g=t,this.h&&this.g&&this.h.configure(this.g.advanced)},H("shaka.abr.SimpleAbrManager",Vn),Vn.prototype.configure=Vn.prototype.configure,Vn.prototype.playbackRateChanged=Vn.prototype.playbackRateChanged,Vn.prototype.setVariants=Vn.prototype.setVariants,Vn.prototype.getBandwidthEstimate=Vn.prototype.getBandwidthEstimate,Vn.prototype.segmentDownloaded=Vn.prototype.segmentDownloaded,Vn.prototype.disable=Vn.prototype.disable,Vn.prototype.enable=Vn.prototype.enable,Vn.prototype.chooseVariant=Vn.prototype.chooseVariant,Vn.prototype.init=Vn.prototype.init,Vn.prototype.stop=Vn.prototype.stop,Yn.prototype.add=function(t){return!!Xn(this.h,t)&&(this.g.add(t),!0)},Yn.prototype.values=function(){return this.g.values()},Jn.prototype.create=function(t){var e=this,n=t.filter((function(t){return Xn(e.g,t)}));return n.length?new Yn(n[0],n):this.h.create(t)},Qn.prototype.create=function(t){var e=[];e=function(t,e){var n=hn(un(e),t.map((function(t){return fn(t)})));return n?t.filter((function(t){return n==fn(t)})):[]}(t,this.i);var n=t.filter((function(t){return t.primary}));for((t=function(t,e){return t.filter((function(t){return!!t.audio&&(e?t.audio.roles.includes(e):0==t.audio.roles.length)}))}(e=e.length?e:n.length?n:t,this.j)).length&&(e=t),this.g&&((t=Nn(e,this.g)).length&&(e=t)),this.h&&((t=function(t,e){return t.filter((function(t){return!!t.audio&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(e,this.h)).length&&(e=t)),t=new Yn(e[0]),n=(e=c(e)).next();!n.done;n=e.next())n=n.value,Xn(t.h,n)&&t.add(n);return t};var nr=0,rr=1;function ir(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.j=null==t.baseDelay?n.baseDelay:t.baseDelay,this.o=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.m=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==e&&e)&&(this.g=1)}function or(t){var e,n;return D((function(r){if(1==r.g){if(t.g>=t.l){if(!t.i)throw new Kt(2,7,1010);t.g=1,t.h=t.j}return e=t.g,t.g++,0==e?r.return():(n=t.h*(1+(2*Math.random()-1)*t.o),S(r,new Promise((function(t){new pe(t).S(n/1e3)})),2))}t.h*=t.m,T(r)}))}function ar(t,e){this.promise=t,this.i=e,this.g=!1}function sr(t){return new ar(Promise.reject(t),(function(){return Promise.resolve()}))}function ur(){var t=Promise.reject(new Kt(2,7,7001));return t.catch((function(){})),new ar(t,(function(){return Promise.resolve()}))}function lr(t){return new ar(Promise.resolve(t),(function(){return Promise.resolve()}))}function cr(t){return new ar(t,(function(){return t.catch((function(){}))}))}function fr(t){return new ar(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function hr(e,n){if(n)if(n instanceof Map)for(var r=c(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function dr(t){var e,n=new hr(t.type);for(e in t)Object.defineProperty(n,e,{value:t[e],writable:!0,enumerable:!0});return n}function pr(){this.fa=new pn,this.Ec=this}function gr(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,o=r?[]:{};for(i in n)o[i]=t(n[i]);return r&&(o.length=n.length),o}}(t)}function vr(t){var e,n={};for(e in t)n[e]=t[e];return n}function mr(){this.g=[]}function yr(t,e){t.g.push(e.finally((function(){tt(t.g,e)})))}function br(t,e,n){pr.call(this),this.i=!1,this.m=new mr,this.g=new Set,this.h=new Set,this.l=t||null,this.j=e||null,this.s=n||null,this.o=!1}function wr(t,e,n,r){n=n||kr;var i=xr[t];(!i||n>=i.priority)&&(xr[t]={priority:n,Lf:e,Mf:void 0!==r&&r})}function Sr(t,e,n){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null,streamDataCallback:void 0===n?null:n}}function Tr(){this.g=0}function Er(t,e,n){ar.call(this,t,e),this.h=n}ar.prototype.abort=function(){return this.g=!0,this.i()},ar.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},ar.prototype.$=function(t,e){function n(n){return function(s){if(i.g&&n)o.reject(a);else{var u=n?t:e;u?r=function(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,o):(n?o.resolve:o.reject)(s)}}}function r(){return o.reject(a),i.abort()}var i=this,o=new fe,a=new Kt(2,7,7001);return this.promise.then(n(!0),n(!1)),new ar(o,(function(){return r()}))},H("shaka.util.AbortableOperation",ar),ar.prototype.chain=ar.prototype.$,ar.prototype.finally=ar.prototype.finally,ar.all=fr,ar.prototype.abort=ar.prototype.abort,ar.notAbortable=cr,ar.completed=lr,ar.aborted=ur,ar.failed=sr,hr.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},hr.prototype.stopImmediatePropagation=function(){this.g=!0},hr.prototype.stopPropagation=function(){},H("shaka.util.FakeEvent",hr),pr.prototype.addEventListener=function(t,e){this.fa&&this.fa.push(t,e)},pr.prototype.removeEventListener=function(t,e){this.fa&&this.fa.remove(t,e)},pr.prototype.dispatchEvent=function(t){if(!this.fa)return!0;var e=this.fa.get(t.type)||[],n=this.fa.get("All");for(n&&(e=e.concat(n)),n=(e=c(e)).next();!n.done;n=e.next()){n=n.value,t.target=this.Ec,t.currentTarget=this.Ec;try{n.handleEvent?n.handleEvent(t):n.call(this,t)}catch(r){}if(t.g)break}return t.defaultPrevented},pr.prototype.release=function(){this.fa=null},mr.prototype.destroy=function(){for(var t=[],e=c(this.g),n=e.next();!n.done;n=e.next())(n=n.value).promise.catch((function(){})),t.push(n.abort());return this.g=[],Promise.all(t)},m(br,pr),(r=br.prototype).Wd=function(t){this.o=t},r.Nf=function(t){this.g.add(t)},r.cg=function(t){this.g.delete(t)},r.Te=function(){this.g.clear()},r.Of=function(t){this.h.add(t)},r.dg=function(t){this.h.delete(t)},r.Ue=function(){this.h.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),pr.prototype.release.call(this),this.m.destroy()},r.request=function(t,e){var n=this,r=new Tr;if(this.i){var i=Promise.reject(new Kt(2,7,7001));return i.catch((function(){})),new Er(i,(function(){return Promise.resolve()}),r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?gr(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},e.uris=gr(e.uris);var o=(i=function(t,e,n){for(var r=lr(void 0),i={},o=(t=c(t.g)).next();!o.done;i={gd:i.gd},o=t.next())i.gd=o.value,r=r.$(function(t){return function(){return n.body&&(n.body=xt(n.body)),t.gd(e,n)}}(i));return r.$(void 0,(function(t){if(t instanceof Kt&&7001==t.code)throw t;throw new Kt(2,1,1006,t)}))}(this,t,e)).$((function(){return function t(e,n,r,i,o,a,s){e.o&&(r.uris[o]=r.uris[o].replace("http://","https://"));var u=new qt(r.uris[o]),l=u.Fa,c=!1;l||(l=(l=location.protocol).slice(0,-1),Vt(u,l),r.uris[o]=u.toString()),l=l.toLowerCase();var f=(l=xr[l])?l.Lf:null;if(!f)return sr(new Kt(2,1,1e3,u));var h,d=l.Mf,p=null,g=null,v=!1,m=!1;return cr(or(i)).$((function(){if(e.i)return ur();h=Date.now();var t=f(r.uris[o],r,n,(function(t,r,i){p&&p.stop(),g&&g.S(a/1e3),e.l&&n==_r&&(e.l(t,r),c=!0,s.g=i)}),(function(t){e.j&&e.j(t,r,n),m=!0}));if(!d)return t;var i=r.retryParameters.connectionTimeout;i&&(p=new pe((function(){v=!0,t.abort()}))).S(i/1e3);var a=r.retryParameters.stallTimeout;return a&&(g=new pe((function(){v=!0,t.abort()}))),t})).$((function(t){p&&p.stop(),g&&g.stop(),void 0==t.timeMs&&(t.timeMs=Date.now()-h);var i={response:t,Af:c};return!m&&e.j&&e.j(t.headers,r,n),i}),(function(u){if(p&&p.stop(),g&&g.stop(),e.s){var l=null,c=0;u instanceof Kt&&(l=u,1001==u.code&&(c=u.data[1])),e.s(r,l,c,v)}if(e.i)return ur();if(v&&(u=new Kt(1,1,1003,r.uris[o],n)),u instanceof Kt){if(7001==u.code)throw u;if(1010==u.code)throw a;if(1==u.severity)return l=new hr("retry",l=(new Map).set("error",u)),e.dispatchEvent(l),o=(o+1)%r.uris.length,t(e,n,r,i,o,u,s)}throw u}))}(n,t,e,new ir(e.retryParameters,!1),0,null,r)})),a=o.$((function(e){return function(t,e,n){for(var r=lr(void 0),i={},o=(t=c(t.h)).next();!o.done;i={hd:i.hd},o=t.next())i.hd=o.value,r=r.$(function(t){return function(){var r=n.response;return r.data&&(r.data=xt(r.data)),t.hd(e,r)}}(i));return r.$((function(){return n}),(function(t){var e=2;if(t instanceof Kt){if(7001==t.code)throw t;e=t.severity}throw new Kt(e,1,1007,t)}))}(n,t,e)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var l=0;o.promise.then((function(){l=Date.now()}),(function(){}));var f=a.$((function(r){var i=Date.now()-l,o=r.response;return o.timeMs+=u,o.timeMs+=i,r.Af||!n.l||o.fromCache||"HEAD"==e.method||t!=_r||n.l(o.timeMs,o.data.byteLength),o}),(function(t){throw t&&(t.severity=2),t}));return i=new Er(f.promise,(function(){return f.abort()}),r),yr(this.m,i),i},H("shaka.net.NetworkingEngine",br),br.prototype.request=br.prototype.request,br.prototype.destroy=br.prototype.destroy,br.makeRequest=Sr,br.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},br.prototype.clearAllResponseFilters=br.prototype.Ue,br.prototype.unregisterResponseFilter=br.prototype.dg,br.prototype.registerResponseFilter=br.prototype.Of,br.prototype.clearAllRequestFilters=br.prototype.Te,br.prototype.unregisterRequestFilter=br.prototype.cg,br.prototype.registerRequestFilter=br.prototype.Nf,br.unregisterScheme=function(t){delete xr[t]},br.registerScheme=wr,br.prototype.setForceHTTPS=br.prototype.Wd,br.NumBytesRemainingClass=Tr,m(Er,ar),br.PendingRequest=Er;var _r=1;br.RequestType={MANIFEST:0,SEGMENT:_r,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5};var kr=3;br.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:kr};var xr={};function Mr(t){this.g=!1,this.h=new fe,this.i=t}function Ar(t,e){if(t.g){if(e instanceof Kt&&7003==e.code)throw e;throw new Kt(2,7,7003,e)}}function Rr(){this.g=new pn}function Ir(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.g=function(t,e){if(void 0==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=Cr;if(void 0==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(i){e=!1}Cr=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.g)}Mr.prototype.destroy=function(){var t=this;return this.g?this.h:(this.g=!0,this.i().then((function(){t.h.resolve()}),(function(){t.h.resolve()})))},(r=Rr.prototype).release=function(){this.Sa(),this.g=null},r.A=function(t,e,n,r){this.g&&(t=new Ir(t,e,n,r),this.g.push(e,t))},r.ka=function(t,e,n,r){var i=this;this.A(t,e,(function r(o){i.qc(t,e,r),n(o)}),r)},r.qc=function(t,e,n){if(this.g)for(var r=this.g.get(e)||[],i=(r=c(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.qc(),this.g.remove(e,i))},r.Sa=function(){if(this.g){var t,e=this.g,n=[];for(t in e.g)n.push.apply(n,f(e.g[t]));for(n=(e=c(n)).next();!n.done;n=e.next())n.value.qc();this.g.g={}}},H("shaka.util.EventManager",Rr),Rr.prototype.removeAll=Rr.prototype.Sa,Rr.prototype.unlisten=Rr.prototype.qc,Rr.prototype.listenOnce=Rr.prototype.ka,Rr.prototype.listen=Rr.prototype.A,Rr.prototype.release=Rr.prototype.release,Ir.prototype.qc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Cr=void 0;function Lr(){}function Dr(t){return new qt(t=Ce(t)).Ha}function Or(t,e,n){function r(t){At(o).setUint32(a,t.byteLength,!0),a+=4,o.set(Mt(t),a),a+=t.byteLength}if(!n||!n.byteLength)throw new Kt(2,6,6015);var i;i="string"==typeof e?De(e,!0):e,t=De(t=Ce(t),!0);var o=new Uint8Array(12+t.byteLength+i.byteLength+n.byteLength),a=0;return r(t),r(i),r(n),o}function Pr(t,e){for(var n=[],r=c(t),i=r.next();!i.done;i=r.next())n.push(e(i.value));return n}function Nr(t){for(var e=new Map,n=c(Object.keys(t)),r=n.next();!r.done;r=n.next())r=r.value,e.set(r,t[r]);return e}function jr(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function Br(t,e){if(!t&&!e)return!0;if(t&&!e||e&&!t)return!1;if(t.size!=e.size)return!1;for(var n=c(t),r=n.next();!r.done;r=n.next()){var i=c(r.value);if(r=i.next().value,i=i.next().value,!e.has(r))return!1;if((r=e.get(r))!=i||void 0==r)return!1}return!0}function Fr(t,e){var n=Hr(t,e);return 1!=n.length?null:n[0]}function Ur(t,e,n){return 1!=(t=Kr(t,e,n)).length?null:t[0]}function Hr(t,e){for(var n=[],r=c(t.childNodes),i=r.next();!i.done;i=r.next())(i=i.value)instanceof Element&&i.tagName==e&&n.push(i);return n}function Kr(t,e,n){for(var r=[],i=(t=c(t.childNodes)).next();!i.done;i=t.next())(i=i.value)instanceof Element&&i.localName==n&&i.namespaceURI==e&&r.push(i);return r}function Gr(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function qr(t,e,n){for(var r=(e=c(e)).next();!r.done;r=e.next())if(r=r.value,t.hasAttributeNS(r,n))return t.getAttributeNS(r,n);return null}function Vr(t){return Array.from(t.childNodes).every(zr)?t.textContent.trim():null}function zr(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE}function Wr(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i}function Yr(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null}function Xr(t){return t&&(t=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function $r(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function Zr(t){return 0===(t=Number(t))%1?t:null}function Jr(t){return 0===(t=Number(t))%1&&0<t?t:null}function Qr(t){return 0===(t=Number(t))%1&&0<=t?t:null}function ti(t){return t=Number(t),isNaN(t)?null:t}function ei(t){var e,n=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t);return isNaN(n)?null:n}function ni(t,e){var n=new DOMParser,r=ii.value()(t),i=null;try{i=n.parseFromString(r,"text/xml")}catch(o){return null}if(!(n=i.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=e)return null;for(i=document.createNodeIterator(i,NodeFilter.SHOW_ALL);r=i.nextNode();)if(r instanceof HTMLElement||r instanceof SVGElement)return null;return n}function ri(t,e){try{return ni(Re(t),e)}catch(n){return null}}H("shaka.util.FairPlayUtils",Lr),Lr.initDataTransform=Or,Lr.defaultGetContentId=Dr;var ii=new he((function(){if("undefined"!==typeof trustedTypes){var t=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(e){return t.createHTML(e)}}return function(t){return t}}));function oi(t,e){var n=this;e=void 0===e?1:e,this.D=t,this.F=new Set,this.l=this.s=null,this.fa=this.ca=!1,this.G=0,this.g=null,this.o=new Rr,this.i=new Map,this.C=[],this.u=new fe,this.h=null,this.m=function(e){n.u.reject(e),t.onError(e)},this.ga=new Map,this.da=new Map,this.V=new pe((function(){return function(t){var e=t.ga,n=t.da;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),(e=Array.from(n.values())).length&&e.every((function(t){return"expired"==t}))&&t.m(new Kt(2,6,6014)),t.D.Pc(jr(n))}(n)})),this.L=!1,this.I=[],this.N=!1,this.ea=new pe((function(){!function(t){t.i.forEach((function(e,n){var r=e.Ld,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.D.onExpirationUpdated(n.sessionId,i),e.Ld=i)}))}(n)})).Da(e),this.u.catch((function(){})),this.j=new Mr((function(){return function(t){return D((function(e){switch(e.g){case 1:return t.o.release(),t.o=null,t.u.reject(),t.ea.stop(),t.ea=null,t.V.stop(),t.V=null,S(e,yi(t),2);case 2:if(!t.l){e.B(3);break}return E(e,4),S(e,t.l.setMediaKeys(null),6);case 6:k(e,5);break;case 4:x(e);case 5:t.l=null;case 3:t.g=null,t.F.clear(),t.s=null,t.C=[],t.h=null,t.m=function(){},t.D=null,t.W=!1,T(e)}}))}(n)})),this.W=!1}function ai(t,e,n){return t.C=n,t.L=0<n.length,si(t,e)}function si(e,n){var r,i,o,a,s,u,l,f,h,d,p,g;return D((function(v){if(1==v.g){if(r=function(e){if(0==(e=Nr(e.h.clearKeys)).size)return null;var n=[],r=[];e.forEach((function(t,e){var i=Fe(e),o=Fe(t);i={kty:"oct",kid:je(i,!1),k:je(o,!1)},n.push(i),r.push(i.kid)})),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:Mt(Le(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(r)}}(e))for(i=c(n),o=i.next();!o.done;o=i.next())(a=o.value).video&&(a.video.drmInfos=[r]),a.audio&&(a.audio.drmInfos=[r]);for((s=n.some((function(t){return!!(t.video&&t.video.drmInfos.length||t.audio&&t.audio.drmInfos.length)})))||(u=Nr(e.h.servers),function(t,e){var n=[];e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}));for(var r=c(t),i=r.next();!i.done;i=r.next())(i=i.value).video&&(i.video.drmInfos=n),i.audio&&(i.audio.drmInfos=n)}(n,u)),l=c(n),o=l.next();!o.done;o=l.next())for(f=o.value,h=wi(f),d=c(h),p=d.next();!p.done;p=d.next())Ei(p.value,Nr(e.h.servers),Nr(e.h.advanced||{}));return S(v,Tn(n,e.L,e.W),2)}return s||Object.keys(e.h.servers).length?(g=di(e,void 0,n),v.return(s?g:g.catch((function(){})))):(e.ca=!0,v.return(Promise.resolve()))}))}function ui(t){var e,n;return D((function(r){switch(r.g){case 1:if(!t.s||!t.g)return r.return();if(!t.g.serverCertificateUri||t.g.serverCertificate&&t.g.serverCertificate.length){r.B(2);break}return e=Sr([t.g.serverCertificateUri],t.h.retryParameters),E(r,3),S(r,t.D.nb.request(5,e).promise,5);case 5:n=r.h,t.g.serverCertificate=Mt(n.data),k(r,4);break;case 3:throw new Kt(2,6,6017,x(r));case 4:if(t.j.g)return r.return();case 2:return t.g.serverCertificate&&t.g.serverCertificate.length?(E(r,6),S(r,t.s.setServerCertificate(t.g.serverCertificate),8)):r.return();case 8:k(r,0);break;case 6:throw new Kt(2,6,6004,x(r).message)}}))}function li(t){for(var e=(t.g?t.g.initData:[])||[],n=c(e),r=n.next();!r.done;r=n.next())ci(t,(r=r.value).initDataType,r.initData);for(r=(n=c(t.C)).next();!r.done;r=n.next())pi(t,r.value);return e.length||t.C.length||t.u.resolve(),t.u}function ci(t,e,n){for(var r=t.i.values(),i=(r=c(r)).next();!i.done;i=r.next())if(_t(n,i.value.initData)&&!_e("Tizen 2"))return;!function(t,e,n,r){try{var i=t.s.createSession(r)}catch(o){return void t.m(new Kt(2,6,6005,o.message))}t.o.A(i,"message",(function(e){t.l&&t.h.delayLicenseRequestUntilPlayed&&t.l.paused&&!t.N?t.I.push(e):vi(t,e)})),t.o.A(i,"keystatuseschange",(function(e){return mi(t,e)})),t.i.set(i,{initData:n,loaded:!1,Ld:1/0,Ka:null,type:r});try{n=t.h.initDataTransform(n,e,t.g)}catch(o){return e=o,o instanceof Kt||(e=new Kt(2,6,6016,o)),void t.m(e)}t.h.logLicenseExchange&&je(n),i.generateRequest(e,n).catch((function(e){if(!t.j.g){t.i.delete(i);var n=e.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}t.m(new Kt(2,6,6006,e.message,e,r))}}))}(t,e,n,t.g.sessionType)}function fi(t){return!!t&&!!t.match(/^com\.(microsoft|chromecast)\.playready/)}function hi(t){return t=Pr(t=t.i.keys(),(function(t){return t.sessionId})),Array.from(t)}function di(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v;return D((function(m){switch(m.g){case 1:if(r=new Map,n.length){i=function(t,e,n){for(var r=c(e),i=r.next();!i.done;i=r.next()){var o=c(wi(i.value));for(i=o.next();!i.done;i=o.next())i=i.value,n.has(i.keySystem)||n.set(i.keySystem,[]),n.get(i.keySystem).push(i)}if(1==n.size&&n.has(""))throw new Kt(2,6,6e3);for(r={},t=c(t.h.preferredKeySystems),i=t.next();!i.done;r={ed:r.ed},i=t.next())for(r.ed=i.value,o=c(e),i=o.next();!i.done;i=o.next())if(i=i.value.decodingInfos.find(function(t){return function(e){return e.supported&&null!=e.keySystemAccess&&e.keySystemAccess.keySystem==t.ed}}(r)))return i.keySystemAccess;for(t=c([!0,!1]),i=t.next();!i.done;i=t.next())for(r=i.value,o=c(e),i=o.next();!i.done;i=o.next()){var a=c(i.value.decodingInfos);for(i=a.next();!i.done;i=a.next()){var s=i.value;if(s.supported&&s.keySystemAccess){var u=c(i=n.get(s.keySystemAccess.keySystem));for(i=u.next();!i.done;i=u.next())if(!!i.value.licenseServerUri==r)return s.keySystemAccess}}}return null}(t,n,r),m.B(2);break}return S(m,function(t,e){var n,r,i,o,a,s,u,l,f,h,d,p,g,v;return D((function(m){switch(m.g){case 1:if(1==e.size&&e.has(""))throw new Kt(2,6,6e3);for(r=c(e.values()),i=r.next();!i.done;i=r.next())0==(o=i.value).audioCapabilities.length&&delete o.audioCapabilities,0==o.videoCapabilities.length&&delete o.videoCapabilities;a=c(t.h.preferredKeySystems),s=a.next();case 2:if(s.done){m.B(4);break}if(u=s.value,!e.has(u)){m.B(3);break}return l=e.get(u),E(m,6),S(m,navigator.requestMediaKeySystemAccess(u,[l]),8);case 8:return n=m.h,m.return(n);case 6:x(m);case 7:Ar(t.j);case 3:s=a.next(),m.B(2);break;case 4:f=c([!0,!1]),h=f.next();case 9:if(h.done){m.B(11);break}d=h.value,p=c(e.keys()),s=p.next();case 12:if(s.done){h=f.next(),m.B(9);break}if(g=s.value,v=e.get(g),v.drmInfos.some((function(t){return!!t.licenseServerUri}))!=d){m.B(13);break}return E(m,15),S(m,navigator.requestMediaKeySystemAccess(g,[v]),17);case 17:return n=m.h,m.return(n);case 15:x(m);case 16:Ar(t.j);case 13:s=p.next(),m.B(12);break;case 11:return m.return(n)}}))}(t,e),3);case 3:i=m.h;case 2:if(!(o=i))throw new Kt(2,6,6001);for(Ar(t.j),E(m,4),t.F.clear(),a=o.getConfiguration(),s=a.audioCapabilities||[],u=a.videoCapabilities||[],l=c(s),f=l.next();!f.done;f=l.next())h=f.value,t.F.add(h.contentType.toLowerCase());for(d=c(u),f=d.next();!f.done;f=d.next())p=f.value,t.F.add(p.contentType.toLowerCase());if(n.length){var y=o.keySystem,b=r.get(o.keySystem),w=[],T=[],_=[],M=[],A=new Set;Ti(b,w,_,T,M,A);var R=t.L?"persistent-license":"temporary";for(y={keySystem:y,licenseServerUri:w[0],distinctiveIdentifierRequired:b[0].distinctiveIdentifierRequired,persistentStateRequired:b[0].persistentStateRequired,sessionType:b[0].sessionType||R,audioRobustness:b[0].audioRobustness||"",videoRobustness:b[0].videoRobustness||"",serverCertificate:_[0],serverCertificateUri:T[0],initData:M,keyIds:A},w=(b=c(b)).next();!w.done;w=b.next())(w=w.value).distinctiveIdentifierRequired&&(y.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(y.persistentStateRequired=w.persistentStateRequired);b=y}else b=o.keySystem,y=e.get(o.keySystem),w=[],T=[],_=[],M=[],A=new Set,Ti(y.drmInfos,w,_,T,M,A),b={keySystem:b,licenseServerUri:w[0],distinctiveIdentifierRequired:"required"==y.distinctiveIdentifier,persistentStateRequired:"required"==y.persistentState,sessionType:y.sessionTypes[0]||"temporary",audioRobustness:(y.audioCapabilities?y.audioCapabilities[0].robustness:"")||"",videoRobustness:(y.videoCapabilities?y.videoCapabilities[0].robustness:"")||"",serverCertificate:_[0],serverCertificateUri:T[0],initData:M,keyIds:A};if(t.g=b,!t.g.licenseServerUri)throw new Kt(2,6,6012,t.g.keySystem);return S(m,o.createMediaKeys(),6);case 6:return g=m.h,Ar(t.j),t.s=g,t.ca=!0,S(m,ui(t),7);case 7:Ar(t.j),k(m,0);break;case 4:if(v=x(m),Ar(t.j,v),t.g=null,t.F.clear(),v instanceof Kt)throw v;throw new Kt(2,6,6002,v.message)}}))}function pi(t,e){var n,r,o,a,s;return D((function(u){switch(u.g){case 1:try{n=t.s.createSession("persistent-license")}catch(i){return r=new Kt(2,6,6005,i.message),t.m(r),u.return(Promise.reject(r))}return t.o.A(n,"message",(function(e){t.l&&t.h.delayLicenseRequestUntilPlayed&&t.l.paused&&!t.N?t.I.push(e):vi(t,e)})),t.o.A(n,"keystatuseschange",(function(e){return mi(t,e)})),o={initData:null,loaded:!1,Ld:1/0,Ka:null,type:"persistent-license"},t.i.set(n,o),E(u,2),S(u,n.load(e),4);case 4:return a=u.h,Ar(t.j),a?(o.loaded=!0,Si(t)&&t.u.resolve(),u.return(n)):(t.i.delete(n),t.m(new Kt(2,6,6013)),u.return(Promise.resolve()));case 2:s=x(u),Ar(t.j,s),t.i.delete(n),t.m(new Kt(2,6,6005,s.message));case 3:return u.return(Promise.resolve())}}))}function gi(t,e,n){return"skd"==e&&(e=n.serverCertificate,t=Or(t,n=Dr(t),e)),t}function vi(t,e){var n,r,i,o,a,s,u,l,f,h,d,p;D((function(g){switch(g.g){case 1:return n=e.target,t.h.logLicenseExchange&&je(e.message),r=t.i.get(n),i=t.g.licenseServerUri,o=t.h.advanced[t.g.keySystem],"individualization-request"==e.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(a=Sr([i],t.h.retryParameters)).body=e.message,a.method="POST",a.licenseRequestType=e.messageType,a.sessionId=n.sessionId,fi(t.g.keySystem)&&function(t){var e=Ie(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){for(var n=c((e=ni(e,"PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")),r=n.next();!r.done;r=n.next())r=r.value,t.headers[r.getElementsByTagName("name")[0].textContent]=r.getElementsByTagName("value")[0].textContent;t.body=Be(e.getElementsByTagName("Challenge")[0].textContent)}else t.headers["Content-Type"]="text/xml; charset=utf-8"}(a),s=Date.now(),E(g,2),S(g,t.D.nb.request(2,a).promise,4);case 4:u=g.h,k(g,3);break;case 2:return l=x(g),f=new Kt(2,6,6007,l),t.m(f),r&&r.Ka&&r.Ka.reject(f),g.return();case 3:return t.j.g?g.return():(t.G+=(Date.now()-s)/1e3,t.h.logLicenseExchange&&je(u.data),E(g,5),S(g,n.update(u.data),7));case 7:k(g,6);break;case 5:return h=x(g),d=new Kt(2,6,6008,h.message),t.m(d),r&&r.Ka&&r.Ka.reject(d),g.return();case 6:if(t.j.g)return g.return();p=new hr("drmsessionupdate"),t.D.onEvent(p),r&&(r.Ka&&r.Ka.resolve(),new pe((function(){r.loaded=!0,Si(t)&&t.u.resolve()})).S(ki)),T(g)}}))}function mi(t,e){var n=e.target,r=t.i.get(n),i=!1;n.keyStatuses.forEach((function(e,n){if("string"==typeof n){var o=n;n=e,e=o}if(fi(t.g.keySystem)&&16==n.byteLength&&(navigator.userAgent.match(/Edge?\//)||Te())){var a=(o=At(n)).getUint32(0,!0),s=o.getUint16(4,!0),u=o.getUint16(6,!0);o.setUint32(0,a,!1),o.setUint16(4,s,!1),o.setUint16(6,u,!1)}"status-pending"!=e&&(r.loaded=!0),"expired"==e&&(i=!0),o=Ue(n).slice(0,32),t.ga.set(o,e)}));var o=n.expiration-Date.now();(0>o||i&&1e3>o)&&r&&!r.Ka&&(t.i.delete(n),n.close().catch((function(){}))),Si(t)&&(t.u.resolve(),t.V.S(xi))}function yi(t){var e;return D((function(n){return e=Array.from(t.i.entries()),t.i.clear(),S(n,Promise.all(e.map((function(e){var n=(e=c(e)).next().value,r=e.next().value;return D((function(e){return 1==e.g?(E(e,2),t.fa||t.C.includes(n.sessionId)||"persistent-license"!==r.type?S(e,function(t){var e;return D((function(n){return 1==n.g?(e=new Promise((function(t,e){new pe(e).S(_i)})),E(n,2),S(n,Promise.race([Promise.all([t.close(),t.closed]),e]),4)):2!=n.g?k(n,0):(x(n),void T(n))}))}(n),5):S(e,n.remove(),5)):2!=e.g?k(e,0):(x(e),void T(e))}))}))),0)}))}function bi(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=c(t),i=r.next();!i.done;i=r.next()){i=i.value;for(var o={},a=c(e),s=a.next();!s.done;o={Ea:o.Ea},s=a.next())if(s=s.value,i.keySystem==s.keySystem){o.Ea=[],o.Ea=o.Ea.concat(i.initData||[]),o.Ea=o.Ea.concat(s.initData||[]),o.Ea=o.Ea.filter(function(t){return function(e,n){return void 0===e.keyId||n===t.Ea.findIndex((function(t){return t.keyId===e.keyId}))}}(o)),a=i.keyIds&&s.keyIds?new Set([].concat(f(i.keyIds),f(s.keyIds))):i.keyIds||s.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||s.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||s.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||s.persistentStateRequired,videoRobustness:i.videoRobustness||s.videoRobustness,audioRobustness:i.audioRobustness||s.audioRobustness,serverCertificate:i.serverCertificate||s.serverCertificate,serverCertificateUri:i.serverCertificateUri||s.serverCertificateUri,initData:o.Ea,keyIds:a});break}}return n}function wi(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])}function Si(t){return function(t,e){for(var n=c(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}(t=t.i.values(),(function(t){return t.loaded}))}function Ti(t,e,n,r,i,o){for(var a={},s=(t=c(t)).next();!s.done;a={ra:a.ra},s=t.next()){if(a.ra=s.value,e.includes(a.ra.licenseServerUri)||e.push(a.ra.licenseServerUri),r.includes(a.ra.serverCertificateUri)||r.push(a.ra.serverCertificateUri),a.ra.serverCertificate&&(n.some(function(t){return function(e){return _t(e,t.ra.serverCertificate)}}(a))||n.push(a.ra.serverCertificate)),a.ra.initData){s={};for(var u=c(a.ra.initData),l=u.next();!l.done;s={tc:s.tc},l=u.next())s.tc=l.value,i.some(function(t){return function(e){var n=t.tc;return!(!e.keyId||e.keyId!=n.keyId)||e.initDataType==n.initDataType&&_t(e.initData,n.initData)}}(s))||i.push(s.tc)}if(a.ra.keyIds)for(u=(s=c(a.ra.keyIds)).next();!u.done;u=s.next())o.add(u.value)}}function Ei(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=new Set),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate),r.sessionType&&(e.sessionType=r.sessionType),e.serverCertificateUri||(e.serverCertificateUri=r.serverCertificateUri)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}(r=oi.prototype).destroy=function(){return this.j.destroy()},r.configure=function(t){this.h=t},r.Wb=function(t){var e,n=this;return D((function(r){if(1==r.g)return n.s?(n.l=t,n.o.ka(n.l,"play",(function(){for(var t=c(n.I),e=t.next();!e.done;e=t.next())vi(n,e.value);n.N=!0,n.I=[]})),"webkitCurrentPlaybackTargetIsWireless"in n.l&&n.o.A(n.l,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return yi(n)})),S(r,n.l.setMediaKeys(n.s).catch((function(t){return Promise.reject(new Kt(2,6,6003,t.message))})),2)):(n.o.ka(t,"encrypted",(function(){n.m(new Kt(2,6,6010))})),r.return());Ar(n.j),li(n),n.g.initData.length||n.C.length||(e=function(t){return ci(n,t.initDataType,Mt(t.initData))},n.o.A(n.l,"encrypted",e)),T(r)}))},r.cc=function(){for(var t=1/0,e=this.i.keys(),n=(e=c(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},r.Gc=function(){return jr(this.da)};var _i=1,ki=5,xi=.5,Mi=new he((function(){return xt(new Uint8Array([0]))}));function Ai(){}function Ri(t,e,n,r){var i,o,a,s;return D((function(u){if(1==u.g)return r&&(i=Li[r.toLowerCase()])?u.return(i):(o=Ci(t))&&(a=Di[o])?u.return(a):r?u.B(2):S(u,Ii(t,e,n),3);if(2!=u.g&&(r=u.h)&&(s=Li[r]))return u.return(s);throw new Kt(2,4,4e3,t)}))}function Ii(t,e,n){var r,i,o;return D((function(a){return 1==a.g?((r=Sr([t],n)).method="HEAD",S(a,e.request(0,r).promise,2)):(i=a.h,o=i.headers["content-type"],a.return(o?o.toLowerCase().split(";").shift():""))}))}function Ci(t){return 1==(t=new qt(t).wa.split("/").pop().split(".")).length?"":t.pop().toLowerCase()}H("shaka.media.ManifestParser",Ai),Ai.unregisterParserByMime=function(t){delete Li[t]},Ai.registerParserByMime=function(t,e){Li[t]=e},Ai.registerParserByExtension=function(t,e){Di[t]=e};var Li={},Di={};function Oi(t,e){this.O=At(t),this.h=e==Ni,this.g=0}function Pi(){return new Kt(2,3,3e3)}(r=Oi.prototype).na=function(){return this.g<this.O.byteLength},r.X=function(){return this.g},r.ff=function(){return this.O.byteLength},r.Y=function(){try{var t=this.O.getUint8(this.g);return this.g+=1,t}catch(e){throw Pi()}},r.Kb=function(){try{var t=this.O.getUint16(this.g,this.h);return this.g+=2,t}catch(e){throw Pi()}},r.M=function(){try{var t=this.O.getUint32(this.g,this.h);return this.g+=4,t}catch(e){throw Pi()}},r.ve=function(){try{var t=this.O.getInt32(this.g,this.h);return this.g+=4,t}catch(e){throw Pi()}},r.Lb=function(){try{if(this.h)var t=this.O.getUint32(this.g,!0),e=this.O.getUint32(this.g+4,!0);else e=this.O.getUint32(this.g,!1),t=this.O.getUint32(this.g+4,!1)}catch(n){throw Pi()}if(2097151<e)throw new Kt(2,3,3001);return this.g+=8,e*Math.pow(2,32)+t},r.Za=function(t){if(this.g+t>this.O.byteLength)throw Pi();var e=Mt(this.O,this.g,t);return this.g+=t,e},r.skip=function(t){if(this.g+t>this.O.byteLength)throw Pi();this.g+=t},r.xe=function(t){if(this.g<t)throw Pi();this.g-=t},r.seek=function(t){if(0>t||t>this.O.byteLength)throw Pi();this.g=t},r.kc=function(){for(var t=this.g;this.na()&&0!=this.O.getUint8(this.g);)this.g+=1;return t=Mt(this.O,t,this.g-t),this.g+=1,Re(t)},H("shaka.util.DataViewReader",Oi),Oi.prototype.readTerminatedString=Oi.prototype.kc,Oi.prototype.seek=Oi.prototype.seek,Oi.prototype.rewind=Oi.prototype.xe,Oi.prototype.skip=Oi.prototype.skip,Oi.prototype.readBytes=Oi.prototype.Za,Oi.prototype.readUint64=Oi.prototype.Lb,Oi.prototype.readInt32=Oi.prototype.ve,Oi.prototype.readUint32=Oi.prototype.M,Oi.prototype.readUint16=Oi.prototype.Kb,Oi.prototype.readUint8=Oi.prototype.Y,Oi.prototype.getLength=Oi.prototype.ff,Oi.prototype.getPosition=Oi.prototype.X,Oi.prototype.hasMoreData=Oi.prototype.na;var Ni=1;function ji(){this.i=[],this.h=[],this.g=!1}function Bi(t){for(var e=Gi(t);t.reader.na()&&!t.parser.g;)t.parser.Rc(t.start+e,t.reader,t.partialOkay)}function Fi(t){for(var e=Gi(t),n=t.reader.M(),r=0;r<n&&(t.parser.Rc(t.start+e,t.reader,t.partialOkay),!t.parser.g);r++);}function Ui(t){return function(e){t(e.reader.Za(e.reader.O.byteLength-e.reader.X()))}}function Hi(t){for(var e=0,n=(t=c(t)).next();!n.done;n=t.next())e=e<<8|n.value.charCodeAt(0);return e}function Ki(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Gi(t){return 8+(t.has64BitSize?8:0)+(null!=t.flags?4:0)}Oi.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Ni},(r=ji.prototype).box=function(t,e){var n=Hi(t);return this.i[n]=qi,this.h[n]=e,this},r.P=function(t,e){var n=Hi(t);return this.i[n]=Vi,this.h[n]=e,this},r.stop=function(){this.g=!0},r.parse=function(t,e,n){for(t=new Oi(t,0),this.g=!1;t.na()&&!this.g;)this.Rc(0,t,e,n)},r.Rc=function(t,e,n,r){var i=e.X();if(r&&i+8>e.O.byteLength)this.g=!0;else{var o=e.M(),a=e.M(),s=!1;switch(o){case 0:o=e.O.byteLength-i;break;case 1:if(r&&e.X()+8>e.O.byteLength)return void(this.g=!0);o=e.Lb(),s=!0}var u=this.h[a];if(u){var l=null,c=null;if(this.i[a]==Vi){if(r&&e.X()+4>e.O.byteLength)return void(this.g=!0);l=(c=e.M())>>>24,c&=16777215}a=i+o,n&&a>e.O.byteLength&&(a=e.O.byteLength),r&&a>e.O.byteLength?this.g=!0:(r=a-e.X(),u({parser:this,partialOkay:n||!1,version:l,flags:c,reader:e=new Oi(e=0<r?e.Za(r):new Uint8Array(0),0),size:o,start:i+t,has64BitSize:s}))}else e.skip(Math.min(i+o-e.X(),e.O.byteLength-e.X()))}},H("shaka.util.Mp4Parser",ji),ji.headerSize=Gi,ji.typeToString=Ki,ji.allData=Ui,ji.sampleDescription=Fi,ji.children=Bi,ji.prototype.parseNext=ji.prototype.Rc,ji.prototype.parse=ji.prototype.parse,ji.prototype.stop=ji.prototype.stop,ji.prototype.fullBox=ji.prototype.P,ji.prototype.box=ji.prototype.box;var qi=0,Vi=1;function zi(t,e,n,r,i){var o=Yi.value(),a=t.subarray(n.start,n.start+n.size),s=At(a),u=new Uint8Array(n.size+o.byteLength);for(u.set(a,0),(a=At(u)).setUint32(4,i),u.set(o,n.size),i=s.getUint32(4),a.setUint32(n.size+16,i),Wi(u,0,u.byteLength),i=new Uint8Array(t.byteLength+u.byteLength),n=me()?n.start:n.start+n.size,o=t.subarray(n),i.set(t.subarray(0,n)),i.set(u,n),i.set(o,n+u.byteLength),r=(t=c(r)).next();!r.done;r=t.next())Wi(i,(r=r.value).start,r.size+u.byteLength);return u=At(i,e.start),e=Gi(e),t=u.getUint32(e),u.setUint32(e,t+1),i}function Wi(t,e,n){0!=(e=(t=At(t,e)).getUint32(0))&&(1==e?(t.setUint32(8,n>>32),t.setUint32(12,4294967295&n)):t.setUint32(0,n))}var Yi=new he((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function Xi(t,e,n,r,i){if(r>=i)return null;for(var o=-1,a=-1,s=0;s<n.length;s++)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){o=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){a=s;break}if(-1===o||-1===a)return null;for(var u=s=!1,l="white",c="black",f=$i(r,i,s,u,l,c);o<=a;o++){for(var h=n[o],d=-1,p=-1,g=0;g<h.length;g++)if(null!=h[g]&&""!==h[g].g.trim()){d=g;break}for(g=h.length-1;0<=g;g--)if(null!=h[g]&&""!==h[g].g.trim()){p=g;break}if(-1===d||-1===p)h=Zi(r,i),t.nestedCues.push(h);else{for(;d<=p;d++)if(g=h[d]){var v=g.l,m=g.i,y=g.j,b=g.h;v==s&&m==u&&y==l&&b==c||(f.payload&&t.nestedCues.push(f),f=$i(r,i,v,m,y,b),s=v,u=m,l=y,c=b),f.payload+=g.g}else f.payload+=" ";f.payload&&t.nestedCues.push(f),o!==a&&(f=Zi(r,i),t.nestedCues.push(f)),f=$i(r,i,s,u,l,c)}}return t.nestedCues.length?{cue:t,stream:e}:null}function $i(t,e,n,r,i,o){return t=new rt(t,e,""),n&&t.textDecoration.push("underline"),r&&(t.fontStyle="italic"),t.color=i,t.backgroundColor=o,t}function Zi(t,e){var n=new rt(t,e,"");return n.lineBreak=!0,n}function Ji(t,e,n,r,i){this.g=t,this.l=e,this.i=n,this.h=r,this.j=i}function Qi(t,e){this.i=[],this.g=1,this.h=0,this.u=t,this.s=e,this.j=this.m=!1,this.l="white",this.o="black",eo(this)}function to(t,e,n){return Xi(new rt(e,n,""),"CC"+(t.u<<1|t.s+1),t.i,e,n)}function eo(t){io(t,0,15),t.g=1}function no(t,e,n){if(!(32>n||127<n)){var r="";switch(e){case oo:r=lo.has(n)?lo.get(n):String.fromCharCode(n);break;case ao:r=co.get(n);break;case so:t.i[t.g].pop(),r=fo.get(n);break;case uo:t.i[t.g].pop(),r=ho.get(n)}r&&t.i[t.g].push(new Ji(r,t.m,t.j,t.o,t.l))}}function ro(t,e,n,r){if(!(0>n||0>e))if(e>=n)for(--r;0<=r;r--)t.i[e+r]=t.i[n+r].map((function(t){return t}));else for(var i=0;i<r;i++)t.i[e+i]=t.i[n+i].map((function(t){return t}))}function io(t,e,n){for(var r=0;r<=n;r++)t.i[e+r]=[]}var oo=0,ao=1,so=2,uo=3,lo=new Map([[39,"\u2019"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"\u2588"]]),co=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"\u2122"],[53,"\xa2"],[54,"\xa3"],[55,"\u266a"],[56,"\xe0"],[57,"\u2800"],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),fo=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"\u2018"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xa9"],[44,"\u2120"],[45,"\xb7"],[46,"\u201c"],[47,"\u201d"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),ho=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"\u2502"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"\u250c"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]);function po(t,e){this.h=yo,this.o=new Qi(t,e),this.i=new Qi(t,e),this.l=new Qi(t,e),this.g=this.i,this.j=0,this.m=null}function go(t,e,n){t.g=t.i;var r=t.g,i=null;return t.h!==wo&&t.h!==So&&(i=to(r,t.j,n),(n=t.i).g=0<n.h?n.h:0,io(n,0,15),(n=t.l).g=0<n.h?n.h:0,io(n,0,15),r.g=15),t.h=wo,r.h=e,i}function vo(t){t.h=bo,t.g=t.l,t.g.h=0}function mo(t){Y("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),t.g=t.o,t.h=So}var yo=0,bo=1,wo=3,So=4,To="black green blue cyan red yellow magenta black".split(" "),Eo="white green blue cyan red yellow magenta white_italics".split(" ");function _o(){this.l=!1,this.C=this.F=0,this.D=Lo,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",ko(this)}function ko(t){t.i=[];for(var e=0;16>e;e++)t.i.push(xo())}function xo(){for(var t=[],e=0;42>e;e++)t.push(null);return t}function Mo(t,e){Ao(t)&&(t.i[t.h][t.g]=new Ji(e,t.u,t.o,t.m,t.s),t.g++)}function Ao(t){var e=t.g<t.C&&0<=t.g;return t.h<t.F&&0<=t.h&&e}function Ro(t,e,n){var r=new rt(t.j,e,"");return r.textAlign=t.D===Io?"left":t.D===Co?"right":at,(n=Xi(r,"svc"+n,t.i,t.j,e))&&(t.j=e),n}_o.prototype.isVisible=function(){return this.l};var Io=0,Co=1,Lo=2;function Do(){this.i=[],this.h=null,this.g=0}function Oo(t,e){3===e.type?(t.g=2*(63&e.value)-1,t.h=[]):t.h&&(0<t.g&&(t.h.push(e),t.g--),0===t.g&&(t.i.push(new Po(t.h)),t.h=null,t.g=0))}function Po(t){this.g=0,this.h=t}function No(t){if(!t.na())throw new Kt(2,2,3e3);return t.h[t.g++]}function jo(t){this.i=t,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Bo(t,e,n,r){if(128<=n&&135>=n)r=7&n,t.h[r]&&(t.g=t.h[r]);else{if(136===n){n=No(e).value,e=null;for(var i=(n=c(Fo(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=Ro(i,r,t.i)),ko(i);return e}if(137===n)for(n=(e=c(Fo(t,e=No(e).value))).next();!n.done;n=e.next())(n=t.h[n.value]).isVisible()||(n.j=r),n.l=!0;else{if(138===n){for(n=No(e).value,e=null,i=(n=c(Fo(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=Ro(i,r,t.i)),i.l=!1;return e}if(139===n){for(n=No(e).value,e=null,i=(n=c(Fo(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()?e=Ro(i,r,t.i):i.j=r,i.l=!i.l;return e}if(140===n)return Uo(t,e=No(e).value,r);if(143===n)return r=Uo(t,255,r),Ho(t),r;if(144===n)e.skip(1),r=No(e).value,t.g&&(t.g.o=0<(128&r),t.g.u=0<(64&r));else if(145===n)r=No(e).value,n=No(e).value,e.skip(1),t.g&&(e=Ko((48&n)>>4,(12&n)>>2,3&n),t.g.s=Ko((48&r)>>4,(12&r)>>2,3&r),t.g.m=e);else if(146===n)r=No(e).value,e=No(e).value,t.g&&((t=t.g).h=15&r,t.g=63&e);else if(151===n)e.skip(1),e.skip(1),r=No(e).value,e.skip(1),t.g&&(t.g.D=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==t.h[n])){var o=new _o;o.j=r,t.h[n]=o}r=No(e).value,No(e),No(e),o=No(e).value;var a=No(e).value;e=No(e).value,i&&0===(7&e)||((e=t.h[n]).h=0,e.g=0,e.u=!1,e.o=!1,e.s="white",e.m="black"),(e=t.h[n]).l=0<(32&r),e.F=1+(15&o),e.C=1+(63&a),t.g=t.h[n]}}}return null}function Fo(t,e){for(var n=[],r=0;8>r;r++)1===(1&e)&&t.h[r]&&n.push(r),e>>=1;return n}function Uo(t,e,n){for(var r=null,i=(e=c(Fo(t,e))).next();!i.done;i=e.next()){i=i.value;var o=t.h[i];o.isVisible()&&(r=Ro(o,n,t.i)),t.h[i]=null}return r}function Ho(t){t.g=null,t.h=[null,null,null,null,null,null,null,null]}function Ko(t,e,n){var r={0:0,1:0,2:1,3:1};return qo[(t=r[t])<<2|(e=r[e])<<1|(n=r[n])]}Po.prototype.na=function(){return this.g<this.h.length},Po.prototype.X=function(){return this.g},Po.prototype.skip=function(t){if(this.g+t>this.h.length)throw new Kt(2,2,3e3);this.g+=t};var Go=new Map([[32," "],[33,"\xa0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201c"],[52,"\u201d"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215b"],[119,"\u215c"],[120,"\u215d"],[121,"\u215e"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250c"]]),qo="black blue green cyan red magenta yellow white".split(" ");function Vo(){this.h=[],this.g=[],this.i=new Do,this.l=0,this.s=new Map([["CC1",new po(0,0)],["CC2",new po(0,1)],["CC3",new po(1,0)],["CC4",new po(1,1)]]),this.o=this.m=0,this.j=new Map,zo(this)}function zo(t){t.m=0,t.o=0;for(var e=(t=c(t.s.values())).next();!e.done;e=t.next())(e=e.value).h=2,e.g=e.i,e.m=null,eo(e.i),eo(e.l),eo(e.o)}function Wo(t,e){var n=e.type;if(16===(112&e.Aa)){var r=e.Aa>>3&1;0===n?t.m=r:t.o=r}if(n=t.s.get("CC"+(n<<1|(n?t.o:t.m)+1)),255===e.Aa&&255===e.Oa||!e.Aa&&!e.Oa||!Xo(e.Aa)||!Xo(e.Oa))return 45<=++t.l&&zo(t),null;if(t.l=0,e.Aa&=127,e.Oa&=127,!e.Aa&&!e.Oa)return null;if(r=null,16===(112&e.Aa))t:{var i=e.Aa;if(r=e.Oa,n.m===(i<<8|r))n.m=null;else if(n.m=i<<8|r,16===(240&i)&&64===(192&r)){i=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&i)<<1|r>>5&1];var o=(30&r)>>1,a="white",s=!1;if(7>o?a=Eo[o]:7===o&&(s=!0),r=1===(1&r),n.h!==So){if(o=n.g,n.h===wo&&i!==o.g){var u=1+i-o.h;ro(o,u,1+o.g-o.h,o.h),io(o,0,u-1),io(o,i+1,15-i)}o.g=i,n.g.m=r,n.g.j=s,n.g.l=a,n.g.o="black"}}else if(17===(247&i)&&32===(240&r))n.g.m=!1,n.g.j=!1,n.g.l="white",no(n.g,oo,32),a=!1,"white_italics"===(i=Eo[(14&r)>>1])&&(i="white",a=!0),n.g.m=1===(1&r),n.g.j=a,n.g.l=i;else if(16===(247&i)&&32===(240&r)||23===(247&i)&&45===(255&r))a="black",0===(7&i)&&(a=To[(14&r)>>1]),n.g.o=a;else if(17===(247&i)&&48===(240&r))no(n.g,ao,r);else if(18===(246&i)&&32===(224&r))no(n.g,1&i?uo:so,r);else if(20===(246&i)&&32===(240&r)){switch(r=e.pts,i=null,e.Oa){case 32:vo(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:i=go(n,2,r);break;case 38:i=go(n,3,r);break;case 39:i=go(n,4,r);break;case 40:no(n.g,oo,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.j=r;break;case 42:eo(n.o),mo(n);break;case 43:mo(n);break;case 44:i=n.i,a=null,n.h!==So&&(a=to(i,n.j,r)),io(i,0,15),i=a;break;case 45:i=n.g,n.h!==wo?i=null:(a=to(i,n.j,r),ro(i,(s=i.g-i.h+1)-1,s,i.h),io(i,0,s-1),io(i,i.g,15-i.g),n.j=r,i=a);break;case 46:io(n.l,0,15);break;case 47:i=null,n.h!==So&&(i=to(n.i,n.j,r)),a=n.l,n.l=n.i,n.i=a,vo(n),n.j=r}r=i;break t}r=null}else i=e.Oa,no(n.g,oo,e.Aa),no(n.g,oo,i);return r}function Yo(t,e){var n=[];try{for(;e.na();){var r=No(e).value,i=(224&r)>>5,o=31&r;if(7===i&&0!=o&&(i=63&No(e).value),0!=i){t.j.has(i)||t.j.set(i,new jo(i));for(var a=t.j.get(i),s=e.X();e.X()-s<o;){var u=No(i=e),l=u.value,c=u.pts;if(16===l)l=l<<16|No(i).value;if(0<=l&&31>=l){var f=c;if(a.g){var h=a.g;switch(i=null,l){case 8:!Ao(h)||0>=h.g&&0>=h.h||(0>=h.g?(h.g=h.C-1,h.h--):h.g--,h.i[h.h][h.g]=null);break;case 13:if(h.isVisible()&&(i=Ro(h,f,a.i)),h.h+1>=h.F){f=h;for(var d=0,p=1;16>p;p++,d++)f.i[d]=f.i[p];for(p=0;1>p;p++,d++)f.i[d]=xo()}else h.h++;h.g=0;break;case 14:h.isVisible()&&(i=Ro(h,f,a.i)),h.i[h.h]=xo(),h.g=0;break;case 12:h.isVisible()&&(i=Ro(h,f,a.i)),ko(h),(f=h).h=0,f.g=0}var g=i}else g=null}else if(128<=l&&159>=l)g=Bo(a,i,l,c);else{if(4096<=l&&4127>=l)8<=(f=255&l)&&15>=f?i.skip(1):16<=f&&23>=f?i.skip(2):24<=f&&31>=f&&i.skip(3);else if(4224<=l&&4255>=l)128<=(f=255&l)&&135>=f?i.skip(4):136<=f&&143>=f&&i.skip(5);else if(32<=l&&127>=l)i=l,a.g&&Mo(a.g,127===i?"\u266a":String.fromCharCode(i));else if(160<=l&&255>=l)a.g&&Mo(a.g,String.fromCharCode(l));else if(4128<=l&&4223>=l){if(i=255&l,a.g)if(Go.has(i)){var v=Go.get(i);Mo(a.g,v)}else Mo(a.g,"_")}else 4256<=l&&4351>=l&&a.g&&Mo(a.g,160!=(255&l)?"_":"[CC]");g=null}(i=g)&&n.push(i)}}}}catch(m){if(!(m instanceof Kt&&3e3===m.code))throw m;Y("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Xo(t){for(var e=0;t;)e^=1&t,t>>=1;return 1===e}function $o(t,e){var n=null,r=null,i=t.M();return 1&e&&t.skip(8),2&e&&t.skip(4),8&e&&(n=t.M()),16&e&&(r=t.M()),{trackId:i,ie:n,We:r}}function Zo(t,e){return{pd:1==e?t.Lb():t.M()}}function Jo(t,e){return 1==e?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4)),{timescale:t.M()}}function Qo(t,e,n){var r=t.M(),i=[];1&n&&t.skip(4),4&n&&t.skip(4);for(var o=0;o<r;o++){var a={Sd:null,sampleSize:null,Tc:null};256&n&&(a.Sd=t.M()),512&n&&(a.sampleSize=t.M()),1024&n&&t.skip(4),2048&n&&(a.Tc=0==e?t.M():t.ve()),i.push(a)}return{Og:r,ye:i}}function ta(){this.i=new Map,this.h=this.g=0}function ea(){this.h=new ta,this.g=new Vo}function na(t,e){for(var n=t.h.parse(e),r=(n=c(n)).next();!r.done;r=n.next()){var i=r.value,o=Mt(i.Kf);if(0<o.length&&(r=t.g,i=i.pts,181===(o=new Oi(o,0)).Y()&&49===o.Kb()&&1195456820===o.M()&&3===o.Y())){var a=o.Y();if(0!==(64&a)){a&=31,o.skip(1);for(var s=0;s<a;s++){var u=o.Y(),l=(4&u)>>2,h=o.Y(),d=o.Y();l&&(0===(u&=3)||1===u?r.h.push({pts:i,type:u,Aa:h,Oa:d,order:r.h.length}):(r.g.push({pts:i,type:u,value:h,order:r.g.length}),r.g.push({pts:i,type:2,value:d,order:r.g.length})))}}}}return function(t){function e(t,e){return t.pts-e.pts||t.order-e.order}var n=[];t.h.sort(e),t.g.sort(e);for(var r=c(t.h),i=r.next();!i.done;i=r.next())(i=Wo(t,i.value))&&n.push(i);for(i=(r=c(t.g)).next();!i.done;i=r.next())Oo(t.i,i.value);for(i=(r=c(t.i.i)).next();!i.done;i=r.next())i=Yo(t,i.value),n.push.apply(n,f(i));return t.i.i=[],t.h=[],t.g=[],n}(t.g)}function ra(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function ia(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function oa(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=c(aa(t)),i=r.next();!i.done;i=r.next()){var o=i.value;i=o.start,(o=o.end)>e&&(n+=o-Math.max(i,e))}return n}function aa(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function sa(t,e,n,r){var i=this;this.j=t,this.m=n,this.h={},this.I={},this.G={},this.g=null,this.L=r||function(){},this.i={},this.o=new Rr,this.s={},this.u=e,this.D=new fe,this.l=function(t,e){var n=new MediaSource;return t.o.ka(n,"sourceopen",(function(){URL.revokeObjectURL(t.F),e.resolve()})),t.F=Sa(n),t.j.src=t.F,n}(this,this.D),this.C=new Mr((function(){return function(t){var e,n,r,i,o,a,s;return D((function(u){if(1==u.g){for(n in e=[],t.i)for(r=t.i[n],i=r[0],t.i[n]=r.slice(0,1),i&&e.push(i.p.catch(Nt)),o=c(r.slice(1)),a=o.next();!a.done;a=o.next())a.value.p.reject(new Kt(2,7,7003,void 0));for(s in t.g&&e.push(t.g.destroy()),t.m&&e.push(t.m.destroy()),t.s)e.push(t.s[s].destroy());return S(u,Promise.all(e),2)}t.o&&(t.o.release(),t.o=null),t.j&&(t.j.removeAttribute("src"),t.j.load(),t.j=null),t.l=null,t.g=null,t.m=null,t.h={},t.s={},t.u=null,t.i={},T(u)}))}(i)})),this.F=""}function ua(t,e){t.g||(t.g=new Ze(t.m));var n=t.g;n.j="application/cea-608"==e||"application/cea-708"==e?null:Bt(nn[e])}function la(t){return!t.l||"ended"==t.l.readyState}function ca(t,e){if(e==ue)var n=t.g.g;else n=!(n=ha(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function fa(t,e){return e==ue?t.g.h:ra(ha(t,e))}function ha(t,e){try{return t.h[e].buffered}catch(n){return null}}function da(t,e,n,r,i,o){var a,s,u,l,f,h,d,p;return D((function(g){return 1==g.g?e==(a=le).Z?S(g,function(t,e,n,r){var i,o,a;return D((function(s){return 1==s.g?S(s,Promise.resolve(),2):t.j&&t.i?null==n||null==r?(t.j.parseInit(Mt(e)),s.return()):(i={periodStart:t.u,segmentStart:n,segmentEnd:r},o=t.j.parseMedia(Mt(e),i),a=o.filter((function(e){return e.startTime>=t.l&&e.startTime<t.m})),t.i.append(a),null==t.g&&(t.g=Math.max(n,t.l)),t.h=Math.min(r,t.m),void T(s)):s.return()}))}(t.g,n,r,i),0):t.s[e]?S(g,function(t,e){t.l=!0,t.h=new fe,t.m=[],t.j=[],t.i=[];var n=Mt(e);return t.g.push(n),t.g.flush(),t.l&&t.h.reject(new Kt(2,3,3018)),t.h}(t.s[e],n),10):o?(t.g||ua(t,"application/cea-608"),null==r&&null==i?t.u.init(n):(s=na(t.u,n)).length&&(u=t.h[a.Na].timestampOffset,en(t.g,s,r,i,u)),n=wa(t,n,r,e),S(g,va(t,e,(function(){t.h[e].appendBuffer(n)})),0)):(n=wa(t,n,r,e),S(g,va(t,e,(function(){t.h[e].appendBuffer(n)})),0)):(l=g.h,t.g||ua(t,"application/cea-608"),l.metadata&&(f=t.h[e].timestampOffset,t.L(l.metadata,f,i)),l.captions&&l.captions.length&&(h=t.h[a.Na].timestampOffset,d=function(t){for(var e=[],n=(t=c(t)).next();!n.done;n=t.next())n=n.value,e.push({stream:n.stream,cue:new rt(n.startTime,n.endTime,n.text)});return e}(l.captions),en(t.g,d,r,i,h)),p=l.data,p=wa(t,p,r,e),S(g,va(t,e,(function(){t.h[e].appendBuffer(p)})),0))}))}function pa(t,e){return D((function(n){return e==le.Z?t.g?S(n,t.g.remove(0,1/0),0):n.return():S(n,va(t,e,(function(){var n=t.l.duration;0>=n?ga(t,e):t.h[e].remove(0,n)})),0)}))}function ga(t,e){var n=t.i[e][0];n&&(n.p.resolve(),ya(t,e))}function va(t,e,n){return Ar(t.C),n={start:n,p:new fe},t.i[e].push(n),1==t.i[e].length&&ba(t,e),n.p}function ma(t,e){var n,r,i,o,a;return D((function(s){switch(s.g){case 1:for(i in Ar(t.C),n=[],r={},t.h)r.Rb=new fe,o={start:function(t){return function(){return t.Rb.resolve()}}(r),p:r.Rb},t.i[i].push(o),n.push(r.Rb),1==t.i[i].length&&o.start(),r={Rb:r.Rb};return E(s,2),S(s,Promise.all(n),4);case 4:k(s,3);break;case 2:throw x(s);case 3:try{e()}catch(u){throw new Kt(2,3,3015,u)}finally{for(a in t.h)ya(t,a)}T(s)}}))}function ya(t,e){t.i[e].shift(),ba(t,e)}function ba(t,e){var n=t.i[e][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Kt(2,3,3017,e)):n.p.reject(new Kt(2,3,3015,r)),ya(t,e)}}function wa(t,e,n,r){var i=t.G[r];return null==n&&i&&(ye()||me())&&"mp4"==t.I[r].split(";")[0].split("/")[1]&&(e=function(t){function e(){i=!0}function n(t){o.push(t),Bi(t)}t=Mt(t);var r,i=!1,o=[],a=[];if((new ji).box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).P("stsd",(function(t){r=t,o.push(t),Fi(t)})).P("encv",e).P("enca",e).P("hev1",(function(t){a.push({box:t,ob:1701733238})})).P("hvc1",(function(t){a.push({box:t,ob:1701733238})})).P("avc1",(function(t){a.push({box:t,ob:1701733238})})).P("avc3",(function(t){a.push({box:t,ob:1701733238})})).P("ac-3",(function(t){a.push({box:t,ob:1701733217})})).P("ec-3",(function(t){a.push({box:t,ob:1701733217})})).P("mp4a",(function(t){a.push({box:t,ob:1701733217})})).parse(t),i)return t;if(0==a.length||!r)throw Ue(t),new Kt(2,3,3019);a.reverse();for(var s=c(a),u=s.next();!u.done;u=s.next())u=u.value,t=zi(t,r,u.box,o,u.ob);return t}(e)),e}ta.prototype.init=function(t){var e=this,n=[],r=[];if((new ji).box("moov",Bi).box("mvex",Bi).P("trex",(function(t){var n=t.reader;n.skip(4),n.skip(4),t=n.M(),n=n.M(),e.g=t,e.h=n})).box("trak",Bi).P("tkhd",(function(t){var e=t.reader;1==t.version?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.M(),n.push(t)})).box("mdia",Bi).P("mdhd",(function(t){t=Jo(t.reader,t.version),r.push(t.timescale)})).parse(t,!0),!n.length||!r.length||n.length!=r.length)throw new Kt(2,2,2010);n.forEach((function(t,n){e.i.set(t,r[n])}))},ta.prototype.parse=function(t){var e=this,n=[],r=this.g,i=this.h,o=[],a=null,s=9e4;return(new ji).box("moof",Bi).box("traf",Bi).P("trun",(function(t){o=Qo(t.reader,t.version,t.flags).ye})).P("tfhd",(function(t){t=$o(t.reader,t.flags),r=t.ie||e.g,i=t.We||e.h,t=t.trackId,e.i.has(t)&&(s=e.i.get(t))})).P("tfdt",(function(t){a=Zo(t.reader,t.version).pd})).box("mdat",(function(t){if(null===a)throw new Kt(2,2,2010);t=t.reader;var e=a,u=s,l=r,h=i,d=o,p=0,g=h;for(d.length&&(g=d[0].sampleSize||h);t.na();){var v=t.M();if(6==(31&t.Y())){var m=0;d.length>p&&(m=d[p].Tc||0),m=(e+m)/u;for(var y,b=[],w=t.Za(v-1),S=y=0;S<w.length;)2==y&&3==w[S]?(y=0,(w=[].concat(f(w))).splice(S,1),w=new Uint8Array(w)):0==w[S]?y++:y=0,S++;for(y=w,S=0;S<y.length;){for(w=0;255==y[S];)w+=255,S++;w+=y[S++];for(var T=0;255==y[S];)T+=255,S++;T+=y[S++],4==w&&b.push(y.subarray(S,S+T)),S+=T}for(y=(b=c(b)).next();!y.done;y=b.next())n.push({Kf:y.value,pts:m})}else try{t.skip(v-1)}catch(E){break}0==(g-=v+4)&&(e=d.length>p?e+(d[p].Sd||l):e+l,p++,g=d.length>p&&d[p].sampleSize||h)}})).parse(t,!1),n},ea.prototype.init=function(t){this.h.init(t)},(r=sa.prototype).destroy=function(){return this.C.destroy()},r.init=function(t,e){var n,r,i,o,a,s,u,l=this;return D((function(f){if(1==f.g)return n=le,S(f,l.D,2);for(r={},i=c(t.keys()),o=i.next();!o.done;r={qa:r.qa},o=i.next())r.qa=o.value,a=t.get(r.qa),s=ze(a.mimeType,a.codecs),r.qa==n.Z?ua(l,s):(!e&&MediaSource.isTypeSupported(s)||!Ge(s,r.qa)||(l.s[r.qa]=new Ke,s=Ve(r.qa,s)),u=l.l.addSourceBuffer(s),l.o.A(u,"error",function(t){return function(){l.i[t.qa][0].p.reject(new Kt(2,3,3014,l.j.error?l.j.error.code:0))}}(r)),l.o.A(u,"updateend",function(t){return function(){return ga(l,t.qa)}}(r)),l.h[r.qa]=u,l.I[r.qa]=s,l.i[r.qa]=[],l.G[r.qa]=!!a.drmInfos.length);T(f)}))},r.Ya=function(){var t={total:aa(this.j.buffered),audio:aa(ha(this,"audio")),video:aa(ha(this,"video")),text:[]};if(this.g){var e=this.g.g,n=this.g.h;null!=e&&null!=n&&t.text.push({start:e,end:n})}return t},r.remove=function(t,e,n){var r=this;return D((function(i){return S(i,t==le.Z?r.g.remove(e,n):va(r,t,(function(){n<=e?ga(r,t):r.h[t].remove(e,n)})),0)}))},r.flush=function(t){var e=this;return D((function(n){return t==le.Z?n.return():S(n,va(e,t,(function(){e.j.currentTime-=.001,ga(e,t)})),0)}))},r.endOfStream=function(t){var e=this;return D((function(n){return S(n,ma(e,(function(){la(e)||"closed"===e.l.readyState||(t?e.l.endOfStream(t):e.l.endOfStream())})),0)}))},r.Ja=function(t){var e=this;return D((function(n){return S(n,ma(e,(function(){e.l.duration=t})),0)}))},r.getDuration=function(){return this.l.duration};var Sa=t.URL.createObjectURL;function Ta(t,e,n,r){this.sa=t,this.pa=e,this.ia=n,this.Ed=void 0===r?null:r}function Ea(t,e,n,r,i,o,a,s,u,l,c,f){l=void 0===l?[]:l,this.startTime=t,this.l=this.endTime=e,this.j=n,this.pa=r,this.ia=i,this.g=o,this.timestampOffset=a,this.appendWindowStart=s,this.appendWindowEnd=u,this.h=l,this.tilesLayout=void 0===c?"":c,this.i=void 0===f?null:f}function _a(t,e,n){this.l=t,this.Sc=e,this.m=this.i=1/0,this.g=1,this.h=this.j=null,this.o=0,this.s=!0,this.u=0,this.C=void 0===n||n,this.D=0,this.F=!1}function ka(t,e){this.j=t,this.m=Ma(t),this.g=t.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.o=e,this.i=function(){}}function xa(t){this.g=t}function Ma(t){if(t.g.paused||0==t.g.playbackRate||0==t.g.buffered.length)var e=!1;else t:{e=t.g.currentTime;for(var n=(t=c(aa(t.g.buffered))).next();!n.done;n=t.next())if(!(e<(n=n.value).start-.1||e>n.end-.5)){e=!0;break t}e=!1}return e}function Aa(t,e,n,r,i){var o=this;this.g=t,this.C=e,this.l=n,this.u=i,this.i=new Rr,this.s=!1,this.D=t.readyState,this.j=!1,this.h=r,this.o=!1,this.i.A(t,"waiting",(function(){return Ra(o)})),this.m=new pe((function(){Ra(o)})).Da(.25)}function Ra(t){if(0!=t.g.readyState){if(t.g.seeking){if(!t.s)return}else t.s=!1;if(!t.g.paused||0==t.g.currentTime&&(t.g.autoplay||0!=t.g.currentTime)){var e;if(t.g.readyState!=t.D&&(t.j=!1,t.D=t.g.readyState),!(e=!t.h)){var n=(e=t.h).j,r=Ma(n),i=n.g.currentTime,o=Date.now()/1e3;e.g==i&&e.m==r||(e.l=o,e.g=i,e.m=r,e.h=!1),(r=(i=o-e.l)>=e.o&&r&&!e.h)&&(e.i(e.g,i),e.h=!0,e.g=n.g.currentTime),e=!r}if(e){i=t.l.smallGapLimit;var a=t.g.currentTime;if(!(null==(n=function(t,e,n){return!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)?null:0<=(t=aa(t).findIndex((function(t,r,i){return t.start>e&&(0==r||i[r-1].end-e<=n)})))?t:null}(e=t.g.buffered,a,t.l.gapDetectionThreshold))||0==n&&!t.o||(r=e.start(n),r>=t.C.Pa()))){var s=r-a;i=s<=i,o=!1,.001>s||(i||t.j||(t.j=!0,(a=new hr("largegap",a=(new Map).set("currentTime",a).set("gapSize",s))).cancelable=!0,t.u(a),t.l.jumpLargeGaps&&!a.defaultPrevented&&(o=!0)),!i&&!o)||(0!=n&&e.end(n-1),t.g.currentTime=r)}}}}}function Ia(t,e,n,r){e==HTMLMediaElement.HAVE_NOTHING||t.readyState>=e?r():(e=Ca.value().get(e),n.ka(t,e,r))}Ta.prototype.fc=function(){return this.pa},Ta.prototype.bc=function(){return this.ia},H("shaka.media.InitSegmentReference",Ta),Ta.prototype.getEndByte=Ta.prototype.bc,Ta.prototype.getStartByte=Ta.prototype.fc,(r=Ea.prototype).sa=function(){return this.j()},r.getStartTime=function(){return this.startTime},r.df=function(){return this.endTime},r.fc=function(){return this.pa},r.bc=function(){return this.ia},r.xf=function(){return this.tilesLayout},r.wf=function(){return this.i},H("shaka.media.SegmentReference",Ea),Ea.prototype.getTileDuration=Ea.prototype.wf,Ea.prototype.getTilesLayout=Ea.prototype.xf,Ea.prototype.getEndByte=Ea.prototype.bc,Ea.prototype.getStartByte=Ea.prototype.fc,Ea.prototype.getEndTime=Ea.prototype.df,Ea.prototype.getStartTime=Ea.prototype.getStartTime,Ea.prototype.getUris=Ea.prototype.sa,(r=_a.prototype).getDuration=function(){return this.i},r.kf=function(){return this.g},r.Ja=function(t){this.i=t},r.qf=function(){return this.l},r.De=function(t){this.o=t},r.pc=function(t){this.s=t},r.Zd=function(t){this.m=t},r.Zf=function(t){this.Sc=t},r.cf=function(){return this.Sc},r.Hb=function(t){if(0!=t.length){var e=t[t.length-1].endTime;this.Jd(t[0].startTime),this.g=t.reduce((function(t,e){return Math.max(t,e.endTime-e.startTime)}),this.g),this.h=Math.max(this.h,e),null!=this.l&&this.C&&!this.F&&(this.l=(Date.now()+this.o)/1e3-this.h-this.g)}},r.Cd=function(){this.F=!0},r.Jd=function(t){this.j=null==this.j?t:Math.min(this.j,t)},r.Id=function(t){this.g=Math.max(this.g,t)},r.offset=function(t){null!=this.j&&(this.j+=t),null!=this.h&&(this.h+=t)},r.U=function(){return 1/0==this.i&&!this.s},r.mb=function(){return 1/0!=this.i&&!this.s},r.Qa=function(){return Math.max(this.u,this.hb()-this.m)},r.Ee=function(t){this.u=t},r.hb=function(){return this.U()||this.mb()?Math.min(Math.max(0,(Date.now()+this.o)/1e3-this.g-this.l)+this.D,this.i):this.h?Math.min(this.h,this.i):this.i},r.ec=function(t){var e=Math.max(this.j,this.u);return 1/0==this.m?Math.ceil(1e3*e)/1e3:Math.max(e,Math.min(this.hb()-this.m+t,this.Pa()))},r.Db=function(){return this.ec(0)},r.Pa=function(){return Math.max(0,this.hb()-(this.U()||this.mb()?this.Sc:0))},r.He=function(){return!(null==this.l||null!=this.h&&this.C)},r.Ce=function(t){this.D=t},H("shaka.media.PresentationTimeline",_a),_a.prototype.setAvailabilityTimeOffset=_a.prototype.Ce,_a.prototype.usingPresentationStartTime=_a.prototype.He,_a.prototype.getSeekRangeEnd=_a.prototype.Pa,_a.prototype.getSeekRangeStart=_a.prototype.Db,_a.prototype.getSafeSeekRangeStart=_a.prototype.ec,_a.prototype.getSegmentAvailabilityEnd=_a.prototype.hb,_a.prototype.setUserSeekStart=_a.prototype.Ee,_a.prototype.getSegmentAvailabilityStart=_a.prototype.Qa,_a.prototype.isInProgress=_a.prototype.mb,_a.prototype.isLive=_a.prototype.U,_a.prototype.offset=_a.prototype.offset,_a.prototype.notifyMaxSegmentDuration=_a.prototype.Id,_a.prototype.notifyMinSegmentStartTime=_a.prototype.Jd,_a.prototype.lockStartTime=_a.prototype.Cd,_a.prototype.notifySegments=_a.prototype.Hb,_a.prototype.getDelay=_a.prototype.cf,_a.prototype.setDelay=_a.prototype.Zf,_a.prototype.setSegmentAvailabilityDuration=_a.prototype.Zd,_a.prototype.setStatic=_a.prototype.pc,_a.prototype.setClockOffset=_a.prototype.De,_a.prototype.getPresentationStartTime=_a.prototype.qf,_a.prototype.setDuration=_a.prototype.Ja,_a.prototype.getMaxSegmentDuration=_a.prototype.kf,_a.prototype.getDuration=_a.prototype.getDuration,ka.prototype.release=function(){this.j=null,this.i=function(){}},Aa.prototype.release=function(){this.i&&(this.i.release(),this.i=null),null!=this.m&&(this.m.stop(),this.m=null),this.h&&(this.h.release(),this.h=null),this.g=this.C=this.u=null},Aa.prototype.Md=function(){this.o=!0,Ra(this)};var Ca=new he((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function La(t,e,n){var r=this;this.g=t,this.l=e,this.j=n,this.m=!1,this.h=new Rr,this.i=new ja(t),Ia(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Pa(r,r.j)}))}function Da(t){return t.m?t.g.currentTime:t.j}function Oa(t,e){0<t.g.readyState?Ba(t.i,e):Ia(t.g,HTMLMediaElement.HAVE_METADATA,t.h,(function(){Pa(t,t.j)}))}function Pa(t,e){.001>Math.abs(t.g.currentTime-e)?Na(t):(t.h.ka(t.g,"seeking",(function(){Na(t)})),Ba(t.i,t.g.currentTime&&0!=t.g.currentTime?t.g.currentTime:e))}function Na(t){t.m=!0,t.h.A(t.g,"seeking",(function(){return t.l()}))}function ja(t){var e=this;this.h=t,this.m=10,this.l=this.j=this.i=0,this.g=new pe((function(){0>=e.i||e.h.currentTime!=e.j?e.g.stop():(e.h.currentTime=e.l,e.i--)}))}function Ba(t,e){t.j=t.h.currentTime,t.l=e,t.i=t.m,t.h.currentTime=e,t.g.Da(.1)}function Fa(t){this.g=t,this.j=!1,this.h=null,this.i=new Rr}function Ua(t,e,n,r,i,o){var a=this;this.i=t,this.g=e.presentationTimeline,this.u=e.minBufferTime||0,this.l=n,this.s=i,this.o=null,this.j=new Aa(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new ka(new xa(t),e.stallThreshold);return function(t,e){t.i=e}(r,(function(){n?t.currentTime+=n:(t.pause(),t.play())})),r}(t,n),o),this.h=new La(t,(function(){var t=a.j;t.s=!0,t.o=!1,t.j=!1;var e=Da(a.h);return t=Ka(a,e),.001<Math.abs(t-e)&&(e=Date.now()/1e3,!a.o||a.o<e-1)?(a.o=e,Oa(a.h,t),t=void 0):(a.s(),t=void 0),t}),function(t,e){return null==e?e=1/0>t.g.getDuration()?t.g.Db():t.g.Pa():0>e&&(e=t.g.Pa()+e),Ha(t,Ga(t,e))}(this,r)),this.m=new pe((function(){if(0!=a.i.readyState&&!a.i.paused){var t=Da(a.h),e=a.g.Db(),n=a.g.Pa();3>n-e&&(e=n-3),t<e&&(t=Ka(a,t),a.i.currentTime=t)}}))}function Ha(t,e){var n=t.g.getDuration();return e>=n?n-t.l.durationBackoff:e}function Ka(t,e){var n=Math.max(t.u,t.l.rebufferingGoal),r=t.l.safeSeekOffset,i=t.g.Db(),o=t.g.Pa(),a=t.g.getDuration();3>o-i&&(i=o-3);var s=t.g.ec(n),u=t.g.ec(r);return n=t.g.ec(n+r),e>=a?Ha(t,e):e>o?o:e<i?ia(t.i.buffered,u)?u:n:e>=s||ia(t.i.buffered,e)?e:n}function Ga(t,e){var n=t.g.Db();return e<n||e>(n=t.g.Pa())?n:e}function qa(t){this.K=t,this.g=null,this.h=0,this.i=!1}function Va(t,e,n){return new qa([new Ea(t,t+e,(function(){return n}),0,null,null,t,t,t+e)])}function za(t,e,n){this.i=t,this.h=e,this.g=n}function Wa(){qa.call(this,[]),this.j=[]}function Ya(t){var e=this;this.g=t,this.j=!1,this.i=this.g.Jc(),this.h=new pe((function(){e.g.te(.25*e.i)}))}function Xa(t){t.h.stop();var e=t.j?0:t.i;if(0<=e)try{return void(t.g.Jc()!=e&&t.g.Yd(e))}catch(n){}t.h.Da(.25),0!=t.g.Jc()&&t.g.Yd(0)}function $a(t){var e=this;this.h=t,this.g=new Set,this.i=new pe((function(){Za(e,!1)})).Da(.25)}function Za(t,e){for(var n=c(t.g),r=n.next();!r.done;r=n.next())r.value.j(t.h.currentTime,e)}function Ja(t){pr.call(this),this.g=new Map,this.h=t}function Qa(t){pr.call(this);var e=this;this.g=new Set,this.i=t,this.h=new pe((function(){for(var t=e.i(),n=c(e.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<t.start&&(e.g.delete(r),r=new hr("regionremove",new Map([["region",r]])),e.dispatchEvent(r))})).Da(2)}function ts(t){pr.call(this);var e=this;this.i=t,this.g=new Map,this.l=[{ub:null,sb:rs,lb:function(t,n){return es(e,"enter",t,n)}},{ub:ns,sb:rs,lb:function(t,n){return es(e,"enter",t,n)}},{ub:is,sb:rs,lb:function(t,n){return es(e,"enter",t,n)}},{ub:rs,sb:ns,lb:function(t,n){return es(e,"exit",t,n)}},{ub:rs,sb:is,lb:function(t,n){return es(e,"exit",t,n)}},{ub:ns,sb:is,lb:function(t,n){return es(e,"skip",t,n)}},{ub:is,sb:ns,lb:function(t,n){return es(e,"skip",t,n)}}],this.h=new Rr,this.h.A(this.i,"regionremove",(function(t){e.g.delete(t.region)}))}function es(t,e,n,r){e=new hr(e,new Map([["region",n],["seeking",r]])),t.dispatchEvent(e)}La.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.l=function(){},this.g=null},ja.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},(r=Fa.prototype).nd=function(){var t=this;Ia(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){null==t.h||0==t.h?t.j=!0:(t.i.ka(t.g,"seeking",(function(){t.j=!0})),t.g.currentTime=Math.max(0,t.g.currentTime+t.h))}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},r.od=function(t){this.h=this.j?this.h:t},r.xc=function(){return(this.j?this.g.currentTime:this.h)||0},r.ue=function(){},(r=Ua.prototype).nd=function(){this.m.Da(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.s=function(){}},r.od=function(t){Oa(this.h,t)},r.xc=function(){var t=Da(this.h);return 0<this.i.readyState&&!this.i.paused?Ga(this,t):t},r.ue=function(){this.j.Md()},(r=qa.prototype).destroy=function(){return Ct("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},r.release=function(){this.i||(this.K=[],this.g&&this.g.stop(),this.g=null)},r.Ef=function(){this.i=!0},r.find=function(t){for(var e=this.K.length-1,n=e;0<=n;--n){var r=this.K[n],i=n<e?this.K[n+1].startTime:r.endTime;if(t>=r.startTime&&t<i)return n+this.h}return this.K.length&&t<this.K[0].startTime?this.h:null},r.get=function(t){return 0==this.K.length||0>(t-=this.h)||t>=this.K.length?null:this.K[t]},r.offset=function(t){if(!this.i)for(var e=c(this.K),n=e.next();!n.done;n=e.next())(n=n.value).startTime+=t,n.endTime+=t,n.timestampOffset+=t},r.Fb=function(t){!this.i&&t.length&&(this.K=this.K.filter((function(e){return e.startTime<t[0].startTime})),this.K.push.apply(this.K,f(t)))},r.Gb=function(t,e){var n=this;t=t.filter((function(t){return t.endTime>e&&(0==n.K.length||t.endTime>n.K[0].startTime)})),this.Fb(t),this.eb(e)},r.eb=function(t){if(!this.i){var e=this.K.length;this.K=this.K.filter((function(e){return e.endTime>t})),this.h+=e-this.K.length}},r.Xa=function(t,e,n){if(n=void 0!==n&&n,!this.i){for(;this.K.length&&this.K[this.K.length-1].startTime>=e;)this.K.pop();for(;this.K.length&&this.K[0].endTime<=t;)this.K.shift(),n||this.h++;0!=this.K.length&&(t=this.K[this.K.length-1],this.K[this.K.length-1]=new Ea(t.startTime,e,t.j,t.pa,t.ia,t.g,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,t.h,t.tilesLayout,t.i))}},r.Uc=function(t,e){var n=this;this.i||(this.g&&this.g.stop(),this.g=new pe((function(){var t=e();t?n.K.push.apply(n.K,f(t)):(n.g.stop(),n.g=null)})),this.g.Da(t))},qa.prototype[Symbol.iterator]=function(){return this.gb(0)},qa.prototype.gb=function(t){var e=this.find(t);if(null==e)return null;e--;var n=this.get(e+1),r=-1;if(n&&0<n.h.length)for(var i=n.h.length-1;0<=i;--i){var o=n.h[i];if(t>=o.startTime&&t<o.endTime){e++,r=i-1;break}}return new za(this,e,r)},H("shaka.media.SegmentIndex",qa),qa.forSingleSegment=Va,qa.prototype.getIteratorForTime=qa.prototype.gb,qa.prototype.updateEvery=qa.prototype.Uc,qa.prototype.fit=qa.prototype.Xa,qa.prototype.evict=qa.prototype.eb,qa.prototype.mergeAndEvict=qa.prototype.Gb,qa.prototype.merge=qa.prototype.Fb,qa.prototype.offset=qa.prototype.offset,qa.prototype.get=qa.prototype.get,qa.prototype.find=qa.prototype.find,qa.prototype.markImmutable=qa.prototype.Ef,qa.prototype.release=qa.prototype.release,qa.prototype.destroy=qa.prototype.destroy,za.prototype.seek=function(t){return Ct("shaka.media.SegmentIterator","Please use SegmentIndex.getIteratorForTime instead of seek()."),(t=this.i.gb(t))?(this.h=t.h,this.g=t.g):(this.h=Number.MAX_VALUE,this.g=0),this.next().value},za.prototype.current=function(){var t=this.i.get(this.h);return t&&0<t.h.length&&t.sa().length&&this.g>=t.h.length&&(this.h++,this.g=0,t=this.i.get(this.h)),t&&0<t.h.length?t.h[this.g]:t},za.prototype.next=function(){var t=this.i.get(this.h);return t&&0<t.h.length?(this.g++,t.sa().length&&this.g==t.h.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:t=this.current(),done:!t}},H("shaka.media.SegmentIterator",za),za.prototype.next=za.prototype.next,za.prototype.current=za.prototype.current,za.prototype.seek=za.prototype.seek,m(Wa,qa),(r=Wa.prototype).clone=function(){var t=new Wa;return t.j=this.j.slice(),t},r.release=function(){for(var t=c(this.j),e=t.next();!e.done;e=t.next())e.value.release();this.j=[]},r.find=function(t){for(var e=0,n=c(this.j),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(t);if(null!=i)return i+e;e+=r.h+r.K.length}return null},r.get=function(t){for(var e=0,n=c(this.j),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(t-e);if(i)return i;e+=r.h+r.K.length}return null},r.offset=function(){},r.Fb=function(){},r.eb=function(){},r.Gb=function(){},r.Xa=function(){},r.Uc=function(){},H("shaka.media.MetaSegmentIndex",Wa),Wa.prototype.updateEvery=Wa.prototype.Uc,Wa.prototype.fit=Wa.prototype.Xa,Wa.prototype.mergeAndEvict=Wa.prototype.Gb,Wa.prototype.evict=Wa.prototype.eb,Wa.prototype.merge=Wa.prototype.Fb,Wa.prototype.offset=Wa.prototype.offset,Wa.prototype.get=Wa.prototype.get,Wa.prototype.find=Wa.prototype.find,Wa.prototype.release=Wa.prototype.release,Ya.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},Ya.prototype.set=function(t){this.i=t,Xa(this)},Ya.prototype.Fc=function(){return this.g.Fc()},$a.prototype.release=function(){this.i.stop();for(var t=c(this.g),e=t.next();!e.done;e=t.next())e.value.release();this.g.clear()},m(Ja,pr),Ja.prototype.release=function(){this.g.clear(),pr.prototype.release.call(this)},Ja.prototype.j=function(t){for(var e=c(this.g.values()),n=e.next();!n.done;n=e.next()){t:{for(var r=(n=n.value).jc,i=r.length-1;0<=i;i--){var o=r[i];if(o.position<=t){r=o.Ed;break t}}r=null}if((i=r)&&(i=!((i=n.ge)===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width)),i)t:{if(i=t,o=r.contentType,(o=this.h()[o])&&0<o.length){var a=o[o.length-1].end;if(i>=o[0].start&&i<a){i=!0;break t}}i=!1}i&&(n.ge=r,JSON.stringify(r),n=new hr("qualitychange",new Map([["quality",r],["position",t]])),this.dispatchEvent(n))}},m(Qa,pr),Qa.prototype.release=function(){this.g.clear(),this.h.stop(),pr.prototype.release.call(this)},m(ts,pr),ts.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,pr.prototype.release.call(this)},ts.prototype.j=function(t,e){for(var n=c(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=t<r.startTime?ns:t>r.endTime?is:rs;this.g.set(r,o);for(var a=c(this.l),s=a.next();!s.done;s=a.next())(s=s.value).ub==i&&s.sb==o&&s.lb(r,e)}};var ns=1,rs=2,is=3;function os(t,e,n,r,i){return t=Sr(t,r,i),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function as(t,e){var n=this;this.g=e,this.m=t,this.h=null,this.u=1,this.o=this.l=null,this.D=0,this.j=new Map,this.C=!1,this.F=null,this.s=!1,this.i=new Mr((function(){return function(t){var e,n,r,i;return D((function(o){if(1==o.g){for(e=[],n=c(t.j.values()),r=n.next();!r.done;r=n.next())bs(i=r.value),e.push(ws(i));return S(o,Promise.all(e),2)}t.j.clear(),t.g=null,t.m=null,t.h=null,T(o)}))}(n)}))}function ss(t,e){var n=t.j.get("video");if(n){var r=n.stream;if(r)if(e){var i=r.trickModeVideo;i&&!n.qb&&(cs(t,i,!1,0,!1),n.qb=r)}else(r=n.qb)&&(n.qb=null,cs(t,r,!0,0,!1))}}function us(t,e,n,r,i){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,t.l=e,t.C&&(e.video&&cs(t,e.video,n,r,i),e.audio&&cs(t,e.audio,n,r,i))}function ls(t,e){t.o=e,t.C&&cs(t,e,!0,0,!1)}function cs(t,e,n,r,i){var o=t.j.get(e.type);o||e.type!=ue?o&&(o.qb&&(e.trickModeVideo?(o.qb=e,e=e.trickModeVideo):o.qb=null),o.stream!=e||i)&&(e.type==ue&&ua(t.g.R,ze(e.mimeType,e.codecs)),o.stream.closeSegmentIndex&&o.stream.closeSegmentIndex(),o.stream=e,o.ba=null,n&&(o.Zb?o.Xc=!0:o.ta?(o.ab=!0,o.Ac=r,o.Xc=!0):(bs(o),ms(t,o,!0,r).catch((function(e){t.g&&t.g.onError(e)})))),function(t,e){var n,r;return D((function(i){if(1==i.g)return e.va?(n=e.stream,r=e.va,n.segmentIndex?i.B(2):S(i,n.createSegmentIndex(),2)):i.return();if(e.va!=r||e.stream!=n)return i.return();var o=t.g.Ic(),a=fa(t.g.R,e.type),s=e.stream.segmentIndex.find(e.Ba?e.Ba.endTime:o),u=null==s?null:e.stream.segmentIndex.get(s);s=u&&u.ia?u.ia-u.pa:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(e.stream.bandwidth||0)/8),s?((u=u.g)&&(s+=(u.ia?u.ia-u.pa:null)||0),o=8*s/(u=t.g.getBandwidthEstimate())<(a||0)-o-Math.max(t.m.minBufferTime||0,t.h.rebufferingGoal)||e.va.h.g>s):o=!1,o&&e.va.abort(),T(i)}))}(t,o).catch((function(e){t.g&&t.g.onError(e)}))):function(t,e){var n,r,i,o,a,s;D((function(u){switch(u.g){case 1:return n=le,t.D++,r=t.D,E(u,2),S(u,pa(t.g.R,n.Z),4);case 4:k(u,3);break;case 2:i=x(u),t.g&&t.g.onError(i);case 3:o=ze(e.mimeType,e.codecs),ua(t.g.R,o),a=t.g.R.m,(a.isTextVisible()||t.h.alwaysStreamText)&&t.D==r&&(s=hs(e),t.j.set(n.Z,s),ys(t,s,0)),T(u)}}))}(t,e)}function fs(t,e){e.Zb||e.ab||(e.ta?(e.ab=!0,e.Ac=0):null==ca(t.g.R,e.type)?null==e.La&&ys(t,e,0):(bs(e),ms(t,e,!1,0).catch((function(e){t.g&&t.g.onError(e)}))))}function hs(t){return{stream:t,type:t.type,ba:null,Ba:null,Mc:null,Bd:null,zd:null,yd:null,qb:null,endOfStream:!1,ta:!1,La:null,ab:!1,Ac:0,Xc:!1,Zb:!1,Qd:!1,hc:!1,va:null}}function ds(e,n){var r,i,o,a,s;return D((function(u){switch(u.g){case 1:if(Ar(e.i),n.ta||null==n.La||n.Zb)return u.return();if(n.La=null,!n.ab){u.B(2);break}return S(u,ms(e,n,n.Xc,n.Ac),3);case 3:return u.return();case 2:if(n.stream.segmentIndex){u.B(4);break}return r=n.stream,S(u,n.stream.createSegmentIndex(),5);case 5:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.ta||n.La||ys(e,n,0),u.return();case 4:E(u,6),null!=(i=function(e,n){if(gs(n))return function(t,e){var n=fa(t,"video")||0;Qe(t.g,e,n)}(e.g.R,n.stream.originalId||""),null;n.type==ue&&function(t){t.g&&Qe(t.g,"",0)}(e.g.R);var r=e.g.Ic(),i=n.Ba?n.Ba.endTime:r,o=function(t,e,n){return e==ue?null==(t=t.g).h||t.h<n?0:t.h-Math.max(n,t.g):oa(t=ha(t,e),n)}(e.g.R,n.type,r),a=Math.max(e.m.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.u,s=e.m.presentationTimeline.getDuration()-i,u=fa(e.g.R,n.type);if(1e-6>s&&u)return n.endOfStream=!0,"video"==n.type&&(r=e.j.get(ue))&&gs(r)&&(r.endOfStream=!0),null;if(n.endOfStream=!1,o>=a)return e.h.updateIntervalSeconds/2;if(!(o=function(t,e,n,r){if(e.ba)return e.ba.current();if(e.Ba||r)return e.ba=e.stream.segmentIndex.gb(e.Ba?e.Ba.endTime:r),e.ba&&e.ba.next().value;t=t.h.inaccurateManifestTolerance,r=Math.max(n-t,0);var i=null;return t&&(e.ba=e.stream.segmentIndex.gb(r),i=e.ba&&e.ba.next().value),i||(e.ba=e.stream.segmentIndex.gb(n),i=e.ba&&e.ba.next().value),i}(e,n,r,u)))return e.h.updateIntervalSeconds;for(a=1/0,s=c(s=Array.from(e.j.values())),u=s.next();!u.done;u=s.next())gs(u=u.value)||u.ba&&!u.ba.current()||(a=Math.min(a,u.Ba?u.Ba.endTime:r));return i>=a+e.m.presentationTimeline.g?e.h.updateIntervalSeconds:(function(e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,v,m,y;return D((function(b){switch(b.g){case 1:return o=le,a=n.stream,s=n.ba,n.ta=!0,E(b,2),S(b,function(t,e,n){var r,i,o,a,s,u,l;return D((function(c){return r=[],i=Math.max(0,n.appendWindowStart-.1),o=n.appendWindowEnd+.01,(a=n.timestampOffset)==e.Bd&&i==e.zd&&o==e.yd||(s=function(){var n;return D((function(r){if(1==r.g)return E(r,2),e.zd=i,e.yd=o,e.Bd=a,S(r,function(t,e,n,r,i){return D((function(o){return e==le.Z?(t.g.u=n,function(t,e,n){t.l=e,t.m=n}(t.g,r,i),o.return()):S(o,Promise.all([va(t,e,(function(){var n=t.h[e].appendWindowStart,r=t.h[e].appendWindowEnd;t.h[e].abort(),t.h[e].appendWindowStart=n,t.h[e].appendWindowEnd=r,ga(t,e)})),va(t,e,(function(){var r=n;0>r&&(r+=.001),t.h[e].timestampOffset=r,ga(t,e)})),va(t,e,(function(){t.h[e].appendWindowStart=0,t.h[e].appendWindowEnd=i,t.h[e].appendWindowStart=r,ga(t,e)}))]),0)}))}(t.g.R,e.type,a,i,o),4);if(2!=r.g)return k(r,0);throw n=x(r),e.zd=null,e.yd=null,e.Bd=null,n}))},r.push(s())),!function(t,e){return t&&e?t.fc()==e.fc()&&t.bc()==e.bc()&&nt(t.sa(),e.sa()):t==e}(n.g,e.Mc)&&(e.Mc=n.g)&&(u=vs(t,e,n.g),l=function(){var n,r,i;return D((function(o){switch(o.g){case 1:return E(o,2),S(o,u,4);case 4:return n=o.h,Ar(t.i),r=e.stream.closedCaptions&&0<e.stream.closedCaptions.size,S(o,da(t.g.R,e.type,n,null,null,r),5);case 5:k(o,0);break;case 2:throw i=x(o),e.Mc=null,i}}))},t.g.If(n.startTime,n.g),r.push(l())),S(c,Promise.all(r),0)}))}(e,n,i),4);case 4:return Ar(e.i),e.s?b.return():(u="video/mp4"==a.mimeType||"audio/mp4"==a.mimeType,l=t.ReadableStream,e.h.lowLatencyMode&&l&&u?(f=new Uint8Array(0),d=h=!1,p=function(t){var o,s,u;return D((function(l){return h?l.return():(d=!0,Ar(e.i),e.s?l.return():(f=function(t,e){var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(f,t),o=!1,s=0,(new ji).box("mdat",(function(t){s=t.size+t.start,o=!0})).parse(f,!1,!0),o?(u=f.subarray(0,s),f=f.subarray(s),S(l,ps(e,n,r,a,i,u),0)):l.B(0)))}))},S(b,vs(e,n,i,p),9)):S(b,vs(e,n,i),7));case 7:return c=b.h,Ar(e.i),e.s?b.return():n.ab?(n.ta=!1,ys(e,n,0),b.return()):S(b,ps(e,n,r,a,i,c),6);case 9:if(g=b.h,d){b.B(6);break}return h=!0,Ar(e.i),e.s?b.return():n.ab?(n.ta=!1,ys(e,n,0),b.return()):S(b,ps(e,n,r,a,i,g),6);case 6:if(Ar(e.i),e.s)return b.return();n.Ba=i,s.next(),n.ta=!1,n.Qd=!1,v=e.g.R.Ya(),m=v[n.type],JSON.stringify(m),n.ab||e.g.Md(),ys(e,n,0),k(b,0);break;case 2:if(y=x(b),Ar(e.i,y),e.s)return b.return();if(n.ta=!1,7001==y.code)n.ta=!1,bs(n),ys(e,n,0),b.B(0);else if(n.type==o.Z&&e.h.ignoreTextStreamFailures)e.j.delete(o.Z),b.B(0);else{if(3017!=y.code)return n.hc=!0,y.severity=2,S(b,Ss(e,y),0);(function(t,e,n){if(!Array.from(t.j.values()).some((function(t){return t!=e&&t.Qd}))){var r=Math.round(100*t.u);if(20<r)t.u-=.2;else{if(!(4<r))return e.hc=!0,t.s=!0,void t.g.onError(n);t.u-=.04}e.Qd=!0}ys(t,e,4)})(e,n,y),b.B(0)}}}))}(e,n,r,o).catch((function(){})),null)}(e,n))&&(ys(e,n,i),n.hc=!1),k(u,7);break;case 6:return o=x(u),S(u,Ss(e,o),8);case 8:return u.return();case 7:if(a=Array.from(e.j.values()),!e.C||!a.every((function(t){return t.endOfStream}))){u.B(0);break}return S(u,e.g.R.endOfStream(),10);case 10:Ar(e.i),0!=(s=e.g.R.getDuration())&&s<e.m.presentationTimeline.getDuration()&&e.m.presentationTimeline.Ja(s),T(u)}}))}function ps(t,e,n,r,i,o){var a;return D((function(s){return 1==s.g?(a=r.closedCaptions&&0<r.closedCaptions.size,(null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length||t.h.dispatchAllEmsgBoxes)&&(new ji).P("emsg",(function(e){var n=r.emsgSchemeIdUris;if(0===e.version)var o=e.reader.kc(),a=e.reader.kc(),s=e.reader.M(),u=e.reader.M(),l=e.reader.M(),c=e.reader.M(),f=i.startTime+u/s;else s=e.reader.M(),u=(f=e.reader.Lb()/s+i.timestampOffset)-i.startTime,l=e.reader.M(),c=e.reader.M(),o=e.reader.kc(),a=e.reader.kc();e=e.reader.Za(e.reader.O.byteLength-e.reader.X()),(n&&n.includes(o)||t.h.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==o?t.g.Jf():(n=(new Map).set("detail",{startTime:f,endTime:f+l/s,schemeIdUri:o,value:a,timescale:s,presentationTimeDelta:u,eventDuration:l,id:c,messageData:e}),n=new hr(ul,n),t.g.onEvent(n)))})).parse(o),S(s,function(t,e,n){var r,i,o;return D((function(a){if(1==a.g)return r=Math.max(t.h.bufferBehind,t.m.presentationTimeline.g),null==(i=ca(t.g.R,e.type))||.01>=(o=n-i-r)?a.return():S(a,t.g.R.remove(e.type,i,i+o),2);Ar(t.i),T(a)}))}(t,e,n),2)):3!=s.g?(Ar(t.i),S(s,da(t.g.R,e.type,o,i.startTime,i.endTime,a),3)):(Ar(t.i),void T(s))}))}function gs(t){return t&&t.type==ue&&("application/cea-608"==t.stream.mimeType||"application/cea-708"==t.stream.mimeType)}function vs(t,e,n,r){var i,o,a,s,u;return D((function(l){return 1==l.g?(i=_r,o=os(n.sa(),n.pa,n.ia,t.h.retryParameters,r),a=e.stream,t.g.modifySegmentRequest(o,{type:a.type,init:n instanceof Ta,duration:n.endTime-n.startTime,mimeType:a.mimeType,codecs:a.codecs,bandwidth:a.bandwidth}),s=t.g.nb.request(i,o),e.va=s,S(l,s.promise,2)):(u=l.h,e.va=null,l.return(u.data))}))}function ms(t,e,n,r){var i,o;return D((function(a){return 1==a.g?(e.ab=!1,e.Xc=!1,e.Ac=0,e.Zb=!0,e.Ba=null,e.Mc=null,e.ba=null,r?(i=t.g.Ic(),o=t.g.R.getDuration(),S(a,t.g.R.remove(e.type,i+r,o),3)):S(a,pa(t.g.R,e.type),4)):3!=a.g?(Ar(t.i),n?S(a,t.g.R.flush(e.type),3):a.B(3)):(Ar(t.i),e.Zb=!1,e.endOfStream=!1,e.ta||e.La||ys(t,e,0),void T(a))}))}function ys(t,e,n){var r=e.type;(r!=ue||t.j.has(r))&&(e.La=new de((function(){var n;return D((function(r){return 1==r.g?(E(r,2),S(r,ds(t,e),4)):2!=r.g?k(r,0):(n=x(r),t.g&&t.g.onError(n),void T(r))}))})).S(n))}function bs(t){null!=t.La&&(t.La.stop(),t.La=null)}function ws(t){return D((function(e){return t.va?S(e,t.va.abort(),0):e.B(0)}))}function Ss(t,e){return D((function(n){if(1==n.g)return S(n,or(t.F),2);Ar(t.i),t.g.onError(e),e.handled||t.h.failureCallback(e),T(n)}))}function Ts(t,e){var n=tl(),r=this;this.j=e,this.i=t,this.l=n,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function(t){return D((function(e){if(t.s.g)e=e.B(0);else{if(0==t.m.length||t.g&&!t.g.kb)var n=!1;else{t.g&&(t.g.Ia.pb(),t.g=null);var r=(n=t.m.shift()).create(t.l);r?(n.Ia.Ib(),t.g={node:r.node,payload:r.payload,kb:r.kb,Ia:n.Ia}):n.Ia.Qc(),n=!0}n?n=Promise.resolve():t.g?n=function(t){var e,n;return D((function(r){switch(r.g){case 1:return t.i=t.j.mf(t.i,t.l,t.g.node,t.g.payload),E(r,2),t.h=t.j.Ye(t.i,t.l,t.g.payload),S(r,t.h.promise,4);case 4:t.h=null,t.i==t.g.node&&(t.g.Ia.Oc(),t.g=null),k(r,0);break;case 2:return 7001==(e=x(r)).code?t.g.Ia.pb():t.g.Ia.onError(e),t.g=null,t.h=null,n=t,S(r,t.j.handleError(t.l,e),5);case 5:n.i=r.h,T(r)}}))}(t):(t.j.Hf(t.i),t.o=new fe,n=t.o),e=S(e,n,1)}return e}))}(r)})),this.s=new Mr((function(){return function(t){var e,n;return D((function(r){if(1==r.g)return t.h&&t.h.abort(),_s(t),S(r,t.u,2);for(t.g&&t.g.Ia.pb(),e=c(t.m),n=e.next();!n.done;n=e.next())n.value.Ia.pb();t.g=null,t.m=[],t.j=null,T(r)}))}(r)}))}function Es(t,e){var n={Ib:function(){},Oc:function(){},pb:function(){},onError:function(){},Qc:function(){},Ng:function(){}};return t.m.push({create:e,Ia:n}),t.h&&t.h.abort(),_s(t),n}function _s(t){t.o&&(t.o.resolve(),t.o=null)}function ks(t){this.g=null;for(var e=c(Array.from(t.textTracks)),n=e.next();!n.done;n=e.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.g=n);this.g||(this.g=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function xs(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,t.size&&(e.size=t.size);try{e.align=t.textAlign}catch(n){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function Ms(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=c(Array.from(t.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&e(i)&&t.removeCue(i);t.mode=n}function As(){}function Rs(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Is(e,n){var r=this;this.j=!1,this.i=[],this.C=e,this.m=n,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new pe((function(){Ls(r)})).Da(.25),this.h=new Map,this.s=new Rr,this.s.A(document,"fullscreenchange",(function(){Ls(r,!0)})),this.l=null,"ResizeObserver"in t&&(this.l=new ResizeObserver((function(){Ls(r,!0)})),this.l.observe(this.g)),this.o=new Map}function Cs(t,e){for(;null!=e;){if(e==t.g)return!0;e=e.parentElement}return!1}function Ls(t,e){if(t.g){var n=t.C.currentTime;if(!t.j||void 0!==e&&e){for(var r=c(t.o.values()),i=r.next();!i.done;i=r.next())Rs(i.value);Rs(t.g),t.h.clear(),t.o.clear()}if(t.j){r=new Map;for(var o=(i=c(t.h.keys())).next();!o.done;o=i.next())o=o.value,r.set(o,t.h.get(o));!function t(e,n,r,i,o){for(var a=!1,s=[],u=[],l=(n=c(n)).next();!l.done;l=n.next()){l=l.value,o.push(l);var f=e.h.get(l),h=l.startTime<=i&&l.endTime>i,d=f?f.Ie:null;f&&(s.push(f.qd),f.lc&&s.push(f.lc),h||(a=!0,e.h.delete(l),f=null)),h&&(u.push(l),f?Cs(e,d)||(a=!0):(Ds(e,l,o),d=(f=e.h.get(l)).Ie,a=!0)),0<l.nestedCues.length&&d&&t(e,l.nestedCues,d,i,o),o.pop()}if(a){for(o=(i=c(s)).next();!o.done;o=i.next())(o=o.value).parentElement&&o.parentElement.removeChild(o);for(u.sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime-e.endTime})),l=(u=c(u)).next();!l.done;l=u.next())(i=e.h.get(l.value)).lc?(r.appendChild(i.lc),i.lc.appendChild(i.qd)):r.appendChild(i.qd)}}(t,t.i,t.g,n,[])}}}function Ds(t,e,n){var r=1<n.length,i=r?"span":"div";(e.lineBreak||e.spacer)&&(e.spacer&&Ct("shaka.extern.Cue","Please use lineBreak instead of spacer."),i="br"),r=!r&&0<e.nestedCues.length;var o=document.createElement(i);if("br"!=i&&function(t,e,n,r,i){var o=e.style,a=0==n.nestedCues.length,s=1<r.length;o.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,(function(t){return"\xa0".repeat(t.length)}));if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=Os(n.linePadding,n,t.m),o.paddingRight=Os(n.linePadding,n,t.m),o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",o.width="100%",o.height="100%";else{if(n.nestedCues.length)var l=e;else l=document.createElement("span"),e.appendChild(l);n.border&&(l.style.border=n.border),i||((e=function(t,e){for(var n=t.length-1;0<=n;n--){var r=e(t[n]);if(r||0===r)return r}return null}(r,(function(t){return t.backgroundColor})))?l.style.backgroundColor=e:u&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(l.textContent=u)}s&&!r[r.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",o.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end"),a||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=Os(n.fontSize,n,t.m),null!=n.line&&1==n.lineInterpretation&&(o.position="absolute",n.writingMode==ft?(o.width="100%",n.lineAlign==dt?o.top=n.line+"%":"end"==n.lineAlign&&(o.bottom=100-n.line+"%")):"vertical-lr"==n.writingMode?(o.height="100%",n.lineAlign==dt?o.left=n.line+"%":"end"==n.lineAlign&&(o.right=100-n.line+"%")):(o.height="100%",n.lineAlign==dt?o.right=n.line+"%":"end"==n.lineAlign&&(o.left=100-n.line+"%"))),o.lineHeight=n.lineHeight,null!=n.position&&(n.writingMode==ft?o.paddingLeft=n.position:o.paddingTop=n.position),"line-left"==n.positionAlign?o.cssFloat="left":"line-right"==n.positionAlign&&(o.cssFloat="right"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==ft?o.width=n.size+"%":o.height=n.size+"%")}(t,o,e,n,r),n=null,e.region&&e.region.id)if(i=(n=e.region).id+"_"+n.width+"x"+n.height+(n.heightUnits==St?"%":"px")+"-"+n.viewportAnchorX+"x"+n.viewportAnchorY+(n.viewportAnchorUnits==St?"%":"px"),t.o.has(i))n=t.o.get(i);else{var a=document.createElement("span"),s=n.heightUnits==St?"%":"px",u=n.widthUnits==St?"%":"px",l=n.viewportAnchorUnits==St?"%":"px";a.id="shaka-text-region---"+i,a.classList.add("shaka-text-region"),a.style.height=n.height+s,a.style.width=n.width+u,a.style.position="absolute",a.style.top=n.viewportAnchorY+l,a.style.left=n.viewportAnchorX+l,a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.justifyContent="before"==e.displayAlign?"flex-start":"center"==e.displayAlign?"center":"flex-end",t.o.set(i,a),n=a}i=o,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=e.backgroundColor,i.style.lineHeight="normal",o.appendChild(i)),t.h.set(e,{qd:o,Ie:i,lc:n})}function Os(t,e,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(t))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return t;var i=r.value;switch(r.unit){case"%":return i/100*n.clientHeight/e.cellResolution.rows+"px";case"c":return n.clientHeight*i/e.cellResolution.rows+"px";default:return t}}function Ps(t,e){this.h=t,this.g=e,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function Ns(t,e,n){try{if(t.g.enabled){var r={d:1e3*n.duration,st:t.h.U()?$s:Xs};r.ot=function(t){var e=t.type;if(t.init)return zs;if("video"==e)return t.codecs.includes(",")?Vs:qs;if("audio"==e)return Gs;if("text"==e)return"application/mp4"===t.mimeType?Ys:Ws}(n);var i=r.ot===qs||r.ot===Gs||r.ot===Vs||r.ot===Ys;i&&(r.bl=function(t,e){var n=t.h.Ya()[e];if(!n.length)return NaN;var r=t.h.getCurrentTime();return(n=n.find((function(t){return t.start<=r&&t.end>=r})))?1e3*(n.end-r):NaN}(t,n.type)),n.bandwidth&&(r.br=n.bandwidth/1e3),i&&r.ot!==Ys&&(r.tb=function(t,e){var n=t.h.jb();if(!n.length)return NaN;for(var r=n[0],i=(n=c(n)).next();!i.done;i=n.next())"variant"===(i=i.value).type&&i.bandwidth>r.bandwidth&&(r=i);switch(e){case qs:return r.videoBandwidth||NaN;case Gs:return r.audioBandwidth||NaN;default:return r.bandwidth}}(t,r.ot)/1e3),Fs(t,e,r)}}catch(o){Y("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",o)}}function js(t,e){try{if(!t.g.enabled)return e;var n=Bs(t);return n.ot=Ws,n.su=!0,Hs(e,Us(n))}catch(r){return Y("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",r),e}}function Bs(e){return e.j||(e.j=e.g.sessionId||t.crypto.randomUUID()),{v:1,sf:e.o,sid:e.j,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Fs(t,e,n){n=void 0===n?{}:n;var r=void 0===r?t.g.useHeaders:r;if(t.g.enabled){Object.assign(n,Bs(t)),n.pr=t.h.Hc();var i=n.ot===qs||n.ot===Vs;if(t.l&&i&&(n.bs=!0,n.su=!0,t.l=!1),null==n.su&&(n.su=t.m),r)t=function(t){for(var e=Object.keys(t),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=(e=c(e)).next();!a.done;a=e.next())a=a.value,i[null!=o[a]?o[a]:1][a]=t[a];for(t=0;t<i.length;t++)(o=Us(i[t]))&&(n["CMCD-"+r[t]]=o);return n}(n),Object.keys(t).length&&Object.assign(e.headers,t);else{var o=Us(n);o&&(e.uris=e.uris.map((function(t){return Hs(t,o)})))}}}function Us(t){function e(t){return 100*n(t/100)}function n(t){return Math.round(t)}for(var r,i=[],o={br:n,d:n,bl:e,dl:e,mtp:e,nor:function(t){return encodeURIComponent(t)},rtp:e,tb:n},a=Object.keys(t||{}).sort(),s=(a=c(a)).next();!s.done;s=a.next()){var u=t[s=s.value];if(r=u,!Number.isNaN(r)&&null!=r&&""!==r&&!1!==r&&("v"!==s||1!==u)&&("pr"!=s||1!==u)){var l=o[s];l&&(u=l(u));var f;f="string"===(l=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===l?s:"symbol"===l?s+"="+u.description:s+"="+u,i.push(f)}}return i.join(",")}function Hs(t,e){if(!e||t.includes("offline:"))return t;var n=new qt(t);return n.g.set("CMCD",e),n.toString()}as.prototype.destroy=function(){return this.i.destroy()},as.prototype.configure=function(t){this.h=t,this.F=new ir({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},as.prototype.start=function(){var t=this;return D((function(e){if(1==e.g)return S(e,function(t){var e,n,r,i,o,a,s,u,l,f;return D((function(h){if(1==h.g){if(e=le,!t.l)throw new Kt(2,5,5006);return n=new Map,r=new Set,t.l.audio&&(n.set(e.cb,t.l.audio),r.add(t.l.audio)),t.l.video&&(n.set(e.Na,t.l.video),r.add(t.l.video)),t.o&&(n.set(e.Z,t.o),r.add(t.o)),i=t.g.R,o=t.h.forceTransmuxTS,S(h,i.init(n,o),2)}Ar(t.i);var d=t.m.presentationTimeline.getDuration();for(1/0>d?t.g.R.Ja(d):t.g.R.Ja(Math.pow(2,32)),a=c(n.keys()),s=a.next();!s.done;s=a.next())u=s.value,l=n.get(u),t.j.has(u)||(f=hs(l),t.j.set(u,f),ys(t,f,0));T(h)}))}(t),2);Ar(t.i),t.C=!0,T(e)}))},Ts.prototype.destroy=function(){return this.s.destroy()},(r=ks.prototype).remove=function(t,e){return!!this.g&&(Ms(this.g,(function(n){return n.startTime<e&&n.endTime>t})),!0)},r.append=function(t){function e(t){var n=[],r=700<=t.fontWeight,i="italic"==t.fontStyle,o=t.textDecoration.includes("underline");return r&&n.push("b"),i&&n.push("i"),o&&n.push("u"),r=n.reduce((function(t,e){return t+"<"+e+">"}),""),n=n.reduceRight((function(t,e){return t+"</"+e+">"}),""),t.lineBreak||t.spacer?(t.spacer&&Ct("shaka.extern.Cue","Please use lineBreak instead of spacer."),"\n"):t.nestedCues.length?t.nestedCues.map(e).join(""):r+t.payload+n}var n=function t(n,r){for(var i=c(n),o=i.next();!o.done;o=i.next())if((o=o.value).isContainer)t(o.nestedCues,r);else{var a=o.clone();a.nestedCues=[],a.payload=e(o),r.push(a)}return r}(t,[]),r=[];t=this.g.cues?Array.from(this.g.cues):[];for(var i={},o=(n=c(n)).next();!o.done;i={vb:i.vb},o=n.next())i.vb=o.value,t.some(function(t){return function(e){return e.startTime==t.vb.startTime&&e.endTime==t.vb.endTime&&e.text==t.vb.payload}}(i))||(o=xs(i.vb))&&r.push(o);for(i=(t=c(t=r.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:"line"in VTTCue.prototype?r.indexOf(e)-r.indexOf(t):r.indexOf(t)-r.indexOf(e)})))).next();!i.done;i=t.next())this.g.addCue(i.value)},r.destroy=function(){return this.g&&(Ms(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.g.mode},r.setTextVisibility=function(t){this.g.mode=t?"showing":"hidden"},H("shaka.text.SimpleTextDisplayer",ks),ks.prototype.setTextVisibility=ks.prototype.setTextVisibility,ks.prototype.isTextVisible=ks.prototype.isTextVisible,ks.prototype.destroy=ks.prototype.destroy,ks.prototype.append=ks.prototype.append,ks.prototype.remove=ks.prototype.remove,H("shaka.util.Dom",As),As.removeAllChildren=Rs,(r=Is.prototype).append=function(t){for(var e=[].concat(f(this.i)),n={},r=(t=c(t)).next();!r.done;n={rc:n.rc},r=t.next())n.rc=r.value,e.some(function(t){return function(e){return it(e,t.rc)}}(n))||this.i.push(n.rc);Ls(this)},r.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},r.remove=function(t,e){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter((function(n){return n.startTime<t||n.endTime>=e})),Ls(this,n>this.i.length),!0},r.isTextVisible=function(){return this.j},r.setTextVisibility=function(t){this.j=t},H("shaka.text.UITextDisplayer",Is),Is.prototype.setTextVisibility=Is.prototype.setTextVisibility,Is.prototype.isTextVisible=Is.prototype.isTextVisible,Is.prototype.remove=Is.prototype.remove,Is.prototype.destroy=Is.prototype.destroy,Is.prototype.append=Is.prototype.append,H("shaka.text.WebVttGenerator",(function(){}));var Ks="m",Gs="a",qs="v",Vs="av",zs="i",Ws="c",Ys="tt",Xs="v",$s="l";function Zs(){}function Js(t,e,n,r,i){var o,a=i in r,s=!0;for(o in e){var u=i+"."+o,l=a?r[i]:n[o];a||o in n?void 0===e[o]?void 0===l||a?delete t[o]:t[o]=gr(l):l.constructor==Object&&e[o]&&e[o].constructor==Object?(t[o]||(t[o]=gr(l)),u=Js(t[o],e[o],l,r,u),s=s&&u):typeof e[o]!=typeof l||null==e[o]||"function"!=typeof e[o]&&e[o].constructor!=l.constructor?(z("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[o]&&n[o].length!=e[o].length&&W("Unexpected number of arguments for "+u),t[o]=e[o]):(z("Invalid config, unrecognized key "+u),s=!1)}return s}function Qs(t,e){for(var n={},r=n,i=0,o=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[o=t.substring(o,i).replace(/\\\./g,".")]={},r=r[o],o=i+1),i+=1;return r[t.substring(o).replace(/\\\./g,".")]=e,n}function tu(t,e){return t&&e}function eu(){}function nu(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var e={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:gi,logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[]},n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(t){return tu([t],t)}},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,useFullSegmentsForStartTime:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E"}},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(t){return tu([t],void 0)},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1};(navigator.userAgent.match(/Edge\//)||ye()||we())&&(r.gapDetectionThreshold=.5),(be()||ye()||we())&&(r.stallSkip=0);var i={trackSelectionCallback:function(t){return D((function(e){return e.return(t)}))},downloadSizeCallback:function(t){var e;return D((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?S(n,navigator.storage.estimate(),3):n.return(!0):(e=n.h,n.return(e.usage+t<.95*e.quota))}))},progressCallback:function(t,e){return tu([t,e],void 0)},usePersistentLicense:!0},o={drm:e,manifest:n,streaming:r,offline:i,abrFactory:function(){return new Vn},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1}};return i.trackSelectionCallback=function(t){return D((function(e){return e.return(function(t,e){var n=t.filter((function(t){return"variant"==t.type})),r=[],i=hn(e,n.map((function(t){return t.language})));i&&(r=n.filter((function(t){return un(t.language)==i}))),0==r.length&&(r=n.filter((function(t){return t.primary}))),0==r.length&&(n.map((function(t){return t.language})),r=n);var o=r.filter((function(t){return t.height&&480>=t.height}));if(o.length&&(o.sort((function(t,e){return e.height-t.height})),r=o.filter((function(t){return t.height==o[0].height}))),n=[],r.length){var a=Math.floor(r.length/2);r.sort((function(t,e){return t.bandwidth-e.bandwidth})),n.push(r[a])}for(r=c(t),a=r.next();!a.done;a=r.next())(a=a.value).type!=ue&&"image"!=a.type||n.push(a);return n}(t,o.preferredAudioLanguage))}))},o}function ru(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return Js(t,e,n||nu(),r,"")}function iu(){this.g=null,this.h=[]}function ou(t,e){if(null==t.g)t.g={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.g.duration=n-t.g.timestamp,t.g.state!=e&&(t.h.push(t.g),t.g={timestamp:n,state:e,duration:0})}}function au(t,e){var n=0;t.g&&t.g.state==e&&(n+=t.g.duration);for(var r=c(t.h),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function su(){this.i=this.h=null,this.g=[]}function uu(t,e,n){t.i!=e&&(t.i=e,t.g.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null}))}function lu(){this.u=this.C=this.G=this.D=this.s=this.j=this.F=this.m=this.i=this.I=this.L=this.N=this.l=this.o=NaN,this.g=new iu,this.h=new su}function cu(e,n){pr.call(this);var r=this;this.l=Il,this.Cc=this.g=null,this.ea=!1,this.Kc=new Rr,this.Ob=new Rr,this.o=new Rr,this.vd=this.u=this.Ub=this.i=this.Lc=this.I=this.j=this.xa=this.W=this.ya=this.L=this.Dc=this.G=this.yb=this.C=this.N=this.m=this.F=null,this.Kd=1e9,this.h=ku(this),this.Hd={width:1/0,height:1/0},this.s=null,this.Ma=new Qn(this.h.preferredAudioLanguage,this.h.preferredVariantRole,this.h.preferredAudioChannelCount),this.wb=this.h.preferredTextLanguage,this.Yb=this.h.preferredTextRole,this.Xb=this.h.preferForcedSubs,this.Vb=[],this.ac=null,n&&n(this),this.F=function(t){return new br((function(e,n){t.u&&t.u.segmentDownloaded(e,n)}),(function(e,n,r){e=(new Map).set("headers",e).set("request",n).set("requestType",r),t.dispatchEvent(fu(al,e))}),(function(e,n,r,i){e=(new Map).set("request",e).set("error",n).set("httpResponseCode",r).set("aborted",i),t.dispatchEvent(fu(ol,e))}))}(this),this.F.Wd(this.h.streaming.forceHTTPS),this.D=null,Nl&&(this.D=Bt(Nl)),this.Kc.A(t,"online",(function(){r.Rd()})),this.V={name:"detach"},this.ca={name:"attach"},this.ga={name:"unload"},this.Nd={name:"manifest-parser"},this.Dd={name:"manifest"},this.xb={name:"media-source"},this.wd={name:"drm-engine"},this.da={name:"load"},this.Od={name:"src-equals-drm-engine"},this.zb={name:"src-equals"};var i=new Map;i.set(this.ca,(function(t,e){return cr(function(t,e,n){return null==e.J&&(e.J=n.J,t.Ob.A(e.J,"error",(function(){var e=Gu(t);e&&Hu(t,e)}))),t.g=e.J,Promise.resolve()}(r,t,e))})),i.set(this.V,(function(t){return t.J&&(r.Ob.Sa(),t.J=null),r.D&&r.D.release(),r.g=null,cr(t=Promise.resolve())})),i.set(this.ga,(function(t){return cr(hu(r,t))})),i.set(this.xb,(function(t){return cr(t=function(t,e){var n,r,i,o;return D((function(a){if(1==a.g)return n=new ea,r=t.h.textDisplayFactory,i=Bt(r),t.xd=r,S(a,(o=function(t,e,n,r){return new sa(t,e,n,r)}(e.J,n,i,(function(e,n,r){for(var i=(e=c(e)).next();!i.done;i=e.next())if((i=i.value).data&&i.cueTime&&i.frames){for(var o=i.cueTime+n,a=r,s=c(i.frames),u=s.next();!u.done;u=s.next())du(t,o,a,"ID3",u.value);t.D&&t.D.onHlsTimedMetadata(i,o)}}))).D,2);t.N=o,T(a)}))}(r,t))})),i.set(this.Nd,(function(t,e){return cr(function(t,e,n){var r,i,o,a;return D((function(s){if(1==s.g)return e.mimeType=n.mimeType,e.uri=n.uri,r=e.uri,i=t.F,t.Ub=r,o=t,S(s,Ri(r,i,t.h.manifest.retryParameters,e.mimeType),2);o.Lc=s.h,t.I=Bt(t.Lc),a=gr(t.h.manifest),n.J&&"AUDIO"===n.J.nodeName&&(a.disableVideo=!0),t.I.configure(a),T(s)}))}(r,t,e))})),i.set(this.Dd,(function(t){return function(t,e){var n=e.uri,r=t.F;t.ya=new Qa((function(){return t.mc()})),t.ya.addEventListener("regionadd",(function(e){e=e.region,Ku(t,Tl,e),t.D&&t.D.onDashTimedMetadata(e)})),t.xa=null,t.h.streaming.observeQualityChanges&&(t.xa=new Ja((function(){return t.Ya()})),t.xa.addEventListener("qualitychange",(function(e){var n=e.quality;e=e.position,n=(new Map).set("mediaQuality",{bandwidth:n.bandwidth,audioSamplingRate:n.audioSamplingRate,codecs:n.codecs,contentType:n.contentType,frameRate:n.frameRate,height:n.height,mimeType:n.mimeType,channelsCount:n.channelsCount,pixelAspectRatio:n.pixelAspectRatio,width:n.width}).set("position",e),t.dispatchEvent(fu(pl,n))})));var i={networkingEngine:r,modifyManifestRequest:function(e,n){var r=t.W;try{r.g.enabled&&(r.o=n.format,Fs(r,e,{ot:Ks,su:!r.i}))}catch(i){Y("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",i)}},modifySegmentRequest:function(e,n){Ns(t.W,e,n)},filter:function(e){return xu(t,e)},makeTextStreamsForClosedCaptions:function(e){return function(t,e){for(var n=new Set,r=c(e.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=c(e.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var o=c(i.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var s=a.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Wa;s={id:t.Kd++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:i.closedCaptions.get(a),label:null,type:ue,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},e.textStreams.push(s),n.add(a)}}(t,e)},onTimelineRegionAdded:function(e){var n=t.ya;t:{for(var r=c(n.g),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.g.add(e),e=new hr("regionadd",new Map([["region",e]])),n.dispatchEvent(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return Hu(t,e)},isLowLatencyMode:function(){return t.h.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return t.h.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){t.configure("streaming.lowLatencyMode",!0)}},o=Date.now()/1e3;return new ar(function(){var e,r,a,s;return D((function(u){if(1==u.g)return e=t,S(u,t.I.start(n,i),2);if(e.i=u.h,r=fu(dl),t.dispatchEvent(r),0==t.i.variants.length)throw new Kt(2,4,4036);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.variants.some(e)&&(t.variants=t.variants.filter(e))}(t.i),a=Date.now()/1e3,s=a-o,t.s.F=s,T(u)}))}(),(function(){return t.I.stop()}))}(r,t)})),i.set(this.wd,(function(t){return cr(t=function(t,e){var n,r;return D((function(i){return 1==i.g?(n=Date.now()/1e3,r=!0,t.m=gu(t,{nb:t.F,onError:function(e){Hu(t,e)},Pc:function(e){qu(t,e)},onExpirationUpdated:function(e,n){Vu(t,e,n)},onEvent:function(e){t.dispatchEvent(e),e.type==sl&&r&&(r=!1,t.s.j=Date.now()/1e3-n)}}),t.m.configure(t.h.drm),S(i,ai(t.m,t.i.variants,t.i.offlineSessionIds),2)):3!=i.g?S(i,t.m.Wb(e.J),3):S(i,xu(t,t.i),0)}))}(r,t))})),i.set(this.da,(function(t,e){return cr(function(t,e,n){var r,i,o,a,s,u,l,f,h,d;return D((function(p){switch(p.g){case 1:if(e.startTime=n.startTime,null!=t.ac&&(e.startTime=t.ac,t.ac=null),r=e.J,i=e.uri,t.Ub=i,t.G=new Ya({Jc:function(){return r.playbackRate},Fc:function(){return r.defaultPlaybackRate},Yd:function(t){r.playbackRate=t},te:function(t){r.currentTime+=t}}),o=function(){return Iu(t)},a=function(){return Ru(t)},t.o.A(r,"playing",o),t.o.A(r,"pause",o),t.o.A(r,"ended",o),t.o.A(r,"ratechange",a),s=t.h.abrFactory,t.u&&t.vd==s||(t.vd=s,t.u=Bt(s),"function"!=typeof t.u.playbackRateChanged&&(Ct("AbrManager","Please use an AbrManager with playbackRateChanged function."),t.u.playbackRateChanged=function(){}),t.u.configure(t.h.abr)),t.Ma=new Qn(t.h.preferredAudioLanguage,t.h.preferredVariantRole,t.h.preferredAudioChannelCount),t.wb=t.h.preferredTextLanguage,t.Yb=t.h.preferredTextRole,t.Xb=t.h.preferForcedSubs,zu(t.i.presentationTimeline,t.h.playRangeStart,t.h.playRangeEnd),t.u.init((function(e,n,r){t.j&&e!=t.j.l&&Du(t,e,!0,void 0!==n&&n,void 0===r?0:r)})),t.C=function(t,e){return new Ua(t.g,t.i,t.h.streaming,e,(function(){if(t.yb&&Za(t.yb,!0),t.j){var e=t.j;if(e.g)for(var n=e.g.Ic(),r=e.h.smallGapLimit,i=c(e.j.keys()),o=i.next();!o.done;o=i.next()){o=o.value;var a=e.j.get(o);a.ba=null;var s=e.g.R;if(o==ue?s=null!=(s=s.g).g&&null!=s.h&&(n>=s.g&&n<s.h):s=ia(s=ha(s,o),n,r),!s&&((null!=fa(e.g.R,o)||a.ta)&&fs(e,a),a.va&&(a.va.abort(),a.va=null),o===ue))for((o=e.g.R.u.g).l=0,o.h=[],o.g=[],(a=o.i).i=[],a.h=[],a.g=0,zo(o),a=(o=c(o.j.values())).next();!a.done;a=o.next())Ho(a.value)}}t.L&&mu(t)}),(function(e){return t.dispatchEvent(e)}))}(t,e.startTime),t.yb=function(t){var e=new ts(t.ya);e.addEventListener("enter",(function(e){Ku(t,El,e.region)})),e.addEventListener("exit",(function(e){Ku(t,_l,e.region)})),e.addEventListener("skip",(function(e){var n=e.region;e.seeking||(Ku(t,El,n),Ku(t,_l,n))}));var n=new $a(t.g);return n.g.add(e),t.xa&&n.g.add(t.xa),n}(t),u=Math.max(t.i.minBufferTime,t.h.streaming.rebufferingGoal),vu(t,u),vn(t.i,t.h.preferredVideoCodecs,t.h.preferredAudioCodecs,t.h.preferredAudioChannelCount,t.h.preferredDecodingAttributes),t.j=function(t){return new as(t.i,{Ic:function(){return t.C.xc()},getBandwidthEstimate:function(){return t.u.getBandwidthEstimate()},modifySegmentRequest:function(e,n){Ns(t.W,e,n)},R:t.N,nb:t.F,onError:function(e){return Hu(t,e)},onEvent:function(e){return t.dispatchEvent(e)},Jf:function(){t.I&&t.I.update&&t.I.update()},Md:function(){t.C&&t.C.ue(),mu(t)},If:function(e,n){var r=n.Ed;r&&t.xa&&function(t,e,n){var r=function(t,e){var n=t.g.get(e);return n||(n={jc:[],ge:null,contentType:e},t.g.set(e,n)),n}(t,e.contentType);!function(t,e){var n=t.h()[e.contentType];if(n&&0<n.length){var r=n[0].start,i=n[n.length-1].end,o=e.jc;e.jc=o.filter((function(t,e){return!(t.position<=r&&e+1<o.length&&o[e+1].position<=r||t.position>=i)}))}else e.jc=[]}(t,r),t={Ed:e,position:n},0<=(e=(r=r.jc).findIndex((function(t){return t.position>=n})))?r.splice(e,r[e].position==n?1:0,t):r.push(t)}(t.xa,r,e)}})}(t),t.j.configure(t.h.streaming),t.l=Cl,r.textTracks&&t.o.A(r.textTracks,"addtrack",(function(e){if(e.track)switch(e=e.track,e.kind){case"chapters":pu(t,e)}})),t.dispatchEvent(fu(bl)),l=null,t.jb().find((function(t){return t.active}))){p.B(2);break}if(l=Cu(t)?t.u.chooseVariant():null,Du(t,l,!0,!1,0),!t.h.streaming.startAtSegmentBoundary){p.B(3);break}return f=t.C.xc(),S(p,function(t,e){var n,r,i,o,a;return D((function(s){return 1==s.g?(n=t.audio,r=t.video,i=function(t,e){var n,r,i;return D((function(o){return 1==o.g?t?S(o,t.createSegmentIndex(),2):o.return(null):(r=(n=t.segmentIndex.gb(e))?n.next().value:null)?(i=r.startTime,o.return(i)):o.return(null)}))},S(s,i(n,e),2)):3!=s.g?(o=s.h,S(s,i(r,e),3)):null!=(a=s.h)&&null!=o?s.return(Math.max(a,o)):null!=a?s.return(a):null!=o?s.return(o):s.return(e)}))}(l,f),4);case 4:h=p.h,t.C.od(h);case 3:Pu(t,null,An(l));case 2:return t.C.nd(),t.ib().find((function(t){return t.active}))||((d=jn(t.i.textStreams,t.wb,t.Yb,t.Xb)[0]||null)&&uu(t.s.h,d,!0),l&&(d?(l.audio&&function(t,e,n){return t=un(t.h.preferredTextLanguage),e=un(e.language),on(n=un(n.language),t)&&!on(e,n)}(t,l.audio,d)&&(t.ea=!0),t.ea&&t.N.m.setTextVisibility(!0),Fu(t)):t.ea=!1),d&&(t.h.streaming.alwaysStreamText||t.ud())&&ls(t.j,d)),S(p,t.j.start(),5);case 5:t.h.abr.enabled&&(t.u.enable(),Uu(t)),xn(t.j?t.j.l:null,t.i),Yu(t.i),Nu(t),Cu(t),t.i.variants.some((function(t){return t.primary})),t.o.ka(r,"loadedmetadata",(function(){t.s.m=Date.now()/1e3-n.$d})),T(p)}}))}(r,t,e))})),i.set(this.Od,(function(t,e){return cr(function(t,e,n){var r,i,o,a,s,u,l;return D((function(c){return 1==c.g?(r=le,i=Date.now()/1e3,o=!0,t.m=gu(t,{nb:t.F,onError:function(e){Hu(t,e)},Pc:function(e){qu(t,e)},onExpirationUpdated:function(e,n){Vu(t,e,n)},onEvent:function(e){t.dispatchEvent(e),e.type==sl&&o&&(o=!1,t.s.j=Date.now()/1e3-i)}}),t.m.configure(t.h.drm),a=n.uri||"",s=Ci(a),"application/x-mpegurl"==(u=jl[s])&&Se()&&(u="application/vnd.apple.mpegurl"),u||(u="video/mp4"),l={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:u,codecs:n.mimeType?Xe(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:r.Na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},t.m.W=!0,S(c,ai(t.m,[l],[]),2)):S(c,t.m.Wb(e.J),0)}))}(r,t,e))})),i.set(this.zb,(function(t,e){return function(t,e,n){function r(){return Iu(t)}e.uri=n.uri,e.startTime=n.startTime,t.Ub=e.uri;var i=e.J;t.C=new Fa(i);var o=!1;t.Vb.push((function(){o=!0})),null!=e.startTime&&t.C.od(e.startTime),t.G=new Ya({Jc:function(){return i.playbackRate},Fc:function(){return i.defaultPlaybackRate},Yd:function(t){i.playbackRate=t},te:function(t){i.currentTime+=t}}),vu(t,t.h.streaming.rebufferingGoal),t.o.A(i,"playing",r),t.o.A(i,"pause",r),t.o.A(i,"ended",r),t.o.A(i,"ratechange",(function(){return Ru(t)})),"none"!=i.preload&&t.o.ka(i,"loadedmetadata",(function(){t.s.m=Date.now()/1e3-n.$d})),i.audioTracks&&(t.o.A(i.audioTracks,"addtrack",(function(){return Nu(t)})),t.o.A(i.audioTracks,"removetrack",(function(){return Nu(t)})),t.o.A(i.audioTracks,"change",(function(){return Nu(t)}))),i.textTracks&&(t.o.A(i.textTracks,"addtrack",(function(e){if(e.track)switch(e=e.track,e.kind){case"metadata":!function(t,e){if("metadata"==e.kind){e.mode="hidden",t.o.A(e,"cuechange",(function(){if(e.activeCues)for(var n=c(e.activeCues),r=n.next();!r.done;r=n.next())r=r.value,du(t,r.startTime,r.endTime,r.type,r.value),t.D&&t.D.onCueMetadataChange(r.value)}));var n=new pe((function(){for(var e=function(t){return Array.from(t.g.textTracks).filter((function(t){return"metadata"==t.kind}))}(t),n=(e=c(e)).next();!n.done;n=e.next())n.value.mode="hidden"})).Nb().S(.5);t.Vb.push((function(){n.stop()}))}}(t,e);break;case"chapters":pu(t,e);break;default:Nu(t)}})),t.o.A(i.textTracks,"removetrack",(function(){return Nu(t)})),t.o.A(i.textTracks,"change",(function(){return Nu(t)})));var a=Ci(e.uri);i.src=function(t,e,n){try{if(!t.g.enabled)return e;var r=Bs(t);t:{switch(n){case"video/webm":case"video/mp4":var i=Vs;break t;case"application/x-mpegurl":i=Ks;break t}i=void 0}return r.ot=i,r.su=!0,Hs(e,Us(r))}catch(a){return Y("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),e}}(t.W,e.uri,jl[a]),(ye()||be())&&i.load(),t.l=Ll,t.dispatchEvent(fu(bl));var s=new fe;return Ia(i,HTMLMediaElement.HAVE_METADATA,t.o,(function(){t.C.nd(),s.resolve()})),Ia(i,HTMLMediaElement.HAVE_CURRENT_DATA,t.o,(function(){var e;return D((function(n){return 1==n.g?(function(t){var e=t.h.preferredAudioLanguage;if(""!=e){t.Td(e);var n=t.h.preferredVariantRole;""!=n&&t.Td(e,n)}}(t),(e=bu(t)).find((function(t){return"disabled"!=t.mode}))?(0<e.length&&(t.ea=!0),n.B(2)):S(n,new Promise((function(e){t.o.ka(i.textTracks,"change",e),new pe(e).S(1)})),2)):o?n.return():(function(t){var e=t.h.preferredTextLanguage,n=t.h.preferForcedSubs;if(""!=e){t.Ud(e,"",n);var r=t.h.preferredTextRole;""!=r&&t.Ud(e,r,n)}}(t),void T(n))}))})),i.error?s.reject(Gu(t)):"none"==i.preload&&(W('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),t.o.ka(i,"error",(function(){s.reject(Gu(t))})),new ar(s,(function(){return s.reject(new Kt(2,7,7001)),Promise.resolve()}))}(r,t,e)})),this.Ga=new Ts(this.V,{mf:function(t,e,n,i){var o=null;return t==r.V&&(o=n==r.V?r.V:r.ca),t==r.ca&&(o=n==r.V||e.J!=i.J?r.V:n==r.ca?r.ca:n==r.xb||n==r.da?r.xb:n==r.zb?r.Od:null),t==r.xb&&(o=n==r.da&&e.J==i.J?r.Nd:r.ga),t==r.Nd&&(o=Qu(r.da,r.Dd,r.ga,n,e,i)),t==r.Dd&&(o=Qu(r.da,r.wd,r.ga,n,e,i)),t==r.wd&&(o=Qu(r.da,r.da,r.ga,n,e,i)),t==r.Od&&(o=n==r.zb&&e.J==i.J?r.zb:r.ga),t!=r.da&&t!=r.zb||(o=r.ga),t==r.ga&&(o=i.J&&e.J==i.J?r.ca:r.V),o},Ye:function(t,e,n){return r.dispatchEvent(fu(vl,(new Map).set("state",t.name))),i.get(t)(e,n)},handleError:function(t){return D((function(e){return 1==e.g?S(e,hu(r,t),2):e.return(t.J?r.ca:r.V)}))},Hf:function(t){r.dispatchEvent(fu(ml,(new Map).set("state",t.name)))}}),e&&this.Wb(e,!0)}function fu(t,e){return new hr(t,e)}function hu(t,e){var n,r,i,o,a,s,u,l,f;return D((function(h){switch(h.g){case 1:return t.l!=Rl&&(t.l=Il),n=t.Vb.map((function(t){return t()})),t.Vb=[],S(h,Promise.all(n),2);case 2:if(t.dispatchEvent(fu(xl)),e.mimeType=null,e.startTime=null,e.uri=null,t.ya&&(t.ya.release(),t.ya=null),e.J&&t.o.Sa(),t.yb&&(t.yb.release(),t.yb=null),t.Dc&&(t.Dc.stop(),t.Dc=null),!t.I){h.B(3);break}return S(h,t.I.stop(),4);case 4:t.I=null,t.Lc=null;case 3:if(!t.u){h.B(5);break}return S(h,t.u.stop(),5);case 5:if(!t.j){h.B(7);break}return S(h,t.j.destroy(),8);case 8:t.j=null;case 7:if(t.G&&(t.G.release(),t.G=null),t.C&&(t.C.release(),t.C=null),!t.N){h.B(9);break}return S(h,t.N.destroy(),10);case 10:t.N=null;case 9:if(t.D&&t.D.onAssetUnload(),!e.J||!e.J.src){h.B(11);break}return S(h,new Promise((function(t){return new pe(t).S(.1)})),12);case 12:for(e.J.removeAttribute("src"),e.J.load();e.J.lastChild;)e.J.removeChild(e.J.firstChild);case 11:if(!t.m){h.B(13);break}return S(h,t.m.destroy(),14);case 14:t.m=null;case 13:if(t.Ub=null,t.L=null,t.i){for(r=c(t.i.variants),i=r.next();!i.done;i=r.next())for(o=i.value,a=c([o.audio,o.video]),s=a.next();!s.done;s=a.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(l=c(t.i.textStreams),s=l.next();!s.done;s=l.next())(f=s.value).segmentIndex&&f.segmentIndex.release()}t.i=null,t.s=new lu,t.xd=null,Au(t),T(h)}}))}function du(t,e,n,r,i){e=(new Map).set("startTime",e).set("endTime",n).set("metadataType",r).set("payload",i),t.dispatchEvent(fu(gl,e))}function pu(t,e){if(e&&"chapters"==e.kind){e.mode="hidden";var n=new pe((function(){e.mode="hidden"})).Nb().S(.5);t.Vb.push((function(){n.stop()}))}}function gu(t,e){return new oi(e,t.h.drm.updateExpirationTime)}function vu(t,e){t.L=new tr,t.L.g=nr,er(t.L,e,Math.min(.5,e/2)),Au(t),t.Dc=new pe((function(){mu(t)})).Da(.25)}function mu(t){switch(t.l){case Ll:if(t.g.ended)var e=!0;else{var n=ra(t.g.buffered);e=null!=n&&n>=t.g.duration-1}break;case Cl:t:if(t.g.ended||la(t.N))e=!0;else{if(t.i.presentationTimeline.U()){n=t.i.presentationTimeline.hb();var r=ra(t.g.buffered);if(null!=r&&r>=n){e=!0;break t}}e=!1}break;default:e=!1}r=oa(t.g.buffered,t.g.currentTime);var i=e,o=(n=t.L).h.get(n.g);e=n.g,r=i||r>=o?rr:nr,n.g=r,e!=r&&Au(t)}function yu(t){if(t.I){var e=gr(t.h.manifest);t.g&&"AUDIO"===t.g.nodeName&&(e.disableVideo=!0),t.I.configure(e)}if(t.m&&t.m.configure(t.h.drm),t.j){t.j.configure(t.h.streaming);try{Mu(t,t.i)}catch(o){Hu(t,o)}t.u&&Cu(t),!(e=t.j.l)||e.allowedByApplication&&e.allowedByKeySystem||Lu(t)}if(t.F&&t.F.Wd(t.h.streaming.forceHTTPS),t.N&&(e=t.h.textDisplayFactory,t.xd!=e)){var n=Bt(e),r=t.N,i=r.m;r.m=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.g&&(r.g.i=n),t.xd=e,t.j&&((n=(e=t.j).j.get(ue))&&cs(e,n.stream,!0,0,!0))}t.u&&(t.u.configure(t.h.abr),t.h.abr.enabled?t.u.enable():t.u.disable(),Uu(t)),t.L&&(e=t.h.streaming.rebufferingGoal,t.i&&(e=Math.max(e,t.i.minBufferTime)),er(t.L,e,Math.min(.5,e/2))),t.i&&zu(t.i.presentationTimeline,t.h.playRangeStart,t.h.playRangeEnd)}function bu(t){return Array.from(t.g.textTracks).filter((function(t){return"metadata"!=t.kind&&"chapters"!=t.kind&&"Shaka Player TextTrack"!=t.label}))}function wu(t){return Array.from(t.g.textTracks).filter((function(t){return"chapters"==t.kind}))}function Su(t,e){var n,r;return D((function(i){switch(i.g){case 1:return n=Ci(e),(r=Bl[n])?i.return(r):(E(i,2),S(i,Ii(e,t.F,t.h.streaming.retryParameters),4));case 4:r=i.h,k(i,3);break;case 2:x(i);case 3:if(r)return i.return(r);throw new Kt(1,2,2011,n)}}))}function Tu(t,e,n,r,i,o,a){var s,u,l,c;return D((function(f){return 1==f.g?"text/vtt"!=i||a.length?S(f,Eu(t,e,t.F,t.h.streaming.retryParameters),3):f.B(2):(2!=f.g&&(s=f.h,u=_u(t,s,i,a),l=new Blob([u],{type:"text/vtt"}),e=Sa(l),i="text/vtt"),(c=document.createElement("track")).src=js(t.W,e),c.label=o,c.kind=r,c.srclang=n,t.g.getAttribute("crossorigin")||t.g.setAttribute("crossorigin","anonymous"),t.g.appendChild(c),f.return(c))}))}function Eu(t,e,n,r){var i,o,a;return D((function(s){if(1==s.g){i=_r,(o=Sr([e],r)).method="GET";var u=t.W;try{u.g.enabled&&Fs(u,o,{ot:Ws,su:!0})}catch(l){Y("CMCD_TEXT_ERROR","Could not generate text CMCD data.",l)}return S(s,n.request(i,o).promise,2)}return a=s.h,s.return(a.data)}))}function _u(t,e,n,r){var i=nn[n];if(i)return n=i(),t={periodStart:0,segmentStart:0,segmentEnd:t.g.duration},e=Mt(e),function(t,e){function n(t){for(var n=t,r=c(e),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<t&&(n+=i.end-i.start);return(10>(t=Math.floor(n/3600))?"0":"")+t+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}function r(t){var e=[],n=700<=t.fontWeight,i="italic"==t.fontStyle,o=t.textDecoration.includes("underline");return n&&e.push("b"),i&&e.push("i"),o&&e.push("u"),n=e.reduce((function(t,e){return t+"<"+e+">"}),""),e=e.reduceRight((function(t,e){return t+"</"+e+">"}),""),t.lineBreak||t.spacer?(t.spacer&&Ct("shaka.text.Cue","Please use lineBreak instead of spacer."),"\n"):t.nestedCues.length?t.nestedCues.map(r).join(""):n+t.payload+e}for(var i=function t(e,n){for(var i=c(e),o=i.next();!o.done;o=i.next())if((o=o.value).isContainer)t(o.nestedCues,n);else{var a=o.clone();a.nestedCues=[],a.payload=r(o),n.push(a)}return n}(t,[]),o="WEBVTT\n\n",a=(i=c(i)).next();!a.done;a=i.next())o+=n((a=a.value).startTime)+" --\x3e "+n(a.endTime)+function(t){var e=[];switch(t.textAlign){case"left":e.push("align:left");break;case"right":e.push("align:right");break;case at:e.push("align:middle");break;case"start":e.push("align:start");break;case"end":e.push("align:end")}switch(t.writingMode){case"vertical-lr":e.push("vertical:lr");break;case"vertical-rl":e.push("vertical:rl")}return e.length?" "+e.join(" "):""}(a)+"\n",o+=a.payload+"\n\n";return o}(e=n.parseMedia(e,t),r);throw new Kt(2,2,2014,n)}function ku(t){var e=nu();return e.streaming.failureCallback=function(e){if(t.U()){var n=null;1001==e.code||1002==e.code?n=1:1003==e.code&&(n=.1),null!=n&&(e.severity=1,t.Rd(n))}},e.textDisplayFactory=function(){return t.Cc?new Is(t.g,t.Cc):new ks(t.g)},e}function xu(t,e){return D((function(n){if(1==n.g)return S(n,function(t,e){return D((function(n){if(1==n.g)return S(n,wn(t.j?t.j.l:null,e),2);Yu(e),T(n)}))}(t,e),2);Mu(t,e),T(n)}))}function Mu(t,e){if(t.l!=Rl){for(var n=t.h.restrictions,r=t.Hd,i=!1,o=c(e.variants),a=o.next();!a.done;a=o.next()){var s=(a=a.value).allowedByApplication;a.allowedByApplication=bn(a,n,r),s!=a.allowedByApplication&&(i=!0)}if(i&&t.j&&Nu(t),(n=t.m?t.m.g:null)&&t.m.s)for(i=(r=c(e.variants)).next();!i.done;i=r.next())for(o=(i=c(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]))).next();!o.done;o=i.next())if((o=o.value).keySystem==n.keySystem)for(a=(o=c(o.initData||[])).next();!a.done;a=o.next())a=a.value,ci(t.m,a.initDataType,a.initData);Wu(t,e)}}function Au(t){var e=t.sd();if(t.s&&t.L&&t.C){var n=t.G;n.j=e,Xa(n),t.W&&(n=t.W,e||n.i||(n.i=!0),n.i&&e&&(n.l=!0),n.m=e),Iu(t)}e=(new Map).set("buffering",e),t.dispatchEvent(fu(il,e))}function Ru(t){var e=t.g.playbackRate;0!=e&&(t.G&&t.G.set(e),e=fu(yl),t.dispatchEvent(e))}function Iu(t){if(t.s&&t.L){var e=t.s.g;t.L.g==nr?ou(e,"buffering"):t.g.paused?ou(e,"paused"):t.g.ended?ou(e,"ended"):ou(e,"playing")}}function Cu(t){try{Wu(t,t.i)}catch(n){return Hu(t,n),!1}var e=t.i.variants.filter((function(t){return Pn(t)}));return e=t.Ma.create(e),t.u.setVariants(Array.from(e.values())),!0}function Lu(t){var e;(e=Cu(t)?t.u.chooseVariant():null)&&Du(t,e,!0,!0,0)}function Du(t,e,n,r,i){var o=t.j.l;if(e==o)r&&us(t.j,e,r,i,!0);else{var a=t.s.h;a.h!=e&&(a.h=e,a.g.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:n,bandwidth:e.bandwidth})),us(t.j,e,r,i),r=null,o&&(r=An(o)),e=An(e),n?Pu(t,r,e):ju(t,r,e)}}function Ou(t,e){var n=Array.from(t.g.audioTracks).find((function(t){return t.enabled}));e.enabled=!0,e.id!==n.id&&(n.enabled=!1),ju(t,n=Dn(n),Dn(e))}function Pu(t,e,n){e=(new Map).set("oldTrack",e).set("newTrack",n),Xu(t,e=fu(rl,e))}function Nu(t){Xu(t,fu(kl))}function ju(t,e,n){e=(new Map).set("oldTrack",e).set("newTrack",n),Xu(t,e=fu(Ml,e))}function Bu(t){Xu(t,fu(wl))}function Fu(t){Xu(t,fu(Sl))}function Uu(t){var e=(new Map).set("newStatus",t.h.abr.enabled);Xu(t,fu(nl,e))}function Hu(t,e){if(t.l!=Rl){var n=fu(ll,(new Map).set("detail",e));t.dispatchEvent(n),n.defaultPrevented&&(e.handled=!0)}}function Ku(t,e,n){n=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),t.dispatchEvent(fu(e,n))}function Gu(t){if(!t.g.error)return null;var e=t.g.error.code;if(1==e)return null;var n=t.g.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new Kt(2,3,3016,e,n,t.g.error.message)}function qu(t,e){if(t.j){var n=Object.keys(e),r=1==n.length&&"00"==n[0],i=!1;if(n.length)for(var o=(n=c(t.i.variants)).next();!o.done;o=n.next()){var a=[];(o=o.value).audio&&a.push(o.audio),o.video&&a.push(o.video);for(var s=(a=c(a)).next();!s.done;s=a.next()){var u=s.value;if(s=o.allowedByKeySystem,u.keyIds.size){o.allowedByKeySystem=!0;for(var l=(u=c(u.keyIds)).next();!l.done;l=u.next())l=l.value,l=e[r?"00":l],o.allowedByKeySystem=o.allowedByKeySystem&&!!l&&!Ol.includes(l)}s!=o.allowedByKeySystem&&(i=!0)}}i&&!Cu(t)||((r=t.j.l)&&!r.allowedByKeySystem&&Lu(t),i&&Nu(t))}}function Vu(t,e,n){t.I&&t.I.onExpirationUpdated&&t.I.onExpirationUpdated(e,n),e=fu(cl),t.dispatchEvent(e)}function zu(t,e,n){0<e&&(t.U()||t.Ee(e)),n<(e=t.getDuration())&&(t.U()||t.Ja(n))}function Wu(t,e){var n=t.m?t.m.Gc():{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,o=!1,a=new Set,s=new Set,u=c(e.variants),l=u.next();!l.done;l=u.next()){var f=[];(l=l.value).audio&&f.push(l.audio),l.video&&f.push(l.video);for(var h=(f=c(f)).next();!h.done;h=f.next())if((h=h.value).keyIds.size)for(var d=(h=c(h.keyIds)).next();!d.done;d=h.next()){d=d.value;var p=n[r?"00":d];p?Ol.includes(p)&&s.add(p):a.add(d)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):o=!0}if(!i)throw new Kt(2,4,4012,n={hasAppRestrictions:o,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(s)})}function Yu(t){if(!t.variants.some(Pn))throw new Kt(2,4,4032)}function Xu(t,e){D((function(n){if(1==n.g)return S(n,Promise.resolve(),2);t.l!=Rl&&t.dispatchEvent(e),T(n)}))}function $u(t){for(var e=new Set,n=(t=c(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(un(n.language)):e.add("und");return e}function Zu(t){for(var e=new Map,n=new Map,r=(t=c(t)).next();!r.done;r=t.next()){var i="und",o=[];(r=r.value).language&&(i=un(r.language)),(o="variant"==r.type?r.audioRoles:r.roles)&&o.length||(o=[""]),e.has(i)||e.set(i,new Set);for(var a=(o=c(o)).next();!a.done;a=o.next())a=a.value,e.get(i).add(a),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(a,r.label))}var s=[];return e.forEach((function(t,e){for(var r=c(t),i=r.next();!i.done;i=r.next()){i=i.value;var o=null;n.has(e)&&n.get(e).has(i)&&(o=n.get(e).get(i)),s.push({language:e,role:i,label:o})}})),s}function Ju(){return new Kt(2,7,7e3)}function Qu(t,e,n,r,i,o){return r==t&&i.J==o.J&&i.uri==o.uri&&i.mimeType==o.mimeType?e:n}function tl(){return{J:null,mimeType:null,startTime:null,$d:NaN,uri:null}}function el(t){return new Promise((function(e,n){t.pb=function(){return n(Ju())},t.Oc=function(){return e()},t.onError=function(t){return n(t)},t.Qc=function(){return n(Ju())}}))}H("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",Ag:"s",wg:"o"}),H("shaka.util.ConfigUtils",Zs),Zs.convertToConfigObject=Qs,Zs.mergeConfigObjects=Js,H("shaka.util.PlayerConfiguration",eu),eu.mergeConfigObjects=ru,m(cu,pr),(r=cu.prototype).destroy=function(){var t,e=this;return D((function(n){switch(n.g){case 1:return e.l==Rl?n.return():(e.l=Rl,t=Es(e.Ga,(function(){return{node:e.V,payload:tl(),kb:!1}})),S(n,new Promise((function(e){t.Ib=function(){},t.Oc=function(){e()},t.pb=function(){e()},t.onError=function(){e()},t.Qc=function(){e()}})),2));case 2:return S(n,e.Ga.destroy(),3);case 3:if(e.Kc&&(e.Kc.release(),e.Kc=null),e.Ob&&(e.Ob.release(),e.Ob=null),e.o&&(e.o.release(),e.o=null),e.vd=null,e.u=null,e.h=null,e.s=null,e.Cc=null,e.W=null,!e.F){n.B(4);break}return S(n,e.F.destroy(),5);case 5:e.F=null;case 4:pr.prototype.release.call(e),T(n)}}))},r.Wb=function(t,e){if(e=void 0===e||e,this.l==Rl)return Promise.reject(Ju());var n=tl();n.J=t,ge()||(e=!1);var r=e?this.xb:this.ca,i=Es(this.Ga,(function(){return{node:r,payload:n,kb:!1}}));return i.Ib=function(){},el(i)},r.detach=function(){var t=this;if(this.l==Rl)return Promise.reject(Ju());var e=Es(this.Ga,(function(){return{node:t.V,payload:tl(),kb:!1}}));return e.Ib=function(){},el(e)},r.ce=function(t){var e=this;if(t=void 0===t||t,this.l==Rl)return Promise.reject(Ju());ge()||(t=!1);var n=tl(),r=Es(this.Ga,(function(r){var i=r.J&&t?e.xb:r.J?e.ca:e.V;return n.J=r.J,{node:i,payload:n,kb:!1}}));return r.Ib=function(){},el(r)},r.gg=function(t){this.ac=t},r.load=function(t,e,n){var r=this;if(this.ac=null,this.l==Rl)return Promise.reject(Ju());this.dispatchEvent(fu(hl));var i=tl();i.uri=t,i.$d=Date.now()/1e3,n&&(i.mimeType=n),void 0!==e&&(i.startTime=e);var o=function(t,e){if(!ge())return!0;var n=e.mimeType,r=e.uri||"";if(n||(n=Ci(r),n=jl[n]),n){if(""==(e.J||ke()).canPlayType(n))return!1;if(!ge()||!(n in Li)&&!(Ci(r)in Di)||("application/x-mpegurl"===n||"application/vnd.apple.mpegurl"===n)&&t.h.streaming.preferNativeHls)return!0;if(Se())return t.h.streaming.useNativeHlsOnSafari}return!1}(this,i)?this.zb:this.da,a=Es(this.Ga,(function(t){return null==t.J?null:(i.J=t.J,{node:o,payload:i,kb:!0})}));return this.s=new lu,this.W=function(t){return new Ps({getBandwidthEstimate:function(){return t.u?t.u.getBandwidthEstimate():NaN},Ya:function(){return t.Ya()},getCurrentTime:function(){return t.g?t.g.currentTime:0},jb:function(){return t.jb()},Hc:function(){return t.Hc()},U:function(){return t.U()}},t.h.cmcd)}(this),a.Ib=function(){},new Promise((function(t,e){a.Qc=function(){return e(new Kt(2,7,7002))},a.Oc=function(){t(),r.dispatchEvent(fu(fl))},a.pb=function(){return e(Ju())},a.onError=function(t){return e(t)}}))},r.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Qs(t,e)),t.manifest&&t.manifest.dash&&"defaultPresentationDelay"in t.manifest.dash&&(Ct("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),t.manifest.defaultPresentationDelay=t.manifest.dash.defaultPresentationDelay,delete t.manifest.dash.defaultPresentationDelay),t.streaming&&t.streaming.lowLatencyMode&&(void 0==t.streaming.inaccurateManifestTolerance&&(t.streaming.inaccurateManifestTolerance=0),void 0==t.streaming.rebufferingGoal&&(t.streaming.rebufferingGoal=.01));var n=ru(this.h,t,ku(this));return yu(this),n},r.getConfiguration=function(){var t=ku(this);return ru(t,this.h,ku(this)),t},r.af=function(){if(this.g){var t=this.g.buffered.length;t=t?this.g.buffered.end(t-1):0;var e=this.getConfiguration().streaming.bufferingGoal;if(t>=(e=Math.min(this.g.currentTime+e,this.mc().end)))return 1;if(!(t<=this.g.currentTime)&&t<e)return(t-this.g.currentTime)/(e-this.g.currentTime)}return 0},r.Tf=function(){for(var t in this.h)delete this.h[t];ru(this.h,ku(this),ku(this)),yu(this)},r.gf=function(){return this.l},r.lf=function(){return this.g},r.dc=function(){return this.F},r.rd=function(){return this.Ub},r.me=function(){return this.D?this.D:null},r.U=function(){return this.i?this.i.presentationTimeline.U():!(!this.g||!this.g.src)&&1/0==this.g.duration},r.mb=function(){return!!this.i&&this.i.presentationTimeline.mb()},r.Bf=function(){if(this.i){var t=this.i.variants;return!!t.length&&!t[0].video}return!(!this.g||!this.g.src)&&(this.g.videoTracks?0==this.g.videoTracks.length:0==this.g.videoHeight)},r.mc=function(){if(this.i){var t=this.i.presentationTimeline;return{start:t.Db(),end:t.Pa()}}return this.g&&this.g.src&&(t=this.g.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},r.zf=function(){this.U()&&(this.g.currentTime=this.mc().end)},r.keySystem=function(){var t=this.drmInfo();return t?t.keySystem:""},r.drmInfo=function(){return this.m?this.m.g:null},r.cc=function(){return this.m?this.m.cc():1/0},r.Gc=function(){return this.m?this.m.Gc():{}},r.sd=function(){return!!this.L&&this.L.g==nr},r.Hc=function(){return this.g?this.G?this.G.i:1:0},r.bg=function(t){0==t?W("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.G.set(t),this.l==Cl&&(this.u.playbackRateChanged(t),ss(this.j,1<Math.abs(t))))},r.Re=function(){var t=this.G.Fc();this.l==Ll&&this.G.set(t),this.l==Cl&&(this.G.set(t),this.u.playbackRateChanged(t),ss(this.j,!1))},r.jb=function(){if(this.i){for(var t=this.j?this.j.l:null,e=[],n=0,r=c(this.i.variants),i=r.next();!i.done;i=r.next())if(Pn(i=i.value)){var o=An(i);o.active=i==t,o.active||1==n||null==t||i.video!=t.video||i.audio!=t.audio||(o.active=!0),o.active&&n++,e.push(o)}return e}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map((function(t){return Dn(t)})):[]},r.ib=function(){if(this.i){for(var t=this.j?this.j.o:null,e=[],n=c(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=Rn(r=r.value);i.active=r==t,e.push(i)}return e}return this.g&&this.g.src&&this.g.textTracks?bu(this).map((function(t){return Ln(t)})):[]},r.ef=function(){return this.i?this.i.imageStreams.map((function(t){return In(t)})):[]},r.vf=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p,g,v,m,y,b,w=this;return D((function(T){return 1==T.g?w.i?(n=w.i.imageStreams.find((function(e){return e.id==t})))?n.segmentIndex?T.B(3):S(T,n.createSegmentIndex(),3):T.return(null):T.B(2):2!=T.g?null==(r=n.segmentIndex.find(e))?T.return(null):(i=n.segmentIndex.get(r),o=i.tilesLayout||n.tilesLayout,(a=/(\d+)x(\d+)/.exec(o))?(s=n.width||0,u=n.height||0,l=parseInt(a[1],10),c=parseInt(a[2],10),f=s/l,h=u/c,d=l*c,p=i.l-i.startTime,g=i.i||p/d,v=i.startTime,y=m=0,1<d&&(b=Math.floor((e-i.startTime)/g),v=i.startTime+b*g,m=b%l*f,y=Math.floor(b/l)*h),T.return({imageHeight:u,imageWidth:s,height:h,positionX:m,positionY:y,startTime:v,duration:g,uris:i.sa(),width:f})):T.return(null)):T.return(null)}))},r.Ae=function(t){if(this.i&&this.j){var e=this.i.textStreams.find((function(e){return e.id==t.id}));e&&e!=this.j.o&&(uu(this.s.h,e,!1),ls(this.j,e),Bu(this),this.wb=e.language)}else if(this.g&&this.g.src&&this.g.textTracks){for(var n=(e=c(e=bu(this))).next();!n.done;n=e.next())Cn(n=n.value)==t.id?n.mode=this.ea?"showing":"hidden":n.mode="disabled";Bu(this)}},r.Be=function(t,e,n){if(e=void 0!==e&&e,n=void 0===n?0:n,this.i&&this.j){this.h.abr.enabled&&W("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.i.variants.find((function(e){return e.id==t.id}));r&&Pn(r)&&(Du(this,r,!1,e,n),this.Ma=new Jn(r),Cu(this))}else if(this.g&&this.g.audioTracks)for(n=(e=c(e=Array.from(this.g.audioTracks))).next();!n.done;n=e.next())if(Cn(n=n.value)==t.id){Ou(this,n);break}},r.$e=function(){return Zu(this.jb())},r.uf=function(){return Zu(this.ib())},r.Ze=function(){return Array.from($u(this.jb()))},r.tf=function(){return Array.from($u(this.ib()))},r.Td=function(t,e){if(this.i&&this.C){this.Ma=new Qn(t,e||"",0,"");for(var n=function(t,e){return t.video||e.video?t.video&&e.video?Math.abs((t.video.height||0)-(e.video.height||0))+Math.abs((t.video.width||0)-(e.video.width||0)):1/0:0},r=this.j.l,i=this.Ma.create(this.i.variants),o=null,a=(i=c(i.values())).next();!a.done;a=i.next())a=a.value,(!o||n(o,r)>n(a,r))&&(o=a);o?(n=An(o),this.Be(n,!0)):Lu(this)}else if(this.g&&this.g.audioTracks){for(i=Array.from(this.g.audioTracks),n=un(t),o=r=null,a=(i=c(i)).next();!a.done;a=i.next()){var s=Dn(a=a.value);un(s.language)==n&&(r=a,e?s.roles.includes(e)&&(o=a):0==s.roles.length&&(o=a))}o?Ou(this,o):r&&Ou(this,r)}},r.Ud=function(t,e,n){if(n=void 0!==n&&n,this.i&&this.C)this.wb=t,this.Yb=e||"",this.Xb=n,(t=jn(this.i.textStreams,this.wb,this.Yb,this.Xb)[0]||null)&&t!=this.j.o&&(uu(this.s.h,t,!1),this.h.streaming.alwaysStreamText||this.ud())&&(ls(this.j,t),Bu(this));else{var r=un(t);(t=this.ib().find((function(t){return un(t.language)==r&&(!e||t.roles.includes(e))&&t.forced==n})))&&this.Ae(t)}},r.Uf=function(t){if(this.i&&this.C){for(var e=null,n=c(this.i.variants),r=n.next();!r.done;r=n.next())if((r=r.value).audio.label==t){e=r;break}null!=e&&(this.Ma=new Qn(e.language,"",0,t),Lu(this))}else if(this.g&&this.g.audioTracks){for(e=null,r=(n=c(n=Array.from(this.g.audioTracks))).next();!r.done;r=n.next())(r=r.value).label==t&&(e=r);e&&Ou(this,e)}},r.ud=function(){var t=this.ea;return this.N?this.N.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?bu(this).some((function(t){return"showing"==t.mode})):t},r.ne=function(){return this.g&&this.g.src&&this.g.textTracks?wu(this).map((function(t){return Ln(t)})):[]},r.bf=function(t){var e=un(t),n=wu(this).filter((function(t){return un(t.language)==e}));if(!n||!n.length)return[];t=[];for(var r=new Set,i=(n=c(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var o=(i=c(i.cues)).next();!o.done;o=i.next()){var a=o.value;(o=a.id)&&""!=o||(o=a.startTime+"-"+a.endTime+"-"+a.text),a={id:o,title:a.text,startTime:a.startTime,endTime:a.endTime},r.has(o)||(t.push(a),r.add(o))}return t},r.$f=function(t){if(t=!!t,this.ea!=t){if(this.ea=t,this.l==Cl)this.N.m.setTextVisibility(t),this.h.streaming.alwaysStreamText||(t?this.j.o||0<(t=jn(this.i.textStreams,this.wb,this.Yb,this.Xb)).length&&(ls(this.j,t[0]),Bu(this)):function(t){var e=t.j.get(ue);e&&(bs(e),ws(e).catch((function(){})),t.j.delete(ue)),t.o=null}(this.j));else if(this.g&&this.g.src&&this.g.textTracks)for(var e=bu(this),n=(e=c(e)).next();!n.done;n=e.next())"disabled"!=(n=n.value).mode&&(n.mode=t?"showing":"hidden");Fu(this)}},r.pf=function(){if(!this.U())return null;var t=this.Ga.l,e=0;if(this.C)e=this.C.xc();else if(t){if(null==t.startTime)return new Date;e=t.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.l+e)):this.g&&this.g.getStartDate?(t=this.g.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.oe=function(){if(!this.U())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.l);if(this.g&&this.g.getStartDate){var t=this.g.getStartDate();return isNaN(t.getTime())?null:t}return null},r.Ya=function(){if(this.l==Cl)return this.N.Ya();var t={total:[],audio:[],video:[],text:[]};return this.l==Ll&&(t.total=aa(this.g.buffered)),t},r.getStats=function(){if(this.l!=Cl&&this.l!=Ll)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Iu(this);var t=this.g,e=t.currentTime/t.duration;if(!isNaN(e)){var n=this.s;e=Math.round(100*e),n.i=isNaN(n.i)?e:Math.max(n.i,e)}if(t.getVideoPlaybackQuality){n=t.getVideoPlaybackQuality(),e=this.s;var r=Number(n.totalVideoFrames);e.N=Number(n.droppedVideoFrames),e.L=r,this.s.I=Number(n.corruptedVideoFrames)}this.m?n=(n=this.m).G?n.G:NaN:n=NaN,this.s.s=n,this.l==Cl&&((n=this.j.l)&&(this.s.C=(this.G?this.G.i:1)*n.bandwidth),n&&n.video&&(e=this.s,r=n.video.height||NaN,e.o=n.video.width||NaN,e.l=r),this.U()&&(n=this.oe().valueOf()+1e3*this.mc().end,this.s.D=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.s.G=this.i.presentationTimeline.g),n=this.u.getBandwidthEstimate(),this.s.u=n),this.l==Ll&&(n=this.s,e=t.videoHeight||NaN,n.o=t.videoWidth||NaN,n.l=e);var i=this.s;t=i.o,n=i.l,e=i.C,r=i.L;for(var o=i.N,a=i.I,s=i.u,u=i.i,l=i.m,f=i.F,h=i.j,d=au(i.g,"playing"),p=au(i.g,"paused"),g=au(i.g,"buffering"),v=i.s,m=i.D,y=i.G,b=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=c(t.h),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.g&&n.push(e(t.g)),n}(i.g),w=[],S=(i=c(i.h.g)).next();!S.done;S=i.next())S=S.value,w.push({timestamp:S.timestamp,id:S.id,type:S.type,fromAdaptation:S.fromAdaptation,bandwidth:S.bandwidth});return{width:t,height:n,streamBandwidth:e,decodedFrames:r,droppedFrames:o,corruptedFrames:a,estimatedBandwidth:s,completionPercent:u,loadLatency:l,manifestTimeSeconds:f,drmTimeSeconds:h,playTime:d,pauseTime:p,bufferingTime:g,licenseTime:v,liveLatency:m,maxSegmentDuration:y,stateHistory:b,switchHistory:w}},r.addTextTrack=function(t,e,n,r,i,o,a){if(a=void 0!==a&&a,Ct("addTextTrack","Please use an addTextTrackAsync."),this.l!=Cl&&this.l!=Ll)throw new Kt(1,7,7004);if(!r){var s=Ci(t);if(!(r=Bl[s]))throw new Kt(1,2,2011,s)}if(this.l==Ll){if("text/vtt"!=r)throw new Kt(1,2,2013,r);if(a&&(n="forced"),(r=document.createElement("track")).src=js(this.W,t),r.label=o||"",r.kind=n,r.srclang=e,this.g.getAttribute("crossorigin")||this.g.setAttribute("crossorigin","anonymous"),this.g.appendChild(r),t=this.ib().find((function(t){return t.language==e&&t.label==(o||"")&&t.kind==n})))return Nu(this),t;throw new Kt(1,2,2012)}if(1/0==(s=this.i.presentationTimeline.getDuration()))throw new Kt(1,4,4033);if(!Je(ze((t={id:this.Kd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Va(0,s,[t]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:e,label:o||null,type:ue,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}).mimeType,t.codecs)))throw new Kt(2,2,2014,r);return this.i.textStreams.push(t),Nu(this),Rn(t)},r.Ne=function(t,e,n,r,i,o,a){a=void 0!==a&&a;var s,u,l,c,f,h,d,p,g,v,m=this;return D((function(y){switch(y.g){case 1:if(m.l!=Cl&&m.l!=Ll)throw new Kt(1,7,7004);if(r){y.B(2);break}return S(y,Su(m,t),3);case 3:r=y.h;case 2:if(s=[],m.D)try{s=m.D.getServerSideCuePoints()}catch(b){}if(m.l!=Ll){y.B(4);break}return a&&(n="forced"),S(y,Tu(m,t,e,n,r,o||"",s),5);case 5:if(u=m.ib(),l=u.find((function(t){return t.language==e&&t.label==(o||"")&&t.kind==n})))return Nu(m),y.return(l);throw new Kt(1,2,2012);case 4:if(c=le,1/0==(f=m.i.presentationTimeline.getDuration()))throw new Kt(1,4,4033);if(!s.length){y.B(6);break}return S(y,Eu(m,t,m.F,m.h.streaming.retryParameters),7);case 7:h=y.h,d=_u(m,h,r,s),p=new Blob([d],{type:"text/vtt"}),t=Sa(p),r="text/vtt";case 6:if(g={id:m.Kd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Va(0,f,[t]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:e,label:o||null,type:c.Z,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},v=ze(g.mimeType,g.codecs),!Je(v))throw new Kt(2,2,2014,r);return m.i.textStreams.push(g),Nu(m),y.return(Rn(g))}}))},r.Me=function(t,e,n){var r,i,o,a,s=this;return D((function(u){switch(u.g){case 1:if(s.l!=Cl&&s.l!=Ll)throw new Kt(1,7,7004);if(n){u.B(2);break}return S(u,Su(s,t),3);case 3:n=u.h;case 2:if(r=[],s.D)try{r=s.D.getServerSideCuePoints()}catch(l){}return S(u,Tu(s,t,e,"chapters",n,"",r),4);case 4:if(i=u.h,o=s.ne(),!(a=o.find((function(t){return t.language==e})))){u.B(5);break}return S(u,new Promise((function(t,e){s.o.ka(i,"load",t),s.o.ka(i,"error",(function(){e(new Kt(1,2,2015))}))})),6);case 6:return u.return(a);case 5:throw new Kt(1,2,2012)}}))},r.Xd=function(t,e){this.Hd.width=t,this.Hd.height=e},r.Rd=function(t){if(this.l==Cl){var e=this.j;if(t=void 0===t?.1:t,e.i.g)e=!1;else if(e.s)e=!1;else{for(var n=c(e.j.values()),r=n.next();!r.done;r=n.next())!(r=r.value).hc||r.ta||r.La||(r.hc=!1,ys(e,r,t));e=!0}}else e=!1;return e},r.hf=function(){return W("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.jf=function(){return this.Lc},r.Fe=function(t){this.Cc=t},H("shaka.Player",cu),cu.prototype.setVideoContainer=cu.prototype.Fe,cu.prototype.getManifestParserFactory=cu.prototype.jf,cu.prototype.getManifest=cu.prototype.hf,cu.prototype.retryStreaming=cu.prototype.Rd,cu.prototype.setMaxHardwareResolution=cu.prototype.Xd,cu.prototype.addChaptersTrack=cu.prototype.Me,cu.prototype.addTextTrackAsync=cu.prototype.Ne,cu.prototype.addTextTrack=cu.prototype.addTextTrack,cu.prototype.getStats=cu.prototype.getStats,cu.prototype.getBufferedInfo=cu.prototype.Ya,cu.prototype.getPresentationStartTimeAsDate=cu.prototype.oe,cu.prototype.getPlayheadTimeAsDate=cu.prototype.pf,cu.prototype.setTextTrackVisibility=cu.prototype.$f,cu.prototype.getChapters=cu.prototype.bf,cu.prototype.getChaptersTracks=cu.prototype.ne,cu.prototype.isTextTrackVisible=cu.prototype.ud,cu.prototype.selectVariantsByLabel=cu.prototype.Uf,cu.prototype.selectTextLanguage=cu.prototype.Ud,cu.prototype.selectAudioLanguage=cu.prototype.Td,cu.prototype.getTextLanguages=cu.prototype.tf,cu.prototype.getAudioLanguages=cu.prototype.Ze,cu.prototype.getTextLanguagesAndRoles=cu.prototype.uf,cu.prototype.getAudioLanguagesAndRoles=cu.prototype.$e,cu.prototype.selectVariantTrack=cu.prototype.Be,cu.prototype.selectTextTrack=cu.prototype.Ae,cu.prototype.getThumbnails=cu.prototype.vf,cu.prototype.getImageTracks=cu.prototype.ef,cu.prototype.getTextTracks=cu.prototype.ib,cu.prototype.getVariantTracks=cu.prototype.jb,cu.prototype.cancelTrickPlay=cu.prototype.Re,cu.prototype.trickPlay=cu.prototype.bg,cu.prototype.getPlaybackRate=cu.prototype.Hc,cu.prototype.isBuffering=cu.prototype.sd,cu.prototype.getKeyStatuses=cu.prototype.Gc,cu.prototype.getExpiration=cu.prototype.cc,cu.prototype.drmInfo=cu.prototype.drmInfo,cu.prototype.keySystem=cu.prototype.keySystem,cu.prototype.goToLive=cu.prototype.zf,cu.prototype.seekRange=cu.prototype.mc,cu.prototype.isAudioOnly=cu.prototype.Bf,cu.prototype.isInProgress=cu.prototype.mb,cu.prototype.isLive=cu.prototype.U,cu.prototype.getAdManager=cu.prototype.me,cu.prototype.getAssetUri=cu.prototype.rd,cu.prototype.getNetworkingEngine=cu.prototype.dc,cu.prototype.getMediaElement=cu.prototype.lf,cu.prototype.getLoadMode=cu.prototype.gf,cu.prototype.resetConfiguration=cu.prototype.Tf,cu.prototype.getBufferFullness=cu.prototype.af,cu.prototype.getConfiguration=cu.prototype.getConfiguration,cu.prototype.configure=cu.prototype.configure,cu.prototype.load=cu.prototype.load,cu.prototype.updateStartTime=cu.prototype.gg,cu.prototype.unload=cu.prototype.ce,cu.prototype.detach=cu.prototype.detach,cu.prototype.attach=cu.prototype.Wb,cu.probeSupport=function(t){var e,n,r,i,o;return t=void 0===t||t,D((function(a){if(1==a.g)return e={},t?S(a,function(){var t,e,n,r,i,o;return D((function(a){return 1==a.g?(t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:e}],r=new Map,i=function(t){var e,i,o;return D((function(a){switch(a.g){case 1:return E(a,2),S(a,navigator.requestMediaKeySystemAccess(t,n),4);case 4:return e=a.h,o=!!(i=e.getConfiguration().sessionTypes)&&i.includes("persistent-license"),_e("Tizen 3")&&(o=!1),r.set(t,{persistentState:o}),S(a,e.createMediaKeys(),5);case 5:k(a,0);break;case 2:x(a),r.set(t,null),T(a)}}))},o=t.map((function(t){return i(t)})),S(a,Promise.all(o),2)):a.return(jr(r))}))}(),3):a.B(2);2!=a.g&&(e=a.h);var s={};if(ge()){for(var u in Li)s[u]=!0;for(var l in Di)s[l]=!0}u={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var f=(l=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!f.done;f=l.next())s[f=f.value]=ge()?!!Li[f]:ve(f);for(var h in u)s[h]=ge()?!!Di[h]:ve(u[h]);for(n=s,s={},u=(h=c('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!u.done;u=h.next())s[u=u.value]=ge()?!!Je(u)||(MediaSource.isTypeSupported(u)||Ge(u)):ve(u),s[l=u.split(";")[0]]=s[l]||s[u];for(o in r={manifest:n,media:s,drm:e},i=Pl)r[o]=i[o]();return a.return(r)}))},cu.isBrowserSupported=function(){if(t.Promise||W("A Promise implementation or polyfill is required"),!(t.Promise&&t.Uint8Array&&Array.prototype.forEach)||_e("Trident/"))return!1;var e=Ee();return!(e&&12>e||!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration))&&(!!ge()||ve("application/x-mpegurl"))},cu.setAdManagerFactory=function(t){Nl=t},cu.registerSupportPlugin=function(t,e){Pl[t]=e},cu.prototype.destroy=cu.prototype.destroy;var nl="abrstatuschanged",rl="adaptation",il="buffering",ol="downloadfailed",al="downloadheadersreceived",sl="drmsessionupdate",ul="emsg",ll="error",cl="expirationupdated",fl="loaded",hl="loading",dl="manifestparsed",pl="mediaqualitychanged",gl="metadata",vl="onstatechange",ml="onstateidle",yl="ratechange",bl="streaming",wl="textchanged",Sl="texttrackvisibility",Tl="timelineregionadded",El="timelineregionenter",_l="timelineregionexit",kl="trackschanged",xl="unloading",Ml="variantchanged",Al={ig:nl,jg:rl,kg:il,lg:ol,mg:al,ng:sl,pg:ul,Error:ll,qg:cl,rg:"largegap",sg:fl,tg:hl,ug:dl,vg:pl,Metadata:gl,xg:vl,yg:ml,zg:yl,Bg:"sessiondata",Cg:bl,Dg:wl,Eg:Sl,Fg:Tl,Gg:El,Hg:_l,Ig:kl,Jg:xl,Kg:Ml},Rl=0,Il=1,Cl=2,Ll=3;cu.LoadMode={DESTROYED:Rl,NOT_LOADED:Il,MEDIA_SOURCE:Cl,SRC_EQUALS:Ll},cu.version="v3.3.19";var Dl=["3","3"];Ot=new function(t){this.g=t,this.i=Lt,this.h=Dt}(new It(Number(Dl[0]),Number(Dl[1])));var Ol=["output-restricted","internal-error"],Pl={},Nl=null,jl={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},Bl={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function Fl(){this.h=[],this.j=this.i=this.g=0}function Ul(t,e){var n=this;this.h=t,this.g=e,this.i=!1,this.l=this.g.getVolume(),this.j=new Rr,this.j.A(this.g,google.ima.AdEvent.Type.PAUSED,(function(){n.i=!0})),this.j.A(this.g,google.ima.AdEvent.Type.RESUMED,(function(){n.i=!1}))}function Hl(e,n,r,i){var o=this;this.o=e,this.i=n,this.s=null,this.u=NaN,this.l=i,this.j=null,this.h=new Rr,google.ima.settings.setLocale(r),(e=new google.ima.AdDisplayContainer(this.o,this.i)).initialize(),this.m=new google.ima.AdsLoader(e),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v3.3.19"),this.g=null,this.h.ka(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(n,r){n.l(new hr("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-n.u))),n.g=r.getAdsManager(n.i),n.l(new hr("ima-ad-manager-loaded",(new Map).set("imaAdManager",n.g)));var i=n.g.getCuePoints();if(i.length){for(var o=[],a=(i=c(i)).next();!a.done;a=i.next())o.push({start:a.value,end:null});n.l(new hr("ad-cue-points-changed",(new Map).set("cuepoints",o)))}!function(t){function e(e,n){var r=(new Map).set("originalEvent",e);t.l(new hr(n,r))}t.h.A(t.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){Kl(t,e)})),t.h.A(t.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(e){Gl(t,e)})),t.h.A(t.g,google.ima.AdEvent.Type.STARTED,(function(e){Gl(t,e)})),t.h.A(t.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e(t,"ad-first-quartile")})),t.h.A(t.g,google.ima.AdEvent.Type.MIDPOINT,(function(t){e(t,"ad-midpoint")})),t.h.A(t.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e(t,"ad-third-quartile")})),t.h.A(t.g,google.ima.AdEvent.Type.COMPLETE,(function(t){e(t,"ad-complete")})),t.h.A(t.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(e){ql(t,e)})),t.h.A(t.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){ql(t,e)})),t.h.A(t.g,google.ima.AdEvent.Type.SKIPPED,(function(t){e(t,"ad-skipped")})),t.h.A(t.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e(t,"ad-volume-changed")})),t.h.A(t.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e(t,"ad-muted")})),t.h.A(t.g,google.ima.AdEvent.Type.PAUSED,(function(n){t.j.i=!0,e(n,"ad-paused")})),t.h.A(t.g,google.ima.AdEvent.Type.RESUMED,(function(n){t.j.i=!1,e(n,"ad-resumed")})),t.h.A(t.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e(t,"ad-skip-state-changed")})),t.h.A(t.g,google.ima.AdEvent.Type.CLICK,(function(t){e(t,"ad-clicked")})),t.h.A(t.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e(t,"ad-progress")})),t.h.A(t.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e(t,"ad-buffering")})),t.h.A(t.g,google.ima.AdEvent.Type.IMPRESSION,(function(t){e(t,"ad-impression")})),t.h.A(t.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e(t,"ad-duration-changed")})),t.h.A(t.g,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e(t,"ad-closed")})),t.h.A(t.g,google.ima.AdEvent.Type.LOADED,(function(t){e(t,"ad-loaded")})),t.h.A(t.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e(t,"all-ads-completed")})),t.h.A(t.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e(t,"ad-linear-changed")})),t.h.A(t.g,google.ima.AdEvent.Type.AD_METADATA,(function(t){e(t,"ad-metadata")})),t.h.A(t.g,google.ima.AdEvent.Type.LOG,(function(t){e(t,"ad-recoverable-error")})),t.h.A(t.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e(t,"ad-break-ready")})),t.h.A(t.g,google.ima.AdEvent.Type.INTERACTION,(function(t){e(t,"ad-interaction")}))}(n);try{n.g.init(n.i.offsetWidth,n.i.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),n.h.A(n.i,"loadeddata",(function(){n.g.resize(n.i.offsetWidth,n.i.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),"ResizeObserver"in t&&(n.s=new ResizeObserver((function(){n.g.resize(n.i.offsetWidth,n.i.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),n.s.observe(n.i)),n.h.ka(n.i,"play",(function(){n.g.start()}))}catch(e){ql(n,null)}}(o,e)})),this.h.A(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Kl(o,t)})),this.h.A(this.i,"ended",(function(){o.m.contentComplete()}))}function Kl(t,e){e.getError(),ql(t,null),t.l(new hr("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Gl(t,e){var n=e.getAd();t.j=new Ul(n,t.g),n=(new Map).set("ad",t.j).set("sdkAdObject",n).set("originalEvent",e),t.l(new hr("ad-started",n)),t.j.isLinear()&&(t.o.setAttribute("ad-active","true"),t.i.pause(),t.j.setVolume(t.i.volume),t.i.muted&&t.j.setMuted(!0))}function ql(t,e){t.l(new hr("ad-stopped",(new Map).set("originalEvent",e))),t.j&&t.j.isLinear()&&(t.o.removeAttribute("ad-active"),t.i.ended||t.i.play())}function Vl(t,e){this.i=t,this.h=null,this.g=e}function zl(t,e,n,r){var i=this;this.s=t,this.l=e,this.j=null,this.G=NaN,this.i=r,this.F=!1,this.u=this.m=this.o=null,this.C="",this.D=[],this.h=new Rr,(t=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,t),this.i(new hr("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(t){!function(t,e){t.i(new hr("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.G)));var n=e.getStreamData().url;t.j.resolve(n),t.j=null,t.F||t.h.A(t.l,"seeked",(function(){var e=t.l.currentTime;if(0!=e){t.g.streamTimeForContentTime(e);var n=t.g.previousCuePointForStreamTime(e);n&&!n.played&&(t.o=e,t.l.currentTime=n.start)}}))}(i,t)})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.C.length?i.j.resolve(i.C):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(t){t=t.getAd(),i.m=new Vl(t,i.l),i.u&&(i.m.h=i.u),i.i(new hr("ad-started",(new Map).set("ad",i.m))),i.s.setAttribute("ad-active","true")})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.s.removeAttribute("ad-active");var t=i.l.currentTime;i.o&&i.o>t&&(i.l.currentTime=i.o,i.o=null)})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(t){i.u=t.getStreamData().adProgressData,i.m&&(i.m.h=i.u)})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.i(new hr("ad-first-quartile"))})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.i(new hr("ad-midpoint"))})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.i(new hr("ad-third-quartile"))})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.i(new hr("ad-complete")),i.i(new hr("ad-stopped")),i.s.removeAttribute("ad-active"),i.m=null})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.i(new hr("ad-skipped")),i.i(new hr("ad-stopped"))})),this.h.A(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(t){var e=t.getStreamData();t=[];for(var n=(e=c(e.cuepoints)).next();!n.done;n=e.next())n=n.value,t.push({start:n.start,end:n.end});i.D=t,i.i(new hr("ad-cue-points-changed",(new Map).set("cuepoints",t)))}))}function Wl(){pr.call(this),this.g=this.i=null,this.h=new Fl,this.j=navigator.language}function Yl(t){return JSON.stringify(t,(function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof hr){var n={};for(i in e){var r=e[i];r&&"object"==typeof r?"detail"==i&&(n[i]=r):i in Event||(n[i]=r)}return n}if(e instanceof Error){var i=new Set(["name","message","stack"]);for(n in e)i.add(n);for(n=(r=c(Object.getOwnPropertyNames(e))).next();!n.done;n=r.next())i.add(n.value);for(r={},n=(i=c(i)).next();!n.done;n=i.next())r[n=n.value]=e[n];i={__type__:"Error",contents:r}}else if(e instanceof TimeRanges)for(i={__type__:"TimeRanges",length:e.length,start:[],end:[]},r=(n=c(aa(e))).next();!r.done;r=n.next()){var o=(r=r.value).end;i.start.push(r.start),i.end.push(o)}else i=e instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return i}}))}function Xl(t){return JSON.parse(t,(function(t,e){if("NaN"==e)var n=NaN;else if("-Infinity"==e)n=-1/0;else if("Infinity"==e)n=1/0;else if(e&&"object"==typeof e&&"TimeRanges"==e.__type__)n=function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e);else if(e&&"object"==typeof e&&"Uint8Array"==e.__type__)n=new Uint8Array(e.entries);else if(e&&"object"==typeof e&&"Error"==e.__type__){n=e.contents;var r,i=Error(n.message);for(r in n)i[r]=n[r];n=i}else n=e;return n}))}(r=Ul.prototype).getDuration=function(){return this.h.getDuration()},r.getMinSuggestedDuration=function(){return this.h.getMinSuggestedDuration()},r.getRemainingTime=function(){return this.g.getRemainingTime()},r.isPaused=function(){return this.i},r.isSkippable=function(){return 0<=this.h.getSkipTimeOffset()},r.getTimeUntilSkippable=function(){var t=this.h.getSkipTimeOffset();return t=this.getRemainingTime()-t,Math.max(t,0)},r.canSkipNow=function(){return this.g.getAdSkippableState()},r.skip=function(){return this.g.skip()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.resume()},r.getVolume=function(){return this.g.getVolume()},r.setVolume=function(t){return this.g.setVolume(t)},r.isMuted=function(){return 0==this.g.getVolume()},r.isLinear=function(){return this.h.isLinear()},r.resize=function(t,e){this.g.resize(t,e,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},r.setMuted=function(t){t?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},r.getSequenceLength=function(){var t=this.h.getAdPodInfo();return null==t?1:t.getTotalAds()},r.getPositionInSequence=function(){var t=this.h.getAdPodInfo();return null==t?1:t.getAdPosition()},r.release=function(){this.g=this.h=null},H("shaka.ads.ClientSideAd",Ul),Ul.prototype.release=Ul.prototype.release,Ul.prototype.getPositionInSequence=Ul.prototype.getPositionInSequence,Ul.prototype.getSequenceLength=Ul.prototype.getSequenceLength,Ul.prototype.setMuted=Ul.prototype.setMuted,Ul.prototype.resize=Ul.prototype.resize,Ul.prototype.isLinear=Ul.prototype.isLinear,Ul.prototype.isMuted=Ul.prototype.isMuted,Ul.prototype.setVolume=Ul.prototype.setVolume,Ul.prototype.getVolume=Ul.prototype.getVolume,Ul.prototype.play=Ul.prototype.play,Ul.prototype.pause=Ul.prototype.pause,Ul.prototype.skip=Ul.prototype.skip,Ul.prototype.canSkipNow=Ul.prototype.canSkipNow,Ul.prototype.getTimeUntilSkippable=Ul.prototype.getTimeUntilSkippable,Ul.prototype.isSkippable=Ul.prototype.isSkippable,Ul.prototype.isPaused=Ul.prototype.isPaused,Ul.prototype.getRemainingTime=Ul.prototype.getRemainingTime,Ul.prototype.getMinSuggestedDuration=Ul.prototype.getMinSuggestedDuration,Ul.prototype.getDuration=Ul.prototype.getDuration,Hl.prototype.stop=function(){this.g&&this.g.stop(),this.o&&Rs(this.o)},Hl.prototype.release=function(){this.stop(),this.s&&this.s.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy()},(r=Vl.prototype).getDuration=function(){return this.h?this.h.duration:-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return this.i.isSkippable()},r.getTimeUntilSkippable=function(){var t=this.i.getSkipTimeOffset();return t=this.getRemainingTime()-t,Math.max(t,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.g.currentTime+=this.getRemainingTime()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(t){this.g.volume=t},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return!0},r.resize=function(){},r.setMuted=function(t){this.g.muted=t},r.getSequenceLength=function(){var t=this.i.getAdPodInfo();return null==t?1:t.getTotalAds()},r.getPositionInSequence=function(){var t=this.i.getAdPodInfo();return null==t?1:t.getAdPosition()},r.release=function(){this.g=this.h=this.i=null},H("shaka.ads.ServerSideAd",Vl),Vl.prototype.release=Vl.prototype.release,Vl.prototype.getPositionInSequence=Vl.prototype.getPositionInSequence,Vl.prototype.getSequenceLength=Vl.prototype.getSequenceLength,Vl.prototype.setMuted=Vl.prototype.setMuted,Vl.prototype.resize=Vl.prototype.resize,Vl.prototype.isLinear=Vl.prototype.isLinear,Vl.prototype.isMuted=Vl.prototype.isMuted,Vl.prototype.setVolume=Vl.prototype.setVolume,Vl.prototype.getVolume=Vl.prototype.getVolume,Vl.prototype.play=Vl.prototype.play,Vl.prototype.pause=Vl.prototype.pause,Vl.prototype.skip=Vl.prototype.skip,Vl.prototype.canSkipNow=Vl.prototype.canSkipNow,Vl.prototype.getTimeUntilSkippable=Vl.prototype.getTimeUntilSkippable,Vl.prototype.isSkippable=Vl.prototype.isSkippable,Vl.prototype.isPaused=Vl.prototype.isPaused,Vl.prototype.getRemainingTime=Vl.prototype.getRemainingTime,Vl.prototype.getMinSuggestedDuration=Vl.prototype.getMinSuggestedDuration,Vl.prototype.getDuration=Vl.prototype.getDuration,zl.prototype.stop=function(){this.C="",this.o=null,this.D=[]},zl.prototype.release=function(){this.stop(),this.h&&this.h.release()},zl.prototype.onCueMetadataChange=function(t){if(t.key&&t.data){var e={};e[t.key]=t.data,this.g.onTimedMetadata(e)}},m(Wl,pr),(r=Wl.prototype).setLocale=function(t){this.j=t},r.initClientSide=function(e,n){var r=this;if(!t.google||!google.ima||!google.ima.AdsLoader)throw new Kt(2,10,1e4);this.i&&this.i.release(),this.i=new Hl(e,n,this.j,(function(t){if(t&&t.type)switch(t.type){case"ads-loaded":r.h.h.push(t.loadTime);break;case"ad-started":r.h.g++;break;case"ad-complete":r.h.i++;break;case"ad-skipped":r.h.j++}r.dispatchEvent(t)}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),pr.prototype.release.call(this)},r.onAssetUnload=function(){this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new hr("ad-stopped")),this.h=new Fl},r.requestClientSideAds=function(t){if(!this.i)throw new Kt(1,10,10001);var e=this.i;e.u=Date.now()/1e3,e.m.requestAds(t)},r.initServerSide=function(e,n){var r=this;if(!t.google||!google.ima||!google.ima.dai)throw new Kt(2,10,10002);this.g&&this.g.release(),this.g=new zl(e,n,this.j,(function(t){if(t&&t.type)switch(t.type){case"ads-loaded":r.h.h.push(t.loadTime);break;case"ad-started":r.h.g++;break;case"ad-complete":r.h.i++;break;case"ad-skipped":r.h.j++}r.dispatchEvent(t)}))},r.requestServerSideStream=function(t,e){if(e=void 0===e?"":e,!this.g)throw new Kt(1,10,10003);t.adTagParameters||(t.adTagParameters={});var n=t.adTagParameters;(n.mpt||n.mpv)&&W('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),t.adTagParameters.mpt="shaka-player",t.adTagParameters.mpv="v3.3.19";var r=e;return(n=this.g).j?n=Promise.reject(new Kt(1,10,10004)):(t instanceof google.ima.dai.api.LiveStreamRequest&&(n.F=!0),n.j=new fe,n.g.requestStream(t),n.C=r||"",n.G=Date.now()/1e3,n=n.j),n},r.replaceServerSideAdTagParameters=function(t){if(!this.g)throw new Kt(1,10,10003);(t.mpt||t.mpv)&&W('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),t.mpt="Shaka Player",t.mpv="v3.3.19",this.g.g.replaceAdTagParameters(t)},r.getServerSideCuePoints=function(){if(!this.g)throw new Kt(1,10,10003);return this.g.D},r.getStats=function(){var t=this.h;return{loadTimes:t.h,started:t.g,playedCompletely:t.i,skipped:t.j}},r.onDashTimedMetadata=function(t){if(this.g&&"urn:google:dai:2018"==t.schemeIdUri){var e=t.schemeIdUri,n=t.eventElement?t.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(e,n,t.startTime)}},r.onHlsTimedMetadata=function(t,e){this.g&&this.g.g.processMetadata("ID3",t.data,e)},r.onCueMetadataChange=function(t){this.g&&this.g.onCueMetadataChange(t)},H("shaka.ads.AdManager",Wl),Wl.prototype.onCueMetadataChange=Wl.prototype.onCueMetadataChange,Wl.prototype.onHlsTimedMetadata=Wl.prototype.onHlsTimedMetadata,Wl.prototype.onDashTimedMetadata=Wl.prototype.onDashTimedMetadata,Wl.prototype.getStats=Wl.prototype.getStats,Wl.prototype.getServerSideCuePoints=Wl.prototype.getServerSideCuePoints,Wl.prototype.replaceServerSideAdTagParameters=Wl.prototype.replaceServerSideAdTagParameters,Wl.prototype.requestServerSideStream=Wl.prototype.requestServerSideStream,Wl.prototype.initServerSide=Wl.prototype.initServerSide,Wl.prototype.requestClientSideAds=Wl.prototype.requestClientSideAds,Wl.prototype.onAssetUnload=Wl.prototype.onAssetUnload,Wl.prototype.release=Wl.prototype.release,Wl.prototype.initClientSide=Wl.prototype.initClientSide,Wl.prototype.setLocale=Wl.prototype.setLocale,Wl.ADS_LOADED="ads-loaded",Wl.AD_STARTED="ad-started",Wl.AD_FIRST_QUARTILE="ad-first-quartile",Wl.AD_MIDPOINT="ad-midpoint",Wl.AD_THIRD_QUARTILE="ad-third-quartile",Wl.AD_COMPLETE="ad-complete",Wl.AD_STOPPED="ad-stopped",Wl.AD_SKIPPED="ad-skipped",Wl.AD_VOLUME_CHANGED="ad-volume-changed",Wl.AD_MUTED="ad-muted",Wl.AD_PAUSED="ad-paused",Wl.AD_RESUMED="ad-resumed",Wl.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Wl.CUEPOINTS_CHANGED="ad-cue-points-changed",Wl.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Wl.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Wl.AD_CLICKED="ad-clicked",Wl.AD_PROGRESS="ad-progress",Wl.AD_BUFFERING="ad-buffering",Wl.AD_IMPRESSION="ad-impression",Wl.AD_DURATION_CHANGED="ad-duration-changed",Wl.AD_CLOSED="ad-closed",Wl.AD_LOADED="ad-loaded",Wl.ALL_ADS_COMPLETED="all-ads-completed",Wl.AD_LINEAR_CHANGED="ad-linear-changed",Wl.AD_METADATA="ad-metadata",Wl.AD_RECOVERABLE_ERROR="ad-recoverable-error",Wl.AD_BREAK_READY="ad-break-ready",Wl.AD_INTERACTION="ad-interaction",Nl=function(){return new Wl};var $l="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Zl="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Jl=["loop","playbackRate"],Ql=["pause","play"],tc={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},ec={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},nc={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},rc=[["getConfiguration","configure"]],ic=[["isTextTrackVisible","setTextTrackVisibility"]],oc="addChaptersTrack addTextTrack addTextTrackAsync cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),ac=["attach","detach","load","unload"];function sc(t,e,n,r,i,o){var a=this;this.G=t,this.j=new pe(e),this.V=n,this.u=!1,this.s=r,this.F=i,this.L=o,this.h=this.m=!1,this.N="",this.o=null,this.C=function(){return hc(a)},this.D=function(t,e){var n=Xl(e);switch(n.type){case"event":var r=n.targetName;n=dr(n.event),a.s(r,n);break;case"update":for(var i in r=n.update)for(var o in n=a.g[i]||{},r[i])n[o]=r[i][o];a.u&&(a.V(),a.u=!1);break;case"asyncComplete":if(i=n.id,n=n.error,o=a.i[i],delete a.i[i],o)if(n){for(r in i=new Kt(n.severity,n.category,n.code),n)i[r]=n[r];o.reject(i)}else o.resolve()}},this.g={video:{},player:{}},this.I=0,this.i={},this.l=null,bc.add(this)}function uc(t,e,n){mc=n,n.addUpdateListener(t.C),n.addMessageListener("urn:x-cast:com.google.shaka.v2",t.D),hc(t),pc(t,{type:"init",initState:e,appData:t.o}),t.l.resolve()}function lc(t,e){var n=8003;switch(e.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}t.l.reject(new Kt(2,8,n,e))}function cc(t,e){var n=t.L();t.l=new fe,t.u=!0,uc(t,n,e)}function fc(t){var e=mc;e.removeUpdateListener(t.C),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.D)}function hc(t){var e=!!mc&&"connected"==mc.status;if(t.h&&!e){for(var n in t.F(),t.g)t.g[n]={};dc(t)}t.h=e,t.N=e?mc.receiver.friendlyName:"",t.j.Nb()}function dc(t){for(var e in t.i){var n=t.i[e];delete t.i[e],n.reject(new Kt(1,7,7e3))}}function pc(t,e){var n=Yl(e),r=mc;try{r.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),X)}catch(i){throw n=new Kt(2,8,8005,i),r=new hr("error",(new Map).set("detail",n)),t.s("player",r),t.Bb(),n}}(r=sc.prototype).destroy=function(){return bc.delete(this),dc(this),mc&&fc(this),this.j&&(this.j.stop(),this.j=null),this.F=this.s=null,this.h=this.m=!1,this.D=this.C=this.l=this.i=this.g=this.o=null,Promise.resolve()},r.ua=function(){return this.h},r.Pd=function(){return this.N},r.init=function(){if(this.G.length)if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Nb();var e=new chrome.cast.SessionRequest(this.G);e=new chrome.cast.ApiConfig(e,(function(t){for(var e=c(bc),n=e.next();!n.done;n=e.next())cc(n.value,t)}),(function(t){for(var e=c(bc),n=e.next();!n.done;n=e.next())n=n.value,vc="available"==t,n.j.Nb()}),"origin_scoped"),chrome.cast.initialize(e,(function(){}),(function(){})),vc&&this.j.S(gc),(e=mc)&&e.status!=chrome.cast.SessionStatus.STOPPED?cc(this,e):mc=null}else t.__onGCastApiAvailable!==wc&&(yc=t.__onGCastApiAvailable||null,t.__onGCastApiAvailable=wc)},r.Vd=function(t){this.o=t,this.h&&pc(this,{type:"appData",appData:this.o})},r.cast=function(t){var e=this;return D((function(n){if(!e.m)throw new Kt(1,8,8e3);if(!vc)throw new Kt(1,8,8001);if(e.h)throw new Kt(1,8,8002);return e.l=new fe,chrome.cast.requestSession((function(n){return uc(e,t,n)}),(function(t){return lc(e,t)})),S(n,e.l,0)}))},r.Bb=function(){if(this.h){if(dc(this),mc){fc(this);try{mc.stop((function(){}),(function(){}))}catch(mm){}mc=null}hc(this)}},r.get=function(t,e){var n=this;if("video"==t){if(Ql.includes(e))return function(){return n.we.apply(n,[t,e].concat(f(O.apply(0,arguments))))}}else if("player"==t){if(nc[e]&&!this.get("player","isLive")())return function(){};if(oc.includes(e))return function(){return n.we.apply(n,[t,e].concat(f(O.apply(0,arguments))))};if(ac.includes(e))return function(){return n.Qf.apply(n,[t,e].concat(f(O.apply(0,arguments))))};if(tc[e]||ec[e])return function(){return n.g[t][e]}}return this.g[t][e]},r.set=function(t,e,n){this.g[t][e]=n,pc(this,{type:"set",targetName:t,property:e,value:n})},r.we=function(t,e){pc(this,{type:"call",targetName:t,methodName:e,args:O.apply(2,arguments)})},r.Qf=function(t,e){var n=O.apply(2,arguments),r=new fe,i=this.I.toString();this.I++,this.i[i]=r;try{pc(this,{type:"asyncCall",targetName:t,methodName:e,args:n,id:i})}catch(o){r.reject(o)}return r};var gc=.02,vc=!1,mc=null,yc=null,bc=new Set;function wc(e){if(yc?t.__onGCastApiAvailable=yc:delete t.__onGCastApiAvailable,yc=null,e)for(var n=c(bc),r=n.next();!r.done;r=n.next())r.value.init();"function"===typeof t.__onGCastApiAvailable&&t.__onGCastApiAvailable(e)}function Sc(t,e,n){pr.call(this);var r=this;this.i=t,this.h=e,this.m=this.o=this.j=this.s=this.l=null,this.C=n,this.u=new Map,this.g=new sc(n,(function(){return _c(r)}),(function(){return kc(r)}),(function(t,e){return Ac(r,t,e)}),(function(){return xc(r)}),(function(){return Ec(r)})),function(t){t.g.init(),t.m=new Rr;for(var e=c($l),n=e.next();!n.done;n=e.next())t.m.A(t.i,n.value,(function(e){t.g.ua()||(e=dr(e),t.j.dispatchEvent(e))}));for(var r in Al)t.m.A(t.h,Al[r],(function(e){t.g.ua()||t.o.dispatchEvent(e)}));for(var i in t.l={},e={},t.i)e.Pb=i,Object.defineProperty(t.l,e.Pb,{configurable:!1,enumerable:!0,get:function(e){return function(){return Mc(t,e.Pb)}}(e),set:function(e){return function(n){var r=e.Pb;t.g.ua()?t.g.set("video",r,n):t.i[r]=n}}(e)}),e={Pb:e.Pb};t.s={},Tc(t,(function(e){Object.defineProperty(t.s,e,{configurable:!1,enumerable:!0,get:function(){return function(t,e){if(t.u.has(e)&&(e=t.u.get(e)),"addEventListener"==e)return function(e,n,r){return t.o.addEventListener(e,n,r)};if("removeEventListener"==e)return function(e,n,r){return t.o.removeEventListener(e,n,r)};if("getMediaElement"==e)return function(){return t.l};if("getSharedConfiguration"==e)return t.g.get("player","getConfiguration");if("getNetworkingEngine"==e)return function(){return t.h.dc()};if("getDrmEngine"==e)return function(){return t.h.m};if("getAdManager"==e)return function(){return t.h.me()};if("setVideoContainer"==e)return function(e){return t.h.Fe(e)};if(t.g.ua()){if("getManifest"==e||"drmInfo"==e)return function(){return W(e+"() does not work while casting!"),null};if("attach"==e||"detach"==e)return function(){return W(e+"() does not work while casting!"),Promise.resolve()}}return t.g.ua()&&0==Object.keys(t.g.g.video).length&&(tc[e]||ec[e])||!t.g.ua()?t.h[e].bind(t.h):t.g.get("player",e)}(t,e)}})})),function(t){var e=new Map;Tc(t,(function(n,r){if(e.has(r)){var i=e.get(r);n.length<i.length?t.u.set(n,i):t.u.set(i,n)}else e.set(r,n)}))}(t),t.j=new pr,t.j.Ec=t.l,t.o=new pr,t.o.Ec=t.s}(this)}function Tc(t,e){function n(t){return"constructor"!=t&&"function"==typeof r[t]&&!i.has(t)}var r=t.h,i=new Set;for(o in r)n(o)&&(i.add(o),e(o,r[o]));for(var o=Object.getPrototypeOf(r),a=Object.getPrototypeOf({});o&&o!=a;){for(var s=c(Object.getOwnPropertyNames(o)),u=s.next();!u.done;u=s.next())n(u=u.value)&&(i.add(u),e(u,r[u]));o=Object.getPrototypeOf(o)}}function Ec(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.h.rd(),startTime:null};t.i.pause();for(var n=c(Jl),r=n.next();!r.done;r=n.next())r=r.value,e.video[r]=t.i[r];for(t.i.ended||(e.startTime=t.i.currentTime),r=(n=c(rc)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=t.h[i[0]](),e.player[r]=i}for(r=(n=c(ic)).next();!r.done;r=n.next())r=(i=r.value)[1],i=t.h[i[0]](),e.playerAfterLoad[r]=i;return e}function _c(t){var e=new hr("caststatuschanged");t.dispatchEvent(e)}function kc(t){var e=new hr(t.l.paused?"pause":"play");t.j.dispatchEvent(e)}function xc(t){for(var e=c(rc),n=e.next();!n.done;n=e.next()){var r=n.value;n=r[1],r=t.g.get("player",r[0])(),t.h[n](r)}var i=t.g.get("player","getAssetUri")();n=t.g.get("video","ended"),e=Promise.resolve();var o=t.i.autoplay;r=null,n||(r=t.g.get("video","currentTime")),i&&(t.i.autoplay=!1,e=t.h.load(i,r));var a={};for(r=(n=c(Jl)).next();!r.done;r=n.next())r=r.value,a[r]=t.g.get("video",r);e.then((function(){if(t.i){for(var e=c(Jl),n=e.next();!n.done;n=e.next())n=n.value,t.i[n]=a[n];for(n=(e=c(ic)).next();!n.done;n=e.next()){var r=n.value;n=r[1],r=t.g.get("player",r[0])(),t.h[n](r)}t.i.autoplay=o,i&&t.i.play()}}),(function(e){e=(new Map).set("detail",e),e=new hr(ll,e),t.h.dispatchEvent(e)}))}function Mc(t,e){if("addEventListener"==e)return function(e,n,r){return t.j.addEventListener(e,n,r)};if("removeEventListener"==e)return function(e,n,r){return t.j.removeEventListener(e,n,r)};if(t.g.ua()&&0==Object.keys(t.g.g.video).length){var n=t.i[e];if("function"!=typeof n)return n}return t.g.ua()?t.g.get("video",e):("function"==typeof(n=t.i[e])&&(n=n.bind(t.i)),n)}function Ac(t,e,n){t.g.ua()&&("video"==e?t.j.dispatchEvent(n):"player"==e&&t.o.dispatchEvent(n))}function Rc(t,e,n,r){pr.call(this);var i=this;this.g=t,this.h=e,this.j=new Rr,this.I={video:t,player:e},this.D=n||function(){},this.L=r||function(t){return t},this.i=null,this.F=!1,this.o=!0,this.m=0,this.C=!1,this.u=!0,this.s=this.l=null,this.G=new pe((function(){Dc(i)})),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=function(){return Ic(t)},e.onSenderDisconnected=function(){return Ic(t)},e.onSystemVolumeChanged=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&jc(t,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},t.l),jc(t,{type:"event",targetName:"video",event:{type:"volumechange"}},t.l)},t.s=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.s.onMessage=function(e){return function(t,e){var n=Xl(e.data);switch(n.type){case"PLAY":t.g.play(),Bc(t);break;case"PAUSE":t.g.pause(),Bc(t);break;case"SEEK":var r=n.currentTime,i=n.resumeState;null!=r&&(t.g.currentTime=Number(r)),i&&"PLAYBACK_START"==i?(t.g.play(),Bc(t)):i&&"PLAYBACK_PAUSE"==i&&(t.g.pause(),Bc(t));break;case"STOP":t.h.ce().then((function(){t.h&&Bc(t)}));break;case"GET_STATUS":Pc(t,Number(n.requestId));break;case"VOLUME":i=n.volume,r=i.level,i=i.muted;var o=t.g.volume,a=t.g.muted;null!=r&&(t.g.volume=Number(r)),null!=i&&(t.g.muted=i),o==t.g.volume&&a==t.g.muted||Bc(t);break;case"LOAD":t.m=0,t.C=!1,t.u=!1,r=n.media,i=n.currentTime,o=t.L(r.contentId),a=n.autoplay||!0,t.D(r.customData),a&&(t.g.autoplay=!0),t.h.load(o,i).then((function(){t.h&&Pc(t)})).catch((function(e){var r="LOAD_FAILED";7==e.category&&7e3==e.code&&(r="LOAD_CANCELLED"),jc(t,{requestId:Number(n.requestId),type:r},t.s)}));break;default:jc(t,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},t.s)}}(t,e)},t.l=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.l.onMessage=function(e){return function(t,e){var n=Xl(e.data);switch(n.type){case"init":t.m=0,t.C=!1,t.u=!0,function(t,e,n){var r,i,o,a,s,u,l,c,f,h,d;D((function(p){switch(p.g){case 1:for(r in e.player)i=e.player[r],t.h[r](i);return t.D(n),o=t.g.autoplay,e.manifest?(t.g.autoplay=!1,E(p,5),S(p,t.h.load(e.manifest,e.startTime),7)):S(p,Promise.resolve(),3);case 7:k(p,3);break;case 5:return a=x(p),s=ll,u=(new Map).set("detail",a),l=new hr(s,u),t.h&&t.h.dispatchEvent(l),p.return();case 3:if(!t.h)return p.return();for(c in e.video)f=e.video[c],t.g[c]=f;for(h in e.playerAfterLoad)d=e.playerAfterLoad[h],t.h[h](d);t.g.autoplay=o,e.manifest&&(t.g.play(),Bc(t)),T(p)}}))}(t,n.initState,n.appData),Dc(t);break;case"appData":t.D(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){var o=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){o.setSystemVolumeLevel(n);break}if("muted"==i){o.setSystemVolumeMuted(n);break}}t.I[r][i]=n;break;case"call":(r=t.I[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(t.m=0,t.C=!1);var a=n.id,s=e.senderId;o=t.I[r],n=o[i].apply(o,n.args),"player"==r&&"load"==i&&(n=n.then((function(){t.u=!0}))),n.then((function(){return Nc(t,s,a,null)}),(function(e){return Nc(t,s,a,e)}))}}(t,e)},e.start();for(var n=(e=c($l)).next();!n.done;n=e.next())t.j.A(t.g,n.value,(function(e){return Lc(t,"video",e)}));for(var r in Al)t.j.A(t.h,Al[r],(function(e){return Lc(t,"player",e)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.h.Xd(3840,2160):t.h.Xd(1920,1080),t.j.A(t.g,"loadeddata",(function(){t.C=!0})),t.j.A(t.h,"loading",(function(){t.o=!1,Cc(t)})),t.j.A(t.g,"playing",(function(){t.o=!1,Cc(t)})),t.j.A(t.g,"pause",(function(){Cc(t)})),t.j.A(t.h,"unloading",(function(){t.o=!0,Cc(t)})),t.j.A(t.g,"ended",(function(){new pe((function(){t.g&&t.g.ended&&(t.o=!0,Cc(t))})).S(Uc)}))}(this)}function Ic(t){t.m=0,t.u=!0,t.F=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Cc(t)}function Cc(t){var e;D((function(n){return 1==n.g?S(n,Promise.resolve(),2):t.h?(e=new hr("caststatuschanged"),t.dispatchEvent(e),Oc(t)||Bc(t),void T(n)):n.return()}))}function Lc(t,e,n){t.h&&(Dc(t),jc(t,{type:"event",targetName:e,event:n},t.l))}function Dc(t){t.G.S(Fc);for(var e={video:{},player:{}},n=c(Zl),r=n.next();!r.done;r=n.next())r=r.value,e.video[r]=t.g[r];if(t.h.U())for(var i in nc)0==t.m%nc[i]&&(e.player[i]=t.h[i]());for(var o in tc)0==t.m%tc[o]&&(e.player[o]=t.h[o]());for(var a in(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),jc(t,{type:"update",update:e},t.l),ec)0==t.m%ec[a]&&((e={player:{}}).player[a]=t.h[a](),jc(t,{type:"update",update:e},t.l));t.C&&(t.m+=1),Oc(t)}function Oc(t){return!(!t.u||!t.g.duration&&!t.h.U())&&(Pc(t),t.u=!1,!0)}function Pc(t,e){var n={contentId:t.h.rd(),streamType:t.h.U()?"LIVE":"BUFFERED",contentType:""};t.h.U()||(n.duration=t.g.duration),t.i&&(n.metadata=t.i),Bc(t,void 0===e?0:e,n)}function Nc(t,e,n,r){t.h&&jc(t,{type:"asyncComplete",id:n,error:r},t.l,e)}function jc(t,e,n,r){t.F&&(t=Yl(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Bc(t,e,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:t.g.playbackRate,playerState:t.o?Hc:t.h.sd()?Gc:t.g.paused?qc:Kc,currentTime:t.g.currentTime,supportedMediaCommands:63,volume:{level:t.g.volume,muted:t.g.muted}};n&&(r.media=n),jc(t,{requestId:void 0===e?0:e,type:"MEDIA_STATUS",status:[r]},t.s)}m(Sc,pr),(r=Sc.prototype).destroy=function(t){return t&&this.g.Bb(),this.m&&(this.m.release(),this.m=null),t=[],this.h&&(t.push(this.h.destroy()),this.h=null),this.g&&(t.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,pr.prototype.release.call(this),Promise.all(t)},r.yf=function(){return this.l},r.nf=function(){return this.s},r.Pe=function(){return this.g.m&&vc},r.ua=function(){return this.g.ua()},r.Pd=function(){return this.g.Pd()},r.cast=function(){var t,e=this;return D((function(n){return 1==n.g?(t=Ec(e),S(n,e.g.cast(t),2)):e.h?S(n,e.h.ce(),0):n.return()}))},r.Vd=function(t){this.g.Vd(t)},r.ag=function(){!function(t){if(t.h){var e=t.L();chrome.cast.requestSession((function(n){return uc(t,e,n)}),(function(e){return lc(t,e)}))}}(this.g)},r.Bb=function(){this.g.Bb()},r.Se=function(t){var e=this;return D((function(n){if(1==n.g)return t==e.C?n.return():(e.C=t,e.g.Bb(),S(n,e.g.destroy(),2));e.g=null,e.g=new sc(t,(function(){return _c(e)}),(function(){return kc(e)}),(function(t,n){return Ac(e,t,n)}),(function(){return xc(e)}),(function(){return Ec(e)})),e.g.init(),T(n)}))},H("shaka.cast.CastProxy",Sc),Sc.prototype.changeReceiverId=Sc.prototype.Se,Sc.prototype.forceDisconnect=Sc.prototype.Bb,Sc.prototype.suggestDisconnect=Sc.prototype.ag,Sc.prototype.setAppData=Sc.prototype.Vd,Sc.prototype.cast=Sc.prototype.cast,Sc.prototype.receiverName=Sc.prototype.Pd,Sc.prototype.isCasting=Sc.prototype.ua,Sc.prototype.canCast=Sc.prototype.Pe,Sc.prototype.getPlayer=Sc.prototype.nf,Sc.prototype.getVideo=Sc.prototype.yf,Sc.prototype.destroy=Sc.prototype.destroy,m(Rc,pr),(r=Rc.prototype).isConnected=function(){return this.F},r.Cf=function(){return this.o},r.Xf=function(t){this.i=t},r.Ve=function(){this.i=null},r.Yf=function(t){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=t},r.Wf=function(t){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:t}]},r.Vf=function(t){this.i||(this.i={}),this.i.artist=t,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var t,e=this;return D((function(n){if(1==n.g)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.G&&(e.G.stop(),e.G=null),e.g=null,e.I=null,e.D=null,e.F=!1,e.o=!0,e.l=null,e.s=null,pr.prototype.release.call(e),S(n,Promise.all(t),2);cast.receiver.CastReceiverManager.getInstance().stop(),T(n)}))},H("shaka.cast.CastReceiver",Rc),Rc.prototype.destroy=Rc.prototype.destroy,Rc.prototype.setContentArtist=Rc.prototype.Vf,Rc.prototype.setContentImage=Rc.prototype.Wf,Rc.prototype.setContentTitle=Rc.prototype.Yf,Rc.prototype.clearContentMetadata=Rc.prototype.Ve,Rc.prototype.setContentMetadata=Rc.prototype.Xf,Rc.prototype.isIdle=Rc.prototype.Cf,Rc.prototype.isConnected=Rc.prototype.isConnected;var Fc=.5,Uc=5,Hc="IDLE",Kc="PLAYING",Gc="BUFFERING",qc="PAUSED";function Vc(t){var e=this;this.g=[],this.h=[],this.data=[],(new ji).box("moov",Bi).P("pssh",(function(t){if(!(1<t.version)){var n=Mt(t.reader.O,-12,t.size);if(e.data.push(n),e.g.push(Ue(t.reader.Za(16))),0<t.version){n=t.reader.M();for(var r=0;r<n;r++){var i=Ue(t.reader.Za(16));e.h.push(i)}}}})).parse(t)}function zc(t,e){var n=t.length,r=e.length+16+n,i=new Uint8Array(r),o=At(i),a=0;return o.setUint32(a,r),a+=4,o.setUint32(a,1886614376),a+=4,o.setUint32(a,0),a+=4,i.set(e,a),a+=e.length,o.setUint32(a,n),i.set(t,a+4),i}function Wc(t,e,n){var r=function(t){for(var e=[],n=(t=c(t)).next();!n.done;n=t.next())(n=Xc(n.value))&&e.push(n);return e}(t),i=null;t=[];var o=[],a=new Set(r.map((function(t){return t.keyId})));if(a.delete(null),1<a.size)throw new Kt(2,4,4010);if(e||(o=r.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.ze||(i=t.init||i,!1)}))).length&&(0==(t=function(t,e,n){for(var r=[],i=(e=c(e)).next();!i.done;i=e.next()){i=i.value;var o=n[i.ze];if(o){var a;if(a=Ur(i.node,"urn:microsoft:playready","pro")){a=Be(a.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);a=[{initData:zc(a,s),initDataType:"cenc",keyId:i.keyId}]}else a=null;a=oe(o,i.init||t||a),(o=Zc.get(o))&&(a.licenseServerUri=o(i)),r.push(a)}}return r}(i,o,n)).length&&(t=[oe("",i)])),r.length&&(e||!o.length))for(t=[],n=(e=c(Object.values(n))).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(oe(n,i));if(a=Array.from(a)[0]||null)for(n=(e=c(t)).next();!n.done;n=e.next())for(r=(n=c(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=a;return{he:a,Lg:i,drmInfos:t,le:!0}}function Yc(t){return(t=Ur(t.node,"urn:microsoft:playready","pro"))&&(t=function(t){var e=0,n=At(t),r=n.getUint32(e,!0);if(r!=t.byteLength)return[];t:{for(t=e+6,e=[];t<n.byteLength-1;){r=n.getUint16(t,!0),t+=2;var i=n.getUint16(t,!0);if(t+=2,0!=(1&i)||i+t>n.byteLength){n=[];break t}var o=Mt(n,t,i);e.push({type:r,value:o}),t+=i}n=e}return n}(t=Be(t.textContent)).filter((function(t){return t.type===$c}))[0])&&(t=ni(t=Ie(t.value,!0),"WRMHEADER"))?function(t){for(var e=(t=c(t.getElementsByTagName("DATA"))).next();!e.done;e=t.next())for(var n=(e=c(e.value.childNodes)).next();!n.done;n=e.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(t):""}function Xc(t){var e=t.getAttribute("schemeIdUri"),n=Gr(t,"urn:mpeg:cenc:2013","default_KID"),r=Kr(t,"urn:mpeg:cenc:2013","pssh").map(Vr);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Kt(2,4,4009);var i=[];try{i=r.map((function(t){return{initDataType:"cenc",initData:Be(t),keyId:null}}))}catch(o){throw new Kt(2,4,4007)}return{node:t,ze:e,keyId:n,init:0<i.length?i:null}}var $c=1,Zc=(new Map).set("com.widevine.alpha",(function(t){return(t=Ur(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",Yc).set("com.microsoft.playready.recommendation",Yc).set("com.microsoft.playready.software",Yc).set("com.microsoft.playready.hardware",Yc);function Jc(e,n,r,i,o){var a={RepresentationID:n,Number:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(e,n,r,i){if("$$"==e)return"$";var o=a[n];if(null==o)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(o=Math.round(o)),i){case void 0:case"d":case"i":case"u":e=o.toString();break;case"o":e=o.toString(8);break;case"x":e=o.toString(16);break;case"X":e=o.toString(16).toUpperCase();break;default:e=o.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e}))}function Qc(t,e){var n=tf(t,e,"timescale"),r=1;n&&(r=Jr(n)||1);var i=tf(t,e,"duration");n=Jr(i||""),"image"==t.H.contentType&&(n=ti(i||"")),n&&(n/=r);var o=tf(t,e,"startNumber");i=Number(tf(t,e,"presentationTimeOffset"))||0;var a=Qr(o||"");null!=o&&null!=a||(a=1);var s=ef(t,e,"SegmentTimeline");if(o=null,s){o=r;var u=t.T.duration||1/0;s=Hr(s,"S");for(var l=[],c=-i,f=0;f<s.length;++f){var h=s[f],d=s[f+1],p=Wr(h,"t",Qr),g=Wr(h,"d",Qr);if(h=Wr(h,"r",Zr),null!=p&&(p-=i),!g)break;if(p=null!=p?p:c,0>(h=h||0))if(d){if(null==(d=Wr(d,"t",Qr)))break;if(p>=d)break;h=Math.ceil((d-p)/g)-1}else{if(1/0==u)break;if(p/o>=u)break;h=Math.ceil((u*o-p)/g)-1}for(0<l.length&&p!=c&&(l[l.length-1].end=p/o),d=0;d<=h;++d)c=p+g,l.push({start:p/o,end:c/o,eg:p}),p=c}o=l}return{timescale:r,la:n,Mb:a,Ta:i/r||0,de:i,timeline:o}}function tf(t,e,n){return[e(t.H),e(t.ha),e(t.aa)].filter(jt).map((function(t){return t.getAttribute(n)})).reduce((function(t,e){return t||e}))}function ef(t,e,n){return[e(t.H),e(t.ha),e(t.aa)].filter(jt).map((function(t){return Fr(t,n)})).reduce((function(t,e){return t||e}))}function nf(t,e,n,r,i,o){if(o=void 0===o?0:o,Gr(t,"http://www.w3.org/1999/xlink","href")){var a=function(t,e,n,r,i,o){for(var a=Gr(t,"http://www.w3.org/1999/xlink","href"),s=Gr(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=c(Array.from(t.attributes)),l=u.next();!l.done;l=u.next())"http://www.w3.org/1999/xlink"==(l=l.value).namespaceURI&&t.removeAttributeNS(l.namespaceURI,l.localName);if(5<=o)return sr(new Kt(2,4,4028));if("onLoad"!=s)return sr(new Kt(2,4,4027));var f=ie([r],[a]);return i.request(0,Sr(f,e)).$((function(r){if(!(r=ri(r.data,t.tagName)))return sr(new Kt(2,4,4001,a));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=(r=c(Array.from(r.attributes))).next();!s.done;s=r.next())t.setAttributeNode(s.value.cloneNode(!1));return nf(t,e,n,f[0],i,o+1)}))}(t,e,n,r,i,o);return n&&(a=a.$(void 0,(function(){return nf(t,e,n,r,i,o)}))),a}a=[];for(var s=c(Array.from(t.childNodes)),u=s.next();!u.done;u=s.next())(u=u.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Gr(u,"http://www.w3.org/1999/xlink","href")?t.removeChild(u):"SegmentTimeline"!=u.tagName&&a.push(nf(u,e,n,r,i,o)));return fr(a).$((function(){return t}))}function rf(t,e,n,r,i,o,a){var s,u=(new ji).P("sidx",(function(t){s=function(t,e,n,r,i,o,a){var s=[];a.reader.skip(4);var u=a.reader.M();if(0==u)throw new Kt(2,3,3005);if(0==a.version)var l=a.reader.M(),c=a.reader.M();else l=a.reader.Lb(),c=a.reader.Lb();a.reader.skip(2);var f=a.reader.Kb();for(t=t+a.size+c,c=0;c<f;c++){var h=a.reader.M(),d=(2147483648&h)>>>31;h&=2147483647;var p=a.reader.M();if(a.reader.skip(4),1==d)throw new Kt(2,3,3006);s.push(new Ea(l/u+n,(l+p)/u+n,(function(){return o}),t,t+h-1,e,n,r,i)),l+=p,t+=h}return a.parser.stop(),s}(e,r,i,o,a,n,t)}));if(t&&u.parse(t),s)return s;throw new Kt(2,3,3004)}function of(t){this.h=At(t),this.g=new Oi(this.h,0)}function af(t){var e=sf(t);if(7<e.length)throw new Kt(2,3,3002);for(var n=0,r=(e=c(e)).next();!r.done;r=e.next())n=256*n+r.value;e=sf(t);t:{for(var i=(r=c(uf)).next();!i.done;i=r.next())if(_t(e,new Uint8Array(i.value))){r=!0;break t}r=!1}if(r)e=t.h.byteLength-t.g.X();else{if(8==e.length&&224&e[1])throw new Kt(2,3,3001);for(i=r=0;i<e.length;i++){var o=e[i];r=0==i?o&(1<<8-e.length)-1:256*r+o}e=r}return e=t.g.X()+e<=t.h.byteLength?e:t.h.byteLength-t.g.X(),r=At(t.h,t.g.X(),e),t.g.skip(e),new lf(n,r)}function sf(t){var e=t.g.X(),n=t.g.Y();if(0==n)throw new Kt(2,3,3002);return n=8-Math.floor(Math.log2(n)),t.g.skip(n-1),Mt(t.h,e,n)}of.prototype.na=function(){return this.g.na()};var uf=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function lf(t,e){this.id=t,this.g=e}function cf(t){if(8<t.g.byteLength)throw new Kt(2,3,3002);if(8==t.g.byteLength&&224&t.g.getUint8(0))throw new Kt(2,3,3001);for(var e=0,n=0;n<t.g.byteLength;n++){e=256*e+t.g.getUint8(n)}return e}function ff(t){var e=new of(t.g);if(179!=(t=af(e)).id)throw new Kt(2,3,3013);if(t=cf(t),183!=(e=af(e)).id)throw new Kt(2,3,3012);e=new of(e.g);for(var n=0;e.na();){var r=af(e);if(241==r.id){n=cf(r);break}}return{fg:t,Pf:n}}function hf(t,e){var n=ef(t,e,"Initialization");if(!n)return null;var r=t.H.za,i=n.getAttribute("sourceURL");i&&(r=ie(t.H.za,[i])),i=0;var o=null;return(n=Wr(n,"range",$r))&&(i=n.start,o=n.end),new Ta((function(){return r}),i,o,yf(t))}function df(t,e){var n=Number(tf(t,gf,"presentationTimeOffset"))||0,r=tf(t,gf,"timescale"),i=1;r&&(i=Jr(r)||1);var o=n/i||0,a=hf(t,gf);!function(t,e){if(mf(t,e),!vf(t))throw new Kt(2,4,4002)}(t,a);var s=vr(t);return{Cb:function(){var t=ef(s,gf,"RepresentationIndex"),n=s.H.za;return t&&(t=t.getAttribute("sourceURL"))&&(n=ie(s.H.za,[t])),t=vf(s),pf(s,e,a,n,t.start,t.end,o)}}}function pf(t,e,n,r,i,o,a){var s,u,l,c,f,h,d,p,g,v,m,y,b,w,T;return D((function(E){if(1==E.g)return s=t.presentationTimeline,u=!t.Wa||!t.T.td,l=t.T.start,c=t.T.duration,f=t.H.mimeType.split("/")[1],d=null,p=[(h=e)(r,i,o),"webm"==f?h(n.sa(),n.pa,n.ia):null],h=null,S(E,Promise.all(p),2);if(g=E.h,v=g[0],m=g[1]||null,null,b=l-a,w=l,T=c?l+c:1/0,"mp4"==f)var _=rf(v,i,r,n,b,w,T);else{if(440786851!=af(_=new of(m)).id)throw new Kt(2,3,3008);var k=af(_);if(408125543!=k.id)throw new Kt(2,3,3009);_=k.g.byteOffset,k=new of(k.g);for(var x=null;k.na();){var M=af(k);if(357149030==M.id){x=M;break}}if(!x)throw new Kt(2,3,3010);for(x=new of(x.g),M=1e6,k=null;x.na();){var A=af(x);if(2807729==A.id)M=cf(A);else if(17545==A.id)if(4==A.g.byteLength)k=A.g.getFloat32(0);else{if(8!=A.g.byteLength)throw new Kt(2,3,3003);k=A.g.getFloat64(0)}}if(null==k)throw new Kt(2,3,3011);if(k*=x=M/1e9,475249515!=(M=af(new of(v))).id)throw new Kt(2,3,3007);_=function(t,e,n,r,i,o,a,s,u){function l(){return i}var c=[];t=new of(t.g);for(var f=null,h=null;t.na();){var d=af(t);if(187==d.id){var p=ff(d);p&&(d=n*p.fg,p=e+p.Pf,null!=f&&c.push(new Ea(f+a,d+a,l,h,p-1,o,a,s,u)),f=d,h=p)}}return null!=f&&c.push(new Ea(f+a,r+a,l,h,null,o,a,s,u)),c}(M,_,x,k,r,n,b,w,T)}return y=_,s.Hb(y),d=new qa(y),u&&d.Xa(w,T,!0),E.return(d)}))}function gf(t){return t.nc}function vf(t){var e=ef(t,gf,"RepresentationIndex");return t=$r((t=tf(t,gf,"indexRange"))||""),e&&(t=Wr(e,"range",$r,t)),t}function mf(t,e){var n=t.H.mimeType.split("/")[1];if(t.H.contentType!=ue&&"mp4"!=n&&"webm"!=n)throw new Kt(2,4,4006);if("webm"==n&&!e)throw new Kt(2,4,4005)}function yf(t){var e=t.H;return{bandwidth:t.bandwidth,audioSamplingRate:e.audioSamplingRate,codecs:e.codecs,contentType:e.contentType,frameRate:e.frameRate||null,height:e.height||null,mimeType:e.mimeType,channelsCount:e.Nc,pixelAspectRatio:e.pixelAspectRatio||null,width:e.width||null}}function bf(t,e){var n=hf(t,wf),r=function(t){var e=function(t){return[t.H.$a,t.ha.$a,t.aa.$a].filter(jt).map((function(t){return Hr(t,"SegmentURL")})).reduce((function(t,e){return 0<t.length?t:e})).map((function(e){return e.getAttribute("indexRange")&&!t.qe&&(t.qe=!0),{Gf:e.getAttribute("media"),start:(e=Wr(e,"mediaRange",$r,{start:0,end:null})).start,end:e.end}}))}(t),n=(t=Qc(t,wf)).Mb;0==n&&(n=1);var r=0;return t.la?r=t.la*(n-1):t.timeline&&0<t.timeline.length&&(r=t.timeline[0].start),{la:t.la,startTime:r,Mb:n,Ta:t.Ta,timeline:t.timeline,Eb:e}}(t);if(!r.la&&!r.timeline&&1<r.Eb.length)throw new Kt(2,4,4002);if(!r.la&&!t.T.duration&&!r.timeline&&1==r.Eb.length)throw new Kt(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new Kt(2,4,4002);var i=null,o=null;t.aa.id&&t.H.id&&(o=e[t.aa.id+","+t.H.id])&&(i=o.segmentIndex);var a=function(t,e,n,r,i){var o=r.Eb.length;r.timeline&&r.timeline.length!=r.Eb.length&&(o=Math.min(r.timeline.length,r.Eb.length));for(var a=t-r.Ta,s=e?t+e:1/0,u=[],l=r.startTime,c={},f=0;f<o;c={cd:c.cd},f++){var h=r.Eb[f];c.cd=ie(n,[h.Gf]);var d;d=null!=r.la?l+r.la:r.timeline?r.timeline[f].end:l+e,u.push(new Ea(t+l,t+d,function(t){return function(){return t.cd}}(c),h.start,h.end,i,a,t,s)),l=d}return u}(t.T.start,t.T.duration,t.H.za,r,n);return n=!i,i?i.Gb(a,t.presentationTimeline.Qa()):i=new qa(a),t.presentationTimeline.Hb(a),t.Wa&&t.T.td||i.Xa(t.T.start,t.T.duration?t.T.start+t.T.duration:1/0,n),o&&(o.segmentIndex=i),{Cb:function(){return i&&0!=i.K.length||i.Fb(a),Promise.resolve(i)}}}function wf(t){return t.$a}function Sf(t,e,n,r,i,o){var a=function(t){var e=tf(t,Tf,"initialization");if(!e)return null;var n=t.H.id,r=t.bandwidth||null,i=t.H.za;return new Ta((function(){var t=Jc(e,n,null,r,null);return ie(i,[t])}),0,null,yf(t))}(t),s=function(t){var e=Qc(t,Tf),n=tf(t,Tf,"media");return t=tf(t,Tf,"index"),{la:e.la,timescale:e.timescale,Mb:e.Mb,Ta:e.Ta,de:e.de,timeline:e.timeline,Gd:n,ic:t}}(t);!function(t){var e=t.ic?1:0;if(e+=t.timeline?1:0,0==(e+=t.la?1:0))throw new Kt(2,4,4002);if(1!=e&&(t.ic&&(t.timeline=null),t.la=null),!t.ic&&!t.Gd)throw new Kt(2,4,4002)}(s);var u=vr(t);if(s.ic)return mf(t,a),{Cb:function(){var t=Jc(s.ic,u.H.id,null,u.bandwidth||null,null);return t=ie(u.H.za,[t]),pf(u,e,a,t,0,null,s.Ta)}};if(s.la)return r||"image"===t.ha.contentType||(t.presentationTimeline.Id(s.la),t.presentationTimeline.Jd(t.T.start)),{Cb:function(){return function(t,e,n,r,i){function o(t){var n=(t-p)*d,i=n+e.Ta,o=n+l;return n=o+d,(o=new Ea(o,Math.min(n,s()),(function(){var e=Jc(v,y,t,m,i*g);return ie(b,[e])}),0,null,r,w,l,s())).l=n,o}function a(){var t=[Math.max(u.Qa(),l),Math.min(u.hb(),s())].map((function(t){return t-l}));return[Math.ceil(t[0]/d),Math.ceil(t[1]/d)-1].map((function(t){return t+p}))}function s(){var t=null!=f&&i[f]||h;return t?l+t:1/0}var u=t.presentationTimeline,l=t.T.start,f=t.aa.id,h=t.T.duration,d=e.la,p=e.Mb,g=e.timescale,v=e.Gd,m=t.bandwidth||null,y=t.H.id,b=t.H.za,w=l-e.Ta,S=a();t=t.Wa?Math.max(S[0],S[1]-n+1):S[0],S=S[1],n=[];for(var T=t;T<=S;++T){var E=o(T);n.push(E)}var _=new qa(n);if(n=u.hb()<s(),T=u.U(),n||T){var k=Math.max(t,S+1);_.Uc(d,(function(){var t=u.Qa();_.eb(t);var e=c(a());e.next(),e=e.next().value;for(var n=[];k<=e;){var r=o(k);n.push(r),k++}return t>s()&&!n.length?null:n}))}return Promise.resolve(_)}(u,s,i,a,o)}};var l=null;r=r=null,t.aa.id&&t.H.id&&(r=n[r=t.aa.id+","+t.H.id])&&(l=r.segmentIndex);var f=function(t,e,n){var r=t.T.start,i=t.T.duration,o=r-e.Ta;i=i?r+i:1/0;for(var a=[],s={},u=0;u<e.timeline.length;s={bd:s.bd,fd:s.fd,jd:s.jd,Zc:s.Zc,ld:s.ld,$c:s.$c},u++){var l=e.timeline[u],c=l.start,f=l.eg;l=l.end,s.jd=u+e.Mb,s.ld=f+e.de,s.fd=t.H.id,s.Zc=t.bandwidth||null,s.bd=e.Gd,s.$c=t.H.za,a.push(new Ea(r+c,r+l,function(t){return function(){var e=Jc(t.bd,t.fd,t.jd,t.Zc||null,t.ld);return ie(t.$c,[e]).map((function(t){return t.toString()}))}}(s),0,null,n,o,r,i))}return a}(u,s,a);n=t.T.start;var h=t.T.duration?t.T.start+t.T.duration:1/0,d=!(t.Wa&&t.T.td);return l?(d&&new qa(f).Xa(n,h,!0),l.Gb(f,t.presentationTimeline.Qa())):l=new qa(f),t.presentationTimeline.Hb(f),d&&l.Xa(n,h),r&&t.Wa&&(r.segmentIndex=l),{Cb:function(){return l&&0!=l.K.length||l.Fb(f),Promise.resolve(l)}}}function Tf(t){return t.oc}function Ef(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}function _f(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,E,_,k,x,M,A,R,I,C,L,O;return D((function(D){switch(D.g){case 1:if(r=le,function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.yc),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&et(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(o=!0);o||n.push(i)}e.yc=n}}(e),function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.Wc),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&et(i.roles,s.roles)&&Br(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(o=!0);o||n.push(i)}e.Wc=n}}(e),function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.bandwidth==s.bandwidth&&et(i.roles,s.roles)&&(o=!0);o||n.push(i)}e.textStreams=n}}(e),function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.imageStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&(o=!0);o||n.push(i)}e.imageStreams=n}}(e),!n&&1==e.length){i=e[0],t.g=i.yc,t.h=i.Wc,t.j=i.textStreams,t.i=i.imageStreams,D.B(2);break}for(o=-1,a=0;a<e.length;a++)s=e[a],t.m.has(s.id)||(t.m.add(s.id),-1==o&&(o=a));if(-1==o)return D.return();for(u=e.map((function(t){return t.yc})),l=e.map((function(t){return t.Wc})),f=e.map((function(t){return t.textStreams})),h=e.map((function(t){return t.imageStreams})),d=c(f),p=d.next();!p.done;p=d.next())p.value.push(Gf(r.Z));for(g=c(h),v=g.next();!v.done;v=g.next())v.value.push(Gf(r.Tb));return S(D,xf(t.g,u,o,If,Lf),3);case 3:return S(D,xf(t.h,l,o,If,Lf),4);case 4:return S(D,xf(t.j,f,o,If,Lf),5);case 5:return S(D,xf(t.i,h,o,If,Lf),2);case 2:if(m=0,y=[],t.h.length&&t.g.length)for(x=c(t.g),M=x.next();!M.done;M=x.next())for(A=M.value,R=c(t.h),I=R.next();!I.done;I=R.next())C=I.value,L=bi(A.drmInfos,C.drmInfos),A.drmInfos.length&&C.drmInfos.length&&!L.length||(O=m++,y.push({id:O,language:A.language,primary:A.primary,audio:A,video:C,bandwidth:(A.bandwidth||0)+(C.bandwidth||0),drmInfos:L,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(b=t.h.concat(t.g),w=c(b),E=w.next();!E.done;E=w.next())_=E.value,k=m++,y.push({id:k,language:_.language,primary:_.primary,audio:_.type==r.cb?_:null,video:_.type==r.Na?_:null,bandwidth:_.bandwidth||0,drmInfos:_.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});t.l=y,T(D)}}))}function kf(t){var e,n,r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,T,E,_,k,x;return D((function(M){switch(M.g){case 1:if(e=le,1==t.length)return M.return(t[0]);for(n=t.map((function(t){return t.filter((function(t){return t.type==e.cb}))})),r=t.map((function(t){return t.filter((function(t){return t.type==e.Na}))})),i=t.map((function(t){return t.filter((function(t){return t.type==e.Z}))})),o=t.map((function(t){return t.filter((function(t){return t.type==e.Tb}))})),a=c(i),s=a.next();!s.done;s=a.next())s.value.push(Kf(e.Z));for(u=c(o),l=u.next();!l.done;l=u.next())l.value.push(Kf(e.Tb));return S(M,xf([],n,0,Cf,Df),2);case 2:return f=M.h,S(M,xf([],r,0,Cf,Df),3);case 3:return h=M.h,S(M,xf([],i,0,Cf,Df),4);case 4:return d=M.h,S(M,xf([],o,0,Cf,Df),5);case 5:if(p=M.h,g=0,h.length&&f.length)for(b=c(f),w=b.next();!w.done;w=b.next())for(T=w.value,E=c(h),_=E.next();!_.done;_=E.next())k=_.value,x=g++,k.variantIds.push(x),T.variantIds.push(x);else for(v=h.concat(f),m=c(v),y=m.next();!y.done;y=m.next())y.value.variantIds=[g++];return M.return(h.concat(f).concat(d).concat(p))}}))}function xf(t,e,n,r,i){var o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,T,E,_;return D((function(k){switch(k.g){case 1:for(o=le,a=[],s=0;s<e.length;s++)s>=n?a.push(new Set(e[s])):a.push(new Set);u=c(t),l=u.next();case 2:if(l.done){k.B(4);break}return S(k,function(t,e,n,r,i){return D((function(o){return 1==o.g?(Of(e,t),t.matchedStreams?t.segmentIndex?S(o,Mf(t,n),2):o.B(2):o.return(!1)):(Rf(t,n,r,i),o.return(!0))}))}(l.value,e,n,i,a),5);case 5:if(!k.h)throw new Kt(2,4,4037);l=u.next(),k.B(2);break;case 4:for(f=c(a),h=f.next();!h.done;h=f.next())for(d=h.value,p=c(d),g=p.next();!g.done;g=p.next())v=g.value,(m=Af(v,e,r,i,a))&&t.push(m);for(y=c(a),h=y.next();!h.done;h=y.next())for(b=h.value,w={},T=c(b),g=T.next();!g.done;w={Va:w.Va},g=T.next())if(w.Va=g.value,E=w.Va.type==o.Z&&!w.Va.language,_=w.Va.type==o.Tb&&!w.Va.tilesLayout,!E&&!_&&t.some(function(t){return function(e){return e.mimeType==t.Va.mimeType&&Ye(e.codecs)==Ye(t.Va.codecs)}}(w)))throw new Kt(2,4,4037);return k.return(t)}}))}function Mf(t,e){var n,r,i,o,a,s,u;return D((function(l){if(1==l.g){for(n=[],r=t.matchedStreams,i=c(r),o=i.next();!o.done;o=i.next())a=o.value,n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex());return S(l,Promise.all(n),2)}if(t.segmentIndex instanceof Wa)for(s=e;s<r.length;s++)(u=r[s]).segmentIndex&&t.segmentIndex.j.push(u.segmentIndex);T(l)}))}function Af(t,e,n,r,i){var o=n(t);return Of(e,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return D((function(t){return o.segmentIndex?t.B(0):(o.segmentIndex=new Wa,S(t,Mf(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?(Rf(o,0,r,i),o):null}function Rf(t,e,n,r){for(var i=t.matchedStreams,o=0;o<i.length;o++)if(o>=e){var a=i[o];n(t,a);var s=!0;"audio"==t.type&&0==ln(t.language,a.language)&&(s=!1),s&&r[o].delete(a)}}function If(t){var e=Object.assign({},t);return e.originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.closeSegmentIndex=function(){if(e.segmentIndex&&(e.segmentIndex.release(),e.segmentIndex=null),e.matchedStreams)for(var t=c(e.matchedStreams),n=t.next();!n.done;n=t.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},e.segmentIndex=null,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function Cf(t){return(t=Object.assign({},t)).keyIds=new Set,t.segments=[],t.variantIds=[],t.closedCaptions=null,t}function Lf(t,e){var n,r;t.roles=Array.from(new Set(t.roles.concat(e.roles))),e.emsgSchemeIdUris&&(t.emsgSchemeIdUris=Array.from(new Set(t.emsgSchemeIdUris.concat(e.emsgSchemeIdUris)))),t.keyIds=(n=t.keyIds,r=e.keyIds,new Set([].concat(f(n),f(r)))),null==t.originalId?t.originalId=e.originalId:t.originalId+=","+(e.originalId||"");var i=bi(t.drmInfos,e.drmInfos);if(e.drmInfos.length&&t.drmInfos.length&&!i.length)throw new Kt(2,4,4038);if(t.drmInfos=i,t.encrypted=t.encrypted||e.encrypted,e.closedCaptions){t.closedCaptions||(t.closedCaptions=new Map);for(var o=(i=c(e.closedCaptions)).next();!o.done;o=i.next()){var a=c(o.value);o=a.next().value,a=a.next().value,t.closedCaptions.set(o,a)}}e.trickModeVideo?(t.trickModeVideo||(t.trickModeVideo=If(e.trickModeVideo),t.trickModeVideo.createSegmentIndex=function(){return t.trickModeVideo.segmentIndex=t.segmentIndex.clone(),Promise.resolve()}),Lf(t.trickModeVideo,e.trickModeVideo)):t.trickModeVideo&&Lf(t.trickModeVideo,e)}function Df(t,e){t.roles=Array.from(new Set(t.roles.concat(e.roles)));var n=e.keyIds;if(n=new Set([].concat(f(t.keyIds),f(n))),t.keyIds=n,t.encrypted=t.encrypted&&e.encrypted,t.segments.push.apply(t.segments,f(e.segments)),e.closedCaptions){t.closedCaptions||(t.closedCaptions=new Map);for(var r=(n=c(e.closedCaptions)).next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,t.closedCaptions.set(r,i)}}}function Of(t,e){for(var n=[],r=c(t),i=r.next();!i.done;i=r.next()){for(var o=e,a={audio:Pf,video:Pf,text:Nf,image:jf}[o.type],s={audio:Bf,video:Ff,text:Uf,image:Hf}[o.type],u=null,l=(i=c(i.value)).next();!l.done;l=i.next())!a(o,l=l.value)||u&&!s(o,u,l)||(u=l);if(!(o=u))return;n.push(o)}e.matchedStreams=n}function Pf(t,e){var n;if(!(n=e.mimeType!=t.mimeType||Ye(e.codecs)!=Ye(t.codecs))&&(n=t.drmInfos)){n=t.drmInfos;var r=e.drmInfos;n=!(!n.length||!r.length||0<bi(n,r).length)}return!n}function Nf(t,e){return!!t.language&&(!e.language||0!=ln(t.language,e.language)&&e.kind==t.kind)}function jf(t){return!!t.tilesLayout}function Bf(t,e,n){if(t.id==n.id)return!0;var r=ln(t.language,e.language),i=ln(t.language,n.language);return i>r||!(i<r)&&(t.roles.length?(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length||!(i.length<r.length)&&n.roles.length<e.roles.length):!(n.roles.length||!e.roles.length)||!(n.roles.length&&!e.roles.length)&&(!(e.primary||!n.primary)||!(e.primary&&!n.primary)&&((r=qf(t.channelsCount,e.channelsCount,n.channelsCount))==zf||r!=Yf&&((r=qf(t.audioSamplingRate,e.audioSamplingRate,n.audioSamplingRate))==zf||r!=Yf&&!(!t.bandwidth||Vf(t.bandwidth,e.bandwidth,n.bandwidth)!=zf)))))}function Ff(t,e,n){if(t.id==n.id)return!0;var r=qf(t.width*t.height,e.width*e.height,n.width*n.height);if(r==zf)return!0;if(r==Yf)return!1;if(t.frameRate){if((r=qf(t.frameRate,e.frameRate,n.frameRate))==zf)return!0;if(r==Yf)return!1}return!(!t.bandwidth||Vf(t.bandwidth,e.bandwidth,n.bandwidth)!=zf)}function Uf(t,e,n){if(t.id==n.id)return!0;var r=ln(t.language,e.language),i=ln(t.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!e.primary&&n.primary)return!0;if(e.primary&&!n.primary)return!1;if(t.roles.length){if(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&e.roles.length)return!0;if(n.roles.length&&!e.roles.length)return!1}return n.mimeType==t.mimeType&&n.codecs==t.codecs&&(e.mimeType!=t.mimeType||e.codecs!=t.codecs)}function Hf(t,e,n){return t.id==n.id||qf(t.width*t.height,e.width*e.height,n.width*n.height)==zf}function Kf(t){return{id:0,originalId:"",primary:!1,type:t,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function Gf(t){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new qa([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:t,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function qf(t,e,n){if(e==t&&t!=n)return Yf;if(n==t&&t!=e)return zf;if(e>t){if(n<=t||n-t<e-t)return zf;if(n-t>e-t)return Yf}else{if(n>t)return Yf;if(t-n<t-e)return zf;if(t-n>t-e)return Yf}return Wf}function Vf(t,e,n){return e=Math.abs(t-e),(t=Math.abs(t-n))<e?zf:e<t?Yf:Wf}Ef.prototype.release=function(){for(var t=c(this.g.concat(this.h,this.j,this.i)),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};var zf=1,Wf=0,Yf=-1;function Xf(){var t=this;this.h=this.g=null,this.m=[],this.i=null,this.G=1,this.l={},this.N={},this.j=new Ef,this.F=0,this.I=new K(5),this.D=new pe((function(){!function(t){var e,n;D((function(r){switch(r.g){case 1:return e=0,E(r,2),S(r,$f(t),4);case 4:e=r.h,k(r,3);break;case 2:n=x(r),t.h&&(n.severity=1,t.h.onError(n));case 3:if(!t.h)return r.return();th(t,e),T(r)}}))}(t)})),this.o=new mr,this.s=null,this.L=[],this.u=1/0,this.C=!1}function $f(t){var e,n,r,i,o,a,s;return D((function(u){return 1==u.g?(e=Sr(t.m,t.g.retryParameters),n=t.h.networkingEngine,t.h.modifyManifestRequest(e,{format:"d"}),r=Date.now(),i=n.request(0,e),yr(t.o,i),S(u,i.promise,2)):3!=u.g?(o=u.h,t.h?(o.uri&&!t.m.includes(o.uri)&&t.m.unshift(o.uri),S(u,function(t,e,n){var r,i,o,a;return D((function(s){if(1==s.g){if(!(r=ri(e,"MPD")))throw new Kt(2,4,4001,n);return t.g.dash.disableXlinkProcessing?s.return(Zf(t,r,n)):(i=t.g.dash.xlinkFailGracefully,o=nf(r,t.g.retryParameters,i,n,t.h.networkingEngine),yr(t.o,o),S(s,o.promise,2))}return a=s.h,s.return(Zf(t,a,n))}))}(t,o.data,o.uri),3)):u.return(0)):(a=Date.now(),s=(a-r)/1e3,t.I.sample(1,s),u.return(s))}))}function Zf(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,_,M,A,R,I,C,L,O,P,N,j,B;return D((function(F){switch(F.g){case 1:if((r=t.g.dash.manifestPreprocessor)&&r(e),i=[n],0<(o=Hr(e,"Location").map(Vr).filter(jt)).length&&(a=ie(i,o),i=t.m=a),s=Hr(e,"BaseURL"),u=s.map(Vr),l=ie(i,u),f=0,s&&s.length&&(f=Wr(s[0],"availabilityTimeOffset",ti)||0),h=t.g.dash.ignoreMinBufferTime,d=0,h||(d=Wr(e,"minBufferTime",Xr)||0),t.F=Wr(e,"minimumUpdatePeriod",Xr,-1),p=Wr(e,"availabilityStartTime",Yr),g=Wr(e,"timeShiftBufferDepth",Xr),v=t.g.dash.ignoreSuggestedPresentationDelay,m=null,v||(m=Wr(e,"suggestedPresentationDelay",Xr)),y=t.g.dash.ignoreMaxSegmentDuration,b=null,y||(b=Wr(e,"maxSegmentDuration",Xr)),w=e.getAttribute("type")||"static",t.i)for(_=t.i.presentationTimeline,M=c(Object.values(t.l)),A=M.next();!A.done;A=M.next())(R=A.value).segmentIndex&&R.segmentIndex.eb(_.Qa());else I=t.g.defaultPresentationDelay||1.5*d,_=new _a(p,null!=m?m:I,t.g.dash.autoCorrectDrift);return _.pc("static"==w),_.U()&&!isNaN(t.g.availabilityWindowOverride)&&(g=t.g.availabilityWindowOverride),null==g&&(g=1/0),_.Zd(g),C=e.getAttribute("profiles")||"",L={Wa:"static"!=w,presentationTimeline:_,aa:null,T:null,ha:null,H:null,bandwidth:0,qe:!1,Ab:f,profiles:C.split(",")},O=function(t,e,n,r){var i=Wr(r,"mediaPresentationDuration",Xr),o=[],a=0;r=Hr(r,"Period");for(var s=0;s<r.length;s++){var u=r[s],l=r[s+1],c=Wr(u,"start",Xr,a),f=u.id,h=Wr(u,"duration",Xr),d=null;if(l){var p=Wr(l,"start",Xr);null!=p&&(d=p-c)}else null!=i&&(d=i-c);if(null==d&&(d=h),!(null!==t.s&&null!==f&&null!==c&&c<t.s)||t.L.includes(f)||s+1==r.length){if(null!==c&&(null===t.s||c>t.s)&&(t.s=c),a=Jf(t,e,n,{start:c,duration:d,node:u,td:null==d||!l}),o.push(a),e.aa.id&&d&&(t.N[e.aa.id]=d),null==d){a=null;break}a=c+d}}return t.L=o.map((function(t){return t.id})),null!=i?{periods:o,duration:i,je:!1}:{periods:o,duration:a,je:!0}}(t,L,l,e),P=O.duration,N=O.periods,"static"!=w&&O.je||_.Ja(P||1/0),t.u&&!t.C&&t.h.isAutoLowLatencyMode()&&(t.h.enableLowLatencyMode(),t.C=t.h.isLowLatencyMode()),t.C?_.Ce(t.u):t.u&&W("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),_.Id(b||1),S(F,_f(t.j,N,L.Wa),2);case 2:if(t.i){t.i.variants=t.j.l,t.i.textStreams=t.j.j.slice(),t.i.imageStreams=t.j.i,t.h.filter(t.i),F.B(3);break}if(t.i={presentationTimeline:_,variants:t.j.l,textStreams:t.j.j.slice(),imageStreams:t.j.i,offlineSessionIds:[],minBufferTime:d||0},!_.He()){F.B(4);break}return j=Hr(e,"UTCTiming"),S(F,function(t,e,n){var r,i,o,a,s,u,l,f;return D((function(h){switch(h.g){case 1:r=n.map((function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}})),i=t.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=c(r),a=o.next();case 2:if(a.done){h.B(4);break}switch(s=a.value,E(h,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return h.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return h.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return f=Date.parse(l),h.return(isNaN(f)?0:f-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":W("NTP UTCTiming scheme is not supported");break;default:W("Unrecognized scheme in UTCTiming element",u)}h.B(9);break;case 7:return S(h,nh(t,e,l,"HEAD"),10);case 10:return h.return(h.h);case 8:return S(h,nh(t,e,l,"GET"),11);case 11:return h.return(h.h);case 9:k(h,3);break;case 5:x(h);case 3:a=o.next(),h.B(2);break;case 4:return W("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),h.return(0)}}))}(t,l,j),5);case 5:if(B=F.h,!t.h)return F.return();_.De(B);case 4:_.Cd();case 3:t.h.makeTextStreamsForClosedCaptions(t.i),T(F)}}))}function Jf(t,e,n,r){e.aa=eh(r.node,null,n),e.T=r,e.aa.Ab=e.Ab,e.aa.id||(e.aa.id="__shaka_period_"+r.start);var i=Hr(r.node,"EventStream");n=e.presentationTimeline.Qa();for(var o=(i=c(i)).next();!o.done;o=i.next())rh(t,r.start,r.duration,o.value,n);if(n=Hr(r.node,"AdaptationSet").map((function(n){return function(t,e,n){function r(t){switch(t){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}e.ha=eh(n,e.aa,null);var i,o=!1,a=Hr(n,"Role"),s=a.map((function(t){return t.getAttribute("value")})).filter(jt),u=void 0,l=e.ha.contentType==ue;l&&(u="subtitle");for(var h=(a=c(a)).next();!h.done;h=a.next()){var d=(h=h.value).getAttribute("schemeIdUri");if(null==d||"urn:mpeg:dash:role:2011"==d)switch(h=h.getAttribute("value"),h){case"main":o=!0;break;case"caption":case"subtitle":u=h}}d=Hr(n,"EssentialProperty"),a=null,h=!1;for(var p=(d=c(d)).next();!p.done;p=d.next()){var g=(p=p.value).getAttribute("schemeIdUri");"http://dashif.org/guidelines/trickmode"==g?a=p.getAttribute("value"):"urn:mpeg:mpegB:cicp:TransferCharacteristics"==g?i=r(parseInt(p.getAttribute("value"),10)):h=!0}for(d=c(d=Hr(n,"SupplementalProperty")),p=d.next();!p.done;p=d.next())"urn:mpeg:mpegB:cicp:TransferCharacteristics"==(p=p.value).getAttribute("schemeIdUri")&&(i=r(parseInt(p.getAttribute("value"),10)));d=Hr(n,"Accessibility");var v=new Map;for(d=c(d),p=d.next();!p.done;p=d.next())if(g=p.value,p=g.getAttribute("schemeIdUri"),g=g.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==p)if(p=1,null!=g)for(var m=c(g=g.split(";")),y=m.next();!y.done;y=m.next()){var b=y.value,w=y=void 0;b.includes("=")?(b=b.split("="),y=b[0].startsWith("CC")?b[0]:"CC"+b[0],w=b[1]||"und"):(y="CC"+p,2==g.length?p+=2:p++,w=b),v.set(y,un(w))}else v.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==p)if(p=1,null!=g)for(g=c(g.split(";")),y=g.next();!y.done;y=g.next())y=y.value,b=m=void 0,y.includes("=")?(y=y.split("="),m="svc"+y[0],b=y[1].split(",")[0].split(":").pop()):(m="svc"+p,p++,b=y),v.set(m,un(b));else v.set("svc1","und");else"urn:mpeg:dash:role:2011"==p&&null!=g&&(s.push(g),"captions"==g&&(u="caption"));if(h)return null;var E=Wc(h=Hr(n,"ContentProtection"),t.g.dash.ignoreDrmInfo,t.g.dash.keySystemsByURI),_=un(n.getAttribute("lang")||"und"),k=n.getAttribute("label");if((h=Hr(n,"Label"))&&h.length&&((h=h[0]).textContent&&(k=h.textContent)),h=Hr(n,"Representation"),0==(n=h.map((function(n){return(n=function(t,e,r,i,o,a,s,u,l,c){if(e.H=eh(c,e.ha,null),t.u=Math.min(t.u,e.H.Ab),!function(t){var e=t.nc?1:0;return e+=t.$a?1:0,0==(e+=t.oc?1:0)?t.contentType==ue||"application"==t.contentType:(1!=e&&(t.nc&&(t.$a=null),t.oc=null),!0)}(e.H))return null;var f=e.T.start;e.bandwidth=Wr(c,"bandwidth",Jr)||0;var h=e.H.contentType,d=h==ue||"application"==h;h="image"==h;try{var p=function(e,n,r){return function(t,e,n,r){var i,o,a,s,u;return D((function(l){return 1==l.g?(i=_r,o=os(e,n,r,t.g.retryParameters),a=t.h.networkingEngine,s=a.request(i,o),yr(t.o,s),S(l,s.promise,2)):(u=l.h,l.return(u.data))}))}(t,e,n,r)};if(e.H.nc)var g=df(e,p);else if(e.H.$a)g=bf(e,t.l);else if(e.H.oc)g=Sf(e,p,t.l,!!t.i,t.g.dash.initialSegmentLimit,t.N);else{var v=e.H.za,m=e.T.duration||0;g={Cb:function(){return Promise.resolve(Va(f,m,v))}}}}catch(n){if((d||h)&&4002==n.code)return null;throw n}p=function(t,e,n,r){var i=Wc(t,n,r);if(e.le)t=1==e.drmInfos.length&&!e.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==e.drmInfos.length||t&&!n)&&(e.drmInfos=i.drmInfos),e.le=!1;else if(0<i.drmInfos.length&&(e.drmInfos=e.drmInfos.filter((function(t){return i.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==e.drmInfos.length))throw new Kt(2,4,4008);return i.he||e.he}(p=Hr(c,"ContentProtection"),r,t.g.dash.ignoreDrmInfo,t.g.dash.keySystemsByURI),p=new Set(p?[p]:[]);var y=!1;Hr(c,"SupplementalProperty").some((function(t){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==t.getAttribute("schemeIdUri")&&"JOC"==t.getAttribute("value")}))&&(y=!0);var b,w,E=!1;if(d&&(E=u.includes("forced_subtitle")||u.includes("forced-subtitle")),h&&((c=Hr(c,"EssentialProperty").find((function(t){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(t.getAttribute("schemeIdUri"))})))&&(b=c.getAttribute("value")),!b))return null;c=e.H.codecs,e.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&(w="PQ");var _=(c=e.H.id?e.aa.id+","+e.H.id:"")&&t.l[c]?t.l[c]:{id:t.G++,originalId:e.H.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){_.segmentIndex&&(_.segmentIndex.release(),_.segmentIndex=null)},segmentIndex:null,mimeType:e.H.mimeType,codecs:e.H.codecs,frameRate:e.H.frameRate,pixelAspectRatio:e.H.pixelAspectRatio,bandwidth:e.bandwidth,width:e.H.width,height:e.H.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:p,language:o,label:a,type:e.ha.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:e.H.emsgSchemeIdUris,roles:u,forced:E,channelsCount:e.H.Nc,audioSamplingRate:e.H.audioSamplingRate,spatialAudio:y,closedCaptions:l,hdr:w,tilesLayout:b,matchedStreams:[]};return _.createSegmentIndex=function(){var t;return D((function(e){if(1==e.g)return _.segmentIndex?e.B(0):(t=_,S(e,g.Cb(),3));t.segmentIndex=e.h,T(e)}))},c&&e.Wa&&!t.l[c]&&(t.l[c]=_),_}(t,e,E,u,_,k,o,s,v,n))&&(n.hdr=n.hdr||i),n})).filter((function(t){return!!t}))).length){if(a="image"==e.ha.contentType,t.g.dash.ignoreEmptyAdaptationSet||l||a)return null;throw new Kt(2,4,4003)}if(!e.ha.contentType||"application"==e.ha.contentType)for(e.ha.contentType=ih(n[0].mimeType,n[0].codecs),l=c(n),d=l.next();!d.done;d=l.next())d.value.type=e.ha.contentType;for(l=c(n),d=l.next();!d.done;d=l.next())for(d=d.value,p=c(E.drmInfos),g=p.next();!g.done;g=p.next())(g=g.value).keyIds=g.keyIds&&d.keyIds?new Set([].concat(f(g.keyIds),f(d.keyIds))):g.keyIds||d.keyIds;return l=h.map((function(t){return t.getAttribute("id")})).filter(jt),{id:e.ha.id||"__fake__"+t.G++,contentType:e.ha.contentType,language:_,Mg:o,streams:n,drmInfos:E.drmInfos,be:a,Sf:l}}(t,e,n)})).filter(jt),e.Wa){for(r=[],o=(i=c(n)).next();!o.done;o=i.next())for(var a=(o=c(o.value.Sf)).next();!a.done;a=o.next())r.push(a.value);if(r.length!=new Set(r).size)throw new Kt(2,4,4018)}for(r=n.filter((function(t){return!t.be})),i=(n=c(n=n.filter((function(t){return t.be})))).next();!i.done;i=n.next()){o=(i=i.value).be.split(" ");for(var s=(a=c(r)).next();!s.done;s=a.next()){var u=s.value;if(o.includes(u.id)){s={};for(var l=(u=c(u.streams)).next();!l.done;s={wc:s.wc},l=u.next())s.wc=l.value,s.wc.trickModeVideo=i.streams.find(function(t){return function(e){return Ye(t.wc.codecs)==Ye(e.codecs)}}(s))}}}if(i=t.g.disableAudio?[]:Qf(r,"audio"),a=t.g.disableVideo?[]:Qf(r,"video"),o=t.g.disableText?[]:Qf(r,ue),n=t.g.disableThumbnails?[]:Qf(r,"image"),!a.length&&!i.length)throw new Kt(2,4,4004);for(r=[],s=(i=c(i)).next();!s.done;s=i.next())r.push.apply(r,f(s.value.streams));for(i=[],s=(a=c(a)).next();!s.done;s=a.next())i.push.apply(i,f(s.value.streams));for(a=[],s=(o=c(o)).next();!s.done;s=o.next())a.push.apply(a,f(s.value.streams));for(o=[],s=(n=c(n)).next();!s.done;s=n.next())o.push.apply(o,f(s.value.streams));return{id:e.aa.id,yc:r,Wc:i,textStreams:a,imageStreams:o}}function Qf(t,e){return t.filter((function(t){return t.contentType==e}))}function th(t,e){0>t.F||t.D.S(Math.max(3,t.F-e,G(t.I)))}function eh(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Nc:null,audioSamplingRate:null,Ab:0},n=n||e.za;for(var r=Hr(t,"BaseURL"),i=r.map(Vr),o=t.getAttribute("contentType")||e.contentType,a=t.getAttribute("mimeType")||e.mimeType,s=t.getAttribute("codecs")||e.codecs,u=Wr(t,"frameRate",ei)||e.frameRate,l=t.getAttribute("sar")||e.pixelAspectRatio,f=Hr(t,"InbandEventStream"),h=e.emsgSchemeIdUris.slice(),d=(f=c(f)).next();!d.done;d=f.next())d=d.value.getAttribute("schemeIdUri"),h.includes(d)||h.push(d);f=function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){var n=e.value;if((e=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(e){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(e=parseInt(n,10)))continue;return e;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(e=parseInt(n,16)))continue;for(t=0;e;)1&e&&++t,e>>=1;return t;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(e=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<e.length)return e[n]}}return null}(f=Hr(t,"AudioChannelConfiguration"))||e.Nc,d=Wr(t,"audioSamplingRate",Qr)||e.audioSamplingRate,o||(o=ih(a,s));var p=Fr(t,"SegmentBase"),g=Fr(t,"SegmentTemplate"),v=p&&Wr(p,"availabilityTimeOffset",ti)||0,m=g&&Wr(g,"availabilityTimeOffset",ti)||0;return r=r&&r.length&&Wr(r[0],"availabilityTimeOffset",ti)||0,r=e.Ab+r+v+m,{za:ie(n,i),nc:p||e.nc,$a:Fr(t,"SegmentList")||e.$a,oc:g||e.oc,width:Wr(t,"width",Qr)||e.width,height:Wr(t,"height",Qr)||e.height,contentType:o,mimeType:a,codecs:s,frameRate:u,pixelAspectRatio:l,emsgSchemeIdUris:h,id:t.getAttribute("id"),Nc:f,audioSamplingRate:d,Ab:r}}function nh(t,e,n,r){var i,o,a,s,u,l;return D((function(c){if(1==c.g)return i=ie(e,[n]),(o=Sr(i,t.g.retryParameters)).method=r,a=t.h.networkingEngine.request(4,o),yr(t.o,a),S(c,a.promise,2);if(s=c.h,"HEAD"==r){if(!s.headers||!s.headers.date)return c.return(0);u=s.headers.date}else u=Re(s.data);return l=Date.parse(u),isNaN(l)?c.return(0):c.return(l-Date.now())}))}function rh(t,e,n,r,i){for(var o=r.getAttribute("schemeIdUri")||"",a=r.getAttribute("value")||"",s=Wr(r,"timescale",Qr)||1,u=(r=c(Hr(r,"Event"))).next();!u.done;u=r.next()){var l=Wr(u=u.value,"presentationTime",Qr)||0,f=Wr(u,"duration",Qr)||0;f=(l=l/s+e)+f/s,null!=n&&(l=Math.min(l,e+n),f=Math.min(f,e+n)),f<i||(u={schemeIdUri:o,value:a,startTime:l,endTime:f,id:u.getAttribute("id")||"",eventElement:u},t.h.onTimelineRegionAdded(u))}}function ih(t,e){return Je(ze(t,e))?ue:t.split("/")[0]}function oh(t,e,n,r){this.h=t,this.type=e,this.g=n,this.segments=r||null}function ah(t,e,n,r){this.id=t,this.name=e,this.g=n,this.value=void 0===r?null:r}function sh(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function uh(t,e){var n=t.getAttribute(e);if(!n)throw new Kt(2,4,4023,e);return n.value}function lh(t,e,n){n=void 0===n?[]:n,this.g=e,this.h=t,this.i=n}function ch(t,e){this.name=t,this.value=e}function fh(t,e){return t.filter((function(t){return t.name==e}))}function hh(t,e){return t.filter((function(t){return uh(t,"TYPE")==e}))}function dh(t,e){var n=fh(t,e);return n.length?n[0]:null}function ph(t,e,n){return n=void 0===n?0:n,(t=dh(t,e))?Number(t.value):n}function gh(t){this.h=t,this.g=0}function vh(t){mh(t,/[ \t]+/gm)}function mh(t,e){e.lastIndex=t.g;var n=e.exec(t.h);return n=null==n?null:{position:n.index,length:n[0].length,results:n},t.g==t.h.length||null==n||n.position!=t.g?null:(t.g+=n.length,n.results)}function yh(t){return t.g==t.h.length?null:(t=mh(t,/[^ \t\n]*/gm))?t[0]:null}function bh(){this.g=0}function wh(t,e,n){var r=(e=(e=Re(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new Kt(2,4,4015);e=0;for(var i=!0,o=c(r),a=o.next();!a.done;a=o.next())if(a=a.value,/^#(?!EXT)/m.test(a)||i)i=!1;else{if(a=Sh(t,a),--t.g,Th.includes(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(i=!0)}for(o=[],i=!0,a=0;a<r.length;a++){var s=r[a],u=r[a+1];if(/^#(?!EXT)/m.test(s)||i)i=!1;else{if(s=Sh(t,s),Eh.includes(s.name)){if(1!=e)throw new Kt(2,4,4017);var l=r.splice(a,r.length-a);r=n,i=[],a=[],u=[],s=null;for(var f=(l=c(l)).next();!f.done;f=l.next())f=f.value,/^(#EXT)/.test(f)?(f=Sh(t,f),Th.includes(f.name)?o.push(f):"EXT-X-MAP"==f.name?s=f:"EXT-X-PART"==f.name?u.push(f):"EXT-X-PRELOAD-HINT"==f.name?"PART"==sh(f,"TYPE")?u.push(f):"MAP"==sh(f,"TYPE")&&(f.name="EXT-X-MAP",s=f):a.push(f)):/^#(?!EXT)/m.test(f)||(f=ie([r],[f.trim()])[0],s&&a.push(s),i.push(new lh(f,a,u)),a=[],u=[]);return u.length&&(s&&a.push(s),i.push(new lh("",a,u))),new oh(n,e,o,i)}o.push(s),"EXT-X-STREAM-INF"==s.name&&(s.g.push(new ch("URI",u)),i=!0)}}return new oh(n,e,o)}function Sh(t,e){var n=t.g++,r=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new Kt(2,4,4016,e);var i,o=r[1],a=r[2];if(r=[],a){var s;(s=mh(a=new gh(a),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=mh(a,u);)r.push(new ch(s[1],s[2]||s[3])),vh(a)}return new ah(n,o,r,i)}(r=Xf.prototype).configure=function(t){this.g=t},r.start=function(t,e){var n,r=this;return D((function(i){if(1==i.g)return r.C=e.isLowLatencyMode(),r.m=[t],r.h=e,S(i,$f(r),2);if(n=i.h,r.h&&th(r,n),!r.h)throw new Kt(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var t=c(Object.values(this.l)),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.m=[],this.i=null,this.l={},this.j=null,null!=this.D&&(this.D.stop(),this.D=null),this.o.destroy()},r.update=function(){var t,e=this;return D((function(n){return 1==n.g?(E(n,2),S(n,$f(e),4)):2!=n.g?k(n,0):(t=x(n),e.h&&t?(e.h.onError(t),void T(n)):n.return())}))},r.onExpirationUpdated=function(){},H("shaka.dash.DashParser",Xf),Di.mpd=function(){return new Xf},Li["application/dash+xml"]=function(){return new Xf},Li["video/vnd.mpeg.dash.mpd"]=function(){return new Xf},ah.prototype.toString=function(){var t="#"+this.name,e=this.g?this.g.map((function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)})):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},ah.prototype.getAttribute=function(t){var e=this.g.filter((function(e){return e.name==t}));return e.length?e[0]:null};var Th="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),Eh="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function _h(){}function kh(t){try{var e=xh(t);return lr({uri:t,originalUri:t,data:e.data,headers:{"content-type":e.contentType}})}catch(n){return sr(n)}}function xh(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new Kt(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new Kt(2,1,1004,e);var r=n[0];e=t.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?Be(e):Le(e),contentType:r}}function Mh(){var t=this;this.g=this.i=null,this.Ga=1,this.o=new Map,this.u=new Map,this.ya=new Set,this.h=new Map,this.j=null,this.N="",this.da=new bh,this.xa=0,this.C=new pe((function(){!function(t){var e,n;D((function(r){return 1==r.g?t.i?(E(r,2),S(r,t.update(),4)):r.return():2!=r.g?(e=t.xa,t.C.S(e),k(r,0)):(n=x(r),t.i?(n.severity=1,t.i.onError(n),t.C.S(.1),void T(r)):r.return())}))}(t)})),this.m=Yh,this.D=null,this.fa=0,this.G=1/0,this.ca=this.ga=0,this.F=new mr,this.W=[],this.L=new Map,this.Ma=!1,this.s=new Map,this.V=null,this.ea=new Map,this.I=new Map,this.l=!1}function Ah(t,e){var n,r,i,o,a,s,u,l,c,f,h,d;return D((function(p){if(1==p.g)return n=Zh,r=e.Le,i=new qt(r),t.l&&e.Qe&&Wt(i,new ne("_HLS_skip=YES")),S(p,Kh(t,i.toString()),2);if(3!=p.g){if(o=p.h,1!=(a=wh(t.da,o.data,o.uri)).type)throw new Kt(2,4,4017);return s=fh(a.g,"EXT-X-DEFINE"),u=Rh(t,s),l=e.stream,S(p,Bh(t,e.Vc,a,l.type,l.mimeType,e.Fd,u,e.Xe,l.codecs,l.bandwidth),3)}c=p.h,l.segmentIndex.Gb(c,t.j.Qa()),c.length&&(f=ph(a.g,"EXT-X-MEDIA-SEQUENCE",0),h=e.Fd.get(f),l.segmentIndex.eb(h)),d=c[c.length-1],dh(a.g,"EXT-X-ENDLIST")&&(Gh(t,n.Ke),t.j.Ja(d.endTime)),T(p)}))}function Rh(t,e){for(var n=new Map,r=c(e),i=r.next();!i.done;i=r.next()){var o=i.value;i=sh(o,"NAME");var a=sh(o,"VALUE");o=sh(o,"IMPORT"),i&&a&&n.set(i,a),o&&(i=t.o.get(o))&&n.set(o,i)}return n}function Ih(t,e){var n=[];t.g.disableVideo||n.push(t.g.hls.defaultVideoCodec),t.g.disableAudio||n.push(t.g.hls.defaultAudioCodec);var r=sh(e,"CODECS",n.join(",")).split(/\s*,\s*/);n=new Set;for(var i=[],o=(r=c(r)).next();!o.done;o=r.next()){var a=$e(o=o.value)[0];n.has(a)||(i.push(o),n.add(a))}return i}function Ch(t){return un(t=sh(t,"LANGUAGE")||"und")}function Lh(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p;return D((function(g){if(1==g.g){n=uh(e,"GROUP-ID"),r="";var v=uh(e,"TYPE").toLowerCase();return"subtitles"==v&&(v=ue),(i=v)!=ue&&n&&t.s.has(n)&&(r=t.s.get(n)),o=Hh(uh(e,"URI"),t.o),t.h.has(o)?g.return(t.h.get(o)):(a=Ch(e),s=sh(e,"NAME"),u=sh(e,"DEFAULT"),l="YES"==u,v="audio"==i&&(v=sh(e,"CHANNELS"))?parseInt(v.split("/")[0],10):null,c=v,v="audio"==i&&(!!(v=sh(e,"CHANNELS"))&&v.includes("/JOC")),f=v,h=sh(e,"CHARACTERISTICS"),d=sh(e,"FORCED"),S(g,Dh(t,o,r,i,a,l,s,c,null,h,"YES"==d,f),2))}return p=g.h,t.u.has(n)?t.u.get(n).push(p):t.u.set(n,[p]),null==p?g.return(null):t.h.has(o)?g.return(t.h.get(o)):(t.h.set(o,p),g.return(p))}))}function Dh(t,e,n,r,i,o,a,s,u,l,h,d,p){var g,v,m,y,b,w,T,_,M,A,R,I,C,L,O,P,N,j,B,F,U,H,K,G,q,V,z,Y,X,$,Z,J,Q,tt,et,nt,rt,it,ot,at;return D((function(st){switch(st.g){case 1:return g=ie([t.N],[e])[0],S(st,Kh(t,g),2);case 2:if(v=st.h,g=v.uri,1!=(m=wh(t.da,v.data,g)).type)throw new Kt(2,4,4017);if(y=[],m.segments)for(b=c(m.segments),w=b.next();!w.done;w=b.next())T=w.value,_=fh(T.g,"EXT-X-KEY"),y.push.apply(y,f(_));for(M=!1,A=[],R=new Set,I=c(y),C=I.next();!C.done;C=I.next())if(L=C.value,"NONE"!=(O=uh(L,"METHOD"))){if(M=!0,"AES-128"==O)return t.Ma=!0,st.return(null);if(P=uh(L,"KEYFORMAT"),j=(N=Wh[P])?N(L):null){if(j.keyIds)for(B=c(j.keyIds),F=B.next();!F.done;F=B.next())U=F.value,R.add(U);A.push(j)}}if(M&&!A.length)throw new Kt(2,4,4026);return H=fh(m.g,"EXT-X-DEFINE"),K=Rh(t,H),Oh(t,m),S(st,function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g;return D((function(v){return 1==v.g?(o=le,a=_r,s=Hh(r.segments[0].h,i),u=new qt(s),l=u.wa.split(".").pop(),c=zh[e],(f=c[l])?v.return(f):e==o.Z?n&&"vtt"!=n&&"wvtt"!=n?v.return("application/mp4"):v.return("text/vtt"):e!=o.Tb||n&&"jpeg"!=n?((h=Sr([s],t.g.retryParameters)).method="HEAD",S(v,qh(t,h,a),2)):v.return("image/jpeg")):(d=v.h,(p=d.headers["content-type"])?v.return(p.split(";")[0]):(g=c.mp4,v.return(g)))}))}(t,r,n,m,K),3);case 3:return G=st.h,Vh.includes(G)&&(n=""),q=new Map,V=new Map,z=t.l,E(st,4),S(st,Bh(t,e,m,r,G,q,K,V,n,p),6);case 6:Y=st.h,k(st,5);break;case 4:if(4035==(X=x(st)).code)return W("Skipping unsupported HLS stream",G,e),st.return(null);throw X;case 5:if(z!=t.l&&Oh(t,m),$=Y[0].startTime,Z=Y[Y.length-1].endTime,J=new qa(Y),Q=r==ue?"subtitle":void 0,tt=[],l)for(et=c(l.split(",")),nt=et.next();!nt.done;nt=et.next())rt=nt.value,tt.push(rt);return ot=!!(it=dh(m.g,"EXT-X-SERVER-CONTROL"))&&null!=it.getAttribute("CAN-SKIP-UNTIL"),at={id:t.Ga++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:J,mimeType:G,codecs:n,kind:Q,encrypted:M,drmInfos:A,keyIds:R,language:i,label:a,type:r,primary:o,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:tt,forced:h,channelsCount:s,audioSamplingRate:null,spatialAudio:d,closedCaptions:u,hdr:void 0,tilesLayout:void 0},st.return({stream:at,Vc:e,Le:g,se:$,Ff:Z,Fd:q,Xe:V,Qe:ot})}}))}function Oh(t,e){var n=dh(e.g,"EXT-X-PLAYLIST-TYPE"),r=dh(e.g,"EXT-X-ENDLIST");if(r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r)Gh(t,Yh);else{if(Gh(t,n?$h:Xh),!(r=dh(e.g,"EXT-X-TARGETDURATION")))throw new Kt(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),n=dh(e.g,"EXT-X-PART-INF"),t.l&&n?(t.ga=Number(uh(n,"PART-TARGET")),t.G=Math.min(t.ga,t.G),n=dh(e.g,"EXT-X-SERVER-CONTROL"),t.ca=n?Number(uh(n,"PART-HOLD-BACK")):0):t.G=Math.min(r,t.G),t.fa=Math.max(r,t.fa)}}function Ph(t,e,n,r){return(n=dh(n,"EXT-X-MAP"))?(e=[r=Hh(ie([e],[uh(n,"URI")])[0],r),sh(n,"BYTERANGE","")].join("-"),t.ea.has(e)||(n=function(t,e){var n=0,r=null,i=sh(e,"BYTERANGE");return i&&(n=i.split("@"),r=Number(n[0]),n=Number(n[1]),r=n+r-1),new Ta((function(){return[t]}),n,r)}(r,n),t.ea.set(e,n)),t.ea.get(e)):null}function Nh(t,e,n,r,i,o,a,s,u){var l=r.g,f=Hh(r.h,a),h=dh(l,"EXTINF"),d=a=0,p=null;if(!h){if(0==r.i.length)throw new Kt(2,4,4024,"EXTINF");if(!t.l)return null}var g=[];if(t.l)for(var v={},m=0;m<r.i.length;v={dd:v.dd},m++){var y=r.i[m],b=0==m?n:g[g.length-1],w=0==m?i:b.endTime,S=Number(sh(y,"DURATION"))||t.ga;if(S){S=w+S;var T=0,E=null;"EXT-X-PRELOAD-HINT"==y.name?T=(b=sh(y,"BYTERANGE-START"))?Number(b):0:(T=(b=c(jh(b,T=sh(y,"BYTERANGE")))).next().value,E=b.next().value),(y=sh(y,"URI"))&&(v.dd=ie([s],[y])[0],g.push(new Ea(w,S,function(t){return function(){return[t.dd]}}(v),T,E,e,o,0,1/0)))}}return a=h?i+Number(h.value.split(",")[0]):g[g.length-1].endTime,(t=dh(l,"EXT-X-BYTERANGE"))?(d=(p=c(jh(n,t.value))).next().value,p=p.next().value):g.length&&(d=g[0].pa,p=g[g.length-1].ia),n="",t=null,"image"==u&&(n="1x1",u=dh(l,"EXT-X-TILES"))&&(n=uh(u,"LAYOUT"),(u=sh(u,"DURATION"))&&(t=Number(u))),new Ea(i,a,(function(){return f.length?[f]:[]}),d,p,e,o,0,1/0,g,n,t)}function jh(t,e){var n=0,r=null;return e&&(n=e.split("@"),r=Number(n[0]),r=(n=n[1]?Number(n[1]):t.ia+1)+r-1),[n,r]}function Bh(t,e,n,r,i,o,a,s,u,l){var c,f,h,d,p,g,v,m,y,b,w,T,E,_,k,x,M,A;return D((function(R){switch(R.g){case 1:if(c=n.segments,h=ph(n.g,"EXT-X-MEDIA-SEQUENCE",0),p=(d=dh(n.g,"EXT-X-SKIP"))?Number(sh(d,"SKIPPED-SEGMENTS")):0,g=h+p,t.m!=Yh&&o.has(g)){v=o.get(g),R.B(2);break}if(null!=t.V){R.B(3);break}return f=Ph(t,n.h,c[0].g,a),m=t,S(R,Uh(t,e,f,i,g,!1,c[0],a,r,u,l),4);case 4:m.V=R.h;case 3:v=t.V;case 2:if(c[0].h.split("/").pop(),y=ph(n.g,"EXT-X-DISCONTINUITY-SEQUENCE"),t.l&&(s.has(y)||s.set(y,g),p))for(b=s;b.has(y+1)&&b.get(y+1)<g;)y++;w=t.I.get(y)||0,T=[],E=0;case 5:if(!(E<c.length)){R.B(7);break}if(_=c[E],k=T[T.length-1],x=0==E?v:k.endTime,g=h+p+E,o.set(g,x),f=Ph(t,n.h,_.g,a),!dh(_.g,"EXT-X-DISCONTINUITY")){R.B(8);break}return y++,s.set(y,g),S(R,function(t,e,n,r,i,o,a,s,u,l,c,f){var h,d;return D((function(p){return 1==p.g?(h=0,t.I.has(e)?(h=t.I.get(e),p.B(2)):S(p,Uh(t,n,r,i,o,!0,a,s,l,c,f),3)):(2!=p.g&&(d=p.h,h=u-d,t.I.set(e,h)),p.return(h))}))}(t,y,e,f,i,g,_,a,x,r,u,l),9);case 9:w=R.h;case 8:!t.l&&t.i.isAutoLowLatencyMode()&&(t.i.enableLowLatencyMode(),t.l=t.i.isLowLatencyMode()),M=dh(_.g,"EXTINF"),t.l||M?(A=Nh(t,f,k,_,x,w,a,n.h,r))&&T.push(A):t.l||W("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),E++,R.B(5);break;case 7:return R.return(T)}}))}function Fh(t,e,n,r,i,o){var a,s,u,l,c,f;return D((function(h){switch(h.g){case 1:return a=_r,s=os(e.sa(),e.pa,e.ia,t.g.retryParameters),t.i.modifySegmentRequest(s,{type:n,init:e instanceof Ta,duration:e.endTime-e.startTime,mimeType:r,codecs:i,bandwidth:o}),t.g.hls.useFullSegmentsForStartTime?h.return(qh(t,s,a)):(u=os(e.sa(),e.pa,e.pa+2048-1,t.g.retryParameters),t.i.modifySegmentRequest(u,{type:n,init:e instanceof Ta,duration:e.endTime-e.startTime,mimeType:r,codecs:i,bandwidth:o}),E(h,2),S(h,qh(t,u,a),4));case 4:return l=h.h,h.return(l);case 2:if(7001==(c=x(h)).code)throw c;return W("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",u.uris[0]),S(h,qh(t,s,a),5);case 5:return f=h.h,h.return(f)}}))}function Uh(t,e,n,r,i,o,a,s,u,l,c){var f,h,d,p,g,v,m,y;return D((function(b){switch(b.g){case 1:if(f=Nh(t,n,null,a,0,0,s,"",u),t.D&&!o&&(h=t.h.get(e),void 0!=(d=h.Fd.get(i))))return b.return(d);if(r=r.toLowerCase(),Vh.includes(r))throw W("Raw formats are not yet supported.  Skipping "+r),new Kt(1,4,4035);if("video/webm"==r)throw W("WebM in HLS is not yet supported.  Skipping."),new Kt(1,4,4035);if("video/mp4"!=r&&"audio/mp4"!=r){b.B(2);break}return p=[Fh(t,f,u,r,l,c)],n&&p.push(Fh(t,n,u,r,l,c)),S(b,Promise.all(p),3);case 3:return g=b.h,v=g[0],m=g[1]||g[0],b.return(function(t,e,n,r){var i=0;if((new ji).box("moov",Bi).box("trak",Bi).box("mdia",Bi).P("mdhd",(function(t){i=Jo(t.reader,t.version).timescale,t.parser.stop()})).parse(r,!0),!i)throw new Kt(2,4,4030,t,e);var o=0,a=!1;if((new ji).box("moof",Bi).box("traf",Bi).P("tfdt",(function(t){o=Zo(t.reader,t.version).pd/i,a=!0,t.parser.stop()})).parse(n,!0),!a)throw new Kt(2,4,4030,t,e);return o}(e,v.uri,v.data,m.data));case 2:if("video/mp2t"!=r){b.B(4);break}return S(b,Fh(t,f,u,r,l,c),5);case 5:return y=b.h,b.return(function(t,e,n){function r(){o.seek(a+188),71!=(s=o.Y())&&(o.seek(a+192),s=o.Y()),71!=s&&(o.seek(a+204),s=o.Y()),71!=s&&i(),o.xe(1)}function i(){throw new Kt(2,4,4030,t,e)}var o=new Oi(n,0),a=0,s=0;for(n=Math.min(o.O.byteLength-188,940);;){if(a=o.X(),71!=(s=o.Y())){if(0<n){--n;continue}i()}n=0;var u=o.Kb();if(8191==(8191&u))r();else if(16384&u){if(0!=(u=(48&o.Y())>>4)&&2!=u||i(),3==u&&(u=o.Y(),o.skip(u)),1==o.M()>>8){o.skip(3),0!=(n=o.Y()>>6)&&1!=n||i(),0==o.Y()&&i(),n=o.Y(),u=o.Kb();var l=o.Kb();return(1073741824*((14&n)>>1)+((65534&u)<<14|(65534&l)>>1))/9e4}r()}else r()}}(e,y.uri,y.data));case 4:throw new Kt(2,4,4030,e)}}))}function Hh(t,e){var n=String(t).replace(/%7B/g,"{").replace(/%7D/g,"}"),r=n.match(/{\$\w*}/g);if(r)for(var i=(r=c(r)).next();!i.done;i=r.next()){var o=(i=i.value).slice(2,i.length-1),a=e.get(o);if(!a)throw new Kt(2,4,4039,o);n=n.replace(i,a)}return n}function Kh(t,e){var n=Sr([e],t.g.retryParameters);return t.i.modifyManifestRequest(n,{format:"h"}),qh(t,n,0)}function Gh(t,e){t.m=e,t.j&&t.j.pc(t.m==Yh),t.m!=Yh||t.C.stop()}function qh(t,e,n){if(!t.F)throw new Kt(2,7,7001);return e=t.i.networkingEngine.request(n,e),yr(t.F,e),e.promise}H("shaka.net.DataUriPlugin",_h),_h.parse=kh,wr("data",kh),(r=Mh.prototype).configure=function(t){this.g=t},r.start=function(t,e){var n,r,i=this;return D((function(o){return 1==o.g?(i.i=e,i.l=e.isLowLatencyMode(),S(o,Kh(i,t),2)):3!=o.g?(n=o.h,i.N=n.uri,S(o,function(t,e){var n,r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,_,k,M,A,R,I,C,L,O,P,N,j,B,F,U,H,K,G;return D((function(q){switch(q.g){case 1:if(0!=(n=wh(t.da,e,t.N)).type)throw new Kt(2,4,4022);for(r=fh(n.g,"EXT-X-DEFINE"),function(t,e){for(var n=c(e),r=n.next();!r.done;r=n.next()){var i=r.value;r=sh(i,"NAME"),i=sh(i,"VALUE"),r&&i&&(t.o.has(r)||t.o.set(r,i))}}(t,r),i=fh(n.g,"EXT-X-MEDIA"),o=fh(n.g,"EXT-X-STREAM-INF"),a=fh(n.g,"EXT-X-IMAGE-STREAM-INF"),function(t,e){for(var n=c(e),r=n.next();!r.done;r=n.next()){var i=r.value,o=sh(i,"AUDIO");r=sh(i,"VIDEO");var a=sh(i,"SUBTITLES");if(i=Ih(t,i),a){var s=se(ue,i);t.s.set(a,s),tt(i,s)}o&&((a=se("audio",i))||(a=t.g.hls.defaultAudioCodec),t.s.set(o,a)),r&&((o=se("video",i))||(o=t.g.hls.defaultVideoCodec),t.s.set(r,o))}}(t,o),s=fh(n.g,"EXT-X-SESSION-DATA"),u=c(s),l=u.next();!l.done;l=u.next())f=l.value,h=sh(f,"DATA-ID"),d=sh(f,"URI"),p=sh(f,"LANGUAGE"),g=sh(f,"VALUE"),v=(new Map).set("id",h),d&&v.set("uri",ie([t.N],[d])[0]),p&&v.set("language",p),g&&v.set("value",g),m=new hr("sessiondata",v),t.i&&t.i.onEvent(m);return S(q,function(t,e){var n;return D((function(r){return 1==r.g?(e=e.filter((function(t){var e=sh(t,"URI")||"";return"SUBTITLES"!=sh(t,"TYPE")&&""!=e}))).length?S(r,Lh(t,e[0]),2):r.B(2):(n=e.slice(1).map((function(e){return Lh(t,e)})),S(r,Promise.all(n),0))}))}(t,i),2);case 2:return function(t,e){for(var n=hh(e,"CLOSED-CAPTIONS"),r=(n=c(n)).next();!r.done;r=n.next()){var i=r.value;r=Ch(i);var o=uh(i,"GROUP-ID");i=uh(i,"INSTREAM-ID"),t.L.get(o)||t.L.set(o,new Map),t.L.get(o).set(i,r)}}(t,i),S(q,function(t,e){var n,r,i;return D((function(o){return 1==o.g?(n=e.map((function(e){var n,r,i,o,a,s,u,l;return D((function(f){if(1==f.g)return n=sh(e,"FRAME-RATE"),r=Number(sh(e,"AVERAGE-BANDWIDTH"))||Number(uh(e,"BANDWIDTH")),i=sh(e,"RESOLUTION"),o=c(i?i.split("x"):[null,null]),a=o.next().value,s=o.next().value,u=sh(e,"VIDEO-RANGE"),S(f,function(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v,m;return D((function(y){if(1==y.g)return r=le,i=Ih(t,e),o=sh(e,"AUDIO"),a=sh(e,"VIDEO"),u=(s=o||a)&&t.u.has(s)?t.u.get(s):[],l={audio:o?u:[],video:a?u:[]},h=!1,d=uh(e,"URI"),p=l.audio.find((function(t){return t&&t.Vc==d})),g=se(r.Na,i),(v=se(r.cb,i))&&!g?f=r.cb:!u.length&&v&&g?(f=r.Na,i=[[g,v].join()]):l.audio.length&&p?(f=r.cb,h=!0):f=l.video.length&&!l.audio.length?r.cb:r.Na,h?y.B(2):S(y,function(t,e,n,r,i){var o,a,s,u;return D((function(l){if(1==l.g){if(o=Hh(uh(e,"URI"),t.o),t.h.has(o))return l.return(t.h.get(o));var c=sh(e,"CLOSED-CAPTIONS");return a="video"==r&&c&&"NONE"!=c?t.L.get(c):null,s=ae(r,n),S(l,Dh(t,o,s,r,"und",!1,null,null,a,null,!1,!1,i),2)}return null==(u=l.h)?l.return(null):t.h.has(o)?l.return(t.h.get(o)):(t.h.set(o,u),l.return(u))}))}(t,e,i,f,n),3);if(2!=y.g&&(m=y.h),m)l[m.stream.type]=[m];else if(null===m)return y.return(null);return function(t){for(var e=(t=c(t.audio.concat(t.video))).next();!e.done;e=t.next())if(e=e.value){var n=e.stream.codecs.split(",");n=n.filter((function(t){return"mp4a.40.34"!=t})),e.stream.codecs=n.join(",")}}(l),y.return(l)}))}(t,e,r),2);if(l=f.h){for(var h=f.return,d=l.audio,p=l.video,g=c(p),v=g.next();!v.done;v=g.next())(v=v.value.stream)&&(v.width=Number(a)||void 0,v.height=Number(s)||void 0,v.frameRate=Number(n)||void 0,v.hdr=u||void 0);for(g=t.g.disableAudio,d.length&&!g||(d=[null]),g=t.g.disableVideo,p.length&&!g||(p=[null]),g=[],v=(d=c(d)).next();!v.done;v=d.next()){v=v.value;for(var m=c(p),y=m.next();!y.done;y=m.next()){var b=y.value;y=v?v.stream:null;var w=b?b.stream:null,T=v?v.stream.drmInfos:null,E=b?b.stream.drmInfos:null;b=(b?b.Vc:"")+" - "+(v?v.Vc:""),y&&w&&T.length&&E.length&&!(0<bi(T,E).length)||t.ya.has(b)||(y={id:t.Ga++,language:y?y.language:"und",primary:!!y&&y.primary||!!w&&w.primary,audio:y,video:w,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},g.push(y),t.ya.add(b))}}f=h.call(f,g)}else f=f.return([]);return f}))})),S(o,Promise.all(n),2)):(r=o.h,i=(i=r.reduce(Pt,[])).filter((function(t){return null!=t})),o.return(i))}))}(t,o),3);case 3:return y=q.h,S(q,function(t,e){var n,r,i,o,a,s,u,l,f,h,d;return D((function(p){if(1==p.g)return n=hh(e,"SUBTITLES"),r=n.map((function(e){var n,r;return D((function(i){if(1==i.g)return t.g.disableText?i.return(null):(E(i,2),S(i,Lh(t,e),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=x(i),t.g.hls.ignoreTextStreamFailures)return i.return(null);throw r}))})),S(p,Promise.all(r),2);for(i=p.h,o=c(n),a=o.next();!a.done;a=o.next())if(s=a.value,u=uh(s,"GROUP-ID"),(l=t.s.get(u))&&(f=t.u.get(u)))for(h=c(f),d=h.next();!d.done;d=h.next())d.value.stream.codecs=l;return p.return(i.filter((function(t){return t})))}))}(t,i),4);case 4:return b=q.h,S(q,function(t,e){var n,r;return D((function(i){return 1==i.g?(n=e.map((function(e){var n,r;return D((function(i){if(1==i.g)return t.g.disableThumbnails?i.return(null):(E(i,2),S(i,function(t,e){var n,r,i,o,a,s,u,l,c,f;return D((function(h){return 1==h.g?(n=Hh(uh(e,"URI"),t.o),r=sh(e,"CODECS","jpeg")||"",t.h.has(n)?h.return(t.h.get(n)):(i=Ch(e),o=sh(e,"NAME"),a=sh(e,"CHARACTERISTICS"),S(h,Dh(t,n,r,"image",i,!1,o,null,null,a,!1,!1),2))):null==(s=h.h)?h.return(null):t.h.has(n)?h.return(t.h.get(n)):((u=sh(e,"RESOLUTION"))&&(l=s.stream.segmentIndex.get(0),(c=l.tilesLayout)&&(s.stream.width=Number(u.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(u.split("x")[1])*Number(c.split("x")[1]))),(f=sh(e,"BANDWIDTH"))&&(s.stream.bandwidth=Number(f)),t.h.set(n,s),h.return(s))}))}(t,e),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=x(i),t.g.hls.ignoreImageStreamFailures)return i.return(null);throw r}))})),S(i,Promise.all(n),2)):(r=i.h,i.return(r.filter((function(t){return t}))))}))}(t,a),5);case 5:if(w=q.h,!t.i)throw new Kt(2,7,7001);if(t.Ma&&0==y.length)throw new Kt(2,4,4034);for(k=_=1/0,M=c(t.h.values()),A=M.next();!A.done;A=M.next())R=A.value,_=Math.min(_,R.se),"text"!=R.stream.type&&(k=Math.min(k,R.Ff-R.se));if(t.m!=Yh?(t.j=new _a(0,t.g.defaultPresentationDelay?t.g.defaultPresentationDelay:t.ca?t.ca:3*t.fa),t.j.pc(!1)):(t.j=new _a(null,0),t.j.pc(!0)),t.m!=Yh)t.xa=t.G,I=Zh,t.m==I.Je&&(C=t.j.Sc,isNaN(t.g.availabilityWindowOverride)||(C=t.g.availabilityWindowOverride),t.j.Zd(C));else for(t.j.Ja(k),t.j.offset(-_),L=c(t.h.values()),A=L.next();!A.done;A=L.next())(O=A.value).stream.segmentIndex.offset(-_),O.stream.segmentIndex.Xa(0,k);for(t.W=[],P=[],N=c(y),j=N.next();!j.done;j=N.next())for(B=j.value,F=c([B.video,B.audio]),U=F.next();!U.done;U=F.next())(H=U.value)&&P.push(H);return S(q,Promise.all(P.map((function(t){return D((function(e){return S(e,t.createSegmentIndex(),0)}))}))),6);case 6:for(K=c(P),U=K.next();!U.done;U=K.next())G=U.value,t.W.push(G.segmentIndex.K);!function(t){if(t.j){for(var e=c(t.W),n=e.next();!n.done;n=e.next())t.j.Hb(n.value);t.W=[]}}(t),t.j.Cd(),t.D={presentationTimeline:t.j,variants:y,textStreams:b,imageStreams:w,offlineSessionIds:[],minBufferTime:0},t.i.makeTextStreamsForClosedCaptions(t.D),T(q)}}))}(i,n.data),3)):(0<(r=i.xa)&&i.C.S(r),o.return(i.D))}))},r.stop=function(){this.C&&(this.C.stop(),this.C=null);var t=[];return this.F&&(t.push(this.F.destroy()),this.F=null),this.g=this.i=null,this.ya.clear(),this.D=null,this.h.clear(),this.u.clear(),this.s.clear(),this.o.clear(),Promise.all(t)},r.update=function(){var t,e,n,r=this;return D((function(i){if(1==i.g)return r.m==Yh?i.return():(t=[],r.V=null,(e=Array.from(r.h.values())).length?S(i,Ah(r,e[0]),2):i.B(2));for(n=1;n<e.length;n++)t.push(Ah(r,e[n]));return S(i,Promise.all(t),0)}))},r.onExpirationUpdated=function(){},H("shaka.hls.HlsParser",Mh);var Vh=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],zh={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},Wh={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=uh(t,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?(e=oe("com.widevine.alpha",[{initDataType:"cenc",initData:e=Mt((e=xh(e=uh(t,"URI"))).data)}]),(t=sh(t,"KEYID"))&&(e.keyIds=new Set([t.toLowerCase().substr(2)])),e):null},"com.microsoft.playready":function(t){var e=uh(t,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?oe("com.microsoft.playready",[{initDataType:"cenc",initData:t=zc(t=Mt((t=xh(t=uh(t,"URI"))).data),e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]))}]):null}},Yh="VOD",Xh="EVENT",$h="LIVE",Zh={Ke:Yh,og:Xh,Je:$h};function Jh(t,e,n,r,i,o){if(200<=n&&299>=n&&202!=n)return{uri:i||r,originalUri:r,data:e,status:n,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=Ce(e)}catch(a){}throw new Kt(401==n||403==n?2:1,1,1001,r,n,i,t,o)}function Qh(){}function td(t,e,n,r,i){var o=new ad;Nr(e.headers).forEach((function(t,e){o.append(e,t)}));var a=new id,s={ee:!1,Ge:!1};if(t=new ar(t=function(t,e,n,r,i,o,a){var s,u,l,c,f,h,d,p,g,v,m,y;return D((function(b){switch(b.g){case 1:return s=rd,u=od,h=f=0,d=Date.now(),E(b,2),S(b,s(t,n),4);case 4:if(l=b.h,o(ed(l.headers)),"HEAD"==n.method){b.B(5);break}return p=l.clone().body.getReader(),v=(g=l.headers.get("Content-Length"))?parseInt(g,10):0,new u({start:function(t){!function e(){var n,r;return D((function(o){switch(o.g){case 1:return E(o,2),S(o,p.read(),4);case 4:n=o.h,k(o,3);break;case 2:return x(o),o.return();case 3:if(n.done){o.B(5);break}if(f+=n.value.byteLength,!a){o.B(5);break}return S(o,a(n.value),5);case 5:(100<(r=Date.now())-d||n.done)&&(i(r-d,f-h,v-f),h=f,d=r),n.done?t.close():(t.enqueue(n.value),e()),T(o)}}))}()}}),S(b,l.arrayBuffer(),6);case 6:c=b.h;case 5:k(b,3);break;case 2:if(m=x(b),r.ee)throw new Kt(1,1,7001,t,e);if(r.Ge)throw new Kt(1,1,1003,t,e);throw new Kt(1,1,1002,t,m,e);case 3:return y=ed(l.headers),b.return(Jh(y,c,l.status,t,l.url,e))}}))}(t,n,{body:e.body||void 0,headers:o,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},s,r,i,e.streamDataCallback),(function(){return s.ee=!0,a.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var u=new pe((function(){s.Ge=!0,a.abort()}));u.S(e/1e3),t.finally((function(){u.stop()}))}return t}function ed(t){var e={};return t.forEach((function(t,n){e[n.trim()]=t})),e}function nd(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(mm){return!1}return!!t.Response&&(!!new Response("").body&&!(!t.fetch||!t.AbortController))}Di.m3u8=function(){return new Mh},Li["application/x-mpegurl"]=function(){return new Mh},Li["application/vnd.apple.mpegurl"]=function(){return new Mh},H("shaka.net.HttpFetchPlugin",Qh),Qh.isSupported=nd,Qh.parse=td;var rd=t.fetch,id=t.AbortController,od=t.ReadableStream,ad=t.Headers;function sd(){}function ud(t,e,n,r,i){var o=new cd,a=Date.now(),s=0;return new ar(new Promise((function(u,l){o.open(e.method,t,!0),o.responseType="arraybuffer",o.timeout=e.retryParameters.timeout,o.withCredentials=e.allowCrossSiteCredentials,o.onabort=function(){l(new Kt(1,1,7001,t,n))};var c=!1;for(var f in o.onreadystatechange=function(){if(2==o.readyState&&!c){var t=ld(o);i(t),c=!0}},o.onload=function(){var e=ld(o),r=o.response;try{var i=Jh(e,r,o.status,t,o.responseURL,n);u(i)}catch(a){l(a)}},o.onerror=function(e){l(new Kt(1,1,1002,t,e,n))},o.ontimeout=function(){l(new Kt(1,1,1003,t,n))},o.onprogress=function(t){var e=Date.now();(100<e-a||t.lengthComputable&&t.loaded==t.total)&&(r(e-a,t.loaded-s,t.total-t.loaded),s=t.loaded,a=e)},e.headers)o.setRequestHeader(f.toLowerCase(),e.headers[f]);o.send(e.body)})),(function(){return o.abort(),Promise.resolve()}))}function ld(t){var e=t.getAllResponseHeaders().trim().split("\r\n");t={};for(var n=(e=c(e)).next();!n.done;n=e.next())t[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return t}nd()&&(wr("http",td,2,!0),wr("https",td,2,!0),wr("blob",td,2,!0)),H("shaka.net.HttpXHRPlugin",sd),sd.parse=ud;var cd=t.XMLHttpRequest;function fd(t,e,n,r){this.g=t,this.i=e,this.groupId=n,this.h=r}function hd(t){return t.sa().map((function(t){return"{"+encodeURI(t)+"}"})).join("")+":"+t.pa+":"+t.ia}function dd(t,e){return os(t.g.sa(),t.g.pa,t.g.ia,e.streaming.retryParameters)}function pd(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function gd(t,e){t.i+=e;var n=t.l;return t.l++,t.g.set(n,e),n}function vd(t){var e=this;this.o=t,this.j=new Map,this.i=new Mr((function(){return md(e).catch((function(){}))})),this.h=[],this.m=function(){},this.l=function(){},this.g=new pd}function md(t){var e=t.h.map((function(t){return t()}));return t.h=[],Promise.all(e)}function yd(t,e,n,r,i,o){Ar(t.i);var a=(t.j.get(e)||Promise.resolve()).then((function(){var e,a,s,u,l,c,f;return D((function(h){if(1==h.g)return S(h,function(t,e){var n,r,i,o;return D((function(a){return 1==a.g?(n=_r,r=t.o.request(n,e),i=function(){return r.abort()},t.h.push(i),S(a,r.promise,2)):(o=a.h,tt(t.h,i),a.return(o.data))}))}(t,n),2);if(e=h.h,t.i.g)throw new Kt(2,9,7001);if(i)for(u in a=Mt(e),(s=new Vc(a)).data)l=Number(u),c=s.data[l],f=s.g[l],t.l(c,f);t.g.close(r,e.byteLength);var d=t.g;return t.m(0==d.i?0:d.j/d.i,t.g.h),h.return(o(e))}))}));t.j.set(e,a)}function bd(t,e){var n=this;this.i=t,this.h=t.objectStore(e),this.g=new fe,t.onabort=function(t){t.preventDefault(),n.g.reject()},t.onerror=function(t){t.preventDefault(),n.g.reject()},t.oncomplete=function(){n.g.resolve()}}function wd(t,e){return new Promise((function(n,r){var i=t.h.openCursor();i.onerror=r,i.onsuccess=function(){var t;return D((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(t=i.result,S(r,e(t.key,t.value,t),2));t.continue(),T(r)}))}}))}function Sd(t){this.h=t,this.g=[]}function Td(t,e){return Ed(t,e,"readwrite")}function Ed(t,e,n){var r=new bd(n=t.h.transaction([e],n),e);return t.g.push(r),r.promise().then((function(){tt(t.g,r)}),(function(){tt(t.g,r)})),r}function _d(t,e,n){this.h=new Sd(t),this.i=e,this.g=n}function kd(t){return Promise.reject(new Kt(2,9,9011,"Cannot add new value to "+t))}function xd(t,e,n,r){e=(t=Td(t.h,e)).store();for(var i={},o=(n=c(n)).next();!o.done;i={uc:i.uc},o=n.next())i.uc=o.value,e.delete(i.uc).onsuccess=function(t){return function(){return r(t.uc)}}(i);return t.promise()}function Md(t,e,n){var r,i,o,a,s,u,l;return D((function(f){if(1==f.g){for(r=Ed(t.h,e,"readonly"),i=r.store(),o={},a=[],s={},u=c(n),l=u.next();!l.done;s={Sb:s.Sb,Qb:s.Qb},l=u.next())s.Qb=l.value,s.Sb=i.get(s.Qb),s.Sb.onsuccess=function(t){return function(){void 0==t.Sb.result&&a.push(t.Qb),o[t.Qb]=t.Sb.result}}(s);return S(f,r.promise(),2)}if(a.length)throw new Kt(2,9,9012,"Could not find values for "+a);return f.return(n.map((function(t){return o[t]})))}))}function Ad(t){this.g=new Sd(t)}function Rd(){this.g=new Map}function Id(t){var e=null;if(t.g.forEach((function(t,n){t.getCells().forEach((function(t,r){t.hasFixedKeySpace()||e||(e={path:{Ca:n,ma:r},ma:t})}))})),e)return e;throw new Kt(2,9,9013,"Could not find a cell that supports add-operations")}function Cd(t,e,n){if(!(t=t.g.get(e)))throw new Kt(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new Kt(2,9,9013,"Could not find cell with name "+n);return e}function Ld(t,e){Dd.set(t,e)}wr("http",ud,1,!0),wr("https",ud,1,!0),wr("blob",ud,1,!0),pd.prototype.close=function(t,e){if(this.g.has(t)){var n=this.g.get(t);this.g.delete(t),this.j+=n,this.h+=e}},vd.prototype.destroy=function(){return this.i.destroy()},bd.prototype.abort=function(){var t=this;return D((function(e){if(1==e.g){try{t.i.abort()}catch(n){}return E(e,2),S(e,t.g,4)}if(2!=e.g)return k(e,0);x(e),T(e)}))},bd.prototype.store=function(){return this.h},bd.prototype.promise=function(){return this.g},Sd.prototype.destroy=function(){return Promise.all(this.g.map((function(t){return t.abort()})))},(r=_d.prototype).destroy=function(){return this.h.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return kd(this.i)},r.removeSegments=function(t,e){return xd(this,this.i,t,e)},r.getSegments=function(t){var e,n=this;return D((function(r){return 1==r.g?S(r,Md(n,n.i,t),2):(e=r.h,r.return(e.map((function(t){return n.fe(t)}))))}))},r.addManifests=function(){return kd(this.g)},r.updateManifest=function(){return Promise.reject(new Kt(2,9,9016,"Cannot modify values in "+this.g))},r.updateManifestExpiration=function(t,e){var n=Td(this.h,this.g),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},r.removeManifests=function(t,e){return xd(this,this.g,t,e)},r.getManifests=function(t){var e,n=this;return D((function(r){return 1==r.g?S(r,Md(n,n.g,t),2):(e=r.h,r.return(Promise.all(e.map((function(t){return n.$b(t)})))))}))},r.getAllManifests=function(){var t,e,n=this;return D((function(r){return 1==r.g?(t=Ed(n.h,n.g,"readonly"),e=new Map,S(r,wd(t,(function(t,r){var i;return D((function(o){if(1==o.g)return S(o,n.$b(r),2);i=o.h,e.set(t,i),T(o)}))})),2)):3!=r.g?S(r,t.promise(),3):r.return(e)}))},r.fe=function(t){return t},r.$b=function(t){return Promise.resolve(t)},r.add=function(t,e){var n,r,i,o,a,s,u,l=this;return D((function(f){if(1==f.g){for(n=Td(l.h,t),r=n.store(),i=[],o={},a=c(e),s=a.next();!s.done;o={vc:o.vc},s=a.next())u=s.value,o.vc=r.add(u),o.vc.onsuccess=function(t){return function(){i.push(t.vc.result)}}(o);return S(f,n.promise(),2)}return f.return(i)}))},Ad.prototype.destroy=function(){return this.g.destroy()},Ad.prototype.getAll=function(){var t,e,n=this;return D((function(r){return 1==r.g?(t=Ed(n.g,"session-ids","readonly"),e=[],S(r,wd(t,(function(t,n){e.push(n)})),2)):3!=r.g?S(r,t.promise(),3):r.return(e)}))},Ad.prototype.add=function(t){for(var e=Td(this.g,"session-ids"),n=e.store(),r=(t=c(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},Ad.prototype.remove=function(t){var e,n=this;return D((function(r){return 1==r.g?S(r,wd(e=Td(n.g,"session-ids"),(function(e,n,r){t.includes(n.sessionId)&&r.delete()})),2):S(r,e.promise(),0)}))},Rd.prototype.destroy=function(){for(var t=[],e=c(this.g.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.g.clear(),Promise.all(t)},Rd.prototype.init=function(){var t=this;Dd.forEach((function(e,n){var r=e();r&&t.g.set(n,r)}));for(var e=[],n=c(this.g.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},H("shaka.offline.StorageMuxer",Rd),Rd.unregister=function(t){Dd.delete(t)},Rd.register=Ld,Rd.prototype.destroy=Rd.prototype.destroy;var Dd=new Map;function Od(){_d.apply(this,arguments)}function Pd(t,e){!function(t){var e=t.streams.filter((function(t){return"audio"==t.contentType}));if(t=t.streams.filter((function(t){return"video"==t.contentType})),!e.every((function(t){return t.variantIds}))||!t.every((function(t){return t.variantIds}))){for(var n=c(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=c(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,t.length&&!e.length){var i=n++,o=c(t);for(r=o.next();!r.done;r=o.next())r.value.variantIds.push(i)}if(!t.length&&e.length)for(i=n++,o=c(e),r=o.next();!r.done;r=o.next())r.value.variantIds.push(i);if(t.length&&e.length)for(e=c(e),r=e.next();!r.done;r=e.next())for(r=r.value,i=c(t),o=i.next();!o.done;o=i.next()){o=o.value;var a=n++;r.variantIds.push(a),o.variantIds.push(a)}}}(t);for(var n=c(t.streams),r=n.next();!r.done;r=n.next());return t.streams.map((function(n){return function(t,e,n){var r=t.initSegmentUri?Nd(t.initSegmentUri):null,i=e+t.presentationTimeOffset,o=e+n;return{id:t.id,originalId:null,primary:t.primary,type:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:r,encrypted:t.encrypted,keyIds:new Set([t.keyId]),segments:t.segments.map((function(t){var n=Nd(t.uri);return{startTime:e+t.startTime,endTime:e+t.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:e,appendWindowEnd:o,timestampOffset:i,tilesLayout:""}})),variantIds:t.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}(n,t.startTime,e)}))}function Nd(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new Kt(2,9,9004,"Could not parse uri "+t)}function jd(){_d.apply(this,arguments)}function Bd(t,e,n){return{id:t.id,originalId:t.originalId,primary:t.primary,type:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,encrypted:t.encrypted,keyIds:new Set([t.keyId]),segments:t.segments.map((function(r){return{startTime:e+r.startTime,endTime:e+r.endTime,initSegmentKey:t.initSegmentKey,appendWindowStart:e,appendWindowEnd:n,timestampOffset:e-t.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:""}})),variantIds:t.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function Fd(){_d.apply(this,arguments)}function Ud(){this.m=this.j=this.i=this.h=this.g=this.l=null}function Hd(t,e,n,r){this.g=t,this.i=e,this.h=n,this.l=r,this.j=["offline:",t,"/",e,"/",n,"/",r].join("")}function Kd(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new Hd(e,n,r,Number(t[4])):null}function Gd(t,e){this.h=t,this.g=e}function qd(t,e){var n=new _a(null,0);n.Ja(e.duration);var r=e.streams.filter((function(t){return"audio"==t.type})),i=e.streams.filter((function(t){return"video"==t.type}));r=function(t,e,n,r){for(var i=new Set,o=c(e),a=o.next();!a.done;a=o.next()){var s=c(a.value.variantIds);for(a=s.next();!a.done;a=s.next())i.add(a.value)}for(o=c(n),a=o.next();!a.done;a=o.next())for(s=c(a.value.variantIds),a=s.next();!a.done;a=s.next())i.add(a.value);for(o=new Map,i=c(i),a=i.next();!a.done;a=i.next())a=a.value,o.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(e=c(e),i=e.next();!i.done;i=e.next())for(i=i.value,a=Vd(t,i,r),s=c(i.variantIds),i=s.next();!i.done;i=s.next())(i=o.get(i.value)).language=a.language,i.primary=i.primary||a.primary,i.audio=a;for(n=c(n),e=n.next();!e.done;e=n.next())for(i=e.value,e=Vd(t,i,r),a=c(i.variantIds),i=a.next();!i.done;i=a.next())(i=o.get(i.value)).primary=i.primary||e.primary,i.video=e;return o}(t,r,i,n),i=e.streams.filter((function(t){return t.type==ue})).map((function(e){return Vd(t,e,n)}));var o=e.streams.filter((function(t){return"image"==t.type})).map((function(e){return Vd(t,e,n)})),a=e.drmInfo?[e.drmInfo]:[];if(e.drmInfo)for(var s=c(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=a),u.video&&u.video.encrypted&&(u.video.drmInfos=a);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:o}}function Vd(t,e,n){var r=e.segments.map((function(e){return function(t,e){var n=new Hd("segment",t.h,t.g,e.dataKey);return new Ea(e.startTime,e.endTime,(function(){return[n.toString()]}),0,null,null!=e.initSegmentKey?function(t,e){var n=new Hd("segment",t.h,t.g,e);return new Ta((function(){return[n.toString()]}),0,null)}(t,e.initSegmentKey):null,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,[],e.tilesLayout||"")}(t,e)}));return n.Hb(r),{id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new qa(r),mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:e.hdr,kind:e.kind,encrypted:e.encrypted,drmInfos:[],keyIds:e.keyIds,language:e.language,label:e.label,type:e.type,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:e.roles,forced:e.forced,channelsCount:e.channelsCount,audioSamplingRate:e.audioSamplingRate,spatialAudio:e.spatialAudio,closedCaptions:e.closedCaptions,tilesLayout:e.tilesLayout}}function zd(){this.g=null}function Wd(){}function Yd(t){var e=Kd(t);return e&&"manifest"==e.g?t=lr(t={uri:t,originalUri:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):t=e&&"segment"==e.g?function(t,e){var n=new Rd;return lr(void 0).$((function(){return n.init()})).$((function(){return Cd(n,e.Ca(),e.ma())})).$((function(t){return t.getSegments([e.key()])})).$((function(t){return{uri:e,data:t[0].data,headers:{}}})).finally((function(){return n.destroy()}))}(e.key(),e):sr(new Kt(2,1,9004,t)),t}function Xd(t,e,n){var r,i,o,a,s,u;return D((function(l){switch(l.g){case 1:r=[];for(var f=[],h=c(n),d=h.next();!d.done;d=h.next()){d=d.value;for(var p=!1,g=c(f),v=g.next();!v.done;v=g.next())if($d((v=v.value).info,d)){v.sessionIds.push(d.sessionId),p=!0;break}p||f.push({info:d,sessionIds:[d.sessionId]})}i=c(f),o=i.next();case 2:if(o.done){l.B(4);break}return a=o.value,s=function(t,e,n){var r,i;return D((function(o){switch(o.g){case 1:return r=new oi({nb:e,onError:function(){},Pc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),E(o,2),r.configure(t),S(o,function(t,e,n,r,i,o){var a=new Map;return(i={audioCapabilities:i,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e}).drmInfos=[{keySystem:e,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],a.set(e,i),di(t,a,[])}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:k(o,3);break;case 2:return x(o),S(o,r.destroy(),5);case 5:return o.return([]);case 3:return E(o,6),S(o,ui(r),8);case 8:k(o,7);break;case 6:return x(o),S(o,r.destroy(),9);case 9:return o.return([]);case 7:return i=[],S(o,Promise.all(n.sessionIds.map((function(t){return D((function(e){return 1==e.g?(E(e,2),S(e,function(t,e){var n,r,i;return D((function(o){return 1==o.g?S(o,pi(t,e),2):3!=o.g?(n=o.h)?(r=[],(i=t.i.get(n))&&(i.Ka=new fe,r.push(i.Ka)),r.push(n.remove()),S(o,Promise.all(r),3)):o.return():(t.i.delete(n),void T(o))}))}(r,t),4)):2!=e.g?(i.push(t),k(e,0)):(x(e),void T(e))}))}))),10);case 10:return S(o,r.destroy(),11);case 11:return o.return(i)}}))}(t,e,a),S(l,s,5);case 5:u=l.h,r=r.concat(u),o=i.next(),l.B(2);break;case 4:return l.return(r)}}))}function $d(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&et(t.audioCapabilities,e.audioCapabilities,n)&&et(t.videoCapabilities,e.videoCapabilities,n)}function Zd(t,e){var n=qd(new Gd(t.Ca(),t.ma()),e),r=e.appMetadata||{};return n=Jd(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r,isIncomplete:e.isIncomplete||!1}}function Jd(t){for(var e=[],n=function(t){return t.filter((function(t){return Pn(t)}))}(t.variants),r=(n=c(n)).next();!r.done;r=n.next())e.push(An(r.value));for(n=(t=c(t.textStreams)).next();!n.done;n=t.next())e.push(Rn(n.value));return e}function Qd(){this.g={}}function tp(t,e){var n=e.audio,r=e.video;if(n&&!r&&(t.g[n.id]=n.bandwidth||e.bandwidth),!n&&r&&(t.g[r.id]=r.bandwidth||e.bandwidth),n&&r){var i=n.bandwidth||393216,o=r.bandwidth||e.bandwidth-i;0>=o&&(o=e.bandwidth),t.g[n.id]=i,t.g[r.id]=o}}function ep(t,e){t.g[e.id]=e.bandwidth||2048}function np(t,e){var n=t.g[e];return null==n&&(n=0),n}function rp(t){var e=this;if(t&&t.constructor!=cu)throw new Kt(2,9,9008);this.g=this.h=null,t?(this.h=t.h,this.g=t.dc()):(this.h=nu(),this.g=new br),this.i=[],this.j=[];var n=!t;this.l=new Mr((function(){var t,r,i,o,a;return D((function(s){switch(s.g){case 1:return S(s,Promise.all(e.j.map((function(t){return md(t)}))),2);case 2:for(t=function(){},r=[],i=c(e.i),o=i.next();!o.done;o=i.next())a=o.value,r.push(a.then(t,t));return S(s,Promise.all(r),3);case 3:if(!n){s.B(4);break}return S(s,e.g.destroy(),4);case 4:e.h=null,e.g=null,T(s)}}))}))}function ip(){if(ge())t:{for(var t=c(Dd.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function op(t){var e,n,r;return D((function(i){switch(i.g){case 1:return S(i,(e=new Rd).init(),2);case 2:return S(i,Id(e),3);case 3:return n=i.h,r=new Hd("manifest",n.path.Ca,n.path.ma,t),S(i,e.destroy(),4);case 4:return S(i,(new rp).remove(r.toString()),0)}}))}function ap(t,e,n,r,i,o){var a,s,u,l,f,h,d,p,g,v,m;return D((function(y){switch(y.g){case 1:for(a=!1,E(y,2),s=!0,u=c(n.streams),l=u.next();!l.done;l=u.next())for(f=l.value,h=c(f.segments),d=h.next();!d.done;d=h.next())p=d.value,null!=(g=p.pendingSegmentRefId?r[p.pendingSegmentRefId]:null)&&(p.dataKey=g,p.pendingSegmentRefId=void 0),null!=(g=p.pendingInitSegmentRefId?r[p.pendingInitSegmentRefId]:null)&&(p.initSegmentKey=g,p.pendingInitSegmentRefId=void 0),p.pendingSegmentRefId&&(s=!1),p.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),S(y,t.updateManifest(e,n),4);case 4:a=!0,o(),k(y,0);break;case 2:return v=x(y),S(y,op(e),5);case 5:if(a){y.B(6);break}return m=Object.values(r),S(y,t.removeSegments(m,(function(){})),6);case 6:throw v}}))}function sp(t){return t.variants.some((function(t){var e=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||e}))}function up(t){return t.variants.some((function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some((function(t){return t.initData&&t.initData.length}))}))}function lp(t,e){for(var n=[],r=c(t.streams),i=r.next();!i.done;i=r.next())i=i.value,e&&"video"==i.type?n.push({contentType:ze(i.mimeType,i.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=i.type||n.push({contentType:ze(i.mimeType,i.codecs),robustness:t.drmInfo.audioRobustness});return n}function cp(t,e,n){return D((function(r){return S(r,function(t,e,n,r){var i,o,a;return D((function(s){return 1==s.g?r.drmInfo?(i=function(t){var e=Array.from(t.g.keys());if(!e.length)throw new Kt(2,9,9e3,"No supported storage mechanisms found");return t.g.get(e[0]).getEmeSessionCell()}(n),o=r.sessionIds.map((function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:lp(r,!1),videoCapabilities:lp(r,!0)}})),S(s,Xd(e,t,o),2)):s.return():3!=s.g?(a=s.h,S(s,i.remove(a),3)):S(s,i.add(o.filter((function(t){return!a.includes(t.sessionId)}))),0)}))}(t.g,t.h.drm,n,e),0)}))}function fp(t,e,n){function r(){}var i=function(t){for(var e=new Set,n=(t=c(t.streams)).next();!n.done;n=t.next())for(var r=(n=c(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&e.add(r.initSegmentKey),e.add(r.dataKey);return Array.from(e)}(n);return Zd(e,n),Promise.all([t.removeSegments(i,r),t.removeManifests([e.key()],r)])}function hp(t,e,n,r,i){var o={id:r.id,originalId:r.originalId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,kind:r.kind,language:r.language,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout};return function(t,e,n){if(null!=(e=t.segmentIndex.find(e)))for(var r=t.segmentIndex.get(e);r;)n(r),r=t.segmentIndex.get(++e)}(r,n.presentationTimeline.Qa(),(function(n){var a=hd(n),s=void 0;if(!i.has(a)){var u=n.endTime-n.startTime;u=np(e,r.id)*u,u=gd(t.g,u),i.set(a,new fd(n,u,r.id,!1))}n.g&&(s=hd(n.g),i.has(s)||(u=.5*np(e,r.id),u=gd(t.g,u),i.set(s,new fd(n.g,u,r.id,!0)))),o.segments.push({pendingInitSegmentRefId:s,initSegmentKey:s?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:a,dataKey:0})})),o}function dp(t){if(t.l.g)throw new Kt(2,9,7001)}function pp(){if(!ip())throw new Kt(2,9,9e3)}function gp(t,e){return D((function(n){return 1==n.g?(t.i.push(e),_(n),S(n,e,4)):2!=n.g?n.return(n.h):(M(n),tt(t.i,e),A(n,0))}))}function vp(t){for(var e=new Set,n=c(t.textStreams),r=n.next();!r.done;r=n.next())e.add(r.value);for(r=(n=c(t.imageStreams)).next();!r.done;r=n.next())e.add(r.value);for(n=(t=c(t.variants)).next();!n.done;n=t.next())(n=n.value).audio&&e.add(n.audio),n.video&&e.add(n.video);return e}m(Od,_d),Od.prototype.updateManifestExpiration=function(t,e){var n,r,i,o=this;return D((function(a){return n=Td(o.h,o.g),r=n.store(),i=new fe,r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new Kt(2,9,9012,"Could not find values for "+t))},S(a,Promise.all([n.promise(),i]),0)}))},Od.prototype.$b=function(t){var e,n,r,i,o,a;return D((function(s){if(1==s.g){for(e=[],n=0;n<t.periods.length;++n)r=n==t.periods.length-1?t.duration:t.periods[n+1].startTime,i=r-t.periods[n].startTime,o=Pd(t.periods[n],i),e.push(o);return S(s,kf(e),2)}return a=s.h,s.return({creationTime:0,originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,streams:a,sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata})}))},Od.prototype.fe=function(t){return{data:t.data}},m(jd,_d),jd.prototype.$b=function(t){var e,n,r,i,o,a;return D((function(s){if(1==s.g){for(e=[],n=0;n<t.periods.length;++n){r=n==t.periods.length-1?t.duration:t.periods[n+1].startTime,i=r-t.periods[n].startTime;for(var u=t.periods[n],l=[],f=c(u.streams),h=f.next();!h.done;h=f.next())0!=(h=h.value).variantIds.length&&l.push(Bd(h,u.startTime,u.startTime+i));o=l,e.push(o)}return S(s,kf(e),2)}return a=s.h,s.return({appMetadata:t.appMetadata,creationTime:0,drmInfo:t.drmInfo,duration:t.duration,expiration:null==t.expiration?1/0:t.expiration,originalManifestUri:t.originalManifestUri,sessionIds:t.sessionIds,size:t.size,streams:a})}))},m(Fd,_d),(r=Fd.prototype).hasFixedKeySpace=function(){return!1},r.addSegments=function(t){return this.add(this.i,t)},r.addManifests=function(t){return this.add(this.g,t)},r.updateManifest=function(t,e){return function(t,e,n){var r=(t=Td(t.h,t.g)).store();return r.get(e).onsuccess=function(){r.put(n,e)},t.promise()}(this,t,e)},r.$b=function(t){return null==t.expiration&&(t.expiration=1/0),Promise.resolve(t)},(r=Ud.prototype).init=function(){var e=this,n=new fe,r=!1,i=new pe((function(){r=!0,n.reject(new Kt(2,9,9017))}));i.S(5);var o=t.indexedDB.open("shaka_offline_db",5);return o.onsuccess=function(){if(!r){var t=o.result;e.l=t;var a=t.objectStoreNames;a=a.contains("manifest")&&a.contains("segment")?new Od(t,"segment","manifest"):null,e.g=a,a=(a=t.objectStoreNames).contains("manifest-v2")&&a.contains("segment-v2")?new jd(t,"segment-v2","manifest-v2"):null,e.h=a,a=(a=t.objectStoreNames).contains("manifest-v3")&&a.contains("segment-v3")?new jd(t,"segment-v3","manifest-v3"):null,e.i=a,a=(a=t.objectStoreNames).contains("manifest-v5")&&a.contains("segment-v5")?new Fd(t,"segment-v5","manifest-v5"):null,e.j=a,t=t.objectStoreNames.contains("session-ids")?new Ad(t):null,e.m=t,i.stop(),n.resolve()}},o.onupgradeneeded=function(){for(var t=o.result,e=c(["segment-v5","manifest-v5","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},o.onerror=function(t){r||(n.reject(new Kt(2,9,9001,o.error)),i.stop(),t.preventDefault())},n},r.destroy=function(){var t=this;return D((function(e){switch(e.g){case 1:if(!t.g){e.B(2);break}return S(e,t.g.destroy(),2);case 2:if(!t.h){e.B(4);break}return S(e,t.h.destroy(),4);case 4:if(!t.i){e.B(6);break}return S(e,t.i.destroy(),6);case 6:if(!t.j){e.B(8);break}return S(e,t.j.destroy(),8);case 8:if(!t.m){e.B(10);break}return S(e,t.m.destroy(),10);case 10:t.l&&t.l.close(),T(e)}}))},r.getCells=function(){var t=new Map;return this.g&&t.set("v1",this.g),this.h&&t.set("v2",this.h),this.i&&t.set("v3",this.i),this.j&&t.set("v5",this.j),t},r.getEmeSessionCell=function(){return this.m},r.erase=function(){var e=this;return D((function(n){switch(n.g){case 1:if(!e.g){n.B(2);break}return S(n,e.g.destroy(),2);case 2:if(!e.h){n.B(4);break}return S(n,e.h.destroy(),4);case 4:if(!e.i){n.B(6);break}return S(n,e.i.destroy(),6);case 6:if(!e.j){n.B(8);break}return S(n,e.j.destroy(),8);case 8:return e.l&&e.l.close(),S(n,function(){var e=new fe,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new Kt(2,9,9001,n.error)),t.preventDefault()},e}(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,S(n,e.init(),0)}}))},Ld("idb",(function(){return we()||me()||!t.indexedDB?null:new Ud})),Hd.prototype.Ca=function(){return this.i},Hd.prototype.ma=function(){return this.h},Hd.prototype.key=function(){return this.l},Hd.prototype.toString=function(){return this.j},(r=zd.prototype).configure=function(){},r.start=function(t,e){var n,r,i,o,a,s,u=this;return D((function(l){switch(l.g){case 1:if(n=Kd(t),u.g=n,null==n||"manifest"!=n.g)throw new Kt(2,1,9004,t);return r=new Rd,_(l),S(l,r.init(),4);case 4:return S(l,Cd(r,n.Ca(),n.ma()),5);case 5:return S(l,l.h.getManifests([n.key()]),6);case 6:return i=l.h,o=i[0],a=new Gd(n.Ca(),n.ma()),s=qd(a,o),e.makeTextStreamsForClosedCaptions(s),l.return(s);case 2:return M(l),S(l,r.destroy(),7);case 7:A(l,0)}}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(t,e){var n,r,i,o,a,s,u,l=this;return D((function(c){switch(c.g){case 1:return n=l.g,r=new Rd,E(c,2,3),S(c,r.init(),5);case 5:return S(c,Cd(r,n.Ca(),n.ma()),6);case 6:return S(c,(i=c.h).getManifests([n.key()]),7);case 7:if(o=c.h,a=o[0],s=a.sessionIds.includes(t),u=void 0==a.expiration||a.expiration>e,!s||!u){c.B(3);break}return S(c,i.updateManifestExpiration(n.key(),e),3);case 3:return M(c),S(c,r.destroy(),10);case 10:A(c,0);break;case 2:x(c),c.B(3)}}))},Li["application/x-offline-manifest"]=function(){return new zd},H("shaka.offline.OfflineScheme",Wd),Wd.plugin=Yd,wr("offline",Yd),(r=rp.prototype).destroy=function(){return this.l.destroy()},r.configure=function(t,e){return 2==arguments.length&&"string"==typeof t&&(t=Qs(t,e)),t.manifest&&t.manifest.dash&&"defaultPresentationDelay"in t.manifest.dash&&(Ct("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),t.manifest.defaultPresentationDelay=t.manifest.dash.defaultPresentationDelay,delete t.manifest.dash.defaultPresentationDelay),ru(this.h,t)},r.getConfiguration=function(){var t=nu();return ru(t,this.h,nu()),t},r.dc=function(){return this.g},r.store=function(t,e,n){var r=this,i=this.getConfiguration(),o=new vd(this.g);this.j.push(o);var a=new ar(e=function(t,e,n,r,i,o){var a,s,u,l,f,h,d,p,g,v,m,y,b;return D((function(w){switch(w.g){case 1:return pp(),s=a=null,u=new Rd,h=f=l=null,E(w,2,3),S(w,r(),5);case 5:return a=w.h,S(w,function(t,e,n,r){var i,o,a,s,u;return D((function(l){if(1==l.g)return i=null,o=t.g,a={networkingEngine:o,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){}},n.configure(r.manifest),dp(t),S(l,n.start(e,a),2);if(3!=l.g)return s=l.h,dp(t),u=vp(s),S(l,Promise.all(Pr(u,(function(t){return t.createSegmentIndex()}))),3);if(dp(t),i)throw i;return l.return(s)}))}(t,e,a,i),6);case 6:if(d=w.h,dp(t),!(!d.presentationTimeline.U()&&!d.presentationTimeline.mb()))throw new Kt(2,9,9005,e);return S(w,function(t,e,n,r){var i;return D((function(o){switch(o.g){case 1:return(i=new oi({nb:t.g,onError:n,Pc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(r.drm),S(o,function(t,e,n){return t.fa=!0,t.C=[],t.L=n,si(t,e)}(i,e.variants,r.offline.usePersistentLicense),2);case 2:return S(o,ui(i),3);case 3:return S(o,li(i),4);case 4:return o.return(i)}}))}(t,d,(function(t){h=h||t}),i),7);case 7:if(s=w.h,dp(t),h)throw h;return S(w,function(t,e){var n,r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,_,M,A,R,I,C,L,O,P,N;return D((function(D){switch(D.g){case 1:return n={width:1/0,height:1/0},function(t,e,n){t.variants=t.variants.filter((function(t){return bn(t,e,n)}))}(t,e.restrictions,n),S(D,Sn(t,e.offline.usePersistentLicense),2);case 2:for(r=[],i=e.preferredAudioChannelCount,o=e.preferredDecodingAttributes,a=e.preferredVideoCodecs,s=e.preferredAudioCodecs,vn(t,a,s,i,o),u=c(t.variants),l=u.next();!l.done;l=u.next())f=l.value,r.push(An(f));for(h=c(t.textStreams),d=h.next();!d.done;d=h.next())p=d.value,r.push(Rn(p));for(g=c(t.imageStreams),v=g.next();!v.done;v=g.next())m=v.value,r.push(In(m));return S(D,e.offline.trackSelectionCallback(r),3);case 3:for(y=D.h,b=t.presentationTimeline.getDuration(),w=0,_=c(y),M=_.next();!M.done;M=_.next())A=M.value,R=A.bandwidth*b/8,w+=R;return E(D,4),S(D,e.offline.downloadSizeCallback(w),6);case 6:if(!D.h)throw new Kt(2,9,9014);k(D,5);break;case 4:if((I=x(D))instanceof Kt)throw I;throw new Kt(2,9,9015);case 5:for(C=new Set,L=new Set,O=new Set,P=c(y),M=P.next();!M.done;M=P.next())"variant"==(N=M.value).type&&C.add(N.id),"text"==N.type&&L.add(N.id),"image"==N.type&&O.add(N.id);t.variants=t.variants.filter((function(t){return C.has(t.id)})),t.textStreams=t.textStreams.filter((function(t){return L.has(t.id)})),t.imageStreams=t.imageStreams.filter((function(t){return O.has(t.id)})),function(t){t.variants.map((function(t){return t.video}));var e=new Set(t.variants.map((function(t){return t.audio})));t=t.textStreams;for(var n=c(e),r=n.next();!r.done;r=n.next())for(var i=(r=c(e)).next();!i.done;i=r.next());for(e=c(t),n=e.next();!n.done;n=e.next())for(n=c(t),r=n.next();!r.done;r=n.next());}(t),T(D)}}))}(d,i),8);case 8:return S(w,u.init(),9);case 9:return dp(t),S(w,Id(u),10);case 10:return l=w.h,dp(t),p=function(t,e,n,r,i,o){var a=function(t,e,n){return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:e=Jd(e),appMetadata:n,isIncomplete:!1}}(n,e,r),s=i.offline.progressCallback;!function(t,e,n){t.m=e,t.l=n}(o,(function(t,e){a.size=e,s(a,t)}),(function(e,n){u&&i.offline.usePersistentLicense&&l==n&&ci(t,"cenc",e)}));var u=sp(e)&&!up(e),l=null;u&&(l=mp.get(t.g.keySystem));for(var f=new Qd,h=c(e.textStreams),d=h.next();!d.done;d=h.next())f.g[d.value.id]=52;for(h=c(e.imageStreams),d=h.next();!d.done;d=h.next())ep(f,d.value);for(d=c(e.variants),h=d.next();!h.done;h=d.next())tp(f,h.value);return f=function(t,e,n){for(var r=new Map,i=vp(n),o=new Map,a=(i=c(i)).next();!a.done;a=i.next()){a=a.value;var s=hp(t,e,n,a,r);o.set(a.id,s)}for(t=c(n.variants),e=t.next();!e.done;e=t.next())(e=e.value).audio&&o.get(e.audio.id).variantIds.push(e.id),e.video&&o.get(e.video.id).variantIds.push(e.id);return{streams:Array.from(o.values()),ae:Array.from(r.values())}}(o,f,e),o=f.streams,f=f.ae,d=t.g,h=i.offline.usePersistentLicense,d&&h&&(d.initData=[]),{Df:{creationTime:Date.now(),originalManifestUri:n,duration:e.presentationTimeline.getDuration(),size:0,expiration:t.cc(),streams:o,sessionIds:h?hi(t):[],drmInfo:d,appMetadata:r,isIncomplete:!0},ae:f}}(s,d,e,n,i,o),g=p.Df,v=p.ae,S(w,l.ma.addManifests([g]),11);case 11:if(m=w.h,dp(t),f=m[0],dp(t),h)throw h;return S(w,function(t,e,n,r,i,o,a,s,u){var l,f,h,d,p,g,v,m,y,b;return D((function(w){switch(w.g){case 1:if(l={},f=0,h=function(e,h){var d,p,g,v,m,y,b;return D((function(w){if(1==w.g){for(d={},p=c(e),g=p.next();!g.done;d={bb:d.bb},g=p.next())d.bb=g.value,v=dd(d.bb,o),m=d.bb.i,y=d.bb.h,b=function(e){return function(n){var r,i,o;return D((function(s){if(1==s.g)return S(s,a.addSegments([{data:n}]),2);r=s.h,dp(t),i=e.bb.g,o=hd(i),l[o]=r[0],f+=n.byteLength,T(s)}))}}(d),yd(i,d.bb.groupId,v,m,y,b);return S(w,function(t){return D((function(e){return 1==e.g?S(e,Promise.all(t.j.values()),2):e.return(t.g.h)}))}(i),2)}return h?(dp(t),function(t,e,n,r){if(e.expiration=n.cc(),n=hi(n),e.sessionIds=r.offline.usePersistentLicense?n:[],sp(t)&&r.offline.usePersistentLicense&&!n.length)throw new Kt(2,9,9007)}(s,r,u,o),S(w,a.updateManifest(n,r),0)):w.B(0)}))},d=!1,E(w,2),!sp(s)||!d||up(s)){w.B(4);break}return S(w,h(e.filter((function(t){return t.h})),!0),5);case 5:return dp(t),e=e.filter((function(t){return!t.h})),p=l,g=f,l={},f=0,S(w,ap(a,n,r,p,g,(function(){return dp(t)})),6);case 6:dp(t);case 4:if(d){w.B(7);break}return S(w,h(e,!1),8);case 8:return dp(t),v=l,m=f,l={},f=0,S(w,ap(a,n,r,v,m,(function(){return dp(t)})),9);case 9:dp(t);case 7:k(w,0);break;case 2:return y=x(w),b=Object.values(l),S(w,a.removeSegments(b,(function(){})),10);case 10:throw y}}))}(t,v,f,g,o,i,l.ma,d,s),12);case 12:return dp(t),y=new Hd("manifest",l.path.Ca,l.path.ma,f),w.return(Zd(y,g));case 3:return M(w),S(w,u.destroy(),13);case 13:if(!a){w.B(14);break}return S(w,a.stop(),14);case 14:if(!s){w.B(16);break}return S(w,s.destroy(),16);case 16:A(w,0);break;case 2:if(b=x(w),null==f){w.B(18);break}return S(w,op(f),18);case 18:throw h||b}}))}(this,t,e||{},(function(){var e;return D((function(o){return 1==o.g?S(o,Ri(t,r.g,i.manifest.retryParameters,n||null),2):(e=o.h,o.return(Bt(e)))}))}),i,o),(function(){return md(o)}));return a.finally((function(){tt(r.j,o)})),a.then=function(t){return Ct("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),a.promise.then(t)},function(t,e){var n=e.promise;return t.i.push(n),e.finally((function(){tt(t.i,n)}))}(this,a)},r.rf=function(){return Ct("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},r.remove=function(t){return gp(this,function(t,e){var n,r,i,o,a,s;return D((function(u){switch(u.g){case 1:if(pp(),null==(n=Kd(e))||"manifest"!=n.g)throw new Kt(2,9,9004,e);return r=n,i=new Rd,_(u),S(u,i.init(),4);case 4:return S(u,Cd(i,r.Ca(),r.ma()),5);case 5:return S(u,(o=u.h).getManifests([r.key()]),6);case 6:return a=u.h,s=a[0],S(u,Promise.all([cp(t,s,i),fp(o,r,s)]),2);case 2:return M(u),S(u,i.destroy(),8);case 8:A(u,0)}}))}(this,t))},r.Rf=function(){return gp(this,function(t){var e,n,r,i,o,a,s,u,l,f;return D((function(h){switch(h.g){case 1:return pp(),e=t.g,n=t.h.drm,r=new Rd,i=!1,_(h),S(h,r.init(),4);case 4:o=[],function(t,e){t.g.forEach((function(t){e(t.getEmeSessionCell())}))}(r,(function(t){return o.push(t)})),a=c(o),s=a.next();case 5:if(s.done){h.B(2);break}return S(h,(u=s.value).getAll(),8);case 8:return l=h.h,S(h,Xd(n,e,l),9);case 9:return f=h.h,S(h,u.remove(f),10);case 10:f.length!=l.length&&(i=!0),s=a.next(),h.B(5);break;case 2:return M(h),S(h,r.destroy(),11);case 11:A(h,3);break;case 3:return h.return(!i)}}))}(this))},r.list=function(){return gp(this,function(){var t,e,n;return D((function(r){switch(r.g){case 1:return pp(),t=[],e=new Rd,_(r),S(r,e.init(),4);case 4:return n=Promise.resolve(),function(t,e){t.g.forEach((function(t,n){t.getCells().forEach((function(t,r){e({Ca:n,ma:r},t)}))}))}(e,(function(e,r){n=n.then((function(){return D((function(n){if(1==n.g)return S(n,r.getAllManifests(),2);n.h.forEach((function(n,r){var i=Zd(new Hd("manifest",e.Ca,e.ma,r),n);t.push(i)})),T(n)}))}))})),S(r,n,2);case 2:return M(r),S(r,e.destroy(),6);case 6:A(r,3);break;case 3:return r.return(t)}}))}())},H("shaka.offline.Storage",rp),rp.deleteAll=function(){var t;return D((function(e){return 1==e.g?(t=new Rd,_(e),S(e,function(t){var e,n;return D((function(r){return 1==r.g?(e=Array.from(t.g.values()),(n=0<e.length)||Dd.forEach((function(t){(t=t())&&e.push(t)})),S(r,Promise.all(e.map((function(t){return t.erase()}))),2)):n?r.B(0):S(r,Promise.all(e.map((function(t){return t.destroy()}))),0)}))}(t),2)):5!=e.g?(M(e),S(e,t.destroy(),5)):A(e,0)}))},rp.prototype.list=rp.prototype.list,rp.prototype.removeEmeSessions=rp.prototype.Rf,rp.prototype.remove=rp.prototype.remove,rp.prototype.getStoreInProgress=rp.prototype.rf,rp.prototype.store=rp.prototype.store,rp.prototype.getNetworkingEngine=rp.prototype.dc,rp.prototype.getConfiguration=rp.prototype.getConfiguration,rp.prototype.configure=rp.prototype.configure,rp.prototype.destroy=rp.prototype.destroy,rp.support=ip;var mp=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function yp(){}function bp(t,e){for(var n={priority:e||0,Oe:t},r=0;r<wp.length;r++)if(wp[r].priority<n.priority)return void wp.splice(r,0,n);wp.push(n)}Pl.offline=ip,H("shaka.polyfill",yp),yp.register=bp,yp.installAll=function(){for(var t=c(wp),e=t.next();!e.done;e=t.next()){e=e.value;try{e.Oe()}catch(n){W("Error installing polyfill!",n)}}};var wp=[];function Sp(){}function Tp(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var t=c(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),e=t.next();!e.done;e=t.next())Ep(e.value)}function Ep(t){var e="aria-"+t.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,t,{get:function(){return this.getAttribute(e)},set:function(t){null==t||void 0==t?this.removeAttribute(e):this.setAttribute(e,t)}})}function _p(){}function kp(){vm()}function xp(){}function Mp(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ap),document.addEventListener("webkitfullscreenerror",Ap),document.addEventListener("mozfullscreenchange",Ap),document.addEventListener("mozfullscreenerror",Ap),document.addEventListener("MSFullscreenChange",Ap),document.addEventListener("MSFullscreenError",Ap)}}function Ap(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(e,t.bubbles,t.cancelable),t.target.dispatchEvent(n)}function Rp(){}function Ip(){}function Cp(){}function Lp(){(we()||Se()||Te()||_e("PlayStation 5")||be()||ye()||_e("PC=EOS")||_e("Hisense")||_e("VIDAA")||!navigator.mediaCapabilities)&&(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Op=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Dp)}function Dp(e){var n,r,i,o,a,s,u,l,c,f,h,d,p,g,v;return D((function(m){switch(m.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},!e)return m.return(n);if(r=e.video,i=e.audio,"media-source"==e.type){if(!ge())return m.return(n);if(r){if(we())if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var y=r.contentType;r.width&&r.height&&(y+="; width="+r.width+"; height="+r.height),r.framerate&&(y+="; framerate="+r.framerate),"pq"===r.transferFunction&&(y+="; eotf=smpte2084"),o=cast.__platform__.canDisplayType(y)}else o=MediaSource.isTypeSupported(r.contentType);else ye()?(a=r.contentType,r.width&&r.height&&(a+="; width="+r.width,a+="; height="+r.height),r.framerate&&(a+="; framerate="+r.framerate),r.bitrate&&(a+="; bitrate="+r.bitrate),o=MediaSource.isTypeSupported(a)):o=MediaSource.isTypeSupported(r.contentType);if(!o)return m.return(n)}if(i&&(s=i.contentType,!MediaSource.isTypeSupported(s)))return m.return(n)}else{if("file"!=e.type)return m.return(n);if(r&&(u=r.contentType,!ve(u))||i&&(l=i.contentType,!ve(l)))return m.return(n)}return e.keySystemConfiguration?(c=e.keySystemConfiguration,f=[],h=[],c.audio&&(d={robustness:c.audio.robustness||"",contentType:e.audio.contentType},f.push(d)),c.video&&(p={robustness:c.video.robustness||"",contentType:e.video.contentType},h.push(p)),g={initDataTypes:[c.initDataType],distinctiveIdentifier:c.distinctiveIdentifier,persistentState:c.persistentState,sessionTypes:c.sessionTypes},f.length&&(g.audioCapabilities=f),h.length&&(g.videoCapabilities=h),E(m,3),S(m,navigator.requestMediaKeySystemAccess(c.keySystem,[g]),5)):(n.supported=!0,m.return(Promise.resolve(n)));case 5:v=m.h,k(m,4);break;case 3:x(m);case 4:v&&(n.supported=!0,n.keySystemAccess=v);case 2:return m.return(n)}}))}yp.Aria=Sp,Sp.install=Tp,bp(Tp),yp.EncryptionScheme=_p,_p.install=kp,bp(kp,-2),yp.Fullscreen=xp,xp.install=Mp,bp(Mp),yp.MathRound=Rp,Rp.install=Ip,bp(Ip),yp.MediaCapabilities=Cp,Cp.install=Lp;var Op=null;function Pp(){}function Np(){var e=Ee();t.MediaSource&&(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */);return n.shift(),n.some((function(t){return t.startsWith("codecs=")}))?cast.__platform__.canDisplayType(e):t(e)}}():e?(Bp(),12>=e?(jp(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):15>=e&&jp()):navigator.userAgent.match(/Edge?\//)?Bp():(_e("Tizen 2")||_e("Tizen 3")||_e("Tizen 4"))&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=$e(e)[0]&&t(e)}}()),t.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var t=MediaSource.isTypeSupported;be()||(MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */),r=n.findIndex((function(t){return t.startsWith("codecs=")}));if(0>r)return t(e);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex((function(t){return t.startsWith("vp09")}));return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',e=n.join("; ")),t(e)})}()}function jp(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,O.apply(0,arguments));return e.abort=function(){},e}}function Bp(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1].toLowerCase()&&t(e)}}function Fp(){}function Up(){screen.orientation||void 0!=t.orientation&&function(){function e(){switch(t.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Hp;screen.orientation=n,e(),t.addEventListener("orientationchange",(function(){e();var t=new hr("change");n.dispatchEvent(t)}))}()}function Hp(){pr.call(this),this.type="",this.angle=0}function Kp(){}function Gp(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Vp,t.MediaKeys=Yp,t.MediaKeySystemAccess=Wp,navigator.requestMediaKeySystemAccess=qp)}function qp(t,e){try{var n=new Wp(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Vp(t){var e=this.mediaKeys;return e&&e!=t&&Xp(e,null),delete this.mediaKeys,(this.mediaKeys=t)?Xp(t,this):Promise.resolve()}function zp(t){if(At(t=Mt(t.initData)).getUint32(0,!0)+4!=t.byteLength)throw new RangeError("Malformed FairPlay init data");t=Le(t=Ie(t.subarray(4),!0));var e=new Event("encrypted");e.initDataType="skd",e.initData=xt(t),this.dispatchEvent(e)}function Wp(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=c(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var o=!1,a=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),u=s.next();!u.done;u=s.next())(u=u.value).contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(r.audioCapabilities.push(u),a=!0));if(i.videoCapabilities)for(u=(i=c(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(r.videoCapabilities.push(s),a=!0));o||(a=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=a?r:null}if(r)return void(this.g=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Yp(t){this.h=new WebKitMediaKeys(t),this.g=new Rr}function Xp(t,e){if(t.g.Sa(),!e)return Promise.resolve();t.g.A(e,"webkitneedkey",zp);try{return Ia(e,HTMLMediaElement.HAVE_METADATA,t.g,(function(){e.webkitSetMediaKeys(t.h)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function $p(t){pr.call(this),this.i=null,this.l=t,this.h=this.g=null,this.j=new Rr,this.sessionId="",this.expiration=NaN,this.closed=new fe,this.keyStatuses=new Jp}function Zp(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.g=e,n=new hr("keystatuseschange"),t.dispatchEvent(n)}function Jp(){this.size=0,this.g=void 0}function Qp(){}function tg(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,t.MediaKeys=og,t.MediaKeySystemAccess=rg,navigator.requestMediaKeySystemAccess=eg,HTMLMediaElement.prototype.setMediaKeys=ig)}function eg(t,e){try{var n=new rg(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function ng(t){if(t.initData){var e=new CustomEvent("encrypted");e.initDataType="cenc",e.initData=xt(function(t){if(!t)return t;var e=new Vc(t);if(1>=e.data.length)return t;t=[];for(var n={},r=(e=c(e.data)).next();!r.done;n={sc:n.sc},r=e.next())n.sc=r.value,t.some(function(t){return function(e){return _t(e,t.sc)}}(n))||t.push(n.sc);return He.apply(Pe,f(t))}(t.initData)),this.dispatchEvent(e)}}function rg(t,e){this.keySystem=t;for(var n=!1,r=c(e),i=r.next();!i.done;i=r.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},a=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),u=s.next();!u.done;u=s.next())(u=u.value).contentType&&(a=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(o.audioCapabilities.push(u),n=!0));if(i.videoCapabilities)for(u=(s=c(i.videoCapabilities)).next();!u.done;u=s.next())(u=u.value).contentType&&(a=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(o.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.g=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function ig(t){var e=this.mediaKeys;return e&&e!=t&&ag(e,null),delete this.mediaKeys,(this.mediaKeys=t)?ag(t,this):Promise.resolve()}function og(t){this.h=new MSMediaKeys(t),this.g=new Rr}function ag(t,e){if(t.g.Sa(),!e)return Promise.resolve();t.g.A(e,"msneedkey",ng);try{return Ia(e,HTMLMediaElement.HAVE_METADATA,t.g,(function(){e.msSetMediaKeys(t.h)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function sg(t){pr.call(this),this.i=null,this.l=t,this.h=this.g=null,this.j=new Rr,this.sessionId="",this.expiration=NaN,this.closed=new fe,this.keyStatuses=new lg}function ug(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.g=e,n=new hr("keystatuseschange"),t.dispatchEvent(n)}function lg(){this.size=0,this.g=void 0}function cg(){}function fg(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=hg,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=dg,t.MediaKeys=pg,t.MediaKeySystemAccess=gg)}function hg(){return Promise.reject(Error("The key system specified is not supported."))}function dg(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function pg(){throw new TypeError("Illegal constructor.")}function gg(){throw this.keySystem="",new TypeError("Illegal constructor.")}function vg(){}function mg(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Rg="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=bg,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=wg,t.MediaKeys=Tg,t.MediaKeySystemAccess=Sg}}function yg(t){return Rg?Rg+t.charAt(0).toUpperCase()+t.slice(1):t}function bg(t,e){try{var n=new Sg(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function wg(t){var e=this.mediaKeys;return e&&e!=t&&Eg(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Eg(t,this),Promise.resolve()}function Sg(t,e){this.g=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=c(e),a=o.next();!a.done;a=o.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},u=!1;if(a.audioCapabilities)for(var l=c(a.audioCapabilities),f=l.next();!f.done;f=l.next())(f=f.value).contentType&&(u=!0,i.canPlayType(f.contentType.split(";")[0],this.g)&&(s.audioCapabilities.push(f),r=!0));if(a.videoCapabilities)for(f=(l=c(a.videoCapabilities)).next();!f.done;f=l.next())(f=f.value).contentType&&(u=!0,i.canPlayType(f.contentType,this.g)&&(s.videoCapabilities.push(f),r=!0));if(u||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Tg(t){this.l=t,this.h=null,this.g=new Rr,this.i=[],this.j=new Map}function Eg(t,e){t.h=e,t.g.Sa();var n=Rg;e&&(t.g.A(e,n+"needkey",(function(e){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=xt(e.initData),t.h.dispatchEvent(n)})),t.g.A(e,n+"keymessage",(function(e){var n=_g(t,e.sessionId);n&&(e=new hr("message",e=(new Map).set("messageType",void 0==n.keyStatuses.g?"licenserequest":"licenserenewal").set("message",e.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(e))})),t.g.A(e,n+"keyadded",(function(e){(e=_g(t,e.sessionId))&&(Mg(e,"usable"),e.g&&e.g.resolve(),e.g=null)})),t.g.A(e,n+"keyerror",(function(e){var n=_g(t,e.sessionId);n&&n.handleError(e)})))}function _g(t,e){var n=t.j.get(e);return n||((n=t.i.shift())?(n.sessionId=e,t.j.set(e,n),n):null)}function kg(t,e,n){pr.call(this),this.j=t,this.m=!1,this.g=this.h=null,this.i=e,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new fe,this.keyStatuses=new Ag}function xg(t,e,n){if(t.m)return Promise.reject(Error("The session is already initialized."));t.m=!0;try{if("persistent-license"==t.l)if(n)var r=Mt(Le("LOAD_SESSION|"+n));else{var i=Le("PERSISTENT|");r=He(i,e)}else r=Mt(e)}catch(a){return Promise.reject(a)}t.h=new fe;var o=yg("generateKeyRequest");try{t.j[o](t.i,r)}catch(a){if("InvalidStateError"!=a.name)return t.h=null,Promise.reject(a);new pe((function(){try{t.j[o](t.i,r)}catch(e){t.h.reject(e),t.h=null}})).S(.01)}return t.h}function Mg(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.g=e,n=new hr("keystatuseschange"),t.dispatchEvent(n)}function Ag(){this.size=0,this.g=void 0}Cp.originalMcap=Op,bp(Lp,-1),yp.MediaSource=Pp,Pp.install=Np,bp(Np),yp.Orientation=Fp,Fp.install=Up,m(Hp,pr),Hp.prototype.lock=function(t){function e(t){return screen.lockOrientation?screen.lockOrientation(t):screen.mozLockOrientation?screen.mozLockOrientation(t):!!screen.msLockOrientation&&screen.msLockOrientation(t)}var n=!1;switch(t){case"natural":n=e("default");break;case"any":n=!0,this.unlock();break;default:n=e(t)}return n?Promise.resolve():((t=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(t))},Hp.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},bp(Up),yp.PatchedMediaKeysApple=Kp,Kp.install=Gp,Wp.prototype.createMediaKeys=function(){var t=new Yp(this.keySystem);return Promise.resolve(t)},Wp.prototype.getConfiguration=function(){return this.g},Yp.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new $p(this.h,t)},Yp.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m($p,pr),(r=$p.prototype).generateRequest=function(t,e){var n=this;this.g=new fe;try{var r=this.l.createSession("video/mp4",Mt(e));this.i=r,this.sessionId=r.sessionId||"",this.j.A(this.i,"webkitkeymessage",(function(t){n.g&&(n.g.resolve(),n.g=null),t=new hr("message",t=(new Map).set("messageType",void 0==n.keyStatuses.g?"license-request":"license-renewal").set("message",xt(t.message))),n.dispatchEvent(t)})),this.j.A(r,"webkitkeyadded",(function(){n.h&&(Zp(n,"usable"),n.h.resolve(),n.h=null)})),this.j.A(r,"webkitkeyerror",(function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=n.i.error,null!=n.g)n.g.reject(t),n.g=null;else if(null!=n.h)n.h.reject(t),n.h=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Zp(n,"output-not-allowed");break;default:Zp(n,"internal-error")}})),Zp(this,"status-pending")}catch(i){this.g.reject(i)}return this.g},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.h=new fe;try{this.i.update(Mt(t))}catch(e){this.h.reject(e)}return this.h},r.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Sa()}catch(mm){this.closed.reject(mm)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Jp.prototype).forEach=function(t){this.g&&t(this.g,Mi.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=Mi.value();return!(!this.g||!_t(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){},bp(Gp),yp.PatchedMediaKeysMs=Qp,Qp.install=tg,rg.prototype.createMediaKeys=function(){var t=new og(this.keySystem);return Promise.resolve(t)},rg.prototype.getConfiguration=function(){return this.g},og.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new sg(this.h,t)},og.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(sg,pr),(r=sg.prototype).generateRequest=function(t,e){var n=this;this.g=new fe;try{this.i=this.l.createSession("video/mp4",Mt(e),null),this.j.A(this.i,"mskeymessage",(function(t){n.g&&(n.g.resolve(),n.g=null),t=new hr("message",t=(new Map).set("messageType",void 0==n.keyStatuses.g?"license-request":"license-renewal").set("message",xt(t.message))),n.dispatchEvent(t)})),this.j.A(this.i,"mskeyadded",(function(){n.g?(ug(n,"usable"),n.g.resolve(),n.g=null):n.h&&(ug(n,"usable"),n.h.resolve(),n.h=null)})),this.j.A(this.i,"mskeyerror",(function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=n.i.error,null!=n.g)n.g.reject(t),n.g=null;else if(null!=n.h)n.h.reject(t),n.h=null;else switch(n.i.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:ug(n,"output-not-allowed");break;default:ug(n,"internal-error")}})),ug(this,"status-pending")}catch(r){this.g.reject(r)}return this.g},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.h=new fe;try{this.i.update(Mt(t))}catch(e){this.h.reject(e)}return this.h},r.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Sa()}catch(mm){this.closed.reject(mm)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=lg.prototype).forEach=function(t){this.g&&t(this.g,Mi.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=Mi.value();return!(!this.g||!_t(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){},bp(tg),yp.PatchedMediaKeysNop=cg,cg.install=fg,pg.prototype.createSession=function(){},pg.prototype.setServerCertificate=function(){},gg.prototype.getConfiguration=function(){},gg.prototype.createMediaKeys=function(){},bp(fg,-10),yp.PatchedMediaKeysWebkit=vg,vg.install=mg,Sg.prototype.createMediaKeys=function(){var t=new Tg(this.g);return Promise.resolve(t)},Sg.prototype.getConfiguration=function(){return this.h},Tg.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.h||document.createElement("video");return e.src||(e.src="about:blank"),t=new kg(e,this.l,t),this.i.push(t),t},Tg.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(kg,pr),(r=kg.prototype).handleError=function(t){var e=Error("EME v0.1b key error"),n=t.errorCode;n.systemCode=t.systemCode,e.errorCode=n,!t.sessionId&&this.h?(45==t.systemCode&&(e.message="Unsupported session type."),this.h.reject(e),this.h=null):t.sessionId&&this.g?(this.g.reject(e),this.g=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Mg(this,"output-restricted"):Mg(this,1==e?"expired":"internal-error"))},r.generateRequest=function(t,e){return xg(this,e,null)},r.load=function(t){return"persistent-license"==this.l?xg(this,null,t):Promise.reject(Error("Not a persistent session."))},r.update=function(t){var e=new fe;return function t(e,n,r){if(e.g)e.g.then((function(){return t(e,n,r)})).catch((function(){return t(e,n,r)}));else{if(e.g=n,"webkit-org.w3.clearkey"==e.i){var i=Re(r),o=JSON.parse(i);"oct"!=o.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=Be(o.keys[0].k),o=Be(o.keys[0].kid)}else i=Mt(r),o=null;var a=yg("addKey");try{e.j[a](e.i,i,o,e.sessionId)}catch(s){e.g.reject(s),e.g=null}}}(this,e,t),e},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=yg("cancelKeyRequest");try{this.j[t](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=Ag.prototype).forEach=function(t){this.g&&t(this.g,Mi.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=Mi.value();return!(!this.g||!_t(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){};var Rg="";function Ig(){}function Cg(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=Dg,Object.defineProperty(e,"disablePictureInPicture",{get:Pg,set:Ng,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Og,document.addEventListener("webkitpresentationmodechanged",Lg,!0))}}function Lg(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function Dg(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Og(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Pg(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function Ng(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function jg(){}function Bg(){t.crypto&&("randomUUID"in t.crypto||(t.crypto.randomUUID=Fg))}function Fg(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substr(e.lastIndexOf("/")+1)}function Ug(){}function Hg(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=Kg)}function Kg(){return new Promise((function(t,e){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,n){t({usage:e,quota:n})}),e)}))}function Gg(){}function qg(){var t=Symbol.prototype;"description"in t||Object.defineProperty(t,"description",{get:Vg})}function Vg(){var t=/\((.*)\)/.exec(this.toString());return t?t[1]:void 0}function zg(){}function Wg(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}}function Yg(){}function Xg(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||_e("Web0S")&&_e("Chrome/38.0.2125.122 Safari/537.36"))&&(e.getVideoPlaybackQuality=$g)}}function $g(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Zg(){}function Jg(){if(!t.VTTCue&&t.TextTrackCue){var e=null,n=TextTrackCue.length;if(3==n)e=Qg;else if(6==n)e=tv;else{try{var r=!!Qg(1,2,"")}catch(i){r=!1}r&&(e=Qg)}e&&(t.VTTCue=function(t,n,r){return e(t,n,r)})}}function Qg(e,n,r){return new t.TextTrackCue(e,n,r)}function tv(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function ev(){}bp(mg),yp.PiPWebkit=Ig,Ig.install=Cg,bp(Cg),yp.RandomUUID=jg,jg.install=Bg,bp(Bg),yp.StorageEstimate=Ug,Ug.install=Hg,bp(Hg),yp.Symbol=Gg,Gg.install=qg,bp(qg),yp.VideoPlayPromise=zg,zg.install=Wg,bp(Wg),yp.VideoPlaybackQuality=Yg,Yg.install=Xg,bp(Xg),yp.VTTCue=Zg,Zg.install=Jg,bp(Jg),ev.prototype.parseInit=function(){},ev.prototype.parseMedia=function(t,e){for(var n=null,r=[],i=Re(t).split(/\r?\n/),o=(i=c(i)).next();!o.done;o=i.next())if((o=o.value)&&!/^\s+$/.test(o)&&(o=nv.exec(o))){var a=rv.exec(o[1]);o=new rt(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),e.segmentEnd?e.segmentEnd:a+2,o[2]),n&&(n.endTime=a,r.push(n)),n=o}return n&&r.push(n),r},H("shaka.text.LrcTextParser",ev),ev.prototype.parseMedia=ev.prototype.parseMedia,ev.prototype.parseInit=ev.prototype.parseInit;var nv=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,rv=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function iv(){}function ov(t,e){for(var n=c(e.split(" ")),r=n.next();!r.done;r=n.next())switch(r.value){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&tt(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&tt(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&tt(t.textDecoration,"overline")}}function av(t,e,n,r,i){return i=void 0===i||i,(t=uv(t,n,r))?t:i?sv(e,n,r):null}function sv(t,e,n){if(!t)return null;var r=qr(t,Rv,n);return r||lv(t,e,n)}function uv(t,e,n){var r=qr(t,Rv,n);return r||lv(t,e,n)}function lv(t,e,n){t=cv(t,"style",e,"");for(var r=null,i=0;i<t.length;i++){var o=Gr(t[i],"urn:ebu:tt:style",n);o||(o=qr(t[i],Rv,n)),o||(o=uv(t[i],e,n)),o&&(r=o)}return r}function cv(t,e,n,r,i){var o=[];if(!t||1>n.length)return o;var a=t;for(t=null;a&&!(t=i?Gr(a,i,e):a.getAttribute(e))&&(a=a.parentNode)instanceof Element;);if(e=t)for(i=(e=c(e.split(" "))).next();!i.done;i=e.next())for(i=i.value,a=(t=c(n)).next();!a.done;a=t.next())if(r+(a=a.value).getAttribute("xml:id")==i){o.push(a);break}return o}function fv(t,e,n,r){return t=hv(t,e),null==n?n=t.start:null!=t.start&&(n+=t.start),null==r?r=t.end:null!=t.start&&(r+=t.start),{start:n,end:r}}function hv(t,e){var n=dv(t.getAttribute("begin"),e),r=dv(t.getAttribute("end"),e),i=dv(t.getAttribute("dur"),e);return null==r&&null!=i&&(r=n+i),{start:n,end:r}}function dv(t,e){var n=null;if(wv.test(t)){n=wv.exec(t);var r=Number(n[1]),i=Number(n[2]),o=Number(n[3]),a=Number(n[4]);n=(o+=(a+=(Number(n[5])||0)/e.h)/e.frameRate)+60*i+3600*r}else if(Sv.test(t))n=pv(Sv,t);else if(Tv.test(t))n=pv(Tv,t);else if(Ev.test(t))n=Ev.exec(t),n=Number(n[1])/e.frameRate;else if(_v.test(t))n=_v.exec(t),n=Number(n[1])/e.g;else if(kv.test(t))n=pv(kv,t);else if(t)throw new Kt(2,2,2001,"Could not parse cue time range in TTML");return n}function pv(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function gv(t,e,n,r){this.frameRate=Number(t)||30,this.h=Number(e)||1,this.g=Number(r),0==this.g&&(this.g=t?this.frameRate*this.h:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}nn["application/x-subtitle-lrc"]=function(){return new ev},iv.prototype.parseInit=function(){},iv.prototype.parseMedia=function(t,e){var n=Re(t),r=[];if(""==n)return r;var i=ni(n,"tt");if(!i)throw new Kt(2,2,2005,"Failed to parse TTML.");if(!(n=i.getElementsByTagName("body")[0]))return[];var o=qr(i,Av,"frameRate"),a=qr(i,Av,"subFrameRate"),s=qr(i,Av,"frameRateMultiplier"),u=qr(i,Av,"tickRate"),l=qr(i,Av,"cellResolution"),f=i.getAttribute("xml:space")||"default",h=qr(i,Rv,"extent");if("default"!=f&&"preserve"!=f)throw new Kt(2,2,2005,"Invalid xml:space value: "+f);f="default"==f,o=new gv(o,a,s,u),l=l&&(l=/^(\d+) (\d+)$/.exec(l))?{columns:parseInt(l[1],10),rows:parseInt(l[2],10)}:null,a=(a=i.getElementsByTagName("metadata")[0])?function(t){return Array.from(t.childNodes).filter((function(t){return t instanceof Element}))}(a):[],s=Array.from(i.getElementsByTagName("style")),u=[];for(var d=c(i=Array.from(i.getElementsByTagName("region"))),p=d.next();!p.done;p=d.next()){var g=p.value;p=new wt;var v=g.getAttribute("xml:id");if(v){p.id=v;var m,y,b=null;h&&(b=vv.exec(h)||bv.exec(h)),v=b?Number(b[1]):null,b=b?Number(b[2]):null,(m=sv(g,s,"extent"))&&(null!=(m=(y=vv.exec(m))||bv.exec(m))&&(p.width=Number(m[1]),p.height=Number(m[2]),y||(null!=v&&(p.width=100*p.width/v),null!=b&&(p.height=100*p.height/b)),p.widthUnits=y||null!=v?St:0,p.heightUnits=y||null!=b?St:0)),(g=sv(g,s,"origin"))&&(null!=(m=(y=vv.exec(g))||bv.exec(g))&&(p.viewportAnchorX=Number(m[1]),p.viewportAnchorY=Number(m[2]),y||(null!=b&&(p.viewportAnchorY=100*p.viewportAnchorY/b),null!=v&&(p.viewportAnchorX=100*p.viewportAnchorX/v)),p.viewportAnchorUnits=y||null!=v?St:0))}else p=null;p&&u.push(p)}if(Hr(n,"p").length)throw new Kt(2,2,2001,"<p> can only be inside <div> in TTML");for(d=(h=c(Hr(n,"div"))).next();!d.done;d=h.next())if(Hr(d.value,"span").length)throw new Kt(2,2,2001,"<span> can only be inside <p> in TTML");return(n=function t(e,n,r,i,o,a,s,u,l,f,h){var d=e.parentNode;if(e.nodeType==Node.COMMENT_NODE)return null;if(e.nodeType==Node.TEXT_NODE){if(!h)return null;var p=document.createElement("span");p.textContent=e.textContent}else p=e;for(var g=null,v=c(Iv),m=v.next();!m.done&&!(g=cv(p,"backgroundImage",i,"#",m.value)[0]);m=v.next());v=h,("p"==e.nodeName||g)&&(h=!0);if(u="default"==(p.getAttribute("xml:space")||(u?"default":"preserve")),m=Array.from(p.childNodes).every((function(t){return t.nodeType==Node.TEXT_NODE})),e=[],!m)for(var y=c(p.childNodes),b=y.next();!b.done;b=y.next())(b=t(b.value,n,r,i,o,a,s,u,l,p,h))&&e.push(b);i=null!=f,y=/\S/.test(p.textContent);var w=p.hasAttribute("begin")||p.hasAttribute("end")||p.hasAttribute("dur");if(!(w||y||"br"==p.tagName||0!=e.length||i&&!u))return null;for(b=hv(p,r),y=b.start,b=b.end;d&&d.nodeType==Node.ELEMENT_NODE&&"tt"!=d.tagName;)b=fv(d,r,y,b),y=b.start,b=b.end,d=d.parentNode;if(null==y&&(y=0),y+=n.periodStart,b=null==b?1/0:b+n.periodStart,y=Math.max(y,n.segmentStart),b=Math.min(b,n.segmentEnd),!w&&0<e.length)for(y=1/0,b=0,n=c(e),r=n.next();!r.done;r=n.next())r=r.value,y=Math.min(y,r.startTime),b=Math.max(b,r.endTime);if("br"==p.tagName)return(o=new rt(y,b,"")).lineBreak=!0,o;if(n="",m&&(n=p.textContent,u&&(n=(n=n.trim()).replace(/\s+/g," "))),(n=new rt(y,b,n)).nestedCues=e,h||(n.isContainer=!0),l&&(n.cellResolution=l),l=cv(p,"region",a,"")[0],p.hasAttribute("region")&&l&&l.getAttribute("xml:id")){var S=l.getAttribute("xml:id");n.region=s.filter((function(t){return t.id==S}))[0]}return s=l,f&&i&&!p.getAttribute("region")&&!p.getAttribute("style")&&(s=cv(f,"region",a,"")[0]),function(t,e,n,r,i,o,a){"rtl"==av(e,n,i,"direction",o=o||a)&&(t.direction="rtl"),"tb"==(a=av(e,n,i,"writingMode",o))||"tblr"==a?t.writingMode="vertical-lr":"tbrl"==a?t.writingMode="vertical-rl":"rltb"==a||"rl"==a?t.direction="rtl":a&&(t.direction=ct),(a=av(e,n,i,"textAlign",!0))?(t.positionAlign=Mv[a],t.lineAlign=xv[a],t.textAlign=st[a.toUpperCase()]):t.textAlign=at,(a=av(e,n,i,"displayAlign",!0))&&(t.displayAlign=lt[a.toUpperCase()]);(a=av(e,n,i,"color",o))&&(t.color=a);(a=av(e,n,i,"backgroundColor",o))&&(t.backgroundColor=a);(a=av(e,n,i,"border",o))&&(t.border=a);if(a=av(e,n,i,"fontFamily",o))switch(a){case"monospaceSerif":t.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":t.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":t.fontFamily="sans-serif";break;case"monospaceSansSerif":t.fontFamily="Consolas,monospace";break;case"proportionalSerif":t.fontFamily="serif";break;default:t.fontFamily=a}(a=av(e,n,i,"fontWeight",o))&&"bold"==a&&(t.fontWeight=700),a=av(e,n,i,"wrapOption",o),t.wrapLine=!a||"noWrap"!=a,(a=av(e,n,i,"lineHeight",o))&&a.match(yv)&&(t.lineHeight=a),(a=av(e,n,i,"fontSize",o))&&(a.match(yv)||a.match(mv))&&(t.fontSize=a),(a=av(e,n,i,"fontStyle",o))&&(t.fontStyle=bt[a.toUpperCase()]);if(r){a=r.getAttribute("imageType")||r.getAttribute("imagetype");var s=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==s&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(r=av(e,n,i,"textOutline",o))&&((r=r.split(" "))[0].match(yv)?t.textStrokeColor=t.color:(t.textStrokeColor=r[0],r.shift()),r[0]&&r[0].match(yv)?t.textStrokeWidth=r[0]:t.textStrokeColor="");(r=av(e,n,i,"letterSpacing",o))&&r.match(yv)&&(t.letterSpacing=r),(r=av(e,n,i,"linePadding",o))&&r.match(yv)&&(t.linePadding=r),(o=av(e,n,i,"opacity",o))&&(t.opacity=parseFloat(o));(n=sv(n,i,"textDecoration"))&&ov(t,n),(e=uv(e,i,"textDecoration"))&&ov(t,e)}(n,p,s,g,o,v,0==e.length),n}(n,e,o,a,s,i,u,f,l,null,!1))&&(n.backgroundColor||(n.backgroundColor="transparent"),r.push(n)),r},H("shaka.text.TtmlTextParser",iv),iv.prototype.parseMedia=iv.prototype.parseMedia,iv.prototype.parseInit=iv.prototype.parseInit;var vv=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,mv=/^(\d{1,2}(?:\.\d+)?|100)%$/,yv=/^(\d+px|\d+em|\d*\.?\d+c)$/,bv=/^(\d+)px (\d+)px$/,wv=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Sv=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Tv=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Ev=/^(\d*(?:\.\d*)?)f$/,_v=/^(\d*(?:\.\d*)?)t$/,kv=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),xv={left:dt,center:"center",right:"end",start:dt,end:"end"},Mv={left:"line-left",center:"center",right:"line-right"},Av=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Rv=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],Iv=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function Cv(){this.g=new iv}function Lv(){}function Dv(t){for(var e=c(Object.entries(gt)),n=e.next();!n.done;n=e.next()){var r=c(n.value);n=r.next().value,r=r.next().value;var i=new rt(0,0,"");i.color=r,t.set("."+n,i)}for(n=(e=c(Object.entries(vt))).next();!n.done;n=e.next())n=(r=c(n.value)).next().value,r=r.next().value,(i=new rt(0,0,"")).backgroundColor=r,t.set("."+n,i)}function Ov(t,e,n){0===n.size&&Dv(n);t:{var r=t;t=[];for(var i=-1,o="",a=0;a<r.length;a++)if("/"===r[a]&&0<a&&"<"===r[a-1]){var s=r.indexOf(">",a);if(s<=a){t=r;break t}if((s=r.substring(a+1,s))&&"c"===s){var u=t.pop();u?u===s?(o+="/"+s+">",a+=s.length+1):u.startsWith("c.")?(a+=s.length+1,o+="/"+u+">"):o+=r[a]:o+=r[a]}else o+=r[a]}else"<"===r[a]?"c"!=r[i=a+1]&&(i=-1):">"===r[a]&&0<i&&(t.push(r.substr(i,a-i)),i=-1),o+=r[a];t=o}t:{for(i=t,o=[],a=-1,r="",t=!1,s=0;s<i.length;s++)if("/"===i[s]){if(-1===(u=i.indexOf(">",s))){t=i;break t}if((u=i.substring(s+1,u))&&"v"==u){t=!0;var l=null;if(o.length&&(l=o[o.length-1]),l){if(l===u)r+="/"+u+">";else{if(!l.startsWith("v")){r+=i[s];continue}r+="/"+l+">"}s+=u.length+1}else r+=i[s]}else r+=i[s]}else"<"===i[s]?"v"!=i[a=s+1]&&(a=-1):">"===i[s]&&0<a&&(o.push(i.substr(a,s-a)),a=-1),r+=i[s];for(o=(i=c(o)).next();!o.done;o=i.next())a=(o=o.value).replace(" ",".voice-"),r=(r=r.replace("<"+o+">","<"+a+">")).replace("</"+o+">","</"+a+">"),t||(r+="</"+a+">");t=r}if(i=ni("<span>"+t+"</span>","span")){if(r=[],1==(i=i.childNodes).length&&((o=i[0]).nodeType==Node.TEXT_NODE||o.nodeType==Node.CDATA_SECTION_NODE))return void(e.payload=Fv(t));for(i=(t=c(i)).next();!i.done;i=t.next())Nv(i.value,e,r,n);e.nestedCues=r}else e.payload=Fv(t)}function Pv(t,e){return t&&0<t.length?t:e}function Nv(t,e,n,r){var i=e.clone();if(t.nodeType===Node.ELEMENT_NODE&&t.nodeName)for(var o=c(t.nodeName.split(/(?=[ .])+/g)),a=o.next();!a.done;a=o.next()){var s=a=a.value;if(s.startsWith(".voice-")){var u=s.split("-").pop();s='v[voice="'+u+'"]',r.has(s)||(s="v[voice="+u+"]")}switch(r.has(s)&&(s=r.get(s))&&(i.backgroundColor=Pv(s.backgroundColor,i.backgroundColor),i.color=Pv(s.color,i.color),i.fontFamily=Pv(s.fontFamily,i.fontFamily),i.fontSize=Pv(s.fontSize,i.fontSize),i.fontWeight=s.fontWeight,i.fontStyle=s.fontStyle,i.opacity=s.opacity,i.wrapLine=s.wrapLine),a){case"br":(a=e.clone()).lineBreak=!0,n.push(a);break;case"b":i.fontWeight=700;break;case"i":i.fontStyle="italic";break;case"u":i.textDecoration.push("underline")}}if(zr(t))for(o=!0,r=c(t.textContent.split("\n")),t=r.next();!t.done;t=r.next())t=t.value,o||((o=e.clone()).lineBreak=!0,n.push(o)),0<t.length&&((o=i.clone()).payload=Fv(t),n.push(o)),o=!1;else for(t=(e=c(t.childNodes)).next();!t.done;t=e.next())Nv(t.value,i,n,r)}function jv(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?at:st[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter((function(t){return t.id==e}));return n.length?n[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=pt[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=ht,t.line=Number(n[1]),n[2]&&(t.lineAlign=pt[n[2].toUpperCase()]))}function Bv(t){if(null==(t=mh(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function Fv(t){var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xa0","&lrm;":"\u200e","&rlm;":"\u200f"},n=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,r=RegExp(n.source);return t&&r.test(t)?t.replace(n,(function(t){return e[t]||"'"})):t||""}function Uv(){this.g=null}function Hv(t,e,n){var r,i,o;return(new ji).box("payl",Ui((function(t){r=Re(t)}))).box("iden",Ui((function(t){i=Re(t)}))).box("sttg",Ui((function(t){o=Re(t)}))).parse(t),r?function(t,e,n,r,i){if(r=new rt(r,i,""),Ov(t,r,new Map),e&&(r.id=e),n)for(t=new gh(n),e=yh(t);e;)jv(r,e,[]),vh(t),e=yh(t);return r}(r,i,o,e,n):null}function Kv(){}function Gv(t){if(null==(t=mh(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function qv(){this.g=new Lv}function Vv(t){var e="WEBVTT\n\n";if(""==t)return e;for(var n=(t=c((t=(t=t.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=t.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),e+=n.join("\n")+"\n\n";return e}function zv(){}function Wv(t,e){var n=e.Fontname;if(n&&(t.fontFamily=n),(n=e.Fontsize)&&(t.fontSize=n+"px"),(n=e.PrimaryColour)&&(n=Yv(n))&&(t.color=n),(n=e.BackColour)&&(n=Yv(n))&&(t.backgroundColor=n),e.Bold&&(t.fontWeight=700),e.Italic&&(t.fontStyle="italic"),e.Underline&&t.textDecoration.push("underline"),(n=e.Spacing)&&(t.letterSpacing=n+"px"),n=e.Alignment)switch(parseInt(n,10)){case 1:t.displayAlign=ut,t.textAlign="start";break;case 2:t.displayAlign=ut,t.textAlign=at;break;case 3:t.displayAlign=ut,t.textAlign="end";break;case 5:t.displayAlign="before",t.textAlign="start";break;case 6:t.displayAlign="before",t.textAlign=at;break;case 7:t.displayAlign="before",t.textAlign="end";break;case 9:t.displayAlign="center",t.textAlign="start";break;case 10:t.displayAlign="center",t.textAlign=at;break;case 11:t.displayAlign="center",t.textAlign="end"}(n=e.AlphaLevel)&&(t.opacity=parseFloat(n))}function Yv(t){return 0<=(t=parseInt(t.replace("&H",""),16))?"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+(t>>24&255^255)/255+")":null}function Xv(t){return 3600*((t=em.exec(t))[1]?parseInt(t[1].replace(":",""),10):0)+60*parseInt(t[2],10)+parseFloat(t[3])}nn["application/ttml+xml"]=function(){return new iv},Cv.prototype.parseInit=function(t){var e=!1;if((new ji).box("moov",Bi).box("trak",Bi).box("mdia",Bi).box("minf",Bi).box("stbl",Bi).P("stsd",Fi).box("stpp",(function(t){e=!0,t.parser.stop()})).parse(t),!e)throw new Kt(2,2,2007)},Cv.prototype.parseMedia=function(t,e){var n=this,r=!1,i=[];if((new ji).box("mdat",Ui((function(t){r=!0,i=i.concat(n.g.parseMedia(t,e))}))).parse(t,!1),!r)throw new Kt(2,2,2007);return i},H("shaka.text.Mp4TtmlParser",Cv),Cv.prototype.parseMedia=Cv.prototype.parseMedia,Cv.prototype.parseInit=Cv.prototype.parseInit,nn['application/mp4; codecs="stpp"']=function(){return new Cv},nn['application/mp4; codecs="stpp.ttml"']=function(){return new Cv},nn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Cv},nn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Cv},Lv.prototype.parseInit=function(){},Lv.prototype.parseMedia=function(t,e){var n=Re(t),r=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new Kt(2,2,2e3);if(n=e.periodStart,r[0].includes("X-TIMESTAMP-MAP")){var i=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=r[0].match(/MPEGTS:(\d+)/m);if(i&&o){if(null==(n=Bv(new gh(i[1]))))throw new Kt(2,2,2e3);for(o=Number(o[1]),i=e.segmentStart;95443.7176888889<=i;)i-=95443.7176888889,o+=8589934592;n=e.periodStart+o/9e4-n}}o=[];for(var a=(i=c(r[0].split("\n"))).next();!a.done;a=i.next())if(a=a.value,/^Region:/.test(a)){a=new gh(a);var s=new wt;yh(a),vh(a);for(var u=yh(a);u;){var l=s,f=u;(u=/^id=(.*)$/.exec(f))?l.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(f))?(l.height=Number(u[1]),l.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(u[1]),l.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(u[1]),l.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),vh(a),u=yh(a)}o.push(s)}for(Dv(i=new Map),a=[],s=(r=c(r.slice(1))).next();!s.done;s=r.next()){if((1!=(s=s.value.split("\n")).length||s[0])&&!/^NOTE($|[ \t])/.test(s[0])&&"STYLE"==s[0]){for(l=[],u=-1,f=1;f<s.length;f++)s[f].includes("::cue")&&(l.push([]),u=l.length-1),-1!=u&&(l[u].push(s[f]),s[f].includes("}")&&(u=-1));for(u=(l=c(l)).next();!u.done;u=l.next()){var h=u.value;u="global",(f=h[0].match(/\((.*)\)/))&&(u=f.pop()),f=h.slice(1,-1),h[0].includes("}")&&(h=/\{(.*?)\}/.exec(h[0]))&&(f=h[1].split(";")),(h=i.get(u))||(h=new rt(0,0,""));for(var d=!1,p=0;p<f.length;p++){var g=/^\s*([^:]+):\s*(.*)/.exec(f[p]);if(g){var v=g[2].trim().replace(";","");switch(g[1].trim()){case"background-color":case"background":d=!0,h.backgroundColor=v;break;case"color":d=!0,h.color=v;break;case"font-family":d=!0,h.fontFamily=v;break;case"font-size":d=!0,h.fontSize=v;break;case"font-weight":(700<=parseInt(v,10)||"bold"==v)&&(d=!0,h.fontWeight=700);break;case"font-style":switch(v){case"normal":d=!0,h.fontStyle=yt;break;case"italic":d=!0,h.fontStyle="italic";break;case"oblique":d=!0,h.fontStyle="oblique"}break;case"opacity":d=!0,h.opacity=parseFloat(v);break;case"text-shadow":d=!0,h.textShadow=v;break;case"white-space":d=!0,h.wrapLine="noWrap"!=v}}}d&&i.set(u,h)}}if(d=n,1==s.length&&!s[0]||/^NOTE($|[ \t])/.test(s[0])||"STYLE"==s[0]||"REGION"==s[0])s=null;else{if(l=null,s[0].includes("--\x3e")||(l=s[0],s.splice(0,1)),f=Bv(u=new gh(s[0])),p=mh(u,/[ \t]+--\x3e[ \t]+/g),h=Bv(u),null==f||null==p||null==h)throw new Kt(2,2,2001,"Could not parse cue time range in WebVTT");for(f+=d,h+=d,d=s.slice(1).join("\n").trim(),i.has("global")?((s=i.get("global").clone()).startTime=f,s.endTime=h,s.payload=""):s=new rt(f,h,""),Ov(d,s,i),vh(u),f=yh(u);f;)jv(s,f,o),vh(u),f=yh(u);null!=l&&(s.id=l)}s&&a.push(s)}return a},H("shaka.text.VttTextParser",Lv),Lv.prototype.parseMedia=Lv.prototype.parseMedia,Lv.prototype.parseInit=Lv.prototype.parseInit,nn["text/vtt"]=function(){return new Lv},nn['text/vtt; codecs="vtt"']=function(){return new Lv},nn['text/vtt; codecs="wvtt"']=function(){return new Lv},Uv.prototype.parseInit=function(t){var e=this,n=!1;if((new ji).box("moov",Bi).box("trak",Bi).box("mdia",Bi).P("mdhd",(function(t){t=Jo(t.reader,t.version),e.g=t.timescale})).box("minf",Bi).box("stbl",Bi).P("stsd",Fi).box("wvtt",(function(){n=!0})).parse(t),!this.g)throw new Kt(2,2,2008);if(!n)throw new Kt(2,2,2008)},Uv.prototype.parseMedia=function(t,e){if(!t.length)return[];if(!this.g)throw new Kt(2,2,2008);var n,r=0,i=[],o=[],a=!1,s=!1,u=!1,l=null;if((new ji).box("moof",Bi).box("traf",Bi).P("tfdt",(function(t){a=!0,r=Zo(t.reader,t.version).pd})).P("tfhd",(function(t){l=$o(t.reader,t.flags).ie})).P("trun",(function(t){s=!0,i=Qo(t.reader,t.version,t.flags).ye})).box("mdat",Ui((function(t){u=!0,n=t}))).parse(t,!1),!u&&!a&&!s)throw new Kt(2,2,2008);for(var f=r,h=new Oi(n,0),d=c(i),p=d.next();!p.done;p=d.next()){var g=(p=p.value).Sd||l,v=p.Tc?r+p.Tc:f;f=v+(g||0);var m=0;do{var y=h.M();m+=y;var b=null;"vttc"==Ki(h.M())?8<y&&(b=h.Za(y-8)):h.skip(y-8),g&&b&&(y=Hv(b,e.periodStart+v/this.g,e.periodStart+f/this.g),o.push(y))}while(p.sampleSize&&m<p.sampleSize)}return o.filter(jt)},H("shaka.text.Mp4VttParser",Uv),Uv.prototype.parseMedia=Uv.prototype.parseMedia,Uv.prototype.parseInit=Uv.prototype.parseInit,nn['application/mp4; codecs="wvtt"']=function(){return new Uv},Kv.prototype.parseInit=function(){},Kv.prototype.parseMedia=function(t){var e=Re(t).replace(/\r+/g,"");if(t=[],""==(e=e.trim()))return t;for(var n=(e=c(e.split("\n\n"))).next();!n.done;n=e.next()){var r=new gh((n=n.value.split("\n"))[0]),i=Gv(r),o=mh(r,/,/g);if(r=Gv(r),null==i||null==o||null==r)throw new Kt(2,2,2001,"Could not parse cue time range in SubViewer");t.push(new rt(i,r,n.slice(1).join("\n").trim()))}return t},H("shaka.text.SbvTextParser",Kv),Kv.prototype.parseMedia=Kv.prototype.parseMedia,Kv.prototype.parseInit=Kv.prototype.parseInit,nn["text/x-subviewer"]=function(){return new Kv},qv.prototype.parseInit=function(){},qv.prototype.parseMedia=function(t,e){var n=Re(t);return n=Mt(Le(n=Vv(n))),this.g.parseMedia(n,e)},H("shaka.text.SrtTextParser",qv),qv.srt2webvtt=Vv,qv.prototype.parseMedia=qv.prototype.parseMedia,qv.prototype.parseInit=qv.prototype.parseInit,nn["text/srt"]=function(){return new qv},zv.prototype.parseInit=function(){},zv.prototype.parseMedia=function(t){for(var e="",n="",r=(t=c(t=Re(t).split(/\r?\n\s*\r?\n/))).next();!r.done;r=t.next()){var i=Jv.exec(r.value);i&&(r=i[1],i=i[2],"V4 Styles"==r||"V4+ Styles"==r?e=i:"Events"==r&&(n=i))}t=[],r=null;for(var o=(e=c(e.split(/\r?\n/))).next();!o.done;o=e.next())if(i=o.value,!/^\s*;/.test(i)&&(o=Qv.exec(i)))if(i=o[1].trim(),o=o[2].trim(),"Format"==i)r=o.split(tm);else if("Style"==i){i=o.split(tm),o={};for(var a=0;a<r.length&&a<i.length;a++)o[r[a]]=i[a];t.push(o)}for(r=[],e=null,i={},o=(n=c(n.split(/\r?\n/))).next();!o.done;i={kd:i.kd},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(a=Qv.exec(o)))if(o=a[1].trim(),a=a[2].trim(),"Format"==o)e=a.split(tm);else if("Dialogue"==o){a=a.split(tm),o={};for(var s=0;s<e.length&&s<a.length;s++)o[e[s]]=a[s];a=new rt(s=Xv(o.Start),Xv(o.End),a.slice(e.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),i.kd=o.Style,(o=t.find(function(t){return function(e){return e.Name==t.kd}}(i)))&&Wv(a,o),r.push(a)}return r},H("shaka.text.SsaTextParser",zv),zv.prototype.parseMedia=zv.prototype.parseMedia,zv.prototype.parseInit=zv.prototype.parseInit;var $v,Zv,Jv=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,Qv=/^\s*([^:]+):\s*(.*)/,tm=/\s*,\s*/,em=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function nm(){}function rm(){$v?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?($v=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=im):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function im(t,e){var n,r=this;return D((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),S(i,$v.call(r,t,e),2)):pm(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=$v,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=om,i.return(om.call(r,t,e)))}))}function om(t,e){var n,r,i,o,a,s,u,l,f,h,d=this;return D((function(p){if(1==p.g){for(console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess'),n=dm(t),r=[],i=c(e),o=i.next();!o.done;o=i.next())a=o.value,s=am(a.videoCapabilities,n),u=am(a.audioCapabilities,n),a.videoCapabilities&&a.videoCapabilities.length&&!s.length||a.audioCapabilities&&a.audioCapabilities.length&&!u.length||((l=Object.assign({},a)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(f=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",f.code=DOMException.NOT_SUPPORTED_ERR,f;return S(p,$v.call(d,t,r),2)}return h=p.h,p.return(new hm(h,n))}))}function am(t,e){return t?t.filter((function(t){return!t.encryptionScheme||t.encryptionScheme==e})):t}function sm(){}function um(){Zv?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Zv=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=lm):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function lm(t){var e,n,r,i=this;return D((function(o){switch(o.g){case 1:return console.assert(i==navigator.mediaCapabilities,'bad "this" for decodingInfo'),S(o,Zv.call(i,t),2);case 2:if(e=o.h,!t.keySystemConfiguration)return o.return(e);if((n=e.keySystemAccess)&&pm(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Zv,o.return(e);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=cm,n){o.B(3);break}return r=e,S(o,fm(t),4);case 4:return r.keySystemAccess=o.h,o.return(e);case 3:return o.return(cm.call(i,t))}}))}function cm(t){var e,n,r,i,o,a,s,u,l=this;return D((function(c){switch(c.g){case 1:return console.assert(l==navigator.mediaCapabilities,'bad "this" for decodingInfo'),e=null,t.keySystemConfiguration&&(n=t.keySystemConfiguration,r=n.keySystem,i=n.audio&&n.audio.encryptionScheme,o=n.video&&n.video.encryptionScheme,e=dm(r),a={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},i&&i!=e||o&&o!=e)?c.return(a):S(c,Zv.call(l,t),2);case 2:if((s=c.h).keySystemAccess){s.keySystemAccess=new hm(s.keySystemAccess,e),c.B(3);break}if(!t.keySystemConfiguration){c.B(3);break}return u=s,S(c,fm(t),5);case 5:u.keySystemAccess=c.h;case 3:return c.return(s)}}))}function fm(t){var e,n;return D((function(r){if(1==r.g){var i=t.keySystemConfiguration,o=[],a=[];return i.audio&&o.push({robustness:i.audio.robustness||"",contentType:t.audio.contentType}),i.video&&a.push({robustness:i.video.robustness||"",contentType:t.video.contentType}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(i.audioCapabilities=o),a.length&&(i.videoCapabilities=a),e=i,S(r,navigator.requestMediaKeySystemAccess(t.keySystemConfiguration.keySystem,[e]),2)}return n=r.h,r.return(n)}))}function hm(t,e){this.h=t,this.g=e,this.keySystem=t.keySystem}function dm(t){return t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.chromecast")||t.startsWith("com.adobe")||t.startsWith("org.w3")?"cenc":t.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function pm(t){var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return!(!(t=t.videoCapabilities&&t.videoCapabilities[0]||e)||void 0===t.encryptionScheme)}function gm(){}function vm(){rm(),um()}nn["text/x-ssa"]=function(){return new zv},H("EmeEncryptionSchemePolyfill",nm),nm.install=rm,H("McEncryptionSchemePolyfill",sm),sm.install=um,hm.prototype.getConfiguration=function(){var t=this.h.getConfiguration();if(t.videoCapabilities)for(var e=c(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.g;if(t.audioCapabilities)for(n=(e=c(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.g;return t},hm.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},H("EncryptionSchemePolyfills",gm),gm.install=vm,"undefined"!==typeof n&&n.exports&&(n.exports=gm)}.call(r,n,n,void 0),r.shaka)e[i]=r.shaka[i]}()}).call(this,n(60))},function(t,e,n){(function(t){!function(){var n="undefined"!=typeof window?window:t,r={};for(var i in function(t,e,n){var r;function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof t&&t,"object"==typeof self&&self,"object"==typeof e&&e];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(t,e){if(e)t:{for(var n=s,r=t.split("."),i=0;i<r.length-1;i++){var o=r[i];if(!(o in n))break t;n=n[o]}(o=e(i=n[r=r[r.length-1]]))!=i&&null!=o&&a(n,r,{configurable:!0,writable:!0,value:o})}}function l(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}function f(t){if(!(t instanceof Array)){t=c(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}u("Symbol",(function(t){function e(t,e){this.g=t,a(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=s[e[n]];"function"===typeof r&&"function"!=typeof r.prototype[t]&&a(r.prototype,t,{configurable:!0,writable:!0,value:function(){return l(o(this))}})}return t}));var h,d="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var p;t:{var g={};try{g.__proto__={a:!0},p=g.a;break t}catch(Mg){}p=!1}h=p?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var v=h;function m(t,e){if(t.prototype=d(e.prototype),t.prototype.constructor=t,v)v(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.vg=e.prototype}function y(){this.s=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.D=this.i=null}function b(t){if(t.s)throw new TypeError("Generator is already running");t.s=!0}function w(t,e){t.i={Xd:e,be:!0},t.g=t.m||t.j}function S(t,e,n){return t.g=n,{value:e}}function T(t){t.g=0}function E(t,e,n){t.m=e,void 0!=n&&(t.j=n)}function _(t){t.m=0,t.j=2}function k(t,e){t.g=e,t.m=0}function x(t){t.m=0;var e=t.i.Xd;return t.i=null,e}function M(t){t.D=[t.i],t.m=0,t.j=0}function A(t,e){var n=t.D.splice(0)[0];(n=t.i=t.i||n)?n.be?t.g=t.m||t.j:void 0!=n.v&&t.j<n.v?(t.g=n.v,t.i=null):t.g=t.j:t.g=e}function R(t){this.g=new y,this.h=t}function I(t,e,n,r){try{var i=e.call(t.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.s=!1,i;var o=i.value}catch(a){return t.g.l=null,w(t.g,a),C(t)}return t.g.l=null,r.call(t.g,o),C(t)}function C(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.s=!1,{value:e.value,done:!1}}catch(n){t.g.h=void 0,w(t.g,n)}if(t.g.s=!1,t.g.i){if(e=t.g.i,t.g.i=null,e.be)throw e.Xd;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function L(t){this.next=function(e){return b(t.g),t.g.l?e=I(t,t.g.l.next,e,t.g.u):(t.g.u(e),e=C(t)),e},this.throw=function(e){return b(t.g),t.g.l?e=I(t,t.g.l.throw,e,t.g.u):(w(t.g,e),e=C(t)),e},this.return=function(e){return function(t,e){b(t.g);var n=t.g.l;return n?I(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),C(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function D(t,e){var n=new L(new R(e));return v&&t.prototype&&v(n,t.prototype),n}function O(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(t,i)}(t.next())}))}(new L(new R(t)))}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}function j(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var o=t[i];if(e.call(n,o,i,t))return{ha:i,ve:o}}return{ha:-1,ve:void 0}}function B(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}y.prototype.u=function(t){this.h=t},y.prototype.return=function(t){this.i={return:t},this.g=this.j},y.prototype.v=function(t){this.g=t},u("Promise",(function(t){function e(t){this.h=0,this.i=void 0,this.g=[],this.s=!1;var e=this.j();try{t(e.resolve,e.reject)}catch(i){e.reject(i)}}function n(){this.g=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.h=function(t){if(null==this.g){this.g=[];var e=this;this.i((function(){e.l()}))}this.g.push(t)};var o=s.setTimeout;n.prototype.i=function(t){o(t,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(t){this.i((function(){throw t}))},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.I),reject:t(this.l)}},e.prototype.I=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.N(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.H(t):this.m(t)}},e.prototype.H=function(t){var e=void 0;try{e=t.then}catch(i){return void this.l(i)}"function"==typeof e?this.S(e,t):this.m(t)},e.prototype.l=function(t){this.u(2,t)},e.prototype.m=function(t){this.u(1,t)},e.prototype.u=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.i=e,2===this.h&&this.L(),this.D()},e.prototype.L=function(){var t=this;o((function(){if(t.F()){var e=s.console;"undefined"!==typeof e&&e.error(t.i)}}),1)},e.prototype.F=function(){if(this.s)return!1;var t=s.CustomEvent,e=s.Event,n=s.dispatchEvent;return"undefined"===typeof n||("function"===typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"===typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,n(t))},e.prototype.D=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)a.h(this.g[t]);this.g=null}};var a=new n;return e.prototype.N=function(t){var e=this.j();t.sc(e.resolve,e.reject)},e.prototype.S=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.sc(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.sc=function(t,e){function n(){switch(r.h){case 1:t(r.i);break;case 2:e(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.s=!0},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=c(t),o=i.next();!o.done;o=i.next())r(o.value).sc(e,n)}))},e.all=function(t){var n=c(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).sc(o(a.length-1),e),i=n.next()}while(!i.done)}))},e})),u("WeakMap",(function(t){function e(t){if(this.g=(u+=Math.random()+1).toString(),t){t=c(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(){}function r(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function i(t){if(!P(t,s)){var e=new n;a(t,s,{value:e})}}function o(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(Object.isExtensible(t)&&i(t),e(t))})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(i){return!1}}())return t;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return e.prototype.set=function(t,e){if(!r(t))throw Error("Invalid WeakMap key");if(i(t),!P(t,s))throw Error("WeakMap key fail: "+t);return t[s][this.g]=e,this},e.prototype.get=function(t){return r(t)&&P(t,s)?t[s][this.g]:void 0},e.prototype.has=function(t){return r(t)&&P(t,s)&&P(t[s],this.g)},e.prototype.delete=function(t){return!!(r(t)&&P(t,s)&&P(t[s],this.g))&&delete t[s][this.g]},e})),u("Map",(function(t){function e(){var t={};return t.Sa=t.next=t.head=t}function n(t,e){var n=t.g;return l((function(){if(n){for(;n.head!=t.g;)n=n.Sa;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?o.has(e)?n=o.get(e):(n=""+ ++a,o.set(e,n)):n="p_"+e;var r=t.h[n];if(r&&P(t.h,n))for(var i=0;i<r.length;i++){var s=r[i];if(e!==e&&s.key!==s.key||e===s.key)return{id:n,list:r,index:i,ga:s}}return{id:n,list:r,index:-1,ga:void 0}}function i(t){if(this.h={},this.g=e(),this.size=0,t){t=c(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(c([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(o){return!1}}())return t;var o=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t=0===t?0:t);return n.list||(n.list=this.h[n.id]=[]),n.ga?n.ga.value=e:(n.ga={next:this.g,Sa:this.g.Sa,head:this.g,key:t,value:e},n.list.push(n.ga),this.g.Sa.next=n.ga,this.g.Sa=n.ga,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).ga||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.h[t.id],t.ga.Sa.next=t.ga.next,t.ga.next.Sa=t.ga.Sa,t.ga.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Sa=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).ga},i.prototype.get=function(t){return(t=r(this,t).ga)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var a=0;return i})),u("Set",(function(t){function e(t){if(this.g=new Map,t){t=c(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.g.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(c([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(o){return!1}}()?t:(e.prototype.add=function(t){return t=0===t?0:t,this.g.set(t,t),this.size=this.g.size,this},e.prototype.delete=function(t){return t=this.g.delete(t),this.size=this.g.size,t},e.prototype.clear=function(){this.g.clear(),this.size=0},e.prototype.has=function(t){return this.g.has(t)},e.prototype.entries=function(){return this.g.entries()},e.prototype.values=function(){return this.g.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.g.forEach((function(r){return t.call(e,r,r,n)}))},e)})),u("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}})),u("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var o=n[i];if(o===t||Object.is(o,t))return!0}return!1}})),u("String.prototype.includes",(function(t){return t||function(t,e){return-1!==N(this,t,"includes").indexOf(t,e||0)}})),u("Array.prototype.findIndex",(function(t){return t||function(t,e){return j(this,t,e).ha}})),u("Array.prototype.values",(function(t){return t||function(){return B(this,(function(t,e){return e}))}})),u("Array.prototype.find",(function(t){return t||function(t,e){return j(this,t,e).ve}})),u("String.prototype.startsWith",(function(t){return t||function(t,e){for(var n=N(this,t,"startsWith"),r=n.length,i=t.length,o=Math.max(0,Math.min(0|e,n.length)),a=0;a<i&&o<r;)if(n[o++]!=t[a++])return!1;return a>=i}})),u("Array.prototype.keys",(function(t){return t||function(){return B(this,(function(t){return t}))}}));var F="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)P(r,i)&&(t[i]=r[i])}return t};u("Object.assign",(function(t){return t||F})),u("Array.from",(function(t){return t||function(t,e,n){e=null!=e?e:function(t){return t};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof i){t=i.call(t);for(var o=0;!(i=t.next()).done;)r.push(e.call(n,i.value,o++))}else for(i=t.length,o=0;o<i;o++)r.push(e.call(n,t[o],o));return r}})),u("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}})),u("Array.prototype.entries",(function(t){return t||function(){return B(this,(function(t,e){return[t,e]}))}})),u("String.prototype.repeat",(function(t){return t||function(t){var e=N(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}})),u("Object.values",(function(t){return t||function(t){var e,n=[];for(e in t)P(t,e)&&n.push(t[e]);return n}})),u("Math.log2",(function(t){return t||function(t){return Math.log(t)/Math.LN2}})),u("Object.entries",(function(t){return t||function(t){var e,n=[];for(e in t)P(t,e)&&n.push([e,t[e]]);return n}}));var U=this||self;function H(t,e){var n,r=t.split("."),i=U;r[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=e}function K(t){this.i=Math.exp(Math.log(.5)/t),this.h=this.g=0}function G(t,e,n){var r=Math.pow(t.i,e);n=n*(1-r)+r*t.g,isNaN(n)||(t.g=n,t.h+=e)}function q(t){return t.g/(1-Math.pow(t.i,t.h))}function V(){this.h=new K(2),this.i=new K(5),this.g=0}function z(){}function W(){}function Y(){}function X(t,e){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];Z.has(t)||(Z.add(t),Y.apply(z,f(n)))}function $(){}V.prototype.getBandwidthEstimate=function(t){return 128e3>this.g?t:Math.min(q(this.h),q(this.i))};var Z=new Set;if(t.console&&t.console.log.bind){var J={},Q=(J[1]=console.error.bind(console),J[2]=console.warn.bind(console),J[3]=console.info.bind(console),J[4]=console.log.bind(console),J[5]=console.debug.bind(console),J[6]=console.debug.bind(console),J);Y=Q[2],W=Q[1]}function tt(t,e){for(var n=[],r=c(t),i=r.next();!i.done;i=r.next())n.push(e(i.value));return n}var et=function t(e){var n;return D(t,(function(t){return 1==t.g&&(n=0),3!=t.g?n<e?S(t,n,3):t.v(0):(n++,t.v(2))}))},nt=function t(e){var n,r,i,o,a,s;return D(t,(function(t){return 1==t.g&&(n=-1,i=r=void 0,o=c(e),a=o.next()),5!=t.g?a.done?-1==n?t.v(0):S(t,{ha:n,sf:r,item:i,next:void 0},0):(s=a.value,0<=n?S(t,{ha:n,item:i,sf:r,next:s},5):t.v(5)):(n++,r=i,i=s,a=o.next(),t.v(2))}))};function rt(){}function it(t,e){if(!t&&!e)return!0;if(!t||!e||t.byteLength!=e.byteLength)return!1;if(ot(t)==ot(e)&&(t.byteOffset||0)==(e.byteOffset||0))return!0;for(var n=st(t),r=st(e),i=c(et(t.byteLength)),o=i.next();!o.done;o=i.next())if(n[o=o.value]!=r[o])return!1;return!0}function ot(t){return t instanceof ArrayBuffer?t:t.buffer}function at(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function st(t,e,n){return lt(t,void 0===e?0:e,n=void 0===n?1/0:n,Uint8Array)}function ut(t,e,n){return lt(t,void 0===e?0:e,n=void 0===n?1/0:n,DataView)}function lt(t,e,n,r){var i=(t.byteOffset||0)+t.byteLength;return e=Math.max(0,Math.min((t.byteOffset||0)+e,i)),new r(ot(t),e,Math.min(e+Math.max(n,0),i)-e)}function ct(t,e,n,r){for(var i=[],o=3;o<arguments.length;++o)i[o-3]=arguments[o];this.severity=t,this.category=e,this.code=n,this.data=i,this.handled=!1}function ft(t){this.h=t,this.g=void 0}function ht(){}function dt(t){return t?(239==(t=st(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),(t=(new TextDecoder).decode(t)).includes("\ufffd")&&W('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t):""}function pt(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new ct(2,2,2004);var r=Math.floor(t.byteLength/2);n=new Uint16Array(r),t=ut(t);for(var i=(r=c(et(r))).next();!i.done;i=r.next())n[i=i.value]=t.getUint16(2*i,e);return yt.value()(n)}function gt(t){function e(t){return n.byteLength<=t||32<=n[t]&&126>=n[t]}if(!t)return"";var n=st(t);if(239==n[0]&&187==n[1]&&191==n[2])return dt(n);if(254==n[0]&&255==n[1])return pt(n.subarray(2),!1);if(255==n[0]&&254==n[1])return pt(n.subarray(2),!0);if(0==n[0]&&0==n[2])return pt(t,!1);if(0==n[1]&&0==n[3])return pt(t,!0);if(e(0)&&e(1)&&e(2)&&e(3))return dt(t);throw new ct(2,2,2003)}function vt(t){return at((new TextEncoder).encode(t))}function mt(t,e){for(var n=new ArrayBuffer(2*t.length),r=new DataView(n),i=c(nt(t)),o=i.next();!o.done;o=i.next())o=o.value,r.setUint16(2*o.ha,o.item.charCodeAt(0),e);return n}H("shaka.util.BufferUtils",rt),rt.toDataView=ut,rt.toUint8=st,rt.toArrayBuffer=at,rt.equal=it,ct.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},H("shaka.util.Error",ct),ct.Severity={RECOVERABLE:1,CRITICAL:2},ct.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},ct.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},ft.prototype.value=function(){return void 0==this.g&&(this.g=this.h()),this.g},H("shaka.util.StringUtils",ht),ht.resetFromCharCode=function(){yt.g=void 0},ht.toUTF16=mt,ht.toUTF8=vt,ht.fromBytesAutoDetect=gt,ht.fromUTF16=pt,ht.fromUTF8=dt;var yt=new ft((function(){function t(t){try{var e=new Uint8Array(t);return 0<String.fromCharCode.apply(null,e).length}catch(n){return!1}}for(var e={Ua:65536};0<e.Ua;(e={Ua:e.Ua}).Ua/=2)if(t(e.Ua))return function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.Ua)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.Ua));return n}}(e);return null}));function bt(t,e){this.R=ut(t),this.h=e==St,this.g=0}function wt(){return new ct(2,3,3e3)}(r=bt.prototype).na=function(){return this.g<this.R.byteLength},r.Z=function(){return this.g},r.Qe=function(){return this.R.byteLength},r.$=function(){try{var t=this.R.getUint8(this.g);return this.g+=1,t}catch(e){throw wt()}},r.Fb=function(){try{var t=this.R.getUint16(this.g,this.h);return this.g+=2,t}catch(e){throw wt()}},r.M=function(){try{var t=this.R.getUint32(this.g,this.h);return this.g+=4,t}catch(e){throw wt()}},r.ie=function(){try{var t=this.R.getInt32(this.g,this.h);return this.g+=4,t}catch(e){throw wt()}},r.mb=function(){try{if(this.h)var t=this.R.getUint32(this.g,!0),e=this.R.getUint32(this.g+4,!0);else e=this.R.getUint32(this.g,!1),t=this.R.getUint32(this.g+4,!1)}catch(n){throw wt()}if(2097151<e)throw new ct(2,3,3001);return this.g+=8,e*Math.pow(2,32)+t},r.$a=function(t){if(this.g+t>this.R.byteLength)throw wt();var e=st(this.R,this.g,t);return this.g+=t,e},r.skip=function(t){if(this.g+t>this.R.byteLength)throw wt();this.g+=t},r.ke=function(t){if(this.g<t)throw wt();this.g-=t},r.seek=function(t){if(0>t||t>this.R.byteLength)throw wt();this.g=t},r.Zb=function(){for(var t=this.g;this.na()&&0!=this.R.getUint8(this.g);)this.g+=1;return t=st(this.R,t,this.g-t),this.g+=1,dt(t)},H("shaka.util.DataViewReader",bt),bt.prototype.readTerminatedString=bt.prototype.Zb,bt.prototype.seek=bt.prototype.seek,bt.prototype.rewind=bt.prototype.ke,bt.prototype.skip=bt.prototype.skip,bt.prototype.readBytes=bt.prototype.$a,bt.prototype.readUint64=bt.prototype.mb,bt.prototype.readInt32=bt.prototype.ie,bt.prototype.readUint32=bt.prototype.M,bt.prototype.readUint16=bt.prototype.Fb,bt.prototype.readUint8=bt.prototype.$,bt.prototype.getLength=bt.prototype.Qe,bt.prototype.getPosition=bt.prototype.Z,bt.prototype.hasMoreData=bt.prototype.na;var St=1;function Tt(t,e){this.g=t,this.h=e}function Et(t,e){var n=new Tt(4,0),r=xt,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,t,e)}function _t(t,e,n,r){Y([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function kt(t,e,n,r){W([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}bt.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:St},Tt.prototype.toString=function(){return"v"+this.g+"."+this.h};var xt=null;function Mt(t,e){return t.concat(e)}function At(){}function Rt(t){return null!=t}function It(t){var e=Object.create(t.prototype||Object.prototype);try{var n=t.call(e);n||(Et("Factories requiring new","Factories should be plain functions"),n=e)}catch(r){Et("Factories requiring new","Factories should be plain functions"),n=new t}return n}function Ct(){this.i=[],this.h=[],this.g=!1}function Lt(t){for(var e=jt(t);t.reader.na()&&!t.parser.g;)t.parser.Hc(t.start+e,t.reader,t.partialOkay)}function Dt(t){for(var e=jt(t),n=t.reader.M(),r=(n=c(et(n))).next();!r.done&&(t.parser.Hc(t.start+e,t.reader,t.partialOkay),!t.parser.g);r=n.next());}function Ot(t){return function(e){t(e.reader.$a(e.reader.R.byteLength-e.reader.Z()))}}function Pt(t){for(var e=0,n=(t=c(t)).next();!n.done;n=t.next())e=e<<8|n.value.charCodeAt(0);return e}function Nt(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function jt(t){return 8+(t.has64BitSize?8:0)+(null!=t.flags?4:0)}(r=Ct.prototype).box=function(t,e){var n=Pt(t);return this.i[n]=Bt,this.h[n]=e,this},r.U=function(t,e){var n=Pt(t);return this.i[n]=Ft,this.h[n]=e,this},r.stop=function(){this.g=!0},r.parse=function(t,e,n){for(t=new bt(t,0),this.g=!1;t.na()&&!this.g;)this.Hc(0,t,e,n)},r.Hc=function(t,e,n,r){var i=e.Z();if(r&&i+8>e.R.byteLength)this.g=!0;else{var o=e.M(),a=e.M(),s=!1;switch(o){case 0:o=e.R.byteLength-i;break;case 1:if(r&&e.Z()+8>e.R.byteLength)return void(this.g=!0);o=e.mb(),s=!0}var u=this.h[a];if(u){var l=null,c=null;if(this.i[a]==Ft){if(r&&e.Z()+4>e.R.byteLength)return void(this.g=!0);l=(c=e.M())>>>24,c&=16777215}a=i+o,n&&a>e.R.byteLength&&(a=e.R.byteLength),r&&a>e.R.byteLength?this.g=!0:(r=a-e.Z(),u({parser:this,partialOkay:n||!1,version:l,flags:c,reader:e=new bt(e=0<r?e.$a(r):new Uint8Array(0),0),size:o,start:i+t,has64BitSize:s}))}else e.skip(Math.min(i+o-e.Z(),e.R.byteLength-e.Z()))}},H("shaka.util.Mp4Parser",Ct),Ct.headerSize=jt,Ct.typeToString=Nt,Ct.allData=Ot,Ct.sampleDescription=Dt,Ct.children=Lt,Ct.prototype.parseNext=Ct.prototype.Hc,Ct.prototype.parse=Ct.prototype.parse,Ct.prototype.stop=Ct.prototype.stop,Ct.prototype.fullBox=Ct.prototype.U,Ct.prototype.box=Ct.prototype.box;var Bt=0,Ft=1;function Ut(t){this.h=t,this.g=null}function Ht(t){this.h=t,this.g=null}function Kt(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function Gt(t){return""!=$t().canPlayType(t)}function qt(){return Xt("Xbox One")}function Vt(){return Xt("Tizen")}function zt(){return Xt("CrKey")}function Wt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Vt()}function Yt(){if(!Wt())return null;var t=navigator.userAgent.match(/Version\/(\d+)/);return t||(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}function Xt(t){return(navigator.userAgent||"").includes(t)}function $t(){return Jt||(Zt||(Zt=new Ht((function(){Jt=null}))),(Jt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Jt=document.createElement("video")),Zt.T(1),Jt)}Ut.prototype.T=function(e){var n=this;this.stop();var r=!0,i=null;return this.g=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.h()}),1e3*e),this},Ut.prototype.stop=function(){this.g&&(this.g(),this.g=null)},Ht.prototype.cc=function(){return this.stop(),this.h(),this},Ht.prototype.T=function(t){var e=this;return this.stop(),this.g=new Ut((function(){e.h()})).T(t),this},Ht.prototype.Ba=function(t){var e=this;return this.stop(),this.g=new Ut((function(){e.g.T(t),e.h()})).T(t),this},Ht.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},H("shaka.util.Timer",Ht),Ht.prototype.stop=Ht.prototype.stop,Ht.prototype.tickEvery=Ht.prototype.Ba,Ht.prototype.tickAfter=Ht.prototype.T,Ht.prototype.tickNow=Ht.prototype.cc;var Zt=null,Jt=null;function Qt(){}function te(t){return t=st(t),t=yt.value()(t),btoa(t)}function ee(t,e){e=void 0==e||e;var n=te(t).replace(/\+/g,"-").replace(/\//g,"_");return e?n:n.replace(/[=]*$/,"")}function ne(e){var n=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));e=new Uint8Array(n.length);for(var r=(n=c(nt(n))).next();!r.done;r=n.next())e[(r=r.value).ha]=r.item.charCodeAt(0);return e}function re(e){for(var n=e.length/2,r=new Uint8Array(n),i=(n=c(et(n))).next();!i.done;i=n.next())r[i=i.value]=t.parseInt(e.substr(2*i,2),16);return r}function ie(t){var e=st(t);t="";for(var n=(e=c(e)).next();!n.done;n=e.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),t+=n;return t}function oe(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];var r=0,i=c(e);for(n=i.next();!n.done;n=i.next())r+=n.value.byteLength;for(r=new Uint8Array(r),i=0,n=(e=c(e)).next();!n.done;n=e.next())n=n.value,r.set(st(n),i),i+=n.byteLength;return r}function ae(t,e,n,r,i){var o=ue.value(),a=t.subarray(n.start,n.start+n.size),s=ut(a),u=new Uint8Array(n.size+o.byteLength);for(u.set(a,0),(a=ut(u)).setUint32(4,i),u.set(o,n.size),i=s.getUint32(4),a.setUint32(n.size+16,i),se(u,0,u.byteLength),i=new Uint8Array(t.byteLength+u.byteLength),n=qt()?n.start:n.start+n.size,o=t.subarray(n),i.set(t.subarray(0,n)),i.set(u,n),i.set(o,n+u.byteLength),r=(t=c(r)).next();!r.done;r=t.next())se(i,(r=r.value).start,r.size+u.byteLength);return u=ut(i,e.start),e=jt(e),t=u.getUint32(e),u.setUint32(e,t+1),i}function se(t,e,n){0!=(e=(t=ut(t,e)).getUint32(0))&&(1==e?(t.setUint32(8,n>>32),t.setUint32(12,4294967295&n)):t.setUint32(0,n))}H("shaka.util.Uint8ArrayUtils",Qt),Qt.concat=oe,Qt.toHex=ie,Qt.fromHex=re,Qt.fromBase64=ne,Qt.toBase64=ee,Qt.toStandardBase64=te,Qt.equal=function(t,e){return Et("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),it(t,e)};var ue=new ft((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function le(t,e){return!("number"!==typeof t||"number"!==typeof e||!isNaN(t)||!isNaN(e))||t===e}function ce(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function fe(t,e,n){if(n||(n=le),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=c(t)).next();!i.done;r={Rc:r.Rc},i=t.next()){if(r.Rc=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.Rc,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function he(t,e,n){if(n||(n=le),t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function de(t,e,n){this.startTime=t,this.direction=we,this.endTime=e,this.payload=n,this.region=new Ie,this.position=null,this.positionAlign=ge,this.size=0,this.textAlign=ve,this.writingMode=Se,this.lineInterpretation=Te,this.line=null,this.lineHeight="",this.lineAlign=Ee,this.displayAlign=ye,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Me,this.fontStyle=Ae,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=this.lineBreak=!1,this.cellResolution={columns:32,rows:15}}function pe(t,e){if(t.startTime!=e.startTime||t.endTime!=e.endTime||t.payload!=e.payload)return!1;for(var n in t)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!he(t.nestedCues,e.nestedCues,pe))return!1}else if("region"==n||"cellResolution"==n){for(var r in t[n])if(t[n][r]!=e[n][r])return!1}else if(Array.isArray(t[n])){if(!he(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}de.prototype.clone=function(){var t,e=new de(0,0,"");for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e},H("shaka.text.Cue",de);var ge="auto";de.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ge};var ve="center",me={LEFT:"left",RIGHT:"right",CENTER:ve,START:"start",END:"end"};de.textAlign=me;var ye="after",be={BEFORE:"before",CENTER:"center",AFTER:ye};de.displayAlign=be;var we="ltr";de.direction={HORIZONTAL_LEFT_TO_RIGHT:we,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Se="horizontal-tb";de.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Se,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Te=0;de.lineInterpretation={LINE_NUMBER:Te,PERCENTAGE:1};var Ee="start",_e={CENTER:"center",START:Ee,END:"end"};de.lineAlign=_e;var ke={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};de.defaultTextColor=ke;var xe={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};de.defaultTextBackgroundColor=xe;var Me=400;de.fontWeight={NORMAL:Me,BOLD:700};var Ae="normal",Re={NORMAL:Ae,ITALIC:"italic",OBLIQUE:"oblique"};function Ie(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Ce,this.scroll=Le}de.fontStyle=Re,de.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},H("shaka.text.CueRegion",Ie);var Ce=1;Ie.units={PX:0,PERCENTAGE:Ce,LINES:2};var Le="";function De(t,e,n,r,i){if(r>=i)return null;for(var o=-1,a=-1,s=0;s<n.length;s++)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){o=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){a=s;break}if(-1===o||-1===a)return null;for(var u=s=!1,l="white",c="black",f=Oe(r,i,s,u,l,c);o<=a;o++){for(var h=n[o],d=-1,p=-1,g=0;g<h.length;g++)if(null!=h[g]&&""!==h[g].g.trim()){d=g;break}for(g=h.length-1;0<=g;g--)if(null!=h[g]&&""!==h[g].g.trim()){p=g;break}if(-1===d||-1===p)h=Pe(r,i),t.nestedCues.push(h);else{for(;d<=p;d++)if(g=h[d]){var v=g.l,m=g.i,y=g.j,b=g.h;v==s&&m==u&&y==l&&b==c||(f.payload&&t.nestedCues.push(f),f=Oe(r,i,v,m,y,b),s=v,u=m,l=y,c=b),f.payload+=g.g}else f.payload+=" ";f.payload&&t.nestedCues.push(f),o!==a&&(f=Pe(r,i),t.nestedCues.push(f)),f=Oe(r,i,s,u,l,c)}}return t.nestedCues.length?{cue:t,stream:e}:null}function Oe(t,e,n,r,i,o){return t=new de(t,e,""),n&&t.textDecoration.push("underline"),r&&(t.fontStyle="italic"),t.color=i,t.backgroundColor=o,t}function Pe(t,e){var n=new de(t,e,"");return n.lineBreak=!0,n}function Ne(t,e,n,r,i){this.g=t,this.l=e,this.i=n,this.h=r,this.j=i}function je(){this.l=!1,this.F=this.I=0,this.H=Ve,this.i=[],this.g=this.h=this.j=0,this.D=this.s=!1,this.u="white",this.m="black",Be(this)}function Be(t){t.i=[];for(var e=0;15>e;e++)t.i.push(Fe())}function Fe(){for(var t=[],e=0;42>e;e++)t.push(null);return t}function Ue(t,e){He(t)&&(t.i[t.h][t.g]=new Ne(e,t.D,t.s,t.m,t.u),t.g++)}function He(t){var e=t.g<t.F&&0<=t.g;return t.h<t.I&&0<=t.h&&e}function Ke(t,e,n){var r=new de(t.j,e,"");return r.textAlign=t.H===Ge?"left":t.H===qe?"right":ve,(n=De(r,"svc"+n,t.i,t.j,e))&&(t.j=e),n}Ie.scrollMode={NONE:Le,UP:"up"},je.prototype.isVisible=function(){return this.l};var Ge=0,qe=1,Ve=2;function ze(){this.i=[],this.h=null,this.g=0}function We(t,e){3===e.type?(t.g=2*(63&e.value)-1,t.h=[]):t.h&&(0<t.g&&(t.h.push(e),t.g--),0===t.g&&(t.i.push(new Ye(t.h)),t.h=null,t.g=0))}function Ye(t){this.g=0,this.h=t}function Xe(t){if(!t.na())throw new ct(2,2,3e3);return t.h[t.g++]}function $e(t){this.i=t,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Ze(t,e,n,r){if(128<=n&&135>=n)r=7&n,t.h[r]&&(t.g=t.h[r]);else{if(136===n){n=Xe(e).value,e=null;for(var i=(n=c(Je(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=Ke(i,r,t.i)),Be(i);return e}if(137===n)for(e=Xe(e).value,n=(e=c(Je(t,e))).next();!n.done;n=e.next())(n=t.h[n.value]).isVisible()||(n.j=r),n.l=!0;else{if(138===n){for(n=Xe(e).value,e=null,i=(n=c(Je(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=Ke(i,r,t.i)),i.l=!1;return e}if(139===n){for(n=Xe(e).value,e=null,i=(n=c(Je(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()?e=Ke(i,r,t.i):i.j=r,i.l=!i.l;return e}if(140===n)return Qe(t,e=Xe(e).value,r);if(143===n)return r=Qe(t,255,r),tn(t),r;if(144===n)e.skip(1),r=Xe(e).value,t.g&&(t.g.s=0<(128&r),t.g.D=0<(64&r));else if(145===n)r=Xe(e).value,n=Xe(e).value,e.skip(1),t.g&&(e=en((48&n)>>4,(12&n)>>2,3&n),t.g.u=en((48&r)>>4,(12&r)>>2,3&r),t.g.m=e);else if(146===n)r=Xe(e).value,e=Xe(e).value,t.g&&((t=t.g).h=15&r,t.g=63&e);else if(151===n)e.skip(1),e.skip(1),r=Xe(e).value,e.skip(1),t.g&&(t.g.H=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==t.h[n])){var o=new je;o.j=r,t.h[n]=o}r=Xe(e).value,Xe(e),Xe(e),o=Xe(e).value;var a=Xe(e).value;e=Xe(e).value,i&&0===(7&e)||((e=t.h[n]).h=0,e.g=0,e.D=!1,e.s=!1,e.u="white",e.m="black"),(e=t.h[n]).l=0<(32&r),e.I=1+(15&o),e.F=1+(63&a),t.g=t.h[n]}}}return null}Ye.prototype.na=function(){return this.g<this.h.length},Ye.prototype.Z=function(){return this.g},Ye.prototype.skip=function(t){if(this.g+t>this.h.length)throw new ct(2,2,3e3);this.g+=t};var Je=function t(e,n){var r;return D(t,(function(t){return 1==t.g&&(r=0),5!=t.g?8>r?1===(1&n)&&e.h[r]?S(t,r,5):t.v(5):t.v(0):(n>>=1,r++,t.v(2))}))};function Qe(t,e,n){for(var r=null,i=(e=c(Je(t,e))).next();!i.done;i=e.next()){i=i.value;var o=t.h[i];o.isVisible()&&(r=Ke(o,n,t.i)),t.h[i]=null}return r}function tn(t){t.g=null,t.h=[null,null,null,null,null,null,null,null]}function en(t,e,n){var r={0:0,1:0,2:1,3:1};return rn[(t=r[t])<<2|(e=r[e])<<1|(n=r[n])]}var nn=new Map([[32," "],[33,"\xa0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201c"],[52,"\u201d"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215b"],[119,"\u215c"],[120,"\u215d"],[121,"\u215e"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250c"]]),rn="black blue green cyan red magenta yellow white".split(" ");function on(t,e){this.i=[],this.g=1,this.h=0,this.D=t,this.u=e,this.j=this.m=!1,this.l="white",this.s="black",sn(this)}function an(t,e,n){return De(new de(e,n,""),"CC"+(t.D<<1|t.u+1),t.i,e,n)}function sn(t){cn(t,0,15),t.g=1}function un(t,e,n){if(!(32>n||127<n)){var r="";switch(e){case fn:r=gn.has(n)?gn.get(n):String.fromCharCode(n);break;case hn:r=vn.get(n);break;case dn:t.i[t.g].pop(),r=mn.get(n);break;case pn:t.i[t.g].pop(),r=yn.get(n)}r&&t.i[t.g].push(new Ne(r,t.m,t.j,t.s,t.l))}}function ln(t,e,n,r){if(e>=n)for(--r;0<=r;r--)t.i[e+r]=t.i[n+r].map((function(t){return t}));else for(var i=0;i<r;i++)t.i[e+i]=t.i[n+i].map((function(t){return t}))}function cn(t,e,n){for(var r=0;r<=n;r++)t.i[e+r]=[]}var fn=0,hn=1,dn=2,pn=3,gn=new Map([[39,"\u2019"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"\u2588"]]),vn=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"\u2122"],[53,"\xa2"],[54,"\xa3"],[55,"\u266a"],[56,"\xe0"],[57,"\u2800"],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),mn=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"\u2018"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xa9"],[44,"\u2120"],[45,"\xb7"],[46,"\u201c"],[47,"\u201d"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),yn=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"\u2502"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"\u250c"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]);function bn(t,e){this.h=En,this.s=new on(t,e),this.i=new on(t,e),this.l=new on(t,e),this.g=this.i,this.j=0,this.m=null}function wn(t,e,n){t.g=t.i;var r=t.g,i=null;return t.h!==kn&&t.h!==xn&&(i=an(r,t.j,n),(n=t.i).g=0<n.h?n.h:0,cn(n,0,15),(n=t.l).g=0<n.h?n.h:0,cn(n,0,15),r.g=15),t.h=kn,r.h=e,i}function Sn(t){t.h=_n,t.g=t.l,t.g.h=0}function Tn(t){X("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),t.g=t.s,t.h=xn}var En=0,_n=1,kn=3,xn=4,Mn="black green blue cyan red yellow magenta black".split(" "),An="white green blue cyan red yellow magenta white_italics".split(" ");function Rn(){this.h=[],this.g=[],this.i=new ze,this.l=0,this.u=new Map([["CC1",new bn(0,0)],["CC2",new bn(0,1)],["CC3",new bn(1,0)],["CC4",new bn(1,1)]]),this.s=this.m=0,this.j=new Map,In(this)}function In(t){t.m=0,t.s=0;for(var e=(t=c(t.u.values())).next();!e.done;e=t.next())(e=e.value).h=2,e.g=e.i,e.m=null,sn(e.i),sn(e.l),sn(e.s)}function Cn(t,e){var n=e.type;if(16===(112&e.za)){var r=e.za>>3&1;0===n?t.m=r:t.s=r}if(n=t.u.get("CC"+(n<<1|(n?t.s:t.m)+1)),255===e.za&&255===e.Pa||!e.za&&!e.Pa||!Dn(e.za)||!Dn(e.Pa))return 45<=++t.l&&In(t),null;if(t.l=0,e.za&=127,e.Pa&=127,!e.za&&!e.Pa)return null;if(r=null,16===(112&e.za))t:{var i=e.za;if(r=e.Pa,n.m===(i<<8|r))n.m=null;else if(n.m=i<<8|r,16===(240&i)&&64===(192&r)){i=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&i)<<1|r>>5&1];var o=(30&r)>>1,a="white",s=!1;if(7>o?a=An[o]:7===o&&(s=!0),r=1===(1&r),n.h!==xn){if(o=n.g,n.h===kn&&i!==o.g){var u=1+i-o.h;ln(o,u,1+o.g-o.h,o.h),cn(o,0,u-1),cn(o,i+1,15-i)}o.g=i,n.g.m=r,n.g.j=s,n.g.l=a,n.g.s="black"}}else if(17===(247&i)&&32===(240&r))n.g.m=!1,n.g.j=!1,n.g.l="white",un(n.g,fn,32),a=!1,"white_italics"===(i=An[(14&r)>>1])&&(i="white",a=!0),n.g.m=1===(1&r),n.g.j=a,n.g.l=i;else if(16===(247&i)&&32===(240&r)||23===(247&i)&&45===(255&r))a="black",0===(7&i)&&(a=Mn[(14&r)>>1]),n.g.s=a;else if(17===(247&i)&&48===(240&r))un(n.g,hn,r);else if(18===(246&i)&&32===(224&r))un(n.g,1&i?pn:dn,r);else if(20===(246&i)&&32===(240&r)){switch(r=e.pts,i=null,e.Pa){case 32:Sn(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:i=wn(n,2,r);break;case 38:i=wn(n,3,r);break;case 39:i=wn(n,4,r);break;case 40:un(n.g,fn,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.j=r;break;case 42:sn(n.s),Tn(n);break;case 43:Tn(n);break;case 44:i=n.i,a=null,n.h!==xn&&(a=an(i,n.j,r)),cn(i,0,15),i=a;break;case 45:i=n.g,n.h!==kn?i=null:(a=an(i,n.j,r),ln(i,(s=i.g-i.h+1)-1,s,i.h),cn(i,0,s-1),cn(i,i.g,15-i.g),n.j=r,i=a);break;case 46:cn(n.l,0,15);break;case 47:i=null,n.h!==xn&&(i=an(n.i,n.j,r)),a=n.l,n.l=n.i,n.i=a,Sn(n),n.j=r}r=i;break t}r=null}else i=e.Pa,un(n.g,fn,e.za),un(n.g,fn,i);return r}function Ln(t,e){var n=[];try{for(;e.na();){var r=Xe(e).value,i=(224&r)>>5,o=31&r;if(7===i&&0!=o&&(i=63&Xe(e).value),0!=i){t.j.has(i)||t.j.set(i,new $e(i));for(var a=t.j.get(i),s=e.Z();e.Z()-s<o;){var u=Xe(i=e),l=u.value,c=u.pts;if(16===l)l=l<<16|Xe(i).value;if(0<=l&&31>=l){var f=c;if(a.g){var h=a.g;switch(i=null,l){case 8:!He(h)||0>=h.g&&0>=h.h||(0>=h.g?(h.g=h.F-1,h.h--):h.g--,h.i[h.h][h.g]=null);break;case 13:if(h.isVisible()&&(i=Ke(h,f,a.i)),h.h+1>=h.I){f=h;for(var d=0,p=1;15>p;p++,d++)f.i[d]=f.i[p];for(p=0;1>p;p++,d++)f.i[d]=Fe()}else h.h++;h.g=0;break;case 14:h.isVisible()&&(i=Ke(h,f,a.i)),h.i[h.h]=Fe(),h.g=0;break;case 12:h.isVisible()&&(i=Ke(h,f,a.i)),Be(h),(f=h).h=0,f.g=0}var g=i}else g=null}else if(128<=l&&159>=l)g=Ze(a,i,l,c);else{if(4096<=l&&4127>=l)8<=(f=255&l)&&15>=f?i.skip(1):16<=f&&23>=f?i.skip(2):24<=f&&31>=f&&i.skip(3);else if(4224<=l&&4255>=l)128<=(f=255&l)&&135>=f?i.skip(4):136<=f&&143>=f&&i.skip(5);else if(32<=l&&127>=l)i=l,a.g&&Ue(a.g,127===i?"\u266a":String.fromCharCode(i));else if(160<=l&&255>=l)a.g&&Ue(a.g,String.fromCharCode(l));else if(4128<=l&&4223>=l){if(i=255&l,a.g)if(nn.has(i)){var v=nn.get(i);Ue(a.g,v)}else Ue(a.g,"_")}else 4256<=l&&4351>=l&&a.g&&Ue(a.g,160!=(255&l)?"_":"[CC]");g=null}(i=g)&&n.push(i)}}}}catch(m){if(!(m instanceof ct&&3e3===m.code))throw m;X("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Dn(t){for(var e=0;t;)e^=1&t,t>>=1;return 1===e}function On(){}var Pn=function t(e,n){var r,i,o,a;return D(t,(function(t){if(1==t.g){for(var e=0,s=0,u=0;s<n.length;)2==e&&3==n[s]?e=0:(0==n[s]?e++:e=0,n[u]=n[s],u++),s++;r=s-u,i=0}if(4!=t.g){if(!(i+r<n.length))return t.v(0);for(o=0;255==n[i];)o+=255,i++;for(o+=n[i++],a=0;255==n[i];)a+=255,i++;return a+=n[i++],4!=o?t.v(4):S(t,n.subarray(i,i+a),4)}return i+=a,t.v(2)}))};function Nn(t,e){var n=null,r=null,i=t.M();return 1&e&&t.skip(8),2&e&&t.skip(4),8&e&&(n=t.M()),16&e&&(r=t.M()),{trackId:i,Vd:n,Ie:r}}function jn(t,e){return{dd:1==e?t.mb():t.M()}}function Bn(t,e){return 1==e?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4)),{timescale:t.M()}}function Fn(t,e,n){var r=t.M(),i=[];1&n&&t.skip(4),4&n&&t.skip(4);for(var o=c(et(r)),a=o.next();!a.done;a=o.next())a={Fd:null,sampleSize:null,Jc:null},256&n&&(a.Fd=t.M()),512&n&&(a.sampleSize=t.M()),1024&n&&t.skip(4),2048&n&&(a.Jc=0==e?t.M():t.ie()),i.push(a);return{ug:r,le:i}}function Un(){this.j=new On,this.i=new Map,this.h=this.g=0}function Hn(){this.h=new Un,this.g=new Rn}function Kn(t,e){for(var n=t.h.parse(e),r=(n=c(n)).next();!r.done;r=n.next()){var i=r.value,o=st(i.qf);if(r=t.g,i=i.pts,181===(o=new bt(o,0)).$()&&49===o.Fb()&&1195456820===o.M()&&3===o.$()){var a=o.$();if(0!==(64&a)){a&=31,o.skip(1);for(var s=0;s<a;s++){var u=o.$(),l=(4&u)>>2,h=o.$(),d=o.$();l&&(0===(u&=3)||1===u?r.h.push({pts:i,type:u,za:h,Pa:d,order:r.h.length}):(r.g.push({pts:i,type:u,value:h,order:r.g.length}),r.g.push({pts:i,type:2,value:d,order:r.g.length})))}}}}return function(t){function e(t,e){return t.pts-e.pts||t.order-e.order}var n=[];t.h.sort(e),t.g.sort(e);for(var r=c(t.h),i=r.next();!i.done;i=r.next())(i=Cn(t,i.value))&&n.push(i);for(i=(r=c(t.g)).next();!i.done;i=r.next())We(t.i,i.value);for(i=(r=c(t.i.i)).next();!i.done;i=r.next())i=Ln(t,i.value),n.push.apply(n,f(i));return t.i.i=[],t.h=[],t.g=[],n}(t.g)}function Gn(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function qn(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function Vn(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=c(zn(t)),i=r.next();!i.done;i=r.next()){var o=i.value;i=o.start,(o=o.end)>e&&(n+=o-Math.max(i,e))}return n}function zn(t){if(!t)return[];for(var e=[],n=c(et(t.length)),r=n.next();!r.done;r=n.next())r=r.value,e.push({start:t.start(r),end:t.end(r)});return e}Un.prototype.init=function(t){var e=this,n=[],r=[];if((new Ct).box("moov",Lt).box("mvex",Lt).U("trex",(function(t){var n=t.reader;n.skip(4),n.skip(4),t=n.M(),n=n.M(),e.g=t,e.h=n})).box("trak",Lt).U("tkhd",(function(t){var e=t.reader;1==t.version?(e.skip(8),e.skip(8),t=e.mb()):(e.skip(4),e.skip(4),t=e.M()),n.push(t)})).box("mdia",Lt).U("mdhd",(function(t){t=Bn(t.reader,t.version),r.push(t.timescale)})).parse(t,!0),!n.length||!r.length||n.length!=r.length)throw new ct(2,2,2010);n.forEach((function(t,n){e.i.set(t,r[n])}))},Un.prototype.parse=function(t){var e=this,n=[],r=this.g,i=this.h,o=[],a=null,s=9e4;return(new Ct).box("moof",Lt).box("traf",Lt).U("trun",(function(t){o=Fn(t.reader,t.version,t.flags).le})).U("tfhd",(function(t){t=Nn(t.reader,t.flags),r=t.Vd||e.g,i=t.Ie||e.h,t=t.trackId,e.i.has(t)&&(s=e.i.get(t))})).U("tfdt",(function(t){a=jn(t.reader,t.version).dd})).box("mdat",(function(t){if(null===a)throw new ct(2,2,2010);t=t.reader;var u=a,l=s,f=r,h=i,d=o,p=0,g=h;for(d.length&&(g=d[0].sampleSize||h);t.na();){var v=t.M();if(6==(31&t.$())){var m=0;d.length>p&&(m=d[p].Jc||0),m=(u+m)/l;for(var y=c(Pn(e.j,t.$a(v-1))),b=y.next();!b.done;b=y.next())n.push({qf:b.value,pts:m})}else t.skip(v-1);0==(g-=v+4)&&(u=d.length>p?u+(d[p].Fd||f):u+f,p++,g=d.length>p&&d[p].sampleSize||h)}})).parse(t,!1),n},Hn.prototype.init=function(t){this.h.init(t)};var Wn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Yn(t){var e;t instanceof Yn?(Xn(this,t.Da),this.pb=t.pb,this.Ga=t.Ga,$n(this,t.Eb),this.wa=t.wa,Zn(this,t.g.clone()),this.fb=t.fb):t&&(e=String(t).match(Wn))?(Xn(this,e[1]||"",!0),this.pb=Jn(e[2]||""),this.Ga=Jn(e[3]||"",!0),$n(this,e[4]),this.wa=Jn(e[5]||"",!0),Zn(this,e[6]||"",!0),this.fb=Jn(e[7]||"")):this.g=new ar(null)}function Xn(t,e,n){t.Da=n?Jn(e,!0):e,t.Da&&(t.Da=t.Da.replace(/:$/,""))}function $n(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Eb=e}else t.Eb=null}function Zn(t,e,n){e instanceof ar?t.g=e:(n||(e=Qn(e,ir)),t.g=new ar(e))}function Jn(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function Qn(t,e,n){return null!=t?(t=encodeURI(t).replace(e,tr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=Yn.prototype).Da="",r.pb="",r.Ga="",r.Eb=null,r.wa="",r.fb="",r.toString=function(){var t=[],e=this.Da;if(e&&t.push(Qn(e,er,!0),":"),e=this.Ga){t.push("//");var n=this.pb;n&&t.push(Qn(n,er,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Eb)&&t.push(":",String(e))}return(e=this.wa)&&(this.Ga&&"/"!=e.charAt(0)&&t.push("/"),t.push(Qn(e,"/"==e.charAt(0)?rr:nr,!0))),(e=this.g.toString())&&t.push("?",e),(e=this.fb)&&t.push("#",Qn(e,or)),t.join("")},r.resolve=function(t){var e=this.clone();"data"===e.Da&&(e=new Yn);var n=!!t.Da;n?Xn(e,t.Da):n=!!t.pb,n?e.pb=t.pb:n=!!t.Ga,n?e.Ga=t.Ga:n=null!=t.Eb;var r=t.wa;if(n)$n(e,t.Eb);else if(n=!!t.wa){if("/"!=r.charAt(0))if(this.Ga&&!this.wa)r="/"+r;else{var i=e.wa.lastIndexOf("/");-1!=i&&(r=e.wa.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?e.wa=r:n=""!==t.g.toString(),n?Zn(e,t.g.clone()):n=!!t.fb,n&&(e.fb=t.fb),e},r.clone=function(){return new Yn(this)};var er=/[#\/\?@]/g,nr=/[#\?:]/g,rr=/[#\?]/g,ir=/[#\?@]/g,or=/#/g;function ar(t){this.g=t||null}function sr(t,e){if(0==e.length)return t;var n=e.map((function(t){return new Yn(t)}));return t.map((function(t){return new Yn(t)})).map((function(t){return n.map((function(e){return t.resolve(e)}))})).reduce(Mt,[]).map((function(t){return t.toString()}))}function ur(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,sessionType:"",initData:e||[],keyIds:new Set}}function lr(t,e){if(1==e.length)return e[0];var n=cr(t,e);if(null!=n)return n;throw new ct(2,4,4025,e)}function cr(t,e){for(var n=c(dr[t]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=c(e),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return t==fr?"":null}(r=ar.prototype).ta=null,r.uc=null,r.add=function(t,e){if(!this.ta&&(this.ta={},this.uc=0,this.g))for(var n=this.g.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var a=n[r].substring(0,i);o=n[r].substring(i+1)}else a=n[r];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.g=null,(n=this.ta.hasOwnProperty(t)&&this.ta[t])||(this.ta[t]=n=[]),n.push(e),this.uc++,this},r.toString=function(){if(this.g)return this.g;if(!this.ta)return"";var t,e=[];for(t in this.ta)for(var n=encodeURIComponent(t),r=this.ta[t],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.g=e.join("&")},r.clone=function(){var t=new ar;if(t.g=this.g,this.ta){var e,n={};for(e in this.ta)n[e]=this.ta[e].concat();t.ta=n,t.uc=this.uc}return t};var fr="text",hr={Na:"video",bb:"audio",aa:fr,lc:"image",Pf:"application"},dr={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function pr(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function gr(){}pr.prototype.resolve=function(){},pr.prototype.reject=function(){},H("shaka.dependencies",gr),gr.has=function(t){return mr.has(t)},gr.add=function(t,e){if(!vr[t])throw Error(t+" is not supported");mr.set(t,(function(){return e}))};var vr={muxjs:"muxjs"};gr.Allowed=vr;var mr=new Map([["muxjs",function(){return t.muxjs}]]);function yr(){var t=this;this.s=mr.get("muxjs")(),this.g=new this.s.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.h=null,this.m=[],this.j=[],this.i=[],this.l=!1,this.g.on("data",(function(e){t.j=e.captions,t.i=e.metadata,t.m.push(oe(e.initSegment,e.data))})),this.g.on("done",(function(){var e={data:oe.apply(Qt,f(t.m)),captions:t.j,metadata:t.i};t.h.resolve(e),t.l=!1}))}function br(t,e){if(!mr.get("muxjs")()||!wr(t))return!1;if(e)return MediaSource.isTypeSupported(Sr(e,t));var n=Sr("audio",t),r=Sr("video",t);return MediaSource.isTypeSupported(n)||MediaSource.isTypeSupported(r)}function wr(t){return"mp2t"==t.toLowerCase().split(";")[0].split("/")[1]}function Sr(t,e){var n=e.replace(/mp2t/i,"mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",o=r[1],a=Number(r[2]);i=("66"==o?i+"4200":"77"==o?i+"4d00":i+"6400")+(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n}function Tr(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function Er(t,e,n){return t=Tr(t,e),mr.get("muxjs")()&&wr(t)?Sr(n,t):t}function _r(t){var e=(t=t.split("."))[0];return t.pop(),e}function kr(t){return(t=t.split(/ *; */)).shift(),(t=t.find((function(t){return t.startsWith("codecs=")})))?t.split("=")[1].replace(/^"|"$/g,""):""}yr.prototype.destroy=function(){return this.g.dispose(),this.g=null,Promise.resolve()};var xr=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Mr(t){this.s=null,this.i=t,this.j=this.D=0,this.l=1/0,this.h=this.g=null,this.u="",this.m=new Map}function Ar(t){return!(!Cr[t]&&"application/cea-608"!=t&&"application/cea-708"!=t)}function Rr(t,e,n){if(t.u=e,e=t.m.get(e))for(var r=c(e.keys()),i=r.next();!i.done;i=r.next())(i=e.get(i.value).filter((function(t){return t.endTime<=n})))&&t.i.append(i)}function Ir(t,e,n,r,i){for(var o=n+" "+r,a=new Map,s=(e=c(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,u=u.cue,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),u.startTime+=i,u.endTime+=i,u.startTime>=t.j&&u.startTime<t.l&&(a.get(s).get(o).push(u),s==t.u&&t.i.append([u]))}for(o=(i=c(a.keys())).next();!o.done;o=i.next())for(o=o.value,t.m.has(o)||t.m.set(o,new Map),s=(e=c(a.get(o).keys())).next();!s.done;s=e.next())s=s.value,u=a.get(o).get(s),t.m.get(o).set(s,u);t.g=null==t.g?Math.max(n,t.j):Math.min(t.g,Math.max(n,t.j)),t.h=Math.max(t.h,Math.min(r,t.l))}Mr.prototype.destroy=function(){return this.i=this.s=null,this.m.clear(),Promise.resolve()},Mr.prototype.remove=function(t,e){var n=this;return O((function(r){if(1==r.g)return S(r,Promise.resolve(),2);!n.i||!n.i.remove(t,e)||null==n.g||e<=n.g||t>=n.h||(t<=n.g&&e>=n.h?n.g=n.h=null:t<=n.g&&e<n.h?n.g=e:t>n.g&&e>=n.h&&(n.h=t)),T(r)}))},H("shaka.text.TextEngine",Mr),Mr.prototype.destroy=Mr.prototype.destroy,Mr.findParser=function(t){return Cr[t]},Mr.unregisterParser=function(t){delete Cr[t]},Mr.registerParser=function(t,e){Cr[t]=e};var Cr={};function Lr(t){this.g=!1,this.h=new pr,this.i=t}function Dr(t,e){if(t.g){if(e instanceof ct&&7003==e.code)throw e;throw new ct(2,7,7003,e)}}function Or(){this.g={}}function Pr(t,e){for(var n in t.g)e(n,t.g[n])}function Nr(){this.g=new Or}function jr(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.g=function(t,e){if(void 0==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=Br;if(void 0==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(i){e=!1}Br=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.g)}Lr.prototype.destroy=function(){var t=this;return this.g?this.h:(this.g=!0,this.i().then((function(){t.h.resolve()}),(function(){t.h.resolve()})))},Or.prototype.push=function(t,e){this.g.hasOwnProperty(t)?this.g[t].push(e):this.g[t]=[e]},Or.prototype.get=function(t){return(t=this.g[t])?t.slice():null},Or.prototype.remove=function(t,e){t in this.g&&(this.g[t]=this.g[t].filter((function(t){return t!=e})),0==this.g[t].length&&delete this.g[t])},Or.prototype.size=function(){return Object.keys(this.g).length},(r=Nr.prototype).release=function(){this.nb(),this.g=null},r.B=function(t,e,n,r){this.g&&(t=new jr(t,e,n,r),this.g.push(e,t))},r.ua=function(t,e,n,r){var i=this;this.B(t,e,(function r(o){i.Ca(t,e,r),n(o)}),r)},r.Ca=function(t,e,n){if(this.g)for(var r=this.g.get(e)||[],i=(r=c(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.Ca(),this.g.remove(e,i))},r.nb=function(){if(this.g){var t,e=this.g,n=[];for(t in e.g)n.push.apply(n,f(e.g[t]));for(n=(e=c(n)).next();!n.done;n=e.next())n.value.Ca();this.g.g={}}},H("shaka.util.EventManager",Nr),Nr.prototype.removeAll=Nr.prototype.nb,Nr.prototype.unlisten=Nr.prototype.Ca,Nr.prototype.listenOnce=Nr.prototype.ua,Nr.prototype.listen=Nr.prototype.B,Nr.prototype.release=Nr.prototype.release,jr.prototype.Ca=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Br=void 0;function Fr(t,e,n,r){var i=this;this.g=t,this.m=n,this.j={},this.I={},this.i=null,this.L=r||function(){},this.l={},this.h=new Nr,this.u={},this.D=e,this.F=new pr,this.s=function(t,e){var n=new MediaSource;return t.h.ua(n,"sourceopen",(function(){URL.revokeObjectURL(t.H),e.resolve()})),t.H=ti(n),t.g.src=t.H,n}(this,this.F),this.J=new Lr((function(){return function(t){var e,n,r,i,o,a,s;return O((function(u){if(1==u.g){for(n in e=[],t.l)for(r=t.l[n],i=r[0],t.l[n]=r.slice(0,1),i&&e.push(i.p.catch(At)),o=c(r.slice(1)),a=o.next();!a.done;a=o.next())a.value.p.reject(new ct(2,7,7003,void 0));for(s in t.i&&e.push(t.i.destroy()),t.m&&e.push(t.m.destroy()),t.u)e.push(t.u[s].destroy());return S(u,Promise.all(e),2)}t.h&&(t.h.release(),t.h=null),t.g&&(t.g.removeAttribute("src"),t.g.load(),t.g=null),t.s=null,t.i=null,t.m=null,t.j={},t.u={},t.D=null,t.l={},T(u)}))}(i)})),this.H=""}function Ur(t){var e=Tr(t.mimeType,t.codecs),n=function(t){var e=[t.mimeType];return xr.forEach((function(n,r){var i=t[r];i&&e.push(n+'="'+i+'"')})),"PQ"==t.hdr&&e.push('eotf="smpte2084"'),e.join(";")}(t);return Ar(e)||MediaSource.isTypeSupported(n)||br(e,t.type)}function Hr(t,e){t.i||(t.i=new Mr(t.m)),"application/cea-608"!=e&&"application/cea-708"!=e&&(t.i.s=It(Cr[e]))}function Kr(t){return!t.s||"ended"==t.s.readyState}function Gr(t,e){if(e==fr)var n=t.i.g;else n=!(n=Vr(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function qr(t,e){return e==fr?t.i.h:Gn(Vr(t,e))}function Vr(t,e){try{return t.j[e].buffered}catch(n){return null}}function zr(t,e,n,r,i,o){var a,s,u,l,f,h,d,p;return O((function(g){return 1==g.g?e==(a=hr).aa?S(g,function(t,e,n,r){var i,o,a;return O((function(s){return 1==s.g?S(s,Promise.resolve(),2):t.s&&t.i?null==n||null==r?(t.s.parseInit(st(e)),s.return()):(i={periodStart:t.D,segmentStart:n,segmentEnd:r},o=t.s.parseMedia(st(e),i),a=o.filter((function(e){return e.startTime>=t.j&&e.startTime<t.l})),t.i.append(a),null==t.g&&(t.g=Math.max(n,t.j)),t.h=Math.min(r,t.l),void T(s)):s.return()}))}(t.i,n,r,i),0):t.u[e]?S(g,function(t,e){t.l=!0,t.h=new pr,t.m=[],t.j=[],t.i=[];var n=st(e);return t.g.push(n),t.g.flush(),t.l&&t.h.reject(new ct(2,3,3018)),t.h}(t.u[e],n),10):o?(t.i||Hr(t,"text/vtt"),null==r&&null==i?t.D.init(n):(s=Kn(t.D,n)).length&&(u=t.j[a.Na].timestampOffset,Ir(t.i,s,r,i,u)),n=Qr(t,n,r,e),S(g,Xr(t,e,(function(){t.j[e].appendBuffer(n)})),0)):(n=Qr(t,n,r,e),S(g,Xr(t,e,(function(){t.j[e].appendBuffer(n)})),0)):(l=g.h,t.i||Hr(t,"text/vtt"),l.metadata&&(f=t.j[e].timestampOffset,t.L(l.metadata,f,i)),l.captions&&l.captions.length&&(h=t.j[a.Na].timestampOffset,d=function(t){for(var e=[],n=(t=c(t)).next();!n.done;n=t.next())n=n.value,e.push({stream:n.stream,cue:new de(n.startTime,n.endTime,n.text)});return e}(l.captions),Ir(t.i,d,r,i,h)),p=l.data,p=Qr(t,p,r,e),S(g,Xr(t,e,(function(){t.j[e].appendBuffer(p)})),0))}))}function Wr(t,e){return O((function(n){return e==hr.aa?t.i?S(n,t.i.remove(0,1/0),0):n.return():S(n,Xr(t,e,(function(){var n=t.s.duration;0>=n?Yr(t,e):t.j[e].remove(0,n)})),0)}))}function Yr(t,e){var n=t.l[e][0];n&&(n.p.resolve(),Zr(t,e))}function Xr(t,e,n){return Dr(t.J),n={start:n,p:new pr},t.l[e].push(n),1==t.l[e].length&&Jr(t,e),n.p}function $r(t,e){var n,r,i,o,a;return O((function(s){switch(s.g){case 1:for(i in Dr(t.J),n=[],r={},t.j)r.Jb=new pr,o={start:function(t){return function(){return t.Jb.resolve()}}(r),p:r.Jb},t.l[i].push(o),n.push(r.Jb),1==t.l[i].length&&o.start(),r={Jb:r.Jb};return E(s,2),S(s,Promise.all(n),4);case 4:k(s,3);break;case 2:throw x(s);case 3:try{e()}catch(u){throw new ct(2,3,3015,u)}finally{for(a in t.j)Zr(t,a)}T(s)}}))}function Zr(t,e){t.l[e].shift(),Jr(t,e)}function Jr(t,e){var n=t.l[e][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new ct(2,3,3017,e)):n.p.reject(new ct(2,3,3015,r)),Zr(t,e)}}function Qr(t,e,n,r){var i=t.g.mediaKeys;return null==n&&i&&(Vt()||qt())&&"mp4"==t.I[r].split(";")[0].split("/")[1]&&(e=function(t){function e(){i=!0}function n(t){o.push(t),Lt(t)}t=st(t);var r,i=!1,o=[],a=[];if((new Ct).box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).U("stsd",(function(t){r=t,o.push(t),Dt(t)})).U("encv",e).U("enca",e).U("avc1",(function(t){a.push({box:t,ud:1701733238})})).U("ec-3",(function(t){a.push({box:t,ud:1701733217})})).U("mp4a",(function(t){a.push({box:t,ud:1701733217})})).parse(t),i)return t;if(0==a.length||!r)throw ie(t),new ct(2,3,3019);a.reverse();for(var s=c(a),u=s.next();!u.done;u=s.next())u=u.value,t=ae(t,r,u.box,o,u.ud);return t}(e)),e}(r=Fr.prototype).destroy=function(){return this.J.destroy()},r.init=function(t,e){var n,r,i,o,a,s,u,l=this;return O((function(f){if(1==f.g)return n=hr,S(f,l.F,2);for(r={},i=c(t.keys()),o=i.next();!o.done;r={qa:r.qa},o=i.next())r.qa=o.value,a=t.get(r.qa),s=Tr(a.mimeType,a.codecs),r.qa==n.aa?Hr(l,s):(!e&&MediaSource.isTypeSupported(s)||!br(s,r.qa)||(l.u[r.qa]=new yr,s=Sr(r.qa,s)),u=l.s.addSourceBuffer(s),l.h.B(u,"error",function(t){return function(){l.l[t.qa][0].p.reject(new ct(2,3,3014,l.g.error?l.g.error.code:0))}}(r)),l.h.B(u,"updateend",function(t){return function(){return Yr(l,t.qa)}}(r)),l.j[r.qa]=u,l.I[r.qa]=s,l.l[r.qa]=[]);T(f)}))},r.wc=function(){var t={total:zn(this.g.buffered),audio:zn(Vr(this,"audio")),video:zn(Vr(this,"video")),text:[]};if(this.i){var e=this.i.g,n=this.i.h;null!=e&&null!=n&&t.text.push({start:e,end:n})}return t},r.remove=function(t,e,n){var r=this;return O((function(i){return S(i,t==hr.aa?r.i.remove(e,n):Xr(r,t,(function(){n<=e?Yr(r,t):r.j[t].remove(e,n)})),0)}))},r.flush=function(t){var e=this;return O((function(n){return t==hr.aa?n.return():S(n,Xr(e,t,(function(){e.g.currentTime-=.001,Yr(e,t)})),0)}))},r.endOfStream=function(t){var e=this;return O((function(n){return S(n,$r(e,(function(){Kr(e)||(t?e.s.endOfStream(t):e.s.endOfStream())})),0)}))},r.Ja=function(t){var e=this;return O((function(n){return S(n,$r(e,(function(){e.s.duration=t})),0)}))},r.getDuration=function(){return this.s.duration};var ti=t.URL.createObjectURL;function ei(t,e){return t=ii(t),e=ii(e),t.split("-")[0]==e.split("-")[0]}function ni(t,e){t=ii(t),e=ii(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function ri(t,e){t=ii(t),e=ii(e);var n=t.split("-"),r=e.split("-");return 2==n.length&&2==r.length&&n[0]==r[0]}function ii(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=ui.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function oi(t,e){return t=ii(t),(e=ii(e))==t?4:ni(e,t)?3:ri(e,t)?2:ni(t,e)?1:0}function ai(t){return t.language?ii(t.language):t.audio&&t.audio.language?ii(t.audio.language):t.video&&t.video.language?ii(t.video.language):"und"}function si(t,e){for(var n=ii(t),r=new Set,i=c(e),o=i.next();!o.done;o=i.next())r.add(ii(o.value));for(o=(i=c(r)).next();!o.done;o=i.next())if((o=o.value)==n)return o;for(o=(i=c(r)).next();!o.done;o=i.next())if(ni(o=o.value,n))return o;for(o=(i=c(r)).next();!o.done;o=i.next())if(ri(o=o.value,n))return o;for(o=(r=c(r)).next();!o.done;o=r.next())if(ni(n,o=o.value))return o;return null}var ui=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function li(t,e){var n=Mi(t.variants,e),r=function(t){var e="",n=1/0;return Pr(t,(function(t,r){for(var i=0,o=0,a=c(r),s=a.next();!s.done;s=a.next())i+=s.value.bandwidth||0,++o;(i/=o)<n&&(e=t,n=i)})),e}(n=function(t){var e=0,n=new Map,r=t.size();return Pr(t,(function(t,i){for(var o=c(i),a=o.next();!a.done;a=o.next()){var s=(a=a.value).video;if(s&&s.width&&s.height){s=s.width*s.height*(s.frameRate||1),n.has(s)||n.set(s,new Or);var u=n.get(s);u.push(t,a),u.size()===r&&(e=Math.max(e,s))}}})),e?n.get(e):t}(n=function(t){for(var e=new Or,n=(t=c(t)).next();!n.done;n=t.next()){var r=ci(n=n.value);e.push(r,n)}return e}(n)));t.variants=t.variants.filter((function(t){return ci(t)==r}))}function ci(t){var e="";t.video&&(e=_r(t.video.codecs));var n="";return t.audio&&(n=_r(t.audio.codecs)),e+"-"+n}function fi(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&(!r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))||!r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))||t&&t.video&&t.video.frameRate&&!r(t.video.frameRate,e.minFrameRate,e.maxFrameRate)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function hi(t,e,n,r){return O((function(i){if(1==i.g)return r?S(i,pi(n,0<n.offlineSessionIds.length),2):(di(n,t),gi(n),i.v(2));yi(e,n),function(t){t.textStreams=t.textStreams.filter((function(t){return Ar(Tr(t.mimeType,t.codecs))}))}(n),function(t){t.imageStreams=t.imageStreams.filter((function(t){var e=["image/svg+xml","image/png","image/jpeg"];return(Xt("Web0S")||Vt()||zt())&&e.push("image/webp"),e.includes(t.mimeType)}))}(n),T(i)}))}function di(t,e){t.variants=t.variants.filter((function(t){return!e||!e.L||!!function(t,e){var n=e.audio,r=e.video;if(n&&n.encrypted&&(n=Co(n),!Ro(t,n))||r&&r.encrypted&&(r=Co(r),!Ro(t,r)))return!1;var i=Mo(t.i);return 0==(r=Fo(e)).length||r.some((function(t){return t.keySystem==i}))}(e,t)}))}function pi(t,e){return O((function(n){if(1==n.g)return S(n,vi(t.variants,e),2);t.variants=t.variants.filter((function(t){var e=t.video;return qt()&&e&&(e.width&&1920<e.width||e.height&&1080<e.height)&&e.codecs.includes("avc1.")?(Ii(t),!1):((e=t.decodingInfos.some((function(t){return t.supported})))||Ii(t),e)})),T(n)}))}function gi(t){t.variants=t.variants.filter((function(t){var e=t.audio;return t=t.video,!(e&&!Ur(e)||t&&!Ur(t)||qt()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&t.codecs.includes("avc1."))}))}function vi(t,e){var n,r,i,o,a,s,u,l,f,h;return O((function(d){if(t.some((function(t){return t.decodingInfos.length})))return d.return();for(n=navigator.mediaCapabilities,r=[],i=function(t,e){var r;return O((function(i){return 1==i.g?(E(i,2),S(i,n.decodingInfo(e),4)):2!=i.g?(r=i.h,t.decodingInfos.push(r),k(i,0)):(x(i),JSON.stringify(e),void T(i))}))},o=c(t),a=o.next();!a.done;a=o.next())for(s=a.value,u=mi(s,e),l=c(u),f=l.next();!f.done;f=l.next())h=f.value,r.push(i(s,h));return S(d,Promise.all(r),0)}))}function mi(t,e){var n=t.audio,r=t.video,i={type:"media-source"};if(r){var o=r.codecs;if(r.codecs.includes(",")){var a=r.codecs.split(",");o="vp9"==(o=lr("video",a))?"vp09.00.10.08":o,a=lr("audio",a),a=Er(r.mimeType,a,"audio"),i.audio={contentType:a,channels:2,bitrate:t.bandwidth||1,samplerate:1,spatialRendering:!1}}o=Er(r.mimeType,"vp9"==o?"vp09.00.10.08":o,"video"),i.video={contentType:o,width:r.width||1,height:r.height||1,bitrate:r.bandwidth||t.bandwidth||1,framerate:r.frameRate||1}}n&&(o="ac-3"==n.codecs.toLowerCase()&&Vt()?"ec-3":n.codecs,o=Er(n.mimeType,o,"audio"),i.audio={contentType:o,channels:n.channelsCount||2,bitrate:n.bandwidth||t.bandwidth||1,samplerate:n.audioSamplingRate||1,spatialRendering:n.spatialAudio});var s=(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]);if(!s.length)return[i];o=[],a=new Map;for(var u=(s=c(s)).next();!u.done;u=s.next()){var l=u.value;a.get(l.keySystem)||a.set(l.keySystem,[]),a.get(l.keySystem).push(l)}s=e?"required":"optional",l=e?["persistent-license"]:["temporary"];for(var f=c(a.keys()),h=f.next();!h.done;h=f.next()){var d=h.value;h=Object.assign({},i);var p=a.get(d);for(d={keySystem:d,initDataType:"cenc",persistentState:s,distinctiveIdentifier:"optional",sessionTypes:l},u=(p=c(p)).next();!u.done;u=p.next()){if((u=u.value).initData&&u.initData.length){for(var g=new Set,v=c(u.initData),m=v.next();!m.done;m=v.next())g.add(m.value.initDataType);d.initDataType=u.initData[0].initDataType}u.distinctiveIdentifierRequired&&(d.distinctiveIdentifier="required"),u.persistentStateRequired&&(d.persistentState="required"),u.sessionType&&(d.sessionTypes=[u.sessionType]),n&&(d.audio?d.audio.robustness=d.audio.robustness||u.audioRobustness:d.audio={robustness:u.audioRobustness}),r&&(d.video?d.video.robustness=d.video.robustness||u.videoRobustness:d.video={robustness:u.videoRobustness})}h.keySystemConfiguration=d,o.push(h)}return o}function yi(t,e){e.variants=e.variants.filter((function(e){var n=e.audio;return e=e.video,!(n&&t&&t.audio&&!bi(n,t.audio)||e&&t&&t.video&&!bi(e,t.video))}))}function bi(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]}function wi(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,o=[];i&&o.push(i),r&&o.push(r);var a=[];n&&a.push(n.mimeType),e&&a.push(e.mimeType),a=a[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;if(e)for(var l=c(e.roles),f=l.next();!f.done;f=l.next())u.add(f.value);if(n)for(f=(l=c(n.roles)).next();!f.done;f=l.next())u.add(f.value);return t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:a,codecs:o.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.label=e.label,t.audioRoles=e.roles),t}function Si(t){return{id:t.id,active:!1,type:fr,bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,forced:t.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId,originalImageId:null}}function Ti(t){return{id:t.id,active:!1,type:"image",bandwidth:t.bandwidth||0,language:"",label:null,kind:null,width:t.width||null,height:t.height||null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:t.mimeType,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:t.tilesLayout||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:t.originalId}}function Ei(t){return t.__shaka_id||(t.__shaka_id=Li++),t.__shaka_id}function _i(t){var e=ki(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind&&(e.primary=!0),t.kind&&(e.roles=[t.kind],e.audioRoles=[t.kind],e.label=t.label),e}function ki(t){return{id:Ei(t),active:!1,type:"",bandwidth:0,language:ii(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function xi(t){return t.allowedByApplication&&t.allowedByKeySystem}function Mi(t,e){for(var n=t.filter((function(t){return t.audio&&t.audio.channelsCount})),r=new Map,i=(n=c(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter((function(t){return t<=e}))).length?r.get(Math.max.apply(Math,f(i))):r.get(Math.min.apply(Math,f(n)))}function Ai(t,e,n,r){var i=t,o=t.filter((function(t){return t.primary}));o.length&&(i=o);var a=i.length?i[0].language:"";if(i=i.filter((function(t){return t.language==a})),e){var s=si(ii(e),t.map((function(t){return t.language})));s&&(i=t.filter((function(t){return ii(t.language)==s})))}if(i=i.filter((function(t){return t.forced==r})),n){if((t=Ri(i,n)).length)return t}else if((t=i.filter((function(t){return 0==t.roles.length}))).length)return t;return(t=i.map((function(t){return t.roles})).reduce(Mt,[])).length?Ri(i,t[0]):i}function Ri(t,e){return t.filter((function(t){return t.roles.includes(e)}))}function Ii(t){var e=[];return t.audio&&e.push(Ci(t.audio)),t.video&&e.push(Ci(t.video)),e.join(", ")}function Ci(t){return"audio"==t.type?"type=audio codecs="+t.codecs+" bandwidth="+t.bandwidth+" channelsCount="+t.channelsCount+" audioSamplingRate="+t.audioSamplingRate:"video"==t.type?"type=video codecs="+t.codecs+" bandwidth="+t.bandwidth+" frameRate="+t.frameRate+" width="+t.width+" height="+t.height:"unexpected stream type"}var Li=0;function Di(){var t=this;this.j=null,this.i=!1,this.g=new V,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(t.o.useNetworkInformation&&t.i){t.g=new V;var e=t.chooseVariant();e&&t.j(e)}})),this.h=[],this.m=1,this.s=!1,this.o=this.l=null}function Oi(t){var e=t.o.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&t.o.useNetworkInformation&&(e=1e6*navigator.connection.downlink),e}function Pi(t,e){return t&&(e=e.filter((function(e){return fi(e,t,{width:1/0,height:1/0})}))),e.sort((function(t,e){return t.bandwidth-e.bandwidth}))}function Ni(t,e){this.h=t,this.g=new Set([t]);for(var n=c(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function ji(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!((!(!n.channelsCount||!r.channelsCount||2<n.channelsCount||2<r.channelsCount)||n.channelsCount==r.channelsCount)&&Bi(n,r)&&Fi(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(Bi(n=t.video,r=e.video)&&Fi(n.roles,r.roles))),!n}function Bi(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map((function(t){return _r(t)})),r=e.codecs.split(",").map((function(t){return _r(t)}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=c(et(n.length)),o=i.next();!o.done;o=i.next())if(n[o=o.value]!=r[o])return!1;return!0}function Fi(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=c(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Ui(t){this.g=t,this.h=new Hi(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0,"")}function Hi(t,e,n,r){this.i=t,this.j=e,this.g=n,this.h=void 0===r?"":r}function Ki(){this.g=Vi,this.h=(new Map).set(Vi,2).set(qi,1)}function Gi(t,e,n){t.h.set(Vi,n).set(qi,e)}(r=Di.prototype).stop=function(){this.j=null,this.i=!1,this.h=[],this.m=1,this.l=null},r.init=function(t){this.j=t},r.chooseVariant=function(){var t=Pi(this.o.restrictions,this.h),e=this.g.getBandwidthEstimate(Oi(this));this.h.length&&!t.length&&(t=[(t=Pi(null,this.h))[0]]);for(var n=t[0]||null,r=(t=c(nt(t))).next();!r.done;r=t.next()){var i=r.value;r=i.item;var o=isNaN(this.m)?1:Math.abs(this.m);i=o*(i.next||{bandwidth:1/0}).bandwidth/this.o.bandwidthUpgradeTarget,e>=o*r.bandwidth/this.o.bandwidthDowngradeTarget&&e<=i&&(n=r)}return this.l=Date.now(),n},r.enable=function(){this.i=!0},r.disable=function(){this.i=!1},r.segmentDownloaded=function(t,e){var n=this.g;if(!(16e3>e)){var r=8e3*e/t,i=t/1e3;n.g+=e,G(n.h,i,r),G(n.i,i,r)}if(null!=this.l&&this.i)t:{if(this.s){if(Date.now()-this.l<1e3*this.o.switchInterval)break t}else{if(!(128e3<=this.g.g))break t;this.s=!0}n=this.chooseVariant(),this.g.getBandwidthEstimate(Oi(this)),n&&this.j(n)}},r.getBandwidthEstimate=function(){return this.g.getBandwidthEstimate(this.o.defaultBandwidthEstimate)},r.setVariants=function(t){this.h=t},r.playbackRateChanged=function(t){this.m=t},r.configure=function(t){this.o=t},H("shaka.abr.SimpleAbrManager",Di),Di.prototype.configure=Di.prototype.configure,Di.prototype.playbackRateChanged=Di.prototype.playbackRateChanged,Di.prototype.setVariants=Di.prototype.setVariants,Di.prototype.getBandwidthEstimate=Di.prototype.getBandwidthEstimate,Di.prototype.segmentDownloaded=Di.prototype.segmentDownloaded,Di.prototype.disable=Di.prototype.disable,Di.prototype.enable=Di.prototype.enable,Di.prototype.chooseVariant=Di.prototype.chooseVariant,Di.prototype.init=Di.prototype.init,Di.prototype.stop=Di.prototype.stop,Ni.prototype.add=function(t){return!!ji(this.h,t)&&(this.g.add(t),!0)},Ni.prototype.values=function(){return this.g.values()},Ui.prototype.create=function(t){var e=this,n=t.filter((function(t){return ji(e.g,t)}));return n.length?new Ni(n[0],n):this.h.create(t)},Hi.prototype.create=function(t){var e=[];e=function(t,e){var n=si(ii(e),t.map((function(t){return ai(t)})));return n?t.filter((function(t){return n==ai(t)})):[]}(t,this.i);var n=t.filter((function(t){return t.primary}));for((t=function(t,e){return t.filter((function(t){return!!t.audio&&(e?t.audio.roles.includes(e):0==t.audio.roles.length)}))}(e=e.length?e:n.length?n:t,this.j)).length&&(e=t),this.g&&((t=Mi(e,this.g)).length&&(e=t)),this.h&&((t=function(t,e){return t.filter((function(t){return!!t.audio&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(e,this.h)).length&&(e=t)),t=new Ni(e[0]),n=(e=c(e)).next();!n.done;n=e.next())n=n.value,ji(t.h,n)&&t.add(n);return t};var qi=0,Vi=1;function zi(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.j=null==t.baseDelay?n.baseDelay:t.baseDelay,this.s=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.m=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==e&&e)&&(this.g=1)}function Wi(t){var e,n;return O((function(r){if(1==r.g){if(t.g>=t.l){if(!t.i)throw new ct(2,7,1010);t.g=1,t.h=t.j}return e=t.g,t.g++,0==e?r.return():(n=t.h*(1+(2*Math.random()-1)*t.s),S(r,new Promise((function(t){new Ht(t).T(n/1e3)})),2))}t.h*=t.m,T(r)}))}function Yi(t,e){this.promise=t,this.i=e,this.g=!1}function Xi(t){return new Yi(Promise.reject(t),(function(){return Promise.resolve()}))}function $i(){var t=Promise.reject(new ct(2,7,7001));return t.catch((function(){})),new Yi(t,(function(){return Promise.resolve()}))}function Zi(t){return new Yi(Promise.resolve(t),(function(){return Promise.resolve()}))}function Ji(t){return new Yi(t,(function(){return t.catch((function(){}))}))}function Qi(t){return new Yi(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function to(e,n){for(var r in n=void 0===n?{}:n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function eo(){this.pc=new Or,this.oc=this}function no(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,o=r?[]:{};for(i in n)o[i]=t(n[i]);return r&&(o.length=n.length),o}}(t)}function ro(t){var e,n={};for(e in t)n[e]=t[e];return n}function io(){this.g=[]}function oo(t,e){t.g.push(e.finally((function(){ce(t.g,e)})))}function ao(t){eo.call(this),this.i=!1,this.l=new io,this.g=new Set,this.h=new Set,this.j=t||null,this.m=!1}function so(t,e,n,r){n=n||ho;var i=po[t];(!i||n>=i.priority)&&(po[t]={priority:n,rf:e,tf:void 0!==r&&r})}function uo(t,e,n){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null,streamDataCallback:void 0===n?null:n}}function lo(){this.g=0}function co(t,e,n){Yi.call(this,t,e),this.h=n}Yi.prototype.abort=function(){return this.g=!0,this.i()},Yi.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},Yi.prototype.ba=function(t,e){function n(n){return function(s){if(i.g&&n)o.reject(a);else{var u=n?t:e;u?r=function(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,o):(n?o.resolve:o.reject)(s)}}}function r(){return o.reject(a),i.abort()}var i=this,o=new pr,a=new ct(2,7,7001);return this.promise.then(n(!0),n(!1)),new Yi(o,(function(){return r()}))},H("shaka.util.AbortableOperation",Yi),Yi.prototype.chain=Yi.prototype.ba,Yi.prototype.finally=Yi.prototype.finally,Yi.all=Qi,Yi.prototype.abort=Yi.prototype.abort,Yi.notAbortable=Ji,Yi.completed=Zi,Yi.aborted=$i,Yi.failed=Xi,to.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},to.prototype.stopImmediatePropagation=function(){this.g=!0},to.prototype.stopPropagation=function(){},H("shaka.util.FakeEvent",to),eo.prototype.addEventListener=function(t,e){this.pc.push(t,e)},eo.prototype.removeEventListener=function(t,e){this.pc.remove(t,e)},eo.prototype.dispatchEvent=function(t){var e=this.pc.get(t.type)||[],n=this.pc.get("All");for(n&&(e=e.concat(n)),n=(e=c(e)).next();!n.done;n=e.next()){n=n.value,t.target=this.oc,t.currentTarget=this.oc;try{n.handleEvent?n.handleEvent(t):n.call(this,t)}catch(r){}if(t.g)break}return t.defaultPrevented},io.prototype.destroy=function(){for(var t=[],e=c(this.g),n=e.next();!n.done;n=e.next())(n=n.value).promise.catch((function(){})),t.push(n.abort());return this.g=[],Promise.all(t)},m(ao,eo),(r=ao.prototype).Kd=function(t){this.m=t},r.uf=function(t){this.g.add(t)},r.Lf=function(t){this.g.delete(t)},r.Fe=function(){this.g.clear()},r.vf=function(t){this.h.add(t)},r.Mf=function(t){this.h.delete(t)},r.Ge=function(){this.h.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),this.l.destroy()},r.request=function(t,e){var n=this,r=new lo;if(this.i){var i=Promise.reject(new ct(2,7,7001));return i.catch((function(){})),new co(i,(function(){return Promise.resolve()}),r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?no(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},e.uris=no(e.uris);var o=(i=function(t,e,n){for(var r=Zi(void 0),i={},o=(t=c(t.g)).next();!o.done;i={Wc:i.Wc},o=t.next())i.Wc=o.value,r=r.ba(function(t){return function(){return n.body&&(n.body=at(n.body)),t.Wc(e,n)}}(i));return r.ba(void 0,(function(t){if(t instanceof ct&&7001==t.code)throw t;throw new ct(2,1,1006,t)}))}(this,t,e)).ba((function(){return function t(e,n,r,i,o,a,s){e.m&&(r.uris[o]=r.uris[o].replace("http://","https://"));var u=new Yn(r.uris[o]),l=u.Da,c=!1;l||(l=(l=location.protocol).slice(0,-1),Xn(u,l),r.uris[o]=u.toString()),l=l.toLowerCase();var f=(l=po[l])?l.rf:null;if(!f)return Xi(new ct(2,1,1e3,u));var h,d=l.tf,p=null,g=null,v=!1;return Ji(Wi(i)).ba((function(){if(e.i)return $i();h=Date.now();var t=f(r.uris[o],r,n,(function(t,r,i){p&&p.stop(),g&&g.T(a/1e3),e.j&&n==fo&&(e.j(t,r),c=!0,s.g=i)}));if(!d)return t;var i=r.retryParameters.connectionTimeout;i&&(p=new Ht((function(){v=!0,t.abort()}))).T(i/1e3);var a=r.retryParameters.stallTimeout;return a&&(g=new Ht((function(){v=!0,t.abort()}))),t})).ba((function(t){return p&&p.stop(),g&&g.stop(),void 0==t.timeMs&&(t.timeMs=Date.now()-h),{response:t,gf:c}}),(function(u){if(p&&p.stop(),g&&g.stop(),e.i)return $i();if(v&&(u=new ct(1,1,1003,r.uris[o],n)),u instanceof ct){if(7001==u.code)throw u;if(1010==u.code)throw a;if(1==u.severity){var l=new to("retry",{error:u});return e.dispatchEvent(l),o=(o+1)%r.uris.length,t(e,n,r,i,o,u,s)}}throw u}))}(n,t,e,new zi(e.retryParameters,!1),0,null,r)})),a=o.ba((function(e){return function(t,e,n){for(var r=Zi(void 0),i={},o=(t=c(t.h)).next();!o.done;i={Xc:i.Xc},o=t.next())i.Xc=o.value,r=r.ba(function(t){return function(){var r=n.response;return r.data&&(r.data=at(r.data)),t.Xc(e,r)}}(i));return r.ba((function(){return n}),(function(t){var e=2;if(t instanceof ct){if(7001==t.code)throw t;e=t.severity}throw new ct(e,1,1007,t)}))}(n,t,e)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var l=0;o.promise.then((function(){l=Date.now()}),(function(){}));var f=a.ba((function(e){var r=Date.now()-l,i=e.response;return i.timeMs+=u,i.timeMs+=r,e.gf||!n.j||i.fromCache||t!=fo||n.j(i.timeMs,i.data.byteLength),i}),(function(t){throw t&&(t.severity=2),t}));return i=new co(f.promise,(function(){return f.abort()}),r),oo(this.l,i),i},H("shaka.net.NetworkingEngine",ao),ao.prototype.request=ao.prototype.request,ao.prototype.destroy=ao.prototype.destroy,ao.makeRequest=uo,ao.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},ao.prototype.clearAllResponseFilters=ao.prototype.Ge,ao.prototype.unregisterResponseFilter=ao.prototype.Mf,ao.prototype.registerResponseFilter=ao.prototype.vf,ao.prototype.clearAllRequestFilters=ao.prototype.Fe,ao.prototype.unregisterRequestFilter=ao.prototype.Lf,ao.prototype.registerRequestFilter=ao.prototype.uf,ao.unregisterScheme=function(t){delete po[t]},ao.registerScheme=so,ao.prototype.setForceHTTPS=ao.prototype.Kd,ao.NumBytesRemainingClass=lo,m(co,Yi),ao.PendingRequest=co;var fo=1;ao.RequestType={MANIFEST:0,SEGMENT:fo,LICENSE:2,APP:3,TIMING:4};var ho=3;ao.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:ho};var po={};function go(){}function vo(t){return new Yn(t=gt(t)).Ga}function mo(t,e,n){function r(t){ut(o).setUint32(a,t.byteLength,!0),a+=4,o.set(st(t),a),a+=t.byteLength}if(!n||!n.byteLength)throw new ct(2,6,6015);var i;i="string"==typeof e?mt(e,!0):e,t=mt(t=gt(t),!0);var o=new Uint8Array(12+t.byteLength+i.byteLength+n.byteLength),a=0;return r(t),r(i),r(n),o}function yo(t){for(var e=new Map,n=c(Object.keys(t)),r=n.next();!r.done;r=n.next())r=r.value,e.set(r,t[r]);return e}function bo(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function wo(t,e){if(!t&&!e)return!0;if(t&&!e||e&&!t)return!1;if(t.size!=e.size)return!1;for(var n=c(t),r=n.next();!r.done;r=n.next()){var i=c(r.value);if(r=i.next().value,i=i.next().value,!e.has(r))return!1;if((r=e.get(r))!=i||void 0==r)return!1}return!0}function So(t,e){var n=this;e=void 0===e?1:e,this.C=t,this.u=new Set,this.g=this.m=null,this.oa=this.L=!1,this.H=0,this.i=null,this.h=new Nr,this.j=new Map,this.D=[],this.s=new pr,this.o=null,this.l=function(e){n.s.reject(e),t.onError(e)},this.pa=new Map,this.X=new Map,this.S=new Ht((function(){return function(t){var e=t.pa,n=t.X;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),(e=Array.from(n.values())).length&&e.every((function(t){return"expired"==t}))&&t.l(new ct(2,6,6014)),t.C.Fc(bo(n))}(n)})),this.F=!1,this.I=[],this.N=!1,this.da=new Ht((function(){!function(t){t.j.forEach((function(e,n){var r=e.yd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.C.onExpirationUpdated(n.sessionId,i),e.yd=i)}))}(n)})).Ba(e),this.s.catch((function(){})),this.J=new Lr((function(){return function(t){return O((function(e){switch(e.g){case 1:return t.h.release(),t.h=null,t.s.reject(),t.da.stop(),t.da=null,t.S.stop(),t.S=null,S(e,jo(t),2);case 2:if(!t.g){e.v(3);break}return E(e,4),S(e,t.g.setMediaKeys(null),6);case 6:k(e,5);break;case 4:x(e);case 5:t.g=null;case 3:t.i=null,t.u.clear(),t.m=null,t.D=[],t.o=null,t.l=function(){},t.C=null,T(e)}}))}(n)}))}function To(t,e,n,r){return t.D=n,t.F=0<n.length,Eo(t,e,!!r)}function Eo(e,n,r){var i,o,a,s,u,l,h,d,p,g,v,m,y;return O((function(b){if(1==b.g){if(i=function(e){if(0==(e=yo(e.o.clearKeys)).size)return null;var n=[],r=[];e.forEach((function(t,e){var i=re(e),o=re(t);i={kty:"oct",kid:ee(i,!1),k:ee(o,!1)},n.push(i),r.push(i.kid)})),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:st(vt(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,sessionType:"",initData:i,keyIds:new Set(r)}}(e))for(o=c(n),a=o.next();!a.done;a=o.next())(s=a.value).video&&(s.video.drmInfos=[i]),s.audio&&(s.audio.drmInfos=[i]);for((u=n.some((function(t){return!!(t.video&&t.video.drmInfos.length||t.audio&&t.audio.drmInfos.length)})))||(l=yo(e.o.servers),function(t,e){var n=[];e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var r=c(t),i=r.next();!i.done;i=r.next())(i=i.value).video&&(i.video.drmInfos=n),i.audio&&(i.audio.drmInfos=n)}(n,l)),h=c(n),a=h.next();!a.done;a=h.next())for(d=a.value,p=Fo(d),g=c(p),v=g.next();!v.done;v=g.next())Ko(v.value,yo(e.o.servers),yo(e.o.advanced||{}));return r?S(b,vi(n,e.F),2):(m=function(t,e){for(var n=new Set,r=c(e),i=r.next();!i.done;i=r.next()){var o=c(Fo(i.value));for(i=o.next();!i.done;i=o.next())n.add(i.value)}for(r=c(n),i=r.next();!i.done;i=r.next())Ko(i.value,yo(t.o.servers),yo(t.o.advanced||{}));o=t.F?"required":"optional";var a=t.F?["persistent-license"]:["temporary"];for(r=new Map,n=c(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{initDataTypes:["cenc"],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:o,sessionTypes:a,label:i.keySystem,drmInfos:[]});for(n=c(e),i=n.next();!i.done;i=n.next())for(i=i.value,o=c([i.audio,i.video]),i=o.next();!i.done;i=o.next())if(a=i.value){var s=Co(a),u=null;"ac-3"==a.codecs.toLowerCase()&&Vt()&&(u=Co(a,"ec-3"));var l=c(a.drmInfos);for(i=l.next();!i.done;i=l.next()){var h=i.value;(i=r.get(h.keySystem)).drmInfos.push(h),h.initData&&h.initData.length&&(i.initDataTypes=[].concat(f(new Set(h.initData.map((function(t){return t.initDataType})))))),h.distinctiveIdentifierRequired&&(i.distinctiveIdentifier="required"),h.persistentStateRequired&&(i.persistentState="required"),h.sessionType&&(i.sessionTypes=[h.sessionType]);var d={robustness:(h="audio"==a.type?h.audioRobustness:h.videoRobustness)||"",contentType:s};"audio"==a.type?i.audioCapabilities.push(d):i.videoCapabilities.push(d),u&&(h={robustness:h||"",contentType:u},"audio"==a.type?i.audioCapabilities.push(h):i.videoCapabilities.push(h))}}return r}(e,n),b.v(2))}return u||Object.keys(e.o.servers).length?(y=Lo(e,m,n,r),b.return(u?y:y.catch((function(){})))):(e.L=!0,b.return(Promise.resolve()))}))}function _o(t){return O((function(e){if(1==e.g)return t.m&&t.i&&t.i.serverCertificate&&t.i.serverCertificate.length?(E(e,3),S(e,t.m.setServerCertificate(t.i.serverCertificate),5)):e.v(0);if(3!=e.g)return k(e,0);throw new ct(2,6,6004,x(e).message)}))}function ko(t){for(var e=(t.i?t.i.initData:[])||[],n=c(e),r=n.next();!r.done;r=n.next())xo(t,(r=r.value).initDataType,r.initData);for(r=(n=c(t.D)).next();!r.done;r=n.next())Do(t,r.value);return e.length||t.D.length||t.s.resolve(),t.s}function xo(t,e,n){for(var r=t.j.values(),i=(r=c(r)).next();!i.done;i=r.next())if(it(n,i.value.initData)&&!Xt("Tizen 2"))return;!function(t,e,n){var r=t.i.sessionType;try{var i=t.m.createSession(r)}catch(o){return void t.l(new ct(2,6,6005,o.message))}t.h.B(i,"message",(function(e){t.g&&t.o.delayLicenseRequestUntilPlayed&&t.g.paused&&!t.N?t.I.push(e):Po(t,e)})),t.h.B(i,"keystatuseschange",(function(e){return No(t,e)})),t.j.set(i,{initData:n,loaded:!1,yd:1/0,Ka:null,type:r});try{n=t.o.initDataTransform(n,e,t.i)}catch(o){return e=o,o instanceof ct||(e=new ct(2,6,6016,o)),void t.l(e)}t.o.logLicenseExchange&&ee(n),i.generateRequest(e,n).catch((function(e){if(!t.J.g){t.j.delete(i);var n=e.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}t.l(new ct(2,6,6006,e.message,e,r))}}))}(t,e,n)}function Mo(t){return t?t.keySystem:""}function Ao(t){return!!t&&!!t.match(/^com\.(microsoft|chromecast)\.playready/)}function Ro(t,e){if(navigator.userAgent.match(/Edge\//))return!0;if(e=e.toLowerCase(),Vt()&&e.includes('codecs="ac-3"')){var n=e.replace("ac-3","ec-3");return t.u.has(e)||t.u.has(n)}return t.u.has(e)}function Io(t){return t=tt(t=t.j.keys(),(function(t){return t.sessionId})),Array.from(t)}function Co(t,e){var n=Tr(t.mimeType,e||t.codecs);return br(n)?Sr(t.type,n):n}function Lo(t,e,n,r){var i,o,a,s,u,l,f,h,d,p,g,v,m;return O((function(y){switch(y.g){case 1:if(i=new Map,r){t:{for(var b=c(n),w=b.next();!w.done;w=b.next()){var T=c(Fo(w.value));for(w=T.next();!w.done;w=T.next()){var _=w.value;i.has(_.keySystem)||i.set(_.keySystem,[]),i.get(_.keySystem).push(_)}}if(1==i.size&&i.has(""))throw new ct(2,6,6e3);for(T=(b=c([!0,!1])).next();!T.done;T=b.next())for(T=T.value,w=(_=c(n)).next();!w.done;w=_.next()){var M=c(w.value.decodingInfos);for(w=M.next();!w.done;w=M.next()){var A=w.value;if(A.supported&&A.keySystemAccess){var R=c(w=i.get(A.keySystemAccess.keySystem));for(w=R.next();!w.done;w=R.next())if(!!w.value.licenseServerUri==T){o=A.keySystemAccess;break t}}}}o=null}y.v(2);break}return S(y,function(t,e){var n,r,i,o,a,s,u,l,f,h,d;return O((function(p){switch(p.g){case 1:if(1==e.size&&e.has(""))throw new ct(2,6,6e3);for(r=c(e.values()),i=r.next();!i.done;i=r.next())0==(o=i.value).audioCapabilities.length&&delete o.audioCapabilities,0==o.videoCapabilities.length&&delete o.videoCapabilities;a=c([!0,!1]),s=a.next();case 2:if(s.done){p.v(4);break}u=s.value,l=c(e.keys()),f=l.next();case 5:if(f.done){s=a.next(),p.v(2);break}if(h=f.value,d=e.get(h),d.drmInfos.some((function(t){return!!t.licenseServerUri}))!=u){p.v(6);break}return E(p,8),S(p,navigator.requestMediaKeySystemAccess(h,[d]),10);case 10:return n=p.h,p.return(n);case 8:x(p);case 9:Dr(t.J);case 6:f=l.next(),p.v(5);break;case 4:return p.return(n)}}))}(t,e),3);case 3:o=y.h;case 2:if(!(a=o))throw new ct(2,6,6001);for(Dr(t.J),E(y,4),t.u.clear(),s=a.getConfiguration(),u=s.audioCapabilities||[],l=s.videoCapabilities||[],f=c(u),h=f.next();!h.done;h=f.next())d=h.value,t.u.add(d.contentType.toLowerCase());for(p=c(l),h=p.next();!h.done;h=p.next())g=h.value,t.u.add(g.contentType.toLowerCase());if(r){for(T=a.keySystem,Ho(b=i.get(a.keySystem),_=[],w=[],M=[],A=new Set),R=t.F?"persistent-license":"temporary",T={keySystem:T,licenseServerUri:_[0],distinctiveIdentifierRequired:b[0].distinctiveIdentifierRequired,persistentStateRequired:b[0].persistentStateRequired,sessionType:b[0].sessionType||R,audioRobustness:b[0].audioRobustness||"",videoRobustness:b[0].videoRobustness||"",serverCertificate:w[0],initData:M,keyIds:A},_=(b=c(b)).next();!_.done;_=b.next())(_=_.value).distinctiveIdentifierRequired&&(T.distinctiveIdentifierRequired=_.distinctiveIdentifierRequired),_.persistentStateRequired&&(T.persistentStateRequired=_.persistentStateRequired);b=T}else b=a.keySystem,T=e.get(a.keySystem),_=[],w=[],M=[],A=new Set,Ho(T.drmInfos,_,w,M,A),b={keySystem:b,licenseServerUri:_[0],distinctiveIdentifierRequired:"required"==T.distinctiveIdentifier,persistentStateRequired:"required"==T.persistentState,sessionType:T.sessionTypes[0]||"temporary",audioRobustness:(T.audioCapabilities?T.audioCapabilities[0].robustness:"")||"",videoRobustness:(T.videoCapabilities?T.videoCapabilities[0].robustness:"")||"",serverCertificate:w[0],initData:M,keyIds:A};if(t.i=b,!t.i.licenseServerUri)throw new ct(2,6,6012,t.i.keySystem);return S(y,a.createMediaKeys(),6);case 6:return v=y.h,Dr(t.J),t.m=v,t.L=!0,S(y,_o(t),7);case 7:Dr(t.J),k(y,0);break;case 4:if(m=x(y),Dr(t.J,m),t.i=null,t.u.clear(),m instanceof ct)throw m;throw new ct(2,6,6002,m.message)}}))}function Do(t,e){var n,r,o,a,s;return O((function(u){switch(u.g){case 1:try{n=t.m.createSession("persistent-license")}catch(i){return r=new ct(2,6,6005,i.message),t.l(r),u.return(Promise.reject(r))}return t.h.B(n,"message",(function(e){t.g&&t.o.delayLicenseRequestUntilPlayed&&t.g.paused&&!t.N?t.I.push(e):Po(t,e)})),t.h.B(n,"keystatuseschange",(function(e){return No(t,e)})),o={initData:null,loaded:!1,yd:1/0,Ka:null,type:"persistent-license"},t.j.set(n,o),E(u,2),S(u,n.load(e),4);case 4:return a=u.h,Dr(t.J),a?(o.loaded=!0,Uo(t)&&t.s.resolve(),u.return(n)):(t.j.delete(n),t.l(new ct(2,6,6013)),u.return(Promise.resolve()));case 2:s=x(u),Dr(t.J,s),t.j.delete(n),t.l(new ct(2,6,6005,s.message));case 3:return u.return(Promise.resolve())}}))}function Oo(t,e,n){return"skd"==e&&(e=n.serverCertificate,t=mo(t,n=vo(t),e)),t}function Po(t,e){var n,r,i,o,a,s,u,l,f,h,d,p;O((function(g){switch(g.g){case 1:return n=e.target,t.o.logLicenseExchange&&ee(e.message),r=t.j.get(n),i=t.i.licenseServerUri,o=t.o.advanced[t.i.keySystem],"individualization-request"==e.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(a=uo([i],t.o.retryParameters)).body=e.message,a.method="POST",a.licenseRequestType=e.messageType,a.sessionId=n.sessionId,Ao(t.i.keySystem)&&function(t){var e=pt(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){for(var n=c((e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader")),r=n.next();!r.done;r=n.next())r=r.value,t.headers[r.getElementsByTagName("name")[0].textContent]=r.getElementsByTagName("value")[0].textContent;t.body=ne(e.getElementsByTagName("Challenge")[0].textContent)}else t.headers["Content-Type"]="text/xml; charset=utf-8"}(a),s=Date.now(),E(g,2),S(g,t.C.Bb.request(2,a).promise,4);case 4:u=g.h,k(g,3);break;case 2:return l=x(g),f=new ct(2,6,6007,l),t.l(f),r&&r.Ka&&r.Ka.reject(f),g.return();case 3:return t.J.g?g.return():(t.H+=(Date.now()-s)/1e3,t.o.logLicenseExchange&&ee(u.data),E(g,5),S(g,n.update(u.data),7));case 7:k(g,6);break;case 5:return h=x(g),d=new ct(2,6,6008,h.message),t.l(d),r&&r.Ka&&r.Ka.reject(d),g.return();case 6:p=new to("drmsessionupdate"),t.C.onEvent(p),r&&(r.Ka&&r.Ka.resolve(),new Ht((function(){r.loaded=!0,Uo(t)&&t.s.resolve()})).T(qo)),T(g)}}))}function No(t,e){var n=e.target,r=t.j.get(n),i=!1;n.keyStatuses.forEach((function(e,n){if("string"==typeof n){var o=n;n=e,e=o}if(Ao(t.i.keySystem)&&16==n.byteLength&&navigator.userAgent.match(/Edge?\//)){var a=(o=ut(n)).getUint32(0,!0),s=o.getUint16(4,!0),u=o.getUint16(6,!0);o.setUint32(0,a,!1),o.setUint16(4,s,!1),o.setUint16(6,u,!1)}"status-pending"!=e&&(r.loaded=!0),"expired"==e&&(i=!0),o=ie(n),t.pa.set(o,e)}));var o=n.expiration-Date.now();(0>o||i&&1e3>o)&&r&&!r.Ka&&(t.j.delete(n),n.close().catch((function(){}))),Uo(t)&&(t.s.resolve(),t.S.T(Vo))}function jo(t){var e;return O((function(n){return e=Array.from(t.j.entries()),t.j.clear(),S(n,Promise.all(e.map((function(e){var n=(e=c(e)).next().value,r=e.next().value;return O((function(e){return 1==e.g?(E(e,2),t.oa||t.D.includes(n.sessionId)||"persistent-license"!==r.type?S(e,function(t){var e;return O((function(n){return 1==n.g?(e=new Promise((function(t,e){new Ht(e).T(Go)})),E(n,2),S(n,Promise.race([Promise.all([t.close(),t.closed]),e]),4)):2!=n.g?k(n,0):(x(n),void T(n))}))}(n),5):S(e,n.remove(),5)):2!=e.g?k(e,0):(x(e),void T(e))}))}))),0)}))}function Bo(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=c(t),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=c(e),a=o.next();!a.done;a=o.next())if(a=a.value,i.keySystem==a.keySystem){o=(o=(o=[]).concat(i.initData||[])).concat(a.initData||[]);var s=i.keyIds&&a.keyIds?new Set([].concat(f(i.keyIds),f(a.keyIds))):i.keyIds||a.keyIds;n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||a.persistentStateRequired,videoRobustness:i.videoRobustness||a.videoRobustness,audioRobustness:i.audioRobustness||a.audioRobustness,serverCertificate:i.serverCertificate||a.serverCertificate,initData:o,keyIds:s});break}}return n}function Fo(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])}function Uo(t){return function(t,e){for(var n=c(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}(t=t.j.values(),(function(t){return t.loaded}))}function Ho(t,e,n,r,i){for(var o={},a=(t=c(t)).next();!a.done;o={xa:o.xa},a=t.next()){if(o.xa=a.value,e.includes(o.xa.licenseServerUri)||e.push(o.xa.licenseServerUri),o.xa.serverCertificate&&(n.some(function(t){return function(e){return it(e,t.xa.serverCertificate)}}(o))||n.push(o.xa.serverCertificate)),o.xa.initData){a={};for(var s=c(o.xa.initData),u=s.next();!u.done;a={hc:a.hc},u=s.next())a.hc=u.value,r.some(function(t){return function(e){var n=t.hc;return!(!e.keyId||e.keyId!=n.keyId)||e.initDataType==n.initDataType&&it(e.initData,n.initData)}}(a))||r.push(a.hc)}if(o.xa.keyIds)for(s=(a=c(o.xa.keyIds)).next();!s.done;s=a.next())i.add(s.value)}}function Ko(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=new Set),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate),r.sessionType&&(e.sessionType=r.sessionType)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}H("shaka.util.FairPlayUtils",go),go.initDataTransform=mo,go.defaultGetContentId=vo,(r=So.prototype).destroy=function(){return this.J.destroy()},r.configure=function(t){this.o=t},r.Nb=function(t){var e,n=this;return O((function(r){if(1==r.g)return n.m?(n.g=t,n.h.ua(n.g,"play",(function(){for(var t=c(n.I),e=t.next();!e.done;e=t.next())Po(n,e.value);n.N=!0,n.I=[]})),"webkitCurrentPlaybackTargetIsWireless"in n.g&&n.h.B(n.g,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return jo(n)})),S(r,n.g.setMediaKeys(n.m).catch((function(t){return Promise.reject(new ct(2,6,6003,t.message))})),2)):(n.h.ua(t,"encrypted",(function(){n.l(new ct(2,6,6010))})),r.return());Dr(n.J),ko(n),n.i.initData.length||n.D.length||(e=function(t){return xo(n,t.initDataType,st(t.initData))},n.h.B(n.g,"encrypted",e)),T(r)}))},r.Rb=function(){for(var t=1/0,e=this.j.keys(),n=(e=c(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},r.yc=function(){return bo(this.X)};var Go=1,qo=5,Vo=.5,zo=new ft((function(){return at(new Uint8Array([0]))}));function Wo(){}function Yo(t,e,n,r){var i,o,a,s;return O((function(u){if(1==u.g)return r&&(i=Zo[r.toLowerCase()])?u.return(i):(o=$o(t))&&(a=Jo[o])?u.return(a):r?u.v(2):S(u,Xo(t,e,n),3);if(2!=u.g&&(r=u.h)&&(s=Zo[r]))return u.return(s);throw new ct(2,4,4e3,t)}))}function Xo(t,e,n){var r,i,o;return O((function(a){return 1==a.g?((r=uo([t],n)).method="HEAD",S(a,e.request(0,r).promise,2)):(i=a.h,o=i.headers["content-type"],a.return(o?o.toLowerCase().split(";").shift():""))}))}function $o(t){return 1==(t=new Yn(t).wa.split("/").pop().split(".")).length?"":t.pop().toLowerCase()}H("shaka.media.ManifestParser",Wo),Wo.unregisterParserByMime=function(t){delete Zo[t]},Wo.registerParserByMime=function(t,e){Zo[t]=e},Wo.registerParserByExtension=function(t,e){Jo[t]=e};var Zo={},Jo={};function Qo(t,e,n){this.ma=t,this.ja=e,this.ea=n}function ta(t,e,n,r,i,o,a,s,u,l){l=void 0===l?[]:l,this.startTime=t,this.j=this.endTime=e,this.i=n,this.ja=r,this.ea=i,this.h=o,this.timestampOffset=a,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=l}function ea(t,e,n){this.j=t,this.Ic=e,this.m=this.l=1/0,this.g=1,this.h=this.i=null,this.s=0,this.u=!0,this.D=0,this.F=void 0===n||n,this.H=0}function na(t,e){this.j=t,this.m=ia(t),this.g=t.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.s=e,this.i=function(){}}function ra(t){this.g=t}function ia(t){if(t.g.paused||0==t.g.playbackRate||0==t.g.buffered.length)var e=!1;else t:{e=t.g.currentTime;for(var n=(t=c(zn(t.g.buffered))).next();!n.done;n=t.next())if(!(e<(n=n.value).start-.1||e>n.end-.5)){e=!0;break t}e=!1}return e}function oa(t,e,n,r,i){var o=this;this.g=t,this.D=e,this.o=n,this.u=i,this.h=new Nr,this.s=!1,this.F=t.readyState,this.j=!1,this.i=r,this.m=!1,this.h.B(t,"waiting",(function(){return aa(o)})),this.l=new Ht((function(){aa(o)})).Ba(.25)}function aa(t){if(0!=t.g.readyState){if(t.g.seeking){if(!t.s)return}else t.s=!1;if(!t.g.paused||0==t.g.currentTime){var e;if(t.g.readyState!=t.F&&(t.j=!1,t.F=t.g.readyState),!(e=!t.i)){var n=(e=t.i).j,r=ia(n),i=n.g.currentTime,o=Date.now()/1e3;e.g==i&&e.m==r||(e.l=o,e.g=i,e.m=r,e.h=!1),(r=(i=o-e.l)>=e.s&&r&&!e.h)&&(e.i(e.g,i),e.h=!0,e.g=n.g.currentTime),e=!r}if(e){var a=t.o.smallGapLimit;if(i=t.g.currentTime,!(null==(n=function(t,e,n){return!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)?null:0<=(t=zn(t).findIndex((function(t,r,i){return t.start>e&&(0==r||i[r-1].end-e<=n)})))?t:null}(e=t.g.buffered,i,t.o.gapDetectionThreshold))||0==n&&!t.m||(r=e.start(n),r>=t.D.Qa()))){a=(o=r-i)<=a;var s=!1;.001>o||(a||t.j||(t.j=!0,(i=new to("largegap",{currentTime:i,gapSize:o})).cancelable=!0,t.u(i),t.o.jumpLargeGaps&&!i.defaultPrevented&&(s=!0)),!a&&!s)||(0!=n&&e.end(n-1),t.g.currentTime=r)}}}}}function sa(t,e,n,r){e==HTMLMediaElement.HAVE_NOTHING||t.readyState>=e?r():(e=ua.value().get(e),n.ua(t,e,r))}Qo.prototype.Ub=function(){return this.ja},Qo.prototype.Qb=function(){return this.ea},H("shaka.media.InitSegmentReference",Qo),Qo.prototype.getEndByte=Qo.prototype.Qb,Qo.prototype.getStartByte=Qo.prototype.Ub,(r=ta.prototype).ma=function(){return this.i()},r.af=function(){return this.startTime},r.Oe=function(){return this.endTime},r.Ub=function(){return this.ja},r.Qb=function(){return this.ea},H("shaka.media.SegmentReference",ta),ta.prototype.getEndByte=ta.prototype.Qb,ta.prototype.getStartByte=ta.prototype.Ub,ta.prototype.getEndTime=ta.prototype.Oe,ta.prototype.getStartTime=ta.prototype.af,ta.prototype.getUris=ta.prototype.ma,(r=ea.prototype).getDuration=function(){return this.l},r.Ue=function(){return this.g},r.Ja=function(t){this.l=t},r.$e=function(){return this.j},r.qe=function(t){this.s=t},r.bc=function(t){this.u=t},r.Nd=function(t){this.m=t},r.Gf=function(t){this.Ic=t},r.Ne=function(){return this.Ic},r.Cb=function(t){if(0!=t.length){var e=t[t.length-1].endTime;this.wd(t[0].startTime),this.g=t.reduce((function(t,e){return Math.max(t,e.endTime-e.startTime)}),this.g),this.h=Math.max(this.h,e),null!=this.j&&this.F&&(this.j=(Date.now()+this.s)/1e3-this.h-this.g)}},r.wd=function(t){this.i=null==this.i?t:Math.min(this.i,t)},r.vd=function(t){this.g=Math.max(this.g,t)},r.offset=function(t){null!=this.i&&(this.i+=t),null!=this.h&&(this.h+=t)},r.Y=function(){return 1/0==this.l&&!this.u},r.kb=function(){return 1/0!=this.l&&!this.u},r.Za=function(){return Math.max(this.D,this.gb()-this.m)},r.re=function(t){this.D=t},r.gb=function(){return this.Y()||this.kb()?Math.min(Math.max(0,(Date.now()+this.s)/1e3-this.g-this.j)+this.H,this.l):this.h||this.l},r.Tb=function(t){var e=Math.max(this.i,this.D);return 1/0==this.m?Math.ceil(1e3*e)/1e3:Math.max(e,Math.min(this.gb()-this.m+t,this.Qa()))},r.yb=function(){return this.Tb(0)},r.Qa=function(){return Math.max(0,this.gb()-(this.Y()||this.kb()?this.Ic:0))},r.ue=function(){return!(null==this.j||null!=this.h&&this.F)},r.pe=function(t){this.H=t},H("shaka.media.PresentationTimeline",ea),ea.prototype.setAvailabilityTimeOffset=ea.prototype.pe,ea.prototype.usingPresentationStartTime=ea.prototype.ue,ea.prototype.getSeekRangeEnd=ea.prototype.Qa,ea.prototype.getSeekRangeStart=ea.prototype.yb,ea.prototype.getSafeSeekRangeStart=ea.prototype.Tb,ea.prototype.getSegmentAvailabilityEnd=ea.prototype.gb,ea.prototype.setUserSeekStart=ea.prototype.re,ea.prototype.getSegmentAvailabilityStart=ea.prototype.Za,ea.prototype.isInProgress=ea.prototype.kb,ea.prototype.isLive=ea.prototype.Y,ea.prototype.offset=ea.prototype.offset,ea.prototype.notifyMaxSegmentDuration=ea.prototype.vd,ea.prototype.notifyMinSegmentStartTime=ea.prototype.wd,ea.prototype.notifySegments=ea.prototype.Cb,ea.prototype.getDelay=ea.prototype.Ne,ea.prototype.setDelay=ea.prototype.Gf,ea.prototype.setSegmentAvailabilityDuration=ea.prototype.Nd,ea.prototype.setStatic=ea.prototype.bc,ea.prototype.setClockOffset=ea.prototype.qe,ea.prototype.getPresentationStartTime=ea.prototype.$e,ea.prototype.setDuration=ea.prototype.Ja,ea.prototype.getMaxSegmentDuration=ea.prototype.Ue,ea.prototype.getDuration=ea.prototype.getDuration,na.prototype.release=function(){this.j=null,this.i=function(){}},oa.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.l&&(this.l.stop(),this.l=null),this.i&&(this.i.release(),this.i=null),this.g=this.D=this.u=null},oa.prototype.zd=function(){this.m=!0,aa(this)};var ua=new ft((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function la(t,e,n){var r=this;this.g=t,this.l=e,this.j=n,this.m=!1,this.h=new Nr,this.i=new pa(t),sa(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){ha(r,r.j)}))}function ca(t){return t.m?t.g.currentTime:t.j}function fa(t,e){0<t.g.readyState?ga(t.i,e):sa(t.g,HTMLMediaElement.HAVE_METADATA,t.h,(function(){ha(t,t.j)}))}function ha(t,e){.001>Math.abs(t.g.currentTime-e)?da(t):(t.h.ua(t.g,"seeking",(function(){da(t)})),ga(t.i,0==t.g.currentTime?e:t.g.currentTime))}function da(t){t.m=!0,t.h.B(t.g,"seeking",(function(){return t.l()}))}function pa(t){var e=this;this.h=t,this.m=10,this.l=this.j=this.i=0,this.g=new Ht((function(){0>=e.i||e.h.currentTime!=e.j?e.g.stop():(e.h.currentTime=e.l,e.i--)}))}function ga(t,e){t.j=t.h.currentTime,t.l=e,t.i=t.m,t.h.currentTime=e,t.g.Ba(.1)}function va(t){var e=this;this.g=t,this.j=!1,this.i=null,this.h=new Nr,sa(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.h,(function(){null==e.i?e.j=!0:(e.h.ua(e.g,"seeking",(function(){e.j=!0})),e.g.currentTime=Math.max(0,e.g.currentTime+e.i))}))}function ma(t,e,n,r,i,o){var a=this;this.i=t,this.g=e.presentationTimeline,this.H=e.minBufferTime||0,this.o=n,this.D=i,this.u=null,this.j=new oa(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new na(new ra(t),e.stallThreshold);return function(t,e){t.i=e}(r,(function(){n?t.currentTime+=n:(t.pause(),t.play())})),r}(t,n),o),this.h=new la(t,(function(){var t=a.j;t.s=!0,t.m=!1,t.j=!1;var e=ca(a.h);return t=ba(a,e),.001<Math.abs(t-e)&&(e=Date.now()/1e3,!a.u||a.u<e-1)?(a.u=e,fa(a.h,t),t=void 0):(a.D(),t=void 0),t}),function(t,e){return null==e?e=1/0>t.g.getDuration()?t.g.yb():t.g.Qa():0>e&&(e=t.g.Qa()+e),ya(t,wa(t,e))}(this,r)),this.s=new Ht((function(){if(0!=a.i.readyState&&!a.i.paused){var t=ca(a.h),e=a.g.yb(),n=a.g.Qa();3>n-e&&(e=n-3),t<e&&(t=ba(a,t),a.i.currentTime=t)}})).Ba(.25)}function ya(t,e){var n=t.g.getDuration();return e>=n?n-t.o.durationBackoff:e}function ba(t,e){var n=Math.max(t.H,t.o.rebufferingGoal),r=t.o.safeSeekOffset,i=t.g.yb(),o=t.g.Qa(),a=t.g.getDuration();3>o-i&&(i=o-3);var s=t.g.Tb(n),u=t.g.Tb(r);return n=t.g.Tb(n+r),e>=a?ya(t,e):e>o?o:e<i?qn(t.i.buffered,u)?u:n:e>=s||qn(t.i.buffered,e)?e:n}function wa(t,e){var n=t.g.yb();return e<n||e>(n=t.g.Qa())?n:e}function Sa(t){this.g=t,this.h=null,this.i=0,this.j=!1}function Ta(t,e,n){return new Sa([new ta(t,t+e,(function(){return n}),0,null,null,t,t,t+e)])}function Ea(t,e,n){this.i=t,this.h=e,this.g=n}function _a(){Sa.call(this,[]),this.l=[]}function ka(t){var e=this;this.g=t,this.j=!1,this.i=this.g.Ac(),this.h=new Ht((function(){e.g.ge(.25*e.i)}))}function xa(t){t.h.stop();var e=t.j?0:t.i;if(0<=e)try{return void(t.g.Ac()!=e&&t.g.Md(e))}catch(n){}t.h.Ba(.25),0!=t.g.Ac()&&t.g.Md(0)}function Ma(t){var e=this;this.h=t,this.g=new Set,this.i=new Ht((function(){Aa(e,!1)})).Ba(.25)}function Aa(t,e){for(var n=c(t.g),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=t.h.currentTime,o=e,a=c(r.l.g),s=a.next();!s.done;s=a.next()){s=s.value;var u=r.j.get(s),l=i<s.startTime?Ca:i>s.endTime?Da:La;r.j.set(s,l);for(var f=c(r.m),h=f.next();!h.done;h=f.next())(h=h.value).sb==u&&h.rb==l&&h.jb(s,o)}}}function Ra(t){var e=this;this.h=function(){},this.g=new Set,this.j=t,this.i=new Ht((function(){for(var t=e.j(),n=c(e.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<t.start&&e.g.delete(r)})).Ba(2)}function Ia(t){var e=this;this.l=t,this.j=new Map,this.g=function(){},this.h=function(){},this.i=function(){},this.m=[{sb:null,rb:La,jb:function(t,n){return e.g(t,n)}},{sb:Ca,rb:La,jb:function(t,n){return e.g(t,n)}},{sb:Da,rb:La,jb:function(t,n){return e.g(t,n)}},{sb:La,rb:Ca,jb:function(t,n){return e.h(t,n)}},{sb:La,rb:Da,jb:function(t,n){return e.h(t,n)}},{sb:Ca,rb:Da,jb:function(t,n){return e.i(t,n)}},{sb:Da,rb:Ca,jb:function(t,n){return e.i(t,n)}}]}la.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.l=function(){},this.g=null},pa.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},va.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.g=null},va.prototype.m=function(t){this.i=this.j?this.i:t},va.prototype.l=function(){return(this.j?this.g.currentTime:this.i)||0},va.prototype.F=function(){},ma.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.s&&(this.s.stop(),this.s=null),this.i=this.h=this.g=this.o=null,this.D=function(){}},ma.prototype.m=function(t){fa(this.h,t)},ma.prototype.l=function(){var t=ca(this.h);return 0<this.i.readyState&&!this.i.paused?wa(this,t):t},ma.prototype.F=function(){this.j.zd()},(r=Sa.prototype).destroy=function(){return Et("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},r.release=function(){this.j||(this.g=[],this.h&&this.h.stop(),this.h=null)},r.kf=function(){this.j=!0},r.find=function(t){for(var e=this.g.length-1,n=e;0<=n;--n){var r=this.g[n],i=n<e?this.g[n+1].startTime:r.endTime;if(t>=r.startTime&&t<i)return n+this.i}return this.g.length&&t<this.g[0].startTime?this.i:null},r.get=function(t){return 0==this.g.length||0>(t-=this.i)||t>=this.g.length?null:this.g[t]},r.offset=function(t){if(!this.j)for(var e=c(this.g),n=e.next();!n.done;n=e.next())(n=n.value).startTime+=t,n.endTime+=t,n.timestampOffset+=t},r.Dc=function(t){!this.j&&t.length&&(this.g=this.g.filter((function(e){return e.startTime<t[0].startTime})),this.g.push.apply(this.g,f(t)))},r.Ab=function(t,e){var n=this;t=t.filter((function(t){return t.endTime>e&&(0==n.g.length||t.endTime>n.g[0].startTime)})),this.Dc(t),this.eb(e)},r.eb=function(t){if(!this.j){var e=this.g.length;this.g=this.g.filter((function(e){return e.endTime>t})),this.i+=e-this.g.length}},r.Ya=function(t,e,n){if(n=void 0!==n&&n,!this.j){for(;this.g.length&&this.g[this.g.length-1].startTime>=e;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=t;)this.g.shift(),n||this.i++;0!=this.g.length&&(t=this.g[this.g.length-1],this.g[this.g.length-1]=new ta(t.startTime,e,t.i,t.ja,t.ea,t.h,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd))}},r.Lc=function(t,e){var n=this;this.j||(this.h&&this.h.stop(),this.h=new Ht((function(){var t=e();t?n.g.push.apply(n.g,f(t)):(n.h.stop(),n.h=null)})),this.h.Ba(t))},Sa.prototype[Symbol.iterator]=function(){return this.xb(0)},Sa.prototype.xb=function(t){var e=this.find(t);if(null==e)return null;e--;var n=this.get(e+1),r=-1;if(n&&0<n.g.length)for(var i=n.g.length-1;0<=i;--i){var o=n.g[i];if(t>=o.startTime&&t<o.endTime){e++,r=i-1;break}}return new Ea(this,e,r)},H("shaka.media.SegmentIndex",Sa),Sa.forSingleSegment=Ta,Sa.prototype.getIteratorForTime=Sa.prototype.xb,Sa.prototype.updateEvery=Sa.prototype.Lc,Sa.prototype.fit=Sa.prototype.Ya,Sa.prototype.evict=Sa.prototype.eb,Sa.prototype.mergeAndEvict=Sa.prototype.Ab,Sa.prototype.merge=Sa.prototype.Dc,Sa.prototype.offset=Sa.prototype.offset,Sa.prototype.get=Sa.prototype.get,Sa.prototype.find=Sa.prototype.find,Sa.prototype.markImmutable=Sa.prototype.kf,Sa.prototype.release=Sa.prototype.release,Sa.prototype.destroy=Sa.prototype.destroy,Ea.prototype.seek=function(t){return Et("shaka.media.SegmentIterator","Please use SegmentIndex.getIteratorForTime instead of seek()."),(t=this.i.xb(t))?(this.h=t.h,this.g=t.g):(this.h=Number.MAX_VALUE,this.g=0),this.next().value},Ea.prototype.current=function(){var t=this.i.get(this.h);return t&&0<t.g.length&&t.ma().length&&this.g>=t.g.length&&(this.h++,this.g=0,t=this.i.get(this.h)),t&&0<t.g.length?t.g[this.g]:t},Ea.prototype.next=function(){var t=this.i.get(this.h);return t&&0<t.g.length?(this.g++,t.ma().length&&this.g==t.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:t=this.current(),done:!t}},H("shaka.media.SegmentIterator",Ea),Ea.prototype.next=Ea.prototype.next,Ea.prototype.current=Ea.prototype.current,Ea.prototype.seek=Ea.prototype.seek,m(_a,Sa),(r=_a.prototype).clone=function(){var t=new _a;return t.l=this.l.slice(),t},r.release=function(){for(var t=c(this.l),e=t.next();!e.done;e=t.next())e.value.release();this.l=[]},r.find=function(t){for(var e=0,n=c(this.l),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(t);if(null!=i)return i+e;e+=r.i+r.g.length}return null},r.get=function(t){for(var e=0,n=c(this.l),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(t-e);if(i)return i;e+=r.i+r.g.length}return null},r.offset=function(){},r.Dc=function(){},r.eb=function(){},r.Ab=function(){},r.Ya=function(){},r.Lc=function(){},H("shaka.media.MetaSegmentIndex",_a),_a.prototype.updateEvery=_a.prototype.Lc,_a.prototype.fit=_a.prototype.Ya,_a.prototype.mergeAndEvict=_a.prototype.Ab,_a.prototype.evict=_a.prototype.eb,_a.prototype.merge=_a.prototype.Dc,_a.prototype.offset=_a.prototype.offset,_a.prototype.get=_a.prototype.get,_a.prototype.find=_a.prototype.find,_a.prototype.release=_a.prototype.release,ka.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},ka.prototype.set=function(t){this.i=t,xa(this)},ka.prototype.xc=function(){return this.g.xc()},Ma.prototype.release=function(){this.i.stop();for(var t=c(this.g),e=t.next();!e.done;e=t.next())e.value.release();this.g.clear()},Ra.prototype.release=function(){this.h=function(){},this.g.clear(),this.i.stop()},Ia.prototype.release=function(){this.l=null,this.j.clear(),this.g=function(){},this.h=function(){},this.i=function(){}};var Ca=1,La=2,Da=3;function Oa(t,e,n,r,i){return t=uo(t,r,i),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function Pa(t,e){var n=this;this.C=e,this.A=t,this.o=null,this.l=1,this.i=this.h=null,this.g=new Map,this.m=!1,this.s=null,this.j=!1,this.J=new Lr((function(){return function(t){var e,n,r,i;return O((function(o){if(1==o.g){for(e=[],n=c(t.g.values()),r=n.next();!r.done;r=n.next())Wa(i=r.value),e.push(Ya(i));return S(o,Promise.all(e),2)}t.g.clear(),t.C=null,t.A=null,t.o=null,T(o)}))}(n)}))}function Na(t,e){var n=t.g.get("video");if(n){var r=n.stream;if(r)if(e){var i=r.trickModeVideo;i&&!n.ob&&(Fa(t,i,!1,0,!1),n.ob=r)}else(r=n.ob)&&(n.ob=null,Fa(t,r,!0,0,!1))}}function ja(t,e,n,r,i){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,t.h=e,t.m&&(e.video&&Fa(t,e.video,n,r,i),e.audio&&Fa(t,e.audio,n,r,i))}function Ba(t,e){t.i=e,t.m&&Fa(t,e,!0,0,!1)}function Fa(t,e,n,r,i){var o=t.g.get(e.type);o||e.type!=fr?o&&(o.ob&&(e.trickModeVideo?(o.ob=e,e=e.trickModeVideo):o.ob=null),o.stream!=e||i)&&(e.type==fr&&Hr(t.C.P,Tr(e.mimeType,e.codecs)),o.stream=e,o.ca=null,n&&(o.Ob?o.Oc=!0:o.Ra?(o.qb=!0,o.tc=r,o.Oc=!0):(Wa(o),Va(t,o,!0,r).catch((function(e){t.C&&t.C.onError(e)})))),function(t,e){var n,r;return O((function(i){if(1==i.g)return e.va?(n=e.stream,r=e.va,n.segmentIndex?i.v(2):S(i,n.createSegmentIndex(),2)):i.return();if(e.va!=r||e.stream!=n)return i.return();var o=t.C.zc(),a=qr(t.C.P,e.type),s=e.stream.segmentIndex.find(e.Aa?e.Aa.endTime:o),u=null==s?null:e.stream.segmentIndex.get(s);s=u&&u.ea?u.ea-u.ja:null,u&&!s&&(s=(u.endTime-u.startTime)*(e.stream.bandwidth||0)/8),s?((u=u.h)&&(s+=(u.ea?u.ea-u.ja:null)||0),o=8*s/(u=t.C.getBandwidthEstimate())<(a||0)-o-Math.max(t.A.minBufferTime||0,t.o.rebufferingGoal)||e.va.h.g>s):o=!1,o&&e.va.abort(),T(i)}))}(t,o).catch((function(e){t.C&&t.C.onError(e)}))):function(t,e){var n,r,i,o,a;O((function(s){switch(s.g){case 1:return n=hr,E(s,2),S(s,Wr(t.C.P,n.aa),4);case 4:k(s,3);break;case 2:r=x(s),t.C&&t.C.onError(r);case 3:i=Tr(e.mimeType,e.codecs),Hr(t.C.P,i),o=t.C.P.m,(o.isTextVisible()||t.o.alwaysStreamText)&&(a=Ha(e),t.g.set(n.aa,a),za(t,a,0)),T(s)}}))}(t,e)}function Ua(t,e){e.Ob||e.qb||(e.Ra?(e.qb=!0,e.tc=0):null==Gr(t.C.P,e.type)?null==e.La&&za(t,e,0):(Wa(e),Va(t,e,!1,0).catch((function(e){t.C&&t.C.onError(e)}))))}function Ha(t){return{stream:t,type:t.type,ca:null,Aa:null,Cc:null,rd:null,qd:null,pd:null,ob:null,endOfStream:!1,Ra:!1,La:null,qb:!1,tc:0,Oc:!1,Ob:!1,Dd:!1,Vb:!1,va:null}}function Ka(t,e,n,r,i,o){var a;return O((function(s){return 1==s.g?(a=r.closedCaptions&&0<r.closedCaptions.size,null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length&&(new Ct).U("emsg",(function(e){var n=r.emsgSchemeIdUris;if(0===e.version)var o=e.reader.Zb(),a=e.reader.Zb(),s=e.reader.M(),u=e.reader.M(),l=e.reader.M(),c=e.reader.M(),f=i.startTime+u/s;else s=e.reader.M(),u=(f=e.reader.mb()/s+i.timestampOffset)-i.startTime,l=e.reader.M(),c=e.reader.M(),o=e.reader.Zb(),a=e.reader.Zb();e=e.reader.$a(e.reader.R.byteLength-e.reader.Z()),n.includes(o)&&("urn:mpeg:dash:event:2012"==o?t.C.pf():(n=new to(cu,{detail:{startTime:f,endTime:f+l/s,schemeIdUri:o,value:a,timescale:s,presentationTimeDelta:u,eventDuration:l,id:c,messageData:e}}),t.C.onEvent(n)))})).parse(o),S(s,function(t,e,n){var r,i,o;return O((function(a){if(1==a.g)return r=Math.max(t.o.bufferBehind,t.A.presentationTimeline.g),null==(i=Gr(t.C.P,e.type))||.01>=(o=n-i-r)?a.return():S(a,t.C.P.remove(e.type,i,i+o),2);Dr(t.J),T(a)}))}(t,e,n),2)):3!=s.g?(Dr(t.J),S(s,zr(t.C.P,e.type,o,i.startTime,i.endTime,a),3)):(Dr(t.J),void T(s))}))}function Ga(t){return t&&t.type==fr&&("application/cea-608"==t.stream.mimeType||"application/cea-708"==t.stream.mimeType)}function qa(t,e,n,r){var i,o,a,s;return O((function(u){return 1==u.g?(i=fo,o=Oa(n.ma(),n.ja,n.ea,t.o.retryParameters,r),a=t.C.Bb.request(i,o),e.va=a,S(u,a.promise,2)):(s=u.h,e.va=null,u.return(s.data))}))}function Va(t,e,n,r){var i,o;return O((function(a){return 1==a.g?(e.qb=!1,e.Oc=!1,e.tc=0,e.Ob=!0,e.Aa=null,e.Cc=null,e.ca=null,r?(i=t.C.zc(),o=t.C.P.getDuration(),S(a,t.C.P.remove(e.type,i+r,o),3)):S(a,Wr(t.C.P,e.type),4)):3!=a.g?(Dr(t.J),n?S(a,t.C.P.flush(e.type),3):a.v(3)):(Dr(t.J),e.Ob=!1,e.endOfStream=!1,za(t,e,0),void T(a))}))}function za(t,e,n){var r=e.type;(r!=fr||t.g.has(r))&&(e.La=new Ut((function(){var n;return O((function(r){return 1==r.g?(E(r,2),S(r,t.Xb(e),4)):2!=r.g?k(r,0):(n=x(r),t.C&&t.C.onError(n),void T(r))}))})).T(n))}function Wa(t){null!=t.La&&(t.La.stop(),t.La=null)}function Ya(t){return O((function(e){return t.va?S(e,t.va.abort(),0):e.v(0)}))}function Xa(t,e){return O((function(n){if(1==n.g)return S(n,Wi(t.s),2);Dr(t.J),t.C.onError(e),e.handled||t.o.failureCallback(e),T(n)}))}function $a(t,e){var n=iu(),r=this;this.j=e,this.i=t,this.l=n,this.s=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function(t){return O((function(e){if(t.J.g)e=e.v(0);else{if(0==t.m.length||t.g&&!t.g.ib)var n=!1;else{t.g&&(t.g.Ha.lb(),t.g=null);var r=(n=t.m.shift()).create(t.l);r?(n.Ha.Db(),t.g={node:r.node,payload:r.payload,ib:r.ib,Ha:n.Ha}):n.Ha.Gc(),n=!0}n?n=Promise.resolve():t.g?n=function(t){var e,n;return O((function(r){switch(r.g){case 1:return t.i=t.j.We(t.i,t.l,t.g.node,t.g.payload),E(r,2),t.h=t.j.Ke(t.i,t.l,t.g.payload),S(r,t.h.promise,4);case 4:t.h=null,t.i==t.g.node&&(t.g.Ha.Ec(),t.g=null),k(r,0);break;case 2:return 7001==(e=x(r)).code?t.g.Ha.lb():t.g.Ha.onError(e),t.g=null,t.h=null,n=t,S(r,t.j.handleError(t.l,e),5);case 5:n.i=r.h,T(r)}}))}(t):(t.j.nf(t.i),t.s=new pr,n=t.s),e=S(e,n,1)}return e}))}(r)})),this.J=new Lr((function(){return function(t){var e,n;return O((function(r){if(1==r.g)return t.h&&t.h.abort(),Ja(t),S(r,t.u,2);for(t.g&&t.g.Ha.lb(),e=c(t.m),n=e.next();!n.done;n=e.next())n.value.Ha.lb();t.g=null,t.m=[],t.j=null,T(r)}))}(r)}))}function Za(t,e){var n={Db:function(){},Ec:function(){},lb:function(){},onError:function(){},Gc:function(){},tg:function(){}};return t.m.push({create:e,Ha:n}),t.h&&t.h.abort(),Ja(t),n}function Ja(t){t.s&&(t.s.resolve(),t.s=null)}function Qa(t){this.g=null;for(var e=c(Array.from(t.textTracks)),n=e.next();!n.done;n=e.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.g=n);this.g||(this.g=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function ts(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,t.size&&(e.size=t.size);try{e.align=t.textAlign}catch(n){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function es(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=c(Array.from(t.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&e(i)&&t.removeCue(i);t.mode=n}function ns(){}function rs(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function is(e,n){var r=this;this.u=!1,this.j=[],this.g=e,this.m=n,this.i=document.createElement("div"),this.i.classList.add("shaka-text-container"),this.i.style.textAlign="center",this.i.style.display="flex",this.i.style.flexDirection="column",this.i.style.alignItems="center",this.i.style.justifyContent="flex-end",this.m.appendChild(this.i),this.D=new Ht((function(){os(r)})).Ba(.25),this.l=new Map,this.h=new Nr,this.h.B(document,"fullscreenchange",(function(){os(r,!0)})),this.s=null,"ResizeObserver"in t&&(this.s=new ResizeObserver((function(){os(r,!0)})),this.s.observe(this.i))}function os(t,e){function n(e){return t.j.includes(e)&&t.u&&e.startTime<=r&&e.endTime>r}e=void 0!==e&&e;for(var r=t.g.currentTime,i=c(t.l.keys()),o=i.next();!o.done;o=i.next())if(!n(o=o.value)||e){var a=t.l.get(o);t.i.removeChild(a),t.l.delete(o)}for(i=new Set(t.l.values()),a=(o=c(Array.from(t.i.childNodes))).next();!a.done;a=o.next())a=a.value,i.has(a)||t.i.removeChild(a);for(o=(i=c(i=t.j.filter((function(e){return n(e)&&!t.l.has(e)})).sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime-e.endTime})))).next();!o.done;o=i.next())o=o.value,a=as(t,t.i,o,!1),t.l.set(o,a)}function as(t,e,n,r){var i=r?"span":"div";(n.lineBreak||n.spacer)&&(n.spacer&&Et("shaka.extern.Cue","Please use lineBreak instead of spacer."),i="br");var o=document.createElement(i);for("br"!=i&&function(t,e,n,r){var i=e.style,o=0==n.nestedCues.length;i.whiteSpace="pre-wrap";var a=n.payload.replace(/\s+$/g,(function(t){return"\xa0".repeat(t.length)}));r?e.textContent=a:a.length&&((i=document.createElement("span")).textContent=a,e.appendChild(i),i=i.style),i.backgroundColor=n.backgroundColor,i.border=n.border,i.color=n.color,i.direction=n.direction,i.opacity=n.opacity,i.paddingLeft=ss(n.linePadding,n,t.m),i.paddingRight=ss(n.linePadding,n,t.m),n.backgroundImage&&(i.backgroundImage="url('"+n.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==n.backgroundColor&&(i.backgroundColor="transparent")),r?i.display="inline":(i.display="flex",i.flexDirection="column",i.alignItems="center",i.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end"),o||(i.margin="0"),i.fontFamily=n.fontFamily,i.fontWeight=n.fontWeight.toString(),i.fontStyle=n.fontStyle,i.letterSpacing=n.letterSpacing,i.fontSize=ss(n.fontSize,n,t.m),n.line?1==n.lineInterpretation&&(i.position="absolute",n.writingMode==Se?n.lineAlign==Ee?i.top=n.line+"%":"end"==n.lineAlign&&(i.bottom=n.line+"%"):"vertical-lr"==n.writingMode?n.lineAlign==Ee?i.left=n.line+"%":"end"==n.lineAlign&&(i.right=n.line+"%"):n.lineAlign==Ee?i.right=n.line+"%":"end"==n.lineAlign&&(i.left=n.line+"%")):n.region&&n.region.id&&(!r&&!o||n.backgroundImage)&&(t=n.region.widthUnits==Ce?"%":"px",e=n.region.viewportAnchorUnits==Ce?"%":"px",i.height=n.region.height+(n.region.heightUnits==Ce?"%":"px"),i.width=n.region.width+t,i.position="absolute",i.top=n.region.viewportAnchorY+e,i.left=n.region.viewportAnchorX+e),i.lineHeight=n.lineHeight,n.position&&(n.writingMode==Se?i.paddingLeft=n.position:i.paddingTop=n.position),"line-left"==n.positionAlign?i.cssFloat="left":"line-right"==n.positionAlign&&(i.cssFloat="right"),i.textAlign=n.textAlign,i.textDecoration=n.textDecoration.join(" "),i.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&i.writingMode==n.writingMode||(i.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==Se?i.width=n.size+"%":i.height=n.size+"%")}(t,o,n,r),i=o,!r&&n.nestedCues.length&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),o.appendChild(i)),r=(n=c(n.nestedCues)).next();!r.done;r=n.next())as(t,i,r.value,!0);return e.appendChild(o),o}function ss(t,e,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(t))?{value:Number(r[1]),Kf:r[2]}:null;if(!r)return t;var i=r.value;switch(r.Kf){case"%":return i/100*n.clientHeight/e.cellResolution.rows+"px";case"c":return n.clientHeight*i/e.cellResolution.rows+"px";default:return t}}function us(){}function ls(t,e,n,r,i){var o,a=i in r,s=!0;for(o in e){var u=i+"."+o,l=a?r[i]:n[o];a||o in n?void 0===e[o]?void 0===l||a?delete t[o]:t[o]=no(l):l.constructor==Object&&e[o]&&e[o].constructor==Object?(t[o]||(t[o]=no(l)),u=ls(t[o],e[o],l,r,u),s=s&&u):typeof e[o]!=typeof l||null==e[o]||"function"!=typeof e[o]&&e[o].constructor!=l.constructor?(W("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[o]&&n[o].length!=e[o].length&&Y("Unexpected number of arguments for "+u),t[o]=e[o]):(W("Invalid config, unrecognized key "+u),s=!1)}return s}function cs(t,e){for(var n={},r=n,i=0,o=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[o=t.substring(o,i).replace(/\\\./g,".")]={},r=r[o],o=i+1),i+=1;return r[t.substring(o).replace(/\\\./g,".")]=e,n}function fs(){}function hs(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var e={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Oo,logLicenseExchange:!1,updateExpirationTime:1},n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"}},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(t){return[t]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1};(navigator.userAgent.match(/Edge\//)||Vt()||zt())&&(r.gapDetectionThreshold=.5),(Xt("Web0S")||Vt()||zt())&&(r.stallSkip=0);var i={trackSelectionCallback:function(t){return O((function(e){return e.return(t)}))},downloadSizeCallback:function(t){var e;return O((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?S(n,navigator.storage.estimate(),3):n.return(!0):(e=n.h,n.return(e.usage+t<.95*e.quota))}))},progressCallback:function(t,e){return[t,e]},usePersistentLicense:!0},o={drm:e,manifest:n,streaming:r,offline:i,abrFactory:function(){return new Di},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferForcedSubs:!1,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,useMediaCapabilities:!1,textDisplayFactory:function(){return null}};return i.trackSelectionCallback=function(t){return O((function(e){return e.return(function(t,e){var n=t.filter((function(t){return"variant"==t.type})),r=[],i=si(e,n.map((function(t){return t.language})));i&&(r=n.filter((function(t){return ii(t.language)==i}))),0==r.length&&(r=n.filter((function(t){return t.primary}))),0==r.length&&(n.map((function(t){return t.language})),r=n);var o=r.filter((function(t){return t.height&&480>=t.height}));if(o.length&&(o.sort((function(t,e){return e.height-t.height})),r=o.filter((function(t){return t.height==o[0].height}))),n=[],r.length){var a=Math.floor(r.length/2);r.sort((function(t,e){return t.bandwidth-e.bandwidth})),n.push(r[a])}for(r=c(t),a=r.next();!a.done;a=r.next())(a=a.value).type!=fr&&"image"!=a.type||n.push(a);return n}(t,o.preferredAudioLanguage))}))},o}function ds(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return ls(t,e,n||hs(),r,"")}function ps(){this.g=null,this.h=[]}function gs(t,e){if(null==t.g)t.g={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.g.duration=n-t.g.timestamp,t.g.state!=e&&(t.h.push(t.g),t.g={timestamp:n,state:e,duration:0})}}function vs(t,e){var n=0;t.g&&t.g.state==e&&(n+=t.g.duration);for(var r=c(t.h),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function ms(){this.i=this.h=null,this.g=[]}function ys(t,e,n){t.h!=e&&(t.h=e,t.g.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:n,bandwidth:e.bandwidth}))}function bs(t,e,n){t.i!=e&&(t.i=e,t.g.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null}))}function ws(){this.s=this.u=this.I=this.F=this.m=this.j=this.H=this.l=this.i=this.L=this.N=this.S=this.D=this.X=NaN,this.h=new ps,this.g=new ms}function Ss(e,n){eo.call(this);var r=this;this.l=Cu,this.mc=this.g=null,this.X=!1,this.h=new Nr,this.bd=this.u=this.Wa=this.A=this.qc=this.s=this.i=this.dc=this.H=this.nc=this.F=this.Fa=this.D=this.I=this.m=this.O=null,this.jd=1e9,this.o=Is(this),this.hd={width:1/0,height:1/0},this.j=null,this.oa=new Hi(this.o.preferredAudioLanguage,this.o.preferredVariantRole,this.o.preferredAudioChannelCount),this.pa=this.o.preferredTextLanguage,this.Lb=this.o.preferredTextRole,this.Xa=this.o.preferForcedSubs,this.cd=[],n&&n(this),this.O=function(t){return new ao((function(e,n){t.u&&t.u.segmentDownloaded(e,n)}))}(this),this.O.Kd(this.o.streaming.forceHTTPS),this.L=null,ju&&(this.L=It(ju)),this.h.B(t,"online",(function(){r.Ed()})),this.ra={name:"detach"},this.Oa={name:"attach"},this.S={name:"unload"},this.ld={name:"manifest-parser"},this.gd={name:"manifest"},this.Ea={name:"media-source"},this.ed={name:"drm-engine"},this.N={name:"load"},this.md={name:"src-equals-drm-engine"},this.Ma={name:"src-equals"};var i=new Map;i.set(this.Oa,(function(t,e){return Ji(function(t,e,n){return null==e.G&&(e.G=n.G,t.h.B(e.G,"error",(function(){var e=Ws(t);e&&Vs(t,e)}))),t.g=e.G,Promise.resolve()}(r,t,e))})),i.set(this.ra,(function(t){return t.G&&(r.h.Ca(t.G,"error"),t.G=null),r.g=null,Ji(t=Promise.resolve())})),i.set(this.S,(function(t){return Ji(Es(r,t))})),i.set(this.Ea,(function(t){return Ji(t=function(t,e){var n,r,i,o;return O((function(a){if(1==a.g)return n=new Hn,r=t.o.textDisplayFactory,i=It(r),t.fd=r,S(a,(o=function(t,e,n,r){return new Fr(t,e,n,r)}(e.G,n,i,(function(e,n,r){for(var i=(e=c(e)).next();!i.done;i=e.next())if((i=i.value).data&&i.cueTime&&i.frames){for(var o=i.cueTime+n,a=r,s=c(i.frames),u=s.next();!u.done;u=s.next())_s(t,o,a,"ID3",u.value);t.L&&t.L.onHlsTimedMetadata(i,o)}}))).F,2);t.I=o,T(a)}))}(r,t))})),i.set(this.ld,(function(t,e){return Ji(function(t,e,n){var r,i,o,a;return O((function(s){if(1==s.g)return e.mimeType=n.mimeType,e.uri=n.uri,r=e.uri,i=t.O,t.Wa=r,o=t,S(s,Yo(r,i,t.o.manifest.retryParameters,e.mimeType),2);o.qc=s.h,t.s=It(t.qc),a=no(t.o.manifest),n.G&&"AUDIO"===n.G.nodeName&&(a.disableVideo=!0),t.s.configure(a),T(s)}))}(r,t,e))})),i.set(this.gd,(function(t){return function(t,e){var n=e.uri,r=t.O;t.dc=new Ra((function(){return t.Gd()})),function(t,e){t.h=e}(t.dc,(function(e){zs(t,Eu,e),t.L&&t.L.onDashTimedMetadata(e)}));var i={networkingEngine:r,filter:function(e){return O((function(n){return n.return(t.vc(e))}))},makeTextStreamsForClosedCaptions:function(e){return function(t,e){for(var n=new Set,r=c(e.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=c(e.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var o=c(i.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var s=a.startsWith("CC")?"application/cea-608":"application/cea-708",u=new _a;s={id:t.jd++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:i.closedCaptions.get(a),label:null,type:fr,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},e.textStreams.push(s),n.add(a)}}(t,e)},onTimelineRegionAdded:function(e){var n=t.dc;t:{for(var r=c(n.g),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.g.add(e),n.h(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return Vs(t,e)},isLowLatencyMode:function(){return t.o.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return t.o.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){t.configure("streaming.lowLatencyMode",!0)}},o=Date.now()/1e3;return new Yi(function(){var e,r,a,s;return O((function(u){if(1==u.g)return e=t,S(u,t.s.start(n,i),2);if(e.A=u.h,r=Ts(gu),t.dispatchEvent(r),0==t.A.variants.length)throw new ct(2,4,4036);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.variants.some(e)&&(t.variants=t.variants.filter(e))}(t.A),a=Date.now()/1e3,s=a-o,t.j.H=s,T(u)}))}(),(function(){return t.s.stop()}))}(r,t)})),i.set(this.ed,(function(t){return Ji(t=function(t,e){var n,r;return O((function(i){return 1==i.g?(n=Date.now()/1e3,r=!0,t.m=ks(t,{Bb:t.O,onError:function(e){Vs(t,e)},Fc:function(e){Ys(t,e)},onExpirationUpdated:function(e,n){Xs(t,e,n)},onEvent:function(e){t.dispatchEvent(e),e.type==lu&&r&&(r=!1,t.j.j=Date.now()/1e3-n)}}),t.o.useMediaCapabilities||gi(t.A),t.m.configure(t.o.drm),S(i,To(t.m,t.A.variants,t.A.offlineSessionIds,t.o.useMediaCapabilities),2)):3!=i.g?S(i,t.m.Nb(e.G),3):S(i,t.vc(t.A),0)}))}(r,t))})),i.set(this.N,(function(t,e){return Ji(function(t,e,n){var r,i,o,a,s,u,l,f,h,d;return O((function(p){switch(p.g){case 1:if(e.startTime=n.startTime,r=e.G,i=e.uri,t.Wa=i,t.F=new ka({Ac:function(){return e.G.playbackRate},xc:function(){return e.G.defaultPlaybackRate},Md:function(t){e.G.playbackRate=t},ge:function(t){e.G.currentTime+=t}}),o=function(){return Os(t)},a=function(){return Ds(t)},t.h.B(r,"playing",o),t.h.B(r,"pause",o),t.h.B(r,"ended",o),t.h.B(r,"ratechange",a),s=t.o.abrFactory,t.u&&t.bd==s||(t.bd=s,t.u=It(s),"function"!=typeof t.u.playbackRateChanged&&(Et("AbrManager","Please use an AbrManager with playbackRateChanged function."),t.u.playbackRateChanged=function(){}),t.u.configure(t.o.abr)),t.oa=new Hi(t.o.preferredAudioLanguage,t.o.preferredVariantRole,t.o.preferredAudioChannelCount),t.pa=t.o.preferredTextLanguage,t.Lb=t.o.preferredTextRole,t.Xa=t.o.preferForcedSubs,$s(t.A.presentationTimeline,t.o.playRangeStart,t.o.playRangeEnd),t.u.init((function(e,n,r){n=void 0!==n&&n,r=void 0===r?0:r,t.i&&e!=t.i.h&&(ys(t.j.g,e,!0),ja(t.i,e,n,r),Fs(t))})),t.D=function(t,e){return new ma(t.g,t.A,t.o.streaming,e,(function(){if(t.Fa&&Aa(t.Fa,!0),t.i)for(var e=t.i,n=e.C.zc(),r=e.o.smallGapLimit,i=c(e.g.keys()),o=i.next();!o.done;o=i.next()){o=o.value;var a=e.g.get(o);a.ca=null;var s=e.C.P;if(o==fr?s=null!=(s=s.i).g&&null!=s.h&&(n>=s.g&&n<s.h):s=qn(s=Vr(s,o),n,r),!s&&(null!=qr(e.C.P,o)&&Ua(e,a),a.va&&(a.va.abort(),a.va=null),o===fr))for((o=e.C.P.D.g).l=0,o.h=[],o.g=[],(a=o.i).i=[],a.h=[],a.g=0,In(o),a=(o=c(o.j.values())).next();!a.done;a=o.next())tn(a.value)}t.H&&Ms(t)}),(function(e){return t.dispatchEvent(e)}))}(t,e.startTime),t.Fa=function(t){var e=new Ia(t.dc);!function(t,e,n,r){t.g=e,t.h=n,t.i=r}(e,(function(e){zs(t,_u,e)}),(function(e){zs(t,ku,e)}),(function(e,n){n||(zs(t,_u,e),zs(t,ku,e))}));var n=new Ma(t.g);return n.g.add(e),n}(t),u=Math.max(t.A.minBufferTime,t.o.streaming.rebufferingGoal),xs(t,u),li(t.A,t.o.preferredAudioChannelCount),t.i=function(t){return new Pa(t.A,{zc:function(){return t.D.l()},getBandwidthEstimate:function(){return t.u.getBandwidthEstimate()},P:t.I,Bb:t.O,onError:function(e){return Vs(t,e)},onEvent:function(e){return t.dispatchEvent(e)},pf:function(){t.s&&t.s.update&&t.s.update()},zd:function(){t.D&&t.D.F(),Ms(t)}})}(t),t.i.configure(t.o.streaming),t.l=Lu,t.dispatchEvent(Ts(wu)),l=null,t.Bc().find((function(t){return t.active}))){p.v(2);break}if(l=Ps(t)?t.u.chooseVariant():null,js(t,l,!0,!1,0),!t.o.streaming.startAtSegmentBoundary){p.v(3);break}return f=t.D.l(),S(p,function(t,e){var n,r,i,o,a;return O((function(s){return 1==s.g?(n=t.audio,r=t.video,i=function(t,e){var n,r;return O((function(i){return 1==i.g?t?S(i,t.createSegmentIndex(),2):i.return(null):(n=t.segmentIndex[Symbol.iterator]().seek(e))?(r=n.startTime,i.return(r)):i.return(null)}))},S(s,i(n,e),2)):3!=s.g?(o=s.h,S(s,i(r,e),3)):null!=(a=s.h)&&null!=o?s.return(Math.max(a,o)):null!=a?s.return(a):null!=o?s.return(o):s.return(e)}))}(l,f),4);case 4:h=p.h,t.D.m(h);case 3:Fs(t);case 2:return t.hb().find((function(t){return t.active}))||((d=Ai(t.A.textStreams,t.pa,t.Lb,t.Xa)[0]||null)&&bs(t.j.g,d,!0),l&&(d?(l.audio&&function(t,e,n){return t=ii(t.o.preferredTextLanguage),e=ii(e.language),ei(n=ii(n.language),t)&&!ei(e,n)}(t,l.audio,d)&&(t.X=!0),t.X&&t.I.m.setTextVisibility(!0),Gs(t)):t.X=!1),d&&(t.o.streaming.alwaysStreamText||t.od())&&Ba(t.i,d)),S(p,t.i.start(),5);case 5:t.o.abr.enabled&&(t.u.enable(),qs(t)),yi(t.i?t.i.h:null,t.A),Js(t.A),Us(t),Ps(t),t.A.variants.some((function(t){return t.primary})),t.h.ua(r,"loadedmetadata",(function(){t.j.l=Date.now()/1e3-n.Od})),T(p)}}))}(r,t,e))})),i.set(this.md,(function(t,e){return Ji(function(t,e,n){var r,i,o,a;return O((function(s){return 1==s.g?(r=hr,i=Date.now()/1e3,o=!0,t.m=ks(t,{Bb:t.O,onError:function(e){Vs(t,e)},Fc:function(e){Ys(t,e)},onExpirationUpdated:function(e,n){Xs(t,e,n)},onEvent:function(e){t.dispatchEvent(e),e.type==lu&&o&&(o=!1,t.j.j=Date.now()/1e3-i)}}),t.m.configure(t.o.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:"video/mp4",codecs:n.mimeType?kr(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:r.Na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},S(s,To(t.m,[a],[]),2)):S(s,t.m.Nb(e.G),0)}))}(r,t,e))})),i.set(this.Ma,(function(t,e){return function(t,e,n){function r(){return Os(t)}e.uri=n.uri,e.startTime=n.startTime,t.Wa=e.uri,t.D=new va(e.G),null!=e.startTime&&t.D.m(e.startTime),t.F=new ka({Ac:function(){return e.G.playbackRate},xc:function(){return e.G.defaultPlaybackRate},Md:function(t){e.G.playbackRate=t},ge:function(t){e.G.currentTime+=t}}),xs(t,t.o.streaming.rebufferingGoal),t.h.B(e.G,"playing",r),t.h.B(e.G,"pause",r),t.h.B(e.G,"ended",r),t.h.B(e.G,"ratechange",(function(){return Ds(t)})),"none"!=t.g.preload&&t.h.ua(t.g,"loadedmetadata",(function(){t.j.l=Date.now()/1e3-n.Od})),t.g.audioTracks&&(t.h.B(t.g.audioTracks,"addtrack",(function(){return Us(t)})),t.h.B(t.g.audioTracks,"removetrack",(function(){return Us(t)})),t.h.B(t.g.audioTracks,"change",(function(){return Us(t)}))),t.g.textTracks&&(t.h.B(t.g.textTracks,"addtrack",(function(e){Us(t),function(t,e){var n=e.track;"metadata"==n.kind&&(n.mode="hidden",t.h.B(n,"cuechange",(function(){if(n.activeCues)for(var e=c(n.activeCues),r=e.next();!r.done;r=e.next())r=r.value,_s(t,r.startTime,r.endTime,r.type,r.value),t.L&&t.L.onCueMetadataChange(r.value)})),new Ht((function(){for(var e=function(t){return Array.from(t.g.textTracks).filter((function(t){return"metadata"==t.kind}))}(t),n=(e=c(e)).next();!n.done;n=e.next())n.value.mode="hidden"})).cc().T(.5))}(t,e)})),t.h.B(t.g.textTracks,"removetrack",(function(){return Us(t)})),t.h.B(t.g.textTracks,"change",(function(){return Us(t)}))),e.G.src=e.uri,(Vt()||Xt("Web0S"))&&e.G.load(),t.l=Du,t.dispatchEvent(Ts(wu));var i=new pr;sa(t.g,HTMLMediaElement.HAVE_METADATA,t.h,(function(){i.resolve()}));var o=!1;return t.cd.push((function(){o=!0})),sa(t.g,HTMLMediaElement.HAVE_CURRENT_DATA,t.h,(function(){return O((function(e){return 1==e.g?o?e.return():(function(t){var e=t.o.preferredAudioLanguage;if(""!=e){t.Hd(e);var n=t.o.preferredVariantRole;""!=n&&t.Hd(e,n)}}(t),Rs(t).find((function(t){return"disabled"!=t.mode}))?e.v(2):S(e,new Promise((function(e){t.h.ua(t.g.textTracks,"change",e),new Ht(e).T(1)})),2)):o?e.return():(function(t){var e=t.o.preferredTextLanguage,n=t.o.preferForcedSubs;if(""!=e){t.Id(e,"",n);var r=t.o.preferredTextRole;""!=r&&t.Id(e,r,n)}}(t),void T(e))}))})),t.g.error?i.reject(Ws(t)):"none"==t.g.preload&&(Y('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),i.resolve()),t.h.ua(t.g,"error",(function(){i.reject(Ws(t))})),new Yi(i,(function(){return i.reject(new ct(2,7,7001)),Promise.resolve()}))}(r,t,e)})),this.da=new $a(this.ra,{We:function(t,e,n,i){var o=null;return t==r.ra&&(o=n==r.ra?r.ra:r.Oa),t==r.Oa&&(o=n==r.ra||e.G!=i.G?r.ra:n==r.Oa?r.Oa:n==r.Ea||n==r.N?r.Ea:n==r.Ma?r.md:null),t==r.Ea&&(o=n==r.N&&e.G==i.G?r.ld:r.S),t==r.ld&&(o=ru(r.N,r.gd,r.S,n,e,i)),t==r.gd&&(o=ru(r.N,r.ed,r.S,n,e,i)),t==r.ed&&(o=ru(r.N,r.N,r.S,n,e,i)),t==r.md&&(o=n==r.Ma&&e.G==i.G?r.Ma:r.S),t!=r.N&&t!=r.Ma||(o=r.S),t==r.S&&(o=i.G&&e.G==i.G?r.Oa:r.ra),o},Ke:function(t,e,n){return r.dispatchEvent(Ts(mu,{state:t.name})),i.get(t)(e,n)},handleError:function(t){return O((function(e){return 1==e.g?S(e,Es(r,t),2):e.return(t.G?r.Oa:r.ra)}))},nf:function(t){r.dispatchEvent(Ts(yu,{state:t.name}))}}),e&&this.Nb(e,!0)}function Ts(t,e){return new to(t,e)}function Es(t,e){var n,r,i,o,a,s,u,l,f;return O((function(h){switch(h.g){case 1:return t.l!=Iu&&(t.l=Cu),n=t.cd.map((function(t){return t()})),t.cd=[],S(h,Promise.all(n),2);case 2:if(t.dispatchEvent(Ts(Mu)),e.mimeType=null,e.startTime=null,e.uri=null,e.G&&(t.h.Ca(e.G,"loadedmetadata"),t.h.Ca(e.G,"playing"),t.h.Ca(e.G,"pause"),t.h.Ca(e.G,"ended"),t.h.Ca(e.G,"ratechange")),t.Fa&&(t.Fa.release(),t.Fa=null),t.nc&&(t.nc.stop(),t.nc=null),!t.s){h.v(3);break}return S(h,t.s.stop(),4);case 4:t.s=null,t.qc=null;case 3:if(!t.u){h.v(5);break}return S(h,t.u.stop(),5);case 5:if(!t.i){h.v(7);break}return S(h,t.i.destroy(),8);case 8:t.i=null;case 7:if(t.F&&(t.F.release(),t.F=null),t.D&&(t.D.release(),t.D=null),!t.I){h.v(9);break}return S(h,t.I.destroy(),10);case 10:t.I=null;case 9:if(t.L&&t.L.onAssetUnload(),!e.G||!e.G.src){h.v(11);break}return S(h,new Promise((function(t){return new Ht(t).T(.1)})),12);case 12:for(e.G.removeAttribute("src"),e.G.load();e.G.lastChild;)e.G.removeChild(e.G.firstChild);case 11:if(!t.m){h.v(13);break}return S(h,t.m.destroy(),14);case 14:t.m=null;case 13:if(t.Wa=null,t.H=null,t.A){for(r=c(t.A.variants),i=r.next();!i.done;i=r.next())for(o=i.value,a=c([o.audio,o.video]),s=a.next();!s.done;s=a.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(l=c(t.A.textStreams),s=l.next();!s.done;s=l.next())(f=s.value).segmentIndex&&f.segmentIndex.release()}t.A=null,t.j=new ws,t.fd=null,Ls(t),T(h)}}))}function _s(t,e,n,r,i){t.dispatchEvent(Ts(vu,{startTime:e,endTime:n,pg:r,payload:i}))}function ks(t,e){return new So(e,t.o.drm.updateExpirationTime)}function xs(t,e){t.H=new Ki,t.H.g=qi,Gi(t.H,e,Math.min(.5,e/2)),Ls(t),t.nc=new Ht((function(){Ms(t)})).Ba(.25)}function Ms(t){switch(t.l){case Du:if(t.g.ended)var e=!0;else{var n=Gn(t.g.buffered);e=null!=n&&n>=t.g.duration-1}break;case Lu:t:if(t.g.ended||Kr(t.I))e=!0;else{if(t.A.presentationTimeline.Y()){n=t.A.presentationTimeline.gb();var r=Gn(t.g.buffered);if(null!=r&&r>=n){e=!0;break t}}e=!1}break;default:e=!1}r=Vn(t.g.buffered,t.g.currentTime);var i=e,o=(n=t.H).h.get(n.g);e=n.g,r=i||r>=o?Vi:qi,n.g=r,e!=r&&Ls(t)}function As(t){if(t.s){var e=no(t.o.manifest);t.g&&"AUDIO"===t.g.nodeName&&(e.disableVideo=!0),t.s.configure(e)}if(t.m&&t.m.configure(t.o.drm),t.i){t.i.configure(t.o.streaming);try{Cs(t,t.A)}catch(o){Vs(t,o)}t.u&&Ps(t),!(e=t.i.h)||e.allowedByApplication&&e.allowedByKeySystem||Ns(t)}if(t.O&&t.O.Kd(t.o.streaming.forceHTTPS),t.I&&(e=t.o.textDisplayFactory,t.fd!=e)){var n=It(e),r=t.I,i=r.m;r.m=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.i&&(r.i.i=n),t.fd=e,t.i&&((n=(e=t.i).g.get(fr))&&Fa(e,n.stream,!0,0,!0))}t.u&&(t.u.configure(t.o.abr),t.o.abr.enabled?t.u.enable():t.u.disable(),qs(t)),t.H&&(e=t.o.streaming.rebufferingGoal,t.A&&(e=Math.max(e,t.A.minBufferTime)),Gi(t.H,e,Math.min(.5,e/2))),t.A&&$s(t.A.presentationTimeline,t.o.playRangeStart,t.o.playRangeEnd)}function Rs(t){return Array.from(t.g.textTracks).filter((function(t){return"metadata"!=t.kind&&"chapters"!=t.kind&&"Shaka Player TextTrack"!=t.label}))}function Is(t){var e=hs();return e.streaming.failureCallback=function(e){t.Y()&&[1001,1002,1003].includes(e.code)&&(e.severity=1,t.Ed())},e.textDisplayFactory=function(){return t.mc?new is(t.g,t.mc):new Qa(t.g)},e}function Cs(t,e){if(t.l!=Iu){for(var n=t.o.restrictions,r=t.hd,i=!1,o=c(e.variants),a=o.next();!a.done;a=o.next()){var s=(a=a.value).allowedByApplication;a.allowedByApplication=fi(a,n,r),s!=a.allowedByApplication&&(i=!0)}if(i&&t.i&&Us(t),(n=t.m?t.m.i:null)&&t.m.m)for(i=(r=c(e.variants)).next();!i.done;i=r.next())for(o=(i=c(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]))).next();!o.done;o=i.next())if((o=o.value).keySystem==n.keySystem)for(a=(o=c(o.initData||[])).next();!a.done;a=o.next())a=a.value,xo(t.m,a.initDataType,a.initData);Zs(t,e)}}function Ls(t){var e=t.nd();if(t.j&&t.H&&t.D){var n=t.F;n.j=e,xa(n),Os(t)}t.dispatchEvent(Ts(uu,{buffering:e}))}function Ds(t){var e=t.g.playbackRate;0!=e&&(t.F&&t.F.set(e),e=Ts(bu),t.dispatchEvent(e))}function Os(t){if(t.j&&t.H){var e=t.j.h;t.H.g==qi?gs(e,"buffering"):t.g.paused?gs(e,"paused"):t.g.ended?gs(e,"ended"):gs(e,"playing")}}function Ps(t){try{Zs(t,t.A)}catch(n){return Vs(t,n),!1}var e=t.A.variants.filter((function(t){return xi(t)}));return e=t.oa.create(e),t.u.setVariants(Array.from(e.values())),!0}function Ns(t){var e;(e=Ps(t)?t.u.chooseVariant():null)&&(js(t,e,!0,!0,0),Fs(t))}function js(t,e,n,r,i){var o=t.i.h;e==o?r&&ja(t.i,e,r,i,!0):(ys(t.j.g,e,n),ja(t.i,e,r,i),n=null,o&&(n=wi(o)),Hs(t,n,e=wi(e)))}function Bs(t,e){var n=Array.from(t.g.audioTracks).find((function(t){return t.enabled}));e.enabled=!0,e.id!==n.id&&(n.enabled=!1),Hs(t,n=_i(n),_i(e))}function Fs(t){Qs(t,Ts(su))}function Us(t){Qs(t,Ts(xu))}function Hs(t,e,n){Qs(t,e=Ts(Au,{sg:e,rg:n}))}function Ks(t){Qs(t,Ts(Su))}function Gs(t){Qs(t,Ts(Tu))}function qs(t){Qs(t,Ts(au,{qg:t.o.abr.enabled}))}function Vs(t,e){if(t.l!=Iu){var n=Ts(fu,{detail:e});t.dispatchEvent(n),n.defaultPrevented&&(e.handled=!0)}}function zs(t,e,n){t.dispatchEvent(Ts(e,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function Ws(t){if(!t.g.error)return null;var e=t.g.error.code;if(1==e)return null;var n=t.g.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new ct(2,3,3016,e,n,t.g.error.message)}function Ys(t,e){if(t.i){var n=Object.keys(e),r=1==n.length&&"00"==n[0],i=!1;if(n.length)for(var o=(n=c(t.A.variants)).next();!o.done;o=n.next()){var a=[];(o=o.value).audio&&a.push(o.audio),o.video&&a.push(o.video);for(var s=(a=c(a)).next();!s.done;s=a.next()){var u=s.value;if(s=o.allowedByKeySystem,u.keyIds.size){o.allowedByKeySystem=!0;for(var l=(u=c(u.keyIds)).next();!l.done;l=u.next())l=l.value,l=e[r?"00":l],o.allowedByKeySystem=o.allowedByKeySystem&&!!l&&!Pu.includes(l)}s!=o.allowedByKeySystem&&(i=!0)}}i&&Ps(t),(r=t.i.h)&&!r.allowedByKeySystem&&Ns(t),i&&Us(t)}}function Xs(t,e,n){t.s&&t.s.onExpirationUpdated&&t.s.onExpirationUpdated(e,n),e=Ts(hu),t.dispatchEvent(e)}function $s(t,e,n){0<e&&(t.Y()||t.re(e)),n<(e=t.getDuration())&&(t.Y()||t.Ja(n))}function Zs(t,e){var n=t.m?t.m.yc():{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,o=!1,a=new Set,s=new Set,u=c(e.variants),l=u.next();!l.done;l=u.next()){var f=[];(l=l.value).audio&&f.push(l.audio),l.video&&f.push(l.video);for(var h=(f=c(f)).next();!h.done;h=f.next())if((h=h.value).keyIds.size)for(var d=(h=c(h.keyIds)).next();!d.done;d=h.next()){d=d.value;var p=n[r?"00":d];p?Pu.includes(p)&&s.add(p):a.add(d)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):o=!0}if(!i)throw new ct(2,4,4012,n={hasAppRestrictions:o,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(s)})}function Js(t){if(!t.variants.some(xi))throw new ct(2,4,4032)}function Qs(t,e){O((function(n){if(1==n.g)return S(n,Promise.resolve(),2);t.l!=Iu&&t.dispatchEvent(e),T(n)}))}function tu(t){for(var e=new Set,n=(t=c(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(ii(n.language)):e.add("und");return e}function eu(t){for(var e=new Map,n=new Map,r=(t=c(t)).next();!r.done;r=t.next()){var i="und",o=[];(r=r.value).language&&(i=ii(r.language)),(o="variant"==r.type?r.audioRoles:r.roles)&&o.length||(o=[""]),e.has(i)||e.set(i,new Set);for(var a=(o=c(o)).next();!a.done;a=o.next())a=a.value,e.get(i).add(a),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(a,r.label))}var s=[];return e.forEach((function(t,e){for(var r=c(t),i=r.next();!i.done;i=r.next()){i=i.value;var o=null;n.has(e)&&n.get(e).has(i)&&(o=n.get(e).get(i)),s.push({language:e,role:i,label:o})}})),s}function nu(){return new ct(2,7,7e3)}function ru(t,e,n,r,i,o){return r==t&&i.G==o.G&&i.uri==o.uri&&i.mimeType==o.mimeType?e:n}function iu(){return{G:null,mimeType:null,startTime:null,Od:NaN,uri:null}}function ou(t){return new Promise((function(e,n){t.lb=function(){return n(nu())},t.Ec=function(){return e()},t.onError=function(t){return n(t)},t.Gc=function(){return n(nu())}}))}Pa.prototype.destroy=function(){return this.J.destroy()},Pa.prototype.configure=function(t){this.o=t,this.s=new zi({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},Pa.prototype.start=function(){var t=this;return O((function(e){if(1==e.g)return S(e,function(t){var e,n,r,i,o,a,s,u,l,f;return O((function(h){if(1==h.g){if(e=hr,!t.h)throw new ct(2,5,5006);return n=new Map,r=new Set,t.h.audio&&(n.set(e.bb,t.h.audio),r.add(t.h.audio)),t.h.video&&(n.set(e.Na,t.h.video),r.add(t.h.video)),t.i&&(n.set(e.aa,t.i),r.add(t.i)),i=t.C.P,o=t.o.forceTransmuxTS,S(h,i.init(n,o),2)}Dr(t.J);var d=t.A.presentationTimeline.getDuration();for(1/0>d?t.C.P.Ja(d):t.C.P.Ja(Math.pow(2,32)),a=c(n.keys()),s=a.next();!s.done;s=a.next())u=s.value,l=n.get(u),t.g.has(u)||(f=Ha(l),t.g.set(u,f),za(t,f,0));T(h)}))}(t),2);Dr(t.J),t.m=!0,T(e)}))},Pa.prototype.Xb=function(e){var n,r,i,o,a,s=this;return O((function(u){switch(u.g){case 1:if(Dr(s.J),e.Ra||null==e.La||e.Ob)return u.return();if(e.La=null,!e.qb){u.v(2);break}return S(u,Va(s,e,e.Oc,e.tc),3);case 3:return u.return();case 2:if(e.stream.segmentIndex){u.v(4);break}return n=e.stream,S(u,e.stream.createSegmentIndex(),5);case 5:if(n!=e.stream)return null==e.La&&za(s,e,0),u.return();case 4:E(u,6),null!=(r=function(e,n){if(Ga(n))return function(t,e){var n=qr(t,"video")||0;Rr(t.i,e,n)}(e.C.P,n.stream.originalId||""),null;n.type==fr&&function(t){t.i&&Rr(t.i,"",0)}(e.C.P);var r=e.C.zc(),i=n.Aa?n.Aa.endTime:r,o=function(t,e,n){return e==fr?null==(t=t.i).h||t.h<n?0:t.h-Math.max(n,t.g):Vn(t=Vr(t,e),n)}(e.C.P,n.type,r),a=Math.max(e.A.minBufferTime||0,e.o.rebufferingGoal,e.o.bufferingGoal)*e.l;if(i>=e.A.presentationTimeline.getDuration())return n.endOfStream=!0,"video"==n.type&&(r=e.g.get(fr))&&Ga(r)&&(r.endOfStream=!0),null;if(n.endOfStream=!1,o>=a)return.5;if(o=qr(e.C.P,n.type),!(o=function(t,e,n,r){if(e.ca)return e.ca.current();if(e.Aa||r)return e.ca=e.stream.segmentIndex.xb(e.Aa?e.Aa.endTime:r),e.ca&&e.ca.next().value;t=t.o.inaccurateManifestTolerance,r=Math.max(n-t,0);var i=null;return t&&(e.ca=e.stream.segmentIndex.xb(r),i=e.ca&&e.ca.next().value),i||(e.ca=e.stream.segmentIndex.xb(n),i=e.ca&&e.ca.next().value),i}(e,n,r,o)))return 1;a=1/0;for(var s=Array.from(e.g.values()),u=(s=c(s)).next();!u.done;u=s.next())Ga(u=u.value)||u.ca&&!u.ca.current()||(a=Math.min(a,u.Aa?u.Aa.endTime:r));return i>=a+e.A.presentationTimeline.g?1:(function(e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g;return O((function(v){switch(v.g){case 1:return o=hr,a=n.stream,s=n.ca,n.Ra=!0,E(v,2),S(v,function(t,e,n){var r,i,o,a,s,u,l;return O((function(c){return r=[],i=Math.max(0,n.appendWindowStart-.1),o=n.appendWindowEnd+.01,(a=n.timestampOffset)==e.rd&&i==e.qd&&o==e.pd||(s=function(){var n;return O((function(r){if(1==r.g)return E(r,2),e.qd=i,e.pd=o,e.rd=a,S(r,function(t,e,n,r,i){return O((function(o){return e==hr.aa?(t.i.D=n,function(t,e,n){t.j=e,t.l=n}(t.i,r,i),o.return()):S(o,Promise.all([Xr(t,e,(function(){var n=t.j[e].appendWindowStart,r=t.j[e].appendWindowEnd;t.j[e].abort(),t.j[e].appendWindowStart=n,t.j[e].appendWindowEnd=r,Yr(t,e)})),Xr(t,e,(function(){var r=n;0>r&&(r+=.001),t.j[e].timestampOffset=r,Yr(t,e)})),Xr(t,e,(function(){t.j[e].appendWindowStart=0,t.j[e].appendWindowEnd=i,t.j[e].appendWindowStart=r,Yr(t,e)}))]),0)}))}(t.C.P,e.type,a,i,o),4);if(2!=r.g)return k(r,0);throw n=x(r),e.qd=null,e.pd=null,e.rd=null,n}))},r.push(s())),!function(t,e){return t&&e?t.Ub()==e.Ub()&&t.Qb()==e.Qb()&&he(t.ma(),e.ma()):t==e}(n.h,e.Cc)&&(e.Cc=n.h)&&(u=qa(t,e,n.h),l=function(){var n,r,i;return O((function(o){switch(o.g){case 1:return E(o,2),S(o,u,4);case 4:return n=o.h,Dr(t.J),r=e.stream.closedCaptions&&0<e.stream.closedCaptions.size,S(o,zr(t.C.P,e.type,n,null,null,r),5);case 5:k(o,0);break;case 2:throw i=x(o),e.Cc=null,i}}))},r.push(l())),S(c,Promise.all(r),0)}))}(e,n,i),4);case 4:return Dr(e.J),e.j?v.return():(u="video/mp4"==a.mimeType||"audio/mp4"==a.mimeType,l=t.ReadableStream,e.o.lowLatencyMode&&l&&u?(f=new Uint8Array(0),h=function(t){var o,s,u;return O((function(l){return Dr(e.J),e.j?l.return():(f=function(t,e){var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(f,t),o=!1,s=0,(new Ct).box("mdat",(function(t){s=t.size+t.start,o=!0})).parse(f,!1,!0),o?(u=f.subarray(0,s),f=f.subarray(s),S(l,Ka(e,n,r,a,i,u),0)):l.v(0))}))},S(v,qa(e,n,i,h),6)):S(v,qa(e,n,i),7));case 7:return c=v.h,Dr(e.J),e.j?v.return():n.qb?(n.Ra=!1,za(e,n,0),v.return()):S(v,Ka(e,n,r,a,i,c),6);case 6:if(Dr(e.J),e.j)return v.return();n.Aa=i,s.next(),n.Ra=!1,n.Dd=!1,d=e.C.P.wc(),p=d[n.type],JSON.stringify(p),n.qb||e.C.zd(),za(e,n,0),k(v,0);break;case 2:if(g=x(v),Dr(e.J,g),e.j)return v.return();if(n.Ra=!1,7001==g.code)n.Ra=!1,n.La=null,za(e,n,0),v.v(0);else if(n.type==o.aa&&e.o.ignoreTextStreamFailures)e.g.delete(o.aa),v.v(0);else if(3017==g.code)(function(t,e,n){if(!Array.from(t.g.values()).some((function(t){return t!=e&&t.Dd}))){var r=Math.round(100*t.l);if(20<r)t.l-=.2;else{if(!(4<r))return e.Vb=!0,t.j=!0,void t.C.onError(n);t.l-=.04}e.Dd=!0}za(t,e,4)})(e,n,g),v.v(0);else{if(1001!=g.code||!g.data||404!=g.data[1])return n.Vb=!0,g.severity=2,S(v,Xa(e,g),0);n.Ra=!1,n.La=null,za(e,n,1),v.v(0)}}}))}(e,n,r,o).catch((function(){})),null)}(s,e))&&(za(s,e,r),e.Vb=!1),k(u,7);break;case 6:return i=x(u),S(u,Xa(s,i),8);case 8:return u.return();case 7:if(o=Array.from(s.g.values()),!s.m||!o.every((function(t){return t.endOfStream}))){u.v(0);break}return S(u,s.C.P.endOfStream(),10);case 10:Dr(s.J),0!=(a=s.C.P.getDuration())&&a<s.A.presentationTimeline.getDuration()&&s.A.presentationTimeline.Ja(a),T(u)}}))},$a.prototype.destroy=function(){return this.J.destroy()},(r=Qa.prototype).remove=function(t,e){return!!this.g&&(es(this.g,(function(n){return n.startTime<e&&n.endTime>t})),!0)},r.append=function(t){function e(t){var n=[],r=700<=t.fontWeight,i="italic"==t.fontStyle,o=t.textDecoration.includes("underline");return r&&n.push("b"),i&&n.push("i"),o&&n.push("u"),r=n.reduce((function(t,e){return t+"<"+e+">"}),""),n=n.reduceRight((function(t,e){return t+"</"+e+">"}),""),t.lineBreak||t.spacer?(t.spacer&&Et("shaka.extern.Cue","Please use lineBreak instead of spacer."),"\n"):t.nestedCues.length?t.nestedCues.map(e).join(""):r+t.payload+n}var n=t.map((function(t){if(t.nestedCues.length){var n=t.clone();return n.nestedCues=[],n.payload=e(t),n}return t})),r=[];t=this.g.cues?Array.from(this.g.cues):[];for(var i={},o=(n=c(n)).next();!o.done;i={tb:i.tb},o=n.next())i.tb=o.value,t.some(function(t){return function(e){return e.startTime==t.tb.startTime&&e.endTime==t.tb.endTime&&e.text==t.tb.payload}}(i))||(o=ts(i.tb))&&r.push(o);for(i=(t=c(t=r.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:"line"in VTTCue.prototype?r.indexOf(e)-r.indexOf(t):r.indexOf(t)-r.indexOf(e)})))).next();!i.done;i=t.next())this.g.addCue(i.value)},r.destroy=function(){return this.g&&(es(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.g.mode},r.setTextVisibility=function(t){this.g.mode=t?"showing":"hidden"},H("shaka.text.SimpleTextDisplayer",Qa),Qa.prototype.setTextVisibility=Qa.prototype.setTextVisibility,Qa.prototype.isTextVisible=Qa.prototype.isTextVisible,Qa.prototype.destroy=Qa.prototype.destroy,Qa.prototype.append=Qa.prototype.append,Qa.prototype.remove=Qa.prototype.remove,H("shaka.util.Dom",ns),ns.removeAllChildren=rs,(r=is.prototype).append=function(t){for(var e=[].concat(f(this.j)),n={},r=(t=c(t)).next();!r.done;n={ec:n.ec},r=t.next())n.ec=r.value,e.some(function(t){return function(e){return pe(e,t.ec)}}(n))||this.j.push(n.ec);os(this)},r.destroy=function(){this.m.removeChild(this.i),this.i=null,this.u=!1,this.j=[],this.D&&this.D.stop(),this.l.clear(),this.h&&(this.h.release(),this.h=null),this.s&&(this.s.disconnect(),this.s=null)},r.remove=function(t,e){return!!this.i&&(this.j=this.j.filter((function(n){return n.startTime<t||n.endTime>=e})),os(this),!0)},r.isTextVisible=function(){return this.u},r.setTextVisibility=function(t){this.u=t},H("shaka.text.UITextDisplayer",is),is.prototype.setTextVisibility=is.prototype.setTextVisibility,is.prototype.isTextVisible=is.prototype.isTextVisible,is.prototype.remove=is.prototype.remove,is.prototype.destroy=is.prototype.destroy,is.prototype.append=is.prototype.append,H("shaka.text.WebVttGenerator",(function(){})),H("shaka.util.ConfigUtils",us),us.convertToConfigObject=cs,us.mergeConfigObjects=ls,H("shaka.util.PlayerConfiguration",fs),fs.mergeConfigObjects=ds,m(Ss,eo),(r=Ss.prototype).destroy=function(){var t,e=this;return O((function(n){switch(n.g){case 1:return e.l==Iu?n.return():(e.l=Iu,t=Za(e.da,(function(){return{node:e.ra,payload:iu(),ib:!1}})),S(n,new Promise((function(e){t.Db=function(){},t.Ec=function(){e()},t.lb=function(){e()},t.onError=function(){e()},t.Gc=function(){e()}})),2));case 2:return S(n,e.da.destroy(),3);case 3:if(e.h&&(e.h.release(),e.h=null),e.bd=null,e.u=null,e.o=null,e.j=null,e.mc=null,!e.O){n.v(0);break}return S(n,e.O.destroy(),5);case 5:e.O=null,T(n)}}))},r.Nb=function(t,e){if(e=void 0===e||e,this.l==Iu)return Promise.reject(nu());var n=iu();n.G=t,Kt()||(e=!1);var r=e?this.Ea:this.Oa,i=Za(this.da,(function(){return{node:r,payload:n,ib:!1}}));return i.Db=function(){},ou(i)},r.detach=function(){var t=this;if(this.l==Iu)return Promise.reject(nu());var e=Za(this.da,(function(){return{node:t.ra,payload:iu(),ib:!1}}));return e.Db=function(){},ou(e)},r.Qd=function(t){var e=this;if(t=void 0===t||t,this.l==Iu)return Promise.reject(nu());Kt()||(t=!1);var n=iu(),r=Za(this.da,(function(r){var i=r.G&&t?e.Ea:r.G?e.Oa:e.ra;return n.G=r.G,{node:i,payload:n,ib:!1}}));return r.Db=function(){},ou(r)},r.load=function(t,e,n){var r=this;if(this.l==Iu)return Promise.reject(nu());this.dispatchEvent(Ts(pu));var i=iu();i.uri=t,i.Od=Date.now()/1e3,n&&(i.mimeType=n),void 0!==e&&(i.startTime=e);var o=function(t,e){if(!Kt())return!0;var n=e.mimeType,r=e.uri||"";if(n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[$o(r)]),n){if(""==(e.G||$t()).canPlayType(n))return!1;if(!Kt()||!(n in Zo)&&!($o(r)in Jo)||t.o.streaming.preferNativeHls)return!0;if(Wt())return t.o.streaming.useNativeHlsOnSafari}return!1}(this,i)?this.Ma:this.N,a=Za(this.da,(function(t){return null==t.G?null:(i.G=t.G,{node:o,payload:i,ib:!0})}));return this.j=new ws,a.Db=function(){},new Promise((function(t,e){a.Gc=function(){return e(new ct(2,7,7002))},a.Ec=function(){t(),r.dispatchEvent(Ts(du))},a.lb=function(){return e(nu())},a.onError=function(t){return e(t)}}))},r.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=cs(t,e)),t.manifest&&t.manifest.dash&&"defaultPresentationDelay"in t.manifest.dash&&(Et("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),t.manifest.defaultPresentationDelay=t.manifest.dash.defaultPresentationDelay,delete t.manifest.dash.defaultPresentationDelay),t.streaming&&t.streaming.lowLatencyMode&&(void 0==t.streaming.inaccurateManifestTolerance&&(t.streaming.inaccurateManifestTolerance=0),void 0==t.streaming.rebufferingGoal&&(t.streaming.rebufferingGoal=.01));var n=ds(this.o,t,Is(this));return As(this),n},r.getConfiguration=function(){var t=Is(this);return ds(t,this.o,Is(this)),t},r.Af=function(){for(var t in this.o)delete this.o[t];ds(this.o,Is(this),Is(this)),As(this)},r.Re=function(){return this.l},r.Ve=function(){return this.g},r.Sb=function(){return this.O},r.kd=function(){return this.Wa},r.Zd=function(){return this.L?this.L:null},r.Y=function(){return this.A?this.A.presentationTimeline.Y():!(!this.g||!this.g.src)&&1/0==this.g.duration},r.kb=function(){return!!this.A&&this.A.presentationTimeline.kb()},r.hf=function(){if(this.A){var t=this.A.variants;return!!t.length&&!t[0].video}return!(!this.g||!this.g.src)&&(this.g.videoTracks?0==this.g.videoTracks.length:0==this.g.videoHeight)},r.Gd=function(){if(this.A){var t=this.A.presentationTimeline;return{start:t.yb(),end:t.Qa()}}return this.g&&this.g.src&&(t=this.g.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},r.keySystem=function(){return Mo(this.drmInfo())},r.drmInfo=function(){return this.m?this.m.i:null},r.Rb=function(){return this.m?this.m.Rb():1/0},r.yc=function(){return this.m?this.m.yc():{}},r.nd=function(){return!!this.H&&this.H.g==qi},r.Xe=function(){return this.g?this.F?this.F.i:1:0},r.Jf=function(t){0==t?Y("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.F.set(t),this.l==Lu&&(this.u.playbackRateChanged(t),Na(this.i,1<Math.abs(t))))},r.De=function(){var t=this.F.xc();this.l==Du&&this.F.set(t),this.l==Lu&&(this.F.set(t),this.u.playbackRateChanged(t),Na(this.i,!1))},r.Bc=function(){if(this.A){for(var t=this.i?this.i.h:null,e=[],n=c(this.A.variants),r=n.next();!r.done;r=n.next())if(xi(r=r.value)){var i=wi(r);i.active=r==t,e.push(i)}return e}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map((function(t){return _i(t)})):[]},r.hb=function(){if(this.A){for(var t=this.i?this.i.i:null,e=[],n=c(this.A.textStreams),r=n.next();!r.done;r=n.next()){var i=Si(r=r.value);i.active=r==t,e.push(i)}return e}return this.g&&this.g.src&&this.g.textTracks?Rs(this).map((function(t){var e=ki(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),t.kind&&(e.roles=[t.kind]),"forced"==t.kind&&(e.forced=!0),e})):[]},r.Pe=function(){return this.A?this.A.imageStreams.map((function(t){return Ti(t)})):[]},r.ef=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p,g,v,m,y,b=this;return O((function(w){return 1==w.g?b.A?(n=b.A.imageStreams.find((function(e){return e.id==t})))?n.segmentIndex?w.v(3):S(w,n.createSegmentIndex(),3):w.return(null):w.v(2):2!=w.g?null==(r=n.segmentIndex.find(e))?w.return(null):(i=n.segmentIndex.get(r),(o=/(\d+)x(\d+)/.exec(n.tilesLayout))?(a=n.width||0,s=n.height||0,u=parseInt(o[1],10),l=parseInt(o[2],10),c=a/u,f=s/l,h=u*l,d=i.j-i.startTime,p=d/h,g=i.startTime,m=v=0,1<h&&(y=Math.floor((e-i.startTime)/p),g=i.startTime+y*p,v=y%u*c,m=Math.floor(y/u)*f),w.return({height:f,positionX:v,positionY:m,startTime:g,duration:p,uris:i.ma(),width:c})):w.return(null)):w.return(null)}))},r.ne=function(t){if(this.A&&this.i){var e=this.A.textStreams.find((function(e){return e.id==t.id}));e&&e!=this.i.i&&(bs(this.j.g,e,!1),Ba(this.i,e),Ks(this),this.pa=e.language)}else if(this.g&&this.g.src&&this.g.textTracks){for(var n=(e=c(e=Rs(this))).next();!n.done;n=e.next())Ei(n=n.value)==t.id?n.mode=this.X?"showing":"hidden":n.mode="disabled";Ks(this)}},r.oe=function(t,e,n){if(e=void 0!==e&&e,n=void 0===n?0:n,this.A&&this.i){this.o.abr.enabled&&Y("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.A.variants.find((function(e){return e.id==t.id}));r&&xi(r)&&(js(this,r,!1,e,n),this.oa=new Ui(r),Ps(this))}else if(this.g&&this.g.audioTracks)for(n=(e=c(e=Array.from(this.g.audioTracks))).next();!n.done;n=e.next())if(Ei(n=n.value)==t.id){Bs(this,n);break}},r.Me=function(){return eu(this.Bc())},r.df=function(){return eu(this.hb())},r.Le=function(){return Array.from(tu(this.Bc()))},r.cf=function(){return Array.from(tu(this.hb()))},r.Hd=function(t,e){if(this.A&&this.D){if(this.oa=new Hi(t,e||"",0,""),!this.o.abr.enabled){for(var n=function(t,e){return t.video||e.video?t.video&&e.video?Math.abs((t.video.height||0)-(e.video.height||0))+Math.abs((t.video.width||0)-(e.video.width||0)):1/0:0},r=this.i.h,i=this.oa.create(this.A.variants),o=null,a=(i=c(i.values())).next();!a.done;a=i.next())a=a.value,(!o||n(o,r)>n(a,r))&&(o=a);if(o)return n=wi(o),void this.oe(n,!0)}Ns(this)}else if(this.g&&this.g.audioTracks){for(i=Array.from(this.g.audioTracks),n=ii(t),o=r=null,a=(i=c(i)).next();!a.done;a=i.next()){var s=_i(a=a.value);ii(s.language)==n&&(r=a,e?s.roles.includes(e)&&(o=a):0==s.roles.length&&(o=a))}o?Bs(this,o):r&&Bs(this,r)}},r.Id=function(t,e,n){if(n=void 0!==n&&n,this.A&&this.D)this.pa=t,this.Lb=e||"",this.Xa=n,(t=Ai(this.A.textStreams,this.pa,this.Lb,this.Xa)[0]||null)&&t!=this.i.i&&(bs(this.j.g,t,!1),this.o.streaming.alwaysStreamText||this.od())&&(Ba(this.i,t),Ks(this));else{var r=ii(t);(t=this.hb().find((function(t){return ii(t.language)==r&&(!e||t.roles.includes(e))&&t.forced==n})))&&this.ne(t)}},r.Bf=function(t){if(this.A&&this.D){for(var e=null,n=c(this.A.variants),r=n.next();!r.done;r=n.next())if((r=r.value).audio.label==t){e=r;break}null!=e&&(this.oa=new Hi(e.language,"",0,t),Ns(this))}},r.od=function(){var t=this.X;return this.I?this.I.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?Rs(this).some((function(t){return"showing"==t.mode})):t},r.Hf=function(t){if(t=!!t,this.X!=t){if(this.X=t,this.l==Lu)this.I.m.setTextVisibility(t),this.o.streaming.alwaysStreamText||(t?this.i.i||0<(t=Ai(this.A.textStreams,this.pa,this.Lb,this.Xa)).length&&(Ba(this.i,t[0]),Ks(this)):function(t){var e=t.g.get(fr);e&&(Wa(e),Ya(e).catch((function(){})),t.g.delete(fr)),t.i=null}(this.i));else if(this.g&&this.g.src&&this.g.textTracks)for(var e=Rs(this),n=(e=c(e)).next();!n.done;n=e.next())"disabled"!=(n=n.value).mode&&(n.mode=t?"showing":"hidden");Gs(this)}},r.Ze=function(){if(!this.Y())return null;var t=this.da.l,e=0;if(this.D)e=this.D.l();else if(t){if(null==t.startTime)return new Date;e=t.startTime}return this.A?new Date(1e3*(this.A.presentationTimeline.j+e)):this.g&&this.g.getStartDate?(t=this.g.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.$d=function(){if(!this.Y())return null;if(this.A)return new Date(1e3*this.A.presentationTimeline.j);if(this.g&&this.g.getStartDate){var t=this.g.getStartDate();return isNaN(t.getTime())?null:t}return null},r.wc=function(){if(this.l==Lu)return this.I.wc();var t={total:[],audio:[],video:[],text:[]};return this.l==Du&&(t.total=zn(this.g.buffered)),t},r.getStats=function(){if(this.l!=Lu&&this.l!=Du)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Os(this);var t=this.g,e=t.currentTime/t.duration;if(!isNaN(e)){var n=this.j;e=Math.round(100*e),n.i=isNaN(n.i)?e:Math.max(n.i,e)}t.getVideoPlaybackQuality&&(t=t.getVideoPlaybackQuality(),n=this.j,e=Number(t.totalVideoFrames),n.S=Number(t.droppedVideoFrames),n.N=e,this.j.L=Number(t.corruptedVideoFrames)),this.m?t=(t=this.m).H?t.H:NaN:t=NaN,this.j.m=t,this.l==Lu&&((t=this.i.h)&&(this.j.u=(this.F?this.F.i:1)*t.bandwidth),t&&t.video&&(n=this.j,e=t.video.height||NaN,n.X=t.video.width||NaN,n.D=e),this.Y()&&(t=this.$d().valueOf()+1e3*this.Gd().end,this.j.F=(Date.now()-t)/1e3),this.A&&this.A.presentationTimeline&&(this.j.I=this.A.presentationTimeline.g),t=this.u.getBandwidthEstimate(),this.j.s=t);var r=this.j;t=r.X,n=r.D,e=r.u;for(var i=r.N,o=r.S,a=r.L,s=r.s,u=r.i,l=r.l,f=r.H,h=r.j,d=vs(r.h,"playing"),p=vs(r.h,"paused"),g=vs(r.h,"buffering"),v=r.m,m=r.F,y=r.I,b=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=c(t.h),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.g&&n.push(e(t.g)),n}(r.h),w=[],S=(r=c(r.g.g)).next();!S.done;S=r.next())S=S.value,w.push({timestamp:S.timestamp,id:S.id,type:S.type,fromAdaptation:S.fromAdaptation,bandwidth:S.bandwidth});return{width:t,height:n,streamBandwidth:e,decodedFrames:i,droppedFrames:o,corruptedFrames:a,estimatedBandwidth:s,completionPercent:u,loadLatency:l,manifestTimeSeconds:f,drmTimeSeconds:h,playTime:d,pauseTime:p,bufferingTime:g,licenseTime:v,liveLatency:m,maxSegmentDuration:y,stateHistory:b,switchHistory:w}},r.addTextTrack=function(t,e,n,r,i,o,a){if(a=void 0!==a&&a,Et("addTextTrack","Please use an addTextTrackAsync."),this.l!=Lu&&this.l!=Du)throw new ct(1,7,7004);if(!r){var s=$o(t);if(!(r={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"}[s]))throw new ct(1,2,2011,s)}if(this.l==Du){if("text/vtt"!=r)throw new ct(1,2,2013,r);if(a&&(n="forced"),(r=document.createElement("track")).src=t,r.label=o||"",r.kind=n,r.srclang=e,this.g.getAttribute("crossorigin")||this.g.setAttribute("crossorigin","anonymous"),this.g.appendChild(r),t=this.hb().find((function(t){return t.language==e&&t.label==(o||"")&&t.kind==n})))return Us(this),t;throw new ct(1,2,2012)}if(1/0==(s=this.A.presentationTimeline.getDuration()))throw new ct(1,4,4033);if(!Ar(Tr((t={id:this.jd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ta(0,s,[t]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:e,label:o||null,type:fr,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}).mimeType,t.codecs)))throw new ct(2,2,2014,r);return this.A.textStreams.push(t),Us(this),Si(t)},r.ze=function(t,e,n,r,i,o,a){a=void 0!==a&&a;var s,u,l,f,h,d,p,g,v,m,y,b=this;return O((function(w){switch(w.g){case 1:if(b.l!=Lu&&b.l!=Du)throw new ct(1,7,7004);if(r){w.v(2);break}if(s=$o(t),r={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"}[s]){w.v(3);break}return E(w,4),S(w,Xo(t,b.O,b.o.streaming.retryParameters),6);case 6:r=w.h,k(w,3);break;case 4:x(w);case 3:if(!r)throw new ct(1,2,2011,s);case 2:if(b.l!=Du){w.v(7);break}if("text/vtt"==r){w.v(8);break}return S(w,function(t,e,n){var r,i,o;return O((function(a){return 1==a.g?(r=fo,(i=uo([t],n)).method="GET",S(a,e.request(r,i).promise,2)):(o=a.h,a.return(o.data))}))}(t,b.O,b.o.streaming.retryParameters),9);case 9:u=w.h,l=function(t,e,n){var r=Cr[n];if(r)return n=r(),t={periodStart:0,segmentStart:0,segmentEnd:t.g.duration},e=st(e),function(t){function e(t){var n=[],r=700<=t.fontWeight,i="italic"==t.fontStyle,o=t.textDecoration.includes("underline");return r&&n.push("b"),i&&n.push("i"),o&&n.push("u"),r=n.reduce((function(t,e){return t+"<"+e+">"}),""),n=n.reduceRight((function(t,e){return t+"</"+e+">"}),""),t.lineBreak||t.spacer?(t.spacer&&Et("shaka.text.Cue","Please use lineBreak instead of spacer."),"\n"):t.nestedCues.length?t.nestedCues.map(e).join(""):r+t.payload+n}var n=t.map((function(t){if(t.nestedCues.length){var n=t.clone();return n.nestedCues=[],n.payload=e(t),n}return t}));t="WEBVTT\n\n";for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=function(t){var e=Math.floor(t/3600),n=Math.floor(t/60%60),r=Math.floor(t%60);return(10>e?"0":"")+e+":"+(10>n?"0":"")+n+":"+(10>r?"0":"")+r+"."+(100>(t=Math.floor(1e3*t%1e3))?10>t?"00":"0":"")+t};t+=i((r=r.value).startTime)+" --\x3e "+i(r.endTime)+"\n",t+=r.payload+"\n\n"}return t}(e=n.parseMedia(e,t));throw new ct(2,2,2014,n)}(b,u,r),f=new Blob([l],{type:"text/vtt"}),t=ti(f),r="text/vtt";case 8:if(a&&(n="forced"),(h=document.createElement("track")).src=t,h.label=o||"",h.kind=n,h.srclang=e,b.g.getAttribute("crossorigin")||b.g.setAttribute("crossorigin","anonymous"),b.g.appendChild(h),d=b.hb(),p=d.find((function(t){return t.language==e&&t.label==(o||"")&&t.kind==n})))return Us(b),w.return(p);throw new ct(1,2,2012);case 7:if(g=hr,1/0==(v=b.A.presentationTimeline.getDuration()))throw new ct(1,4,4033);if(m={id:b.jd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ta(0,v,[t]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:e,label:o||null,type:g.aa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},y=Tr(m.mimeType,m.codecs),!Ar(y))throw new ct(2,2,2014,r);return b.A.textStreams.push(m),Us(b),w.return(Si(m))}}))},r.Ld=function(t,e){this.hd.width=t,this.hd.height=e},r.Ed=function(){if(this.l==Lu){var t=this.i;if(t.J.g)t=!1;else if(t.j)t=!1;else{for(var e=c(t.g.values()),n=e.next();!n.done;n=e.next())(n=n.value).Vb&&(n.Vb=!1,za(t,n,.1));t=!0}}else t=!1;return t},r.Se=function(){return Y("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.A},r.Te=function(){return this.qc},r.se=function(t){this.mc=t},r.vc=function(t){var e=this;return O((function(n){if(1==n.g)return S(n,function(t,e){var n;return O((function(r){if(1==r.g)return n=t.i?t.i.h:null,S(r,hi(t.m,n,e,t.o.useMediaCapabilities),2);Js(e),T(r)}))}(e,t),2);Cs(e,t),T(n)}))},H("shaka.Player",Ss),Ss.prototype.setVideoContainer=Ss.prototype.se,Ss.prototype.getManifestParserFactory=Ss.prototype.Te,Ss.prototype.getManifest=Ss.prototype.Se,Ss.prototype.retryStreaming=Ss.prototype.Ed,Ss.prototype.setMaxHardwareResolution=Ss.prototype.Ld,Ss.prototype.addTextTrackAsync=Ss.prototype.ze,Ss.prototype.addTextTrack=Ss.prototype.addTextTrack,Ss.prototype.getStats=Ss.prototype.getStats,Ss.prototype.getBufferedInfo=Ss.prototype.wc,Ss.prototype.getPresentationStartTimeAsDate=Ss.prototype.$d,Ss.prototype.getPlayheadTimeAsDate=Ss.prototype.Ze,Ss.prototype.setTextTrackVisibility=Ss.prototype.Hf,Ss.prototype.isTextTrackVisible=Ss.prototype.od,Ss.prototype.selectVariantsByLabel=Ss.prototype.Bf,Ss.prototype.selectTextLanguage=Ss.prototype.Id,Ss.prototype.selectAudioLanguage=Ss.prototype.Hd,Ss.prototype.getTextLanguages=Ss.prototype.cf,Ss.prototype.getAudioLanguages=Ss.prototype.Le,Ss.prototype.getTextLanguagesAndRoles=Ss.prototype.df,Ss.prototype.getAudioLanguagesAndRoles=Ss.prototype.Me,Ss.prototype.selectVariantTrack=Ss.prototype.oe,Ss.prototype.selectTextTrack=Ss.prototype.ne,Ss.prototype.getThumbnails=Ss.prototype.ef,Ss.prototype.getImageTracks=Ss.prototype.Pe,Ss.prototype.getTextTracks=Ss.prototype.hb,Ss.prototype.getVariantTracks=Ss.prototype.Bc,Ss.prototype.cancelTrickPlay=Ss.prototype.De,Ss.prototype.trickPlay=Ss.prototype.Jf,Ss.prototype.getPlaybackRate=Ss.prototype.Xe,Ss.prototype.isBuffering=Ss.prototype.nd,Ss.prototype.getKeyStatuses=Ss.prototype.yc,Ss.prototype.getExpiration=Ss.prototype.Rb,Ss.prototype.drmInfo=Ss.prototype.drmInfo,Ss.prototype.keySystem=Ss.prototype.keySystem,Ss.prototype.seekRange=Ss.prototype.Gd,Ss.prototype.isAudioOnly=Ss.prototype.hf,Ss.prototype.isInProgress=Ss.prototype.kb,Ss.prototype.isLive=Ss.prototype.Y,Ss.prototype.getAdManager=Ss.prototype.Zd,Ss.prototype.getAssetUri=Ss.prototype.kd,Ss.prototype.getNetworkingEngine=Ss.prototype.Sb,Ss.prototype.getMediaElement=Ss.prototype.Ve,Ss.prototype.getLoadMode=Ss.prototype.Re,Ss.prototype.resetConfiguration=Ss.prototype.Af,Ss.prototype.getConfiguration=Ss.prototype.getConfiguration,Ss.prototype.configure=Ss.prototype.configure,Ss.prototype.load=Ss.prototype.load,Ss.prototype.unload=Ss.prototype.Qd,Ss.prototype.detach=Ss.prototype.detach,Ss.prototype.attach=Ss.prototype.Nb,Ss.probeSupport=function(t){var e,n,r,i,o;return t=void 0===t||t,O((function(a){if(1==a.g)return e={},t?S(a,function(){var t,e,n,r,i,o;return O((function(a){return 1==a.g?(t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:e}],r=new Map,i=function(t){var e,i,o;return O((function(a){switch(a.g){case 1:return E(a,2),S(a,navigator.requestMediaKeySystemAccess(t,n),4);case 4:return e=a.h,o=!!(i=e.getConfiguration().sessionTypes)&&i.includes("persistent-license"),Xt("Tizen 3")&&(o=!1),r.set(t,{persistentState:o}),S(a,e.createMediaKeys(),5);case 5:k(a,0);break;case 2:x(a),r.set(t,null),T(a)}}))},o=t.map((function(t){return i(t)})),S(a,Promise.all(o),2)):a.return(bo(r))}))}(),3):a.v(2);2!=a.g&&(e=a.h);var s={};if(Kt()){for(var u in Zo)s[u]=!0;for(var l in Jo)s[l]=!0}u={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var f=(l=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!f.done;f=l.next())s[f=f.value]=Kt()?!!Zo[f]:Gt(f);for(var h in u)s[h]=Kt()?!!Jo[h]:Gt(u[h]);for(n=s,s={},u=(h=c('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!u.done;u=h.next())s[u=u.value]=Kt()?!!Ar(u)||(MediaSource.isTypeSupported(u)||br(u)):Gt(u),s[l=u.split(";")[0]]=s[l]||s[u];for(o in r={manifest:n,media:s,drm:e},i=Nu)r[o]=i[o]();return a.return(r)}))},Ss.isBrowserSupported=function(){if(t.Promise||Y("A Promise implementation or polyfill is required"),t.TextDecoder&&t.TextEncoder||Y("A TextDecoder/TextEncoder implementation or polyfill is required"),!(t.Promise&&t.Uint8Array&&t.TextDecoder&&t.TextEncoder&&Array.prototype.forEach)||Xt("Trident/"))return!1;var e=Yt();return!(e&&12>e||!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Kt()||Gt("application/x-mpegurl"))},Ss.setAdManagerFactory=function(t){ju=t},Ss.registerSupportPlugin=function(t,e){Nu[t]=e},Ss.prototype.destroy=Ss.prototype.destroy;var au="abrstatuschanged",su="adaptation",uu="buffering",lu="drmsessionupdate",cu="emsg",fu="error",hu="expirationupdated",du="loaded",pu="loading",gu="manifestparsed",vu="metadata",mu="onstatechange",yu="onstateidle",bu="ratechange",wu="streaming",Su="textchanged",Tu="texttrackvisibility",Eu="timelineregionadded",_u="timelineregionenter",ku="timelineregionexit",xu="trackschanged",Mu="unloading",Au="variantchanged",Ru={Qf:au,Rf:su,Sf:uu,Tf:lu,Vf:cu,Error:fu,Wf:hu,Xf:"largegap",Yf:du,Zf:pu,$f:gu,Metadata:vu,ag:mu,bg:yu,cg:bu,dg:"sessiondata",eg:wu,fg:Su,gg:Tu,hg:Eu,ig:_u,jg:ku,kg:xu,lg:Mu,mg:Au},Iu=0,Cu=1,Lu=2,Du=3;Ss.LoadMode={DESTROYED:Iu,NOT_LOADED:Cu,MEDIA_SOURCE:Lu,SRC_EQUALS:Du},Ss.version="v3.1.2";var Ou=["3","1"];xt=new function(t){this.g=t,this.i=_t,this.h=kt}(new Tt(Number(Ou[0]),Number(Ou[1])));var Pu=["output-restricted","internal-error"],Nu={},ju=null;function Bu(){this.h=[],this.j=this.i=this.g=0}function Fu(t,e){var n=this;this.i=t,this.g=e,this.j=!1,this.l=this.g.getVolume(),this.h=new Nr,this.h.B(this.g,google.ima.AdEvent.Type.PAUSED,(function(){n.j=!0})),this.h.B(this.g,google.ima.AdEvent.Type.RESUMED,(function(){n.j=!1}))}function Uu(t,e,n,r){var i=this;this.m=t,this.g=e,this.u=NaN,this.j=r,this.s=null,this.h=new Nr,google.ima.settings.setLocale(n),(t=new google.ima.AdDisplayContainer(this.m,this.g)).initialize(),this.l=new google.ima.AdsLoader(t),this.l.getSettings().setPlayerType("shaka-player"),this.l.getSettings().setPlayerVersion("v3.1.2"),this.i=null,this.h.ua(this.l,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){!function(e,n){e.j(new to("ads-loaded",{loadTime:Date.now()/1e3-e.u})),e.i=n.getAdsManager(e.g),e.j(new to("ima-ad-manager-loaded",{imaAdManager:e.i}));var r=e.i.getCuePoints();if(r.length){for(var i=[],o=(r=c(r)).next();!o.done;o=r.next())i.push(new Wu(o.value));e.j(new to("ad-cue-points-changed",{cuepoints:i}))}!function(t){t.h.B(t.i,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){Hu(t,e)})),t.h.B(t.i,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(e){Ku(t,e)})),t.h.B(t.i,google.ima.AdEvent.Type.STARTED,(function(e){Ku(t,e)})),t.h.B(t.i,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(e){t.j(new to("ad-first-quartile",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.MIDPOINT,(function(e){t.j(new to("ad-midpoint",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(e){t.j(new to("ad-third-quartile",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.COMPLETE,(function(e){t.j(new to("ad-complete",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(e){Gu(t,e)})),t.h.B(t.i,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){Gu(t,e)})),t.h.B(t.i,google.ima.AdEvent.Type.SKIPPED,(function(e){t.j(new to("ad-skipped",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(e){t.j(new to("ad-volume-changed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.VOLUME_MUTED,(function(e){t.j(new to("ad-muted",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.PAUSED,(function(e){t.s.j=!0,t.j(new to("ad-paused",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.RESUMED,(function(e){t.s.j=!1,t.j(new to("ad-resumed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(e){t.j(new to("ad-skip-state-changed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.CLICK,(function(e){t.j(new to("ad-clicked",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.AD_PROGRESS,(function(e){t.j(new to("ad-progress",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.AD_BUFFERING,(function(e){t.j(new to("ad-buffering",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.IMPRESSION,(function(e){t.j(new to("ad-impression",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.DURATION_CHANGE,(function(e){t.j(new to("ad-duration-changed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.USER_CLOSE,(function(e){t.j(new to("ad-closed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.LOADED,(function(e){t.j(new to("ad-loaded",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){t.j(new to("all-ads-completed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(e){t.j(new to("ad-linear-changed",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.AD_METADATA,(function(e){t.j(new to("ad-metadata",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.LOG,(function(e){t.j(new to("ad-recoverable-error",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.AD_BREAK_READY,(function(e){t.j(new to("ad-break-ready",{originalEvent:e}))})),t.h.B(t.i,google.ima.AdEvent.Type.INTERACTION,(function(e){t.j(new to("ad-interaction",{originalEvent:e}))}))}(e);try{e.i.init(e.g.offsetWidth,e.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.B(e.g,"loadeddata",(function(){e.i.resize(e.g.offsetWidth,e.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),e.i.start()}catch(t){Gu(e,null)}}(i,t)})),this.h.B(this.l,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Hu(i,t)})),this.g.onended=function(){i.l.contentComplete()}}function Hu(t,e){e.getError(),Gu(t,null),t.j(new to("ad-cue-points-changed",{cuepoints:[]}))}function Ku(t,e){var n=e.getAd();t.s=new Fu(n,t.i),t.j(new to("ad-started",{ad:t.s,sdkAdObject:n,originalEvent:e})),t.m.setAttribute("ad-active","true"),t.g.pause()}function Gu(t,e){t.j(new to("ad-stopped",{originalEvent:e})),t.m.removeAttribute("ad-active"),t.g.play()}function qu(t,e){this.i=t,this.h=null,this.g=e}function Vu(t,e,n,r){var i=this;this.u=t,this.g=e,this.l=null,this.I=NaN,this.j=r,this.H=!1,this.D=this.m=this.s=null,this.F="",this.h=new Nr,(t=new google.ima.dai.api.UiSettings).setLocale(n),this.i=new google.ima.dai.api.StreamManager(this.g,this.u,t),this.j(new to("ima-stream-manager-loaded",{imaStreamManager:this.i})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.LOADED,(function(t){!function(t,e){t.j(new to("ads-loaded",{loadTime:Date.now()/1e3-t.I}));var n=e.getStreamData().url;t.l.resolve(n),t.l=null,t.H||t.h.B(t.g,"seeked",(function(){var e=t.g.currentTime;if(0!=e){t.i.streamTimeForContentTime(e);var n=t.i.previousCuePointForStreamTime(e);n&&!n.played&&(t.s=e,t.g.currentTime=n.start)}}))}(i,t)})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.F.length?i.l.resolve(i.F):i.l.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.l=null})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.STARTED,(function(t){t=t.getAd(),i.m=new qu(t,i.g),i.D&&(i.m.h=i.D),i.j(new to("ad-started",{ad:i.m})),i.u.setAttribute("ad-active","true")})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.u.removeAttribute("ad-active");var t=i.g.currentTime;i.s&&i.s>t&&(i.g.currentTime=i.s,i.s=null)})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(t){i.D=t.getStreamData().adProgressData,i.m&&(i.m.h=i.D)})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.j(new to("ad-first-quartile"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.j(new to("ad-midpoint"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.j(new to("ad-third-quartile"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.j(new to("ad-complete")),i.j(new to("ad-stopped")),i.u.removeAttribute("ad-active"),i.m=null})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.j(new to("ad-skipped")),i.j(new to("ad-stopped"))})),this.h.B(this.i,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(t){var e=t.getStreamData();t=[];for(var n=(e=c(e.cuepoints)).next();!n.done;n=e.next())n=n.value,t.push(new Wu(n.start,n.end));i.j(new to("ad-cue-points-changed",{cuepoints:t}))}))}function zu(){eo.call(this),this.g=this.h=null,this.j=new Bu,this.i=navigator.language}function Wu(t,e){this.start=t,this.end=void 0===e?null:e}function Yu(t){return JSON.stringify(t,(function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof to){var n={};for(i in e){var r=e[i];r&&"object"==typeof r?"detail"==i&&(n[i]=r):i in Event||(n[i]=r)}return n}if(e instanceof Error){var i=new Set(["name","message","stack"]);for(n in e)i.add(n);for(n=(r=c(Object.getOwnPropertyNames(e))).next();!n.done;n=r.next())i.add(n.value);for(r={},n=(i=c(i)).next();!n.done;n=i.next())r[n=n.value]=e[n];i={__type__:"Error",contents:r}}else if(e instanceof TimeRanges)for(i={__type__:"TimeRanges",length:e.length,start:[],end:[]},r=(n=c(zn(e))).next();!r.done;r=n.next()){var o=(r=r.value).end;i.start.push(r.start),i.end.push(o)}else i=e instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return i}}))}function Xu(t){return JSON.parse(t,(function(t,e){if("NaN"==e)var n=NaN;else if("-Infinity"==e)n=-1/0;else if("Infinity"==e)n=1/0;else if(e&&"object"==typeof e&&"TimeRanges"==e.__type__)n=function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e);else if(e&&"object"==typeof e&&"Uint8Array"==e.__type__)n=new Uint8Array(e.entries);else if(e&&"object"==typeof e&&"Error"==e.__type__){n=e.contents;var r,i=Error(n.message);for(r in n)i[r]=n[r];n=i}else n=e;return n}))}(r=Fu.prototype).getDuration=function(){return this.i.getDuration()},r.getMinSuggestedDuration=function(){return this.i.getMinSuggestedDuration()},r.getRemainingTime=function(){return this.g.getRemainingTime()},r.isPaused=function(){return this.j},r.isSkippable=function(){return 0<=this.i.getSkipTimeOffset()},r.getTimeUntilSkippable=function(){var t=this.i.getSkipTimeOffset();return t=this.getRemainingTime()-t,Math.max(t,0)},r.canSkipNow=function(){return this.g.getAdSkippableState()},r.skip=function(){return this.g.skip()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.resume()},r.getVolume=function(){return this.g.getVolume()},r.setVolume=function(t){return this.g.setVolume(t)},r.isMuted=function(){return 0==this.g.getVolume()},r.resize=function(t,e){this.g.resize(t,e,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},r.setMuted=function(t){t?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},r.getSequenceLength=function(){var t=this.i.getAdPodInfo();return null==t?1:t.getTotalAds()},r.getPositionInSequence=function(){var t=this.i.getAdPodInfo();return null==t?1:t.getAdPosition()},r.release=function(){this.g=this.i=null},H("shaka.ads.ClientSideAd",Fu),Fu.prototype.release=Fu.prototype.release,Fu.prototype.getPositionInSequence=Fu.prototype.getPositionInSequence,Fu.prototype.getSequenceLength=Fu.prototype.getSequenceLength,Fu.prototype.setMuted=Fu.prototype.setMuted,Fu.prototype.resize=Fu.prototype.resize,Fu.prototype.isMuted=Fu.prototype.isMuted,Fu.prototype.setVolume=Fu.prototype.setVolume,Fu.prototype.getVolume=Fu.prototype.getVolume,Fu.prototype.play=Fu.prototype.play,Fu.prototype.pause=Fu.prototype.pause,Fu.prototype.skip=Fu.prototype.skip,Fu.prototype.canSkipNow=Fu.prototype.canSkipNow,Fu.prototype.getTimeUntilSkippable=Fu.prototype.getTimeUntilSkippable,Fu.prototype.isSkippable=Fu.prototype.isSkippable,Fu.prototype.isPaused=Fu.prototype.isPaused,Fu.prototype.getRemainingTime=Fu.prototype.getRemainingTime,Fu.prototype.getMinSuggestedDuration=Fu.prototype.getMinSuggestedDuration,Fu.prototype.getDuration=Fu.prototype.getDuration,Uu.prototype.stop=function(){this.i&&this.i.stop(),this.m&&rs(this.m)},(r=qu.prototype).getDuration=function(){return this.h?this.h.duration:-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return this.i.isSkippable()},r.getTimeUntilSkippable=function(){var t=this.i.getSkipTimeOffset();return t=this.getRemainingTime()-t,Math.max(t,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.g.currentTime+=this.getRemainingTime()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(t){this.g.volume=t},r.isMuted=function(){return this.g.muted},r.resize=function(){},r.setMuted=function(t){this.g.muted=t},r.getSequenceLength=function(){var t=this.i.getAdPodInfo();return null==t?1:t.getTotalAds()},r.getPositionInSequence=function(){var t=this.i.getAdPodInfo();return null==t?1:t.getAdPosition()},r.release=function(){this.g=this.h=this.i=null},H("shaka.ads.ServerSideAd",qu),qu.prototype.release=qu.prototype.release,qu.prototype.getPositionInSequence=qu.prototype.getPositionInSequence,qu.prototype.getSequenceLength=qu.prototype.getSequenceLength,qu.prototype.setMuted=qu.prototype.setMuted,qu.prototype.resize=qu.prototype.resize,qu.prototype.isMuted=qu.prototype.isMuted,qu.prototype.setVolume=qu.prototype.setVolume,qu.prototype.getVolume=qu.prototype.getVolume,qu.prototype.play=qu.prototype.play,qu.prototype.pause=qu.prototype.pause,qu.prototype.skip=qu.prototype.skip,qu.prototype.canSkipNow=qu.prototype.canSkipNow,qu.prototype.getTimeUntilSkippable=qu.prototype.getTimeUntilSkippable,qu.prototype.isSkippable=qu.prototype.isSkippable,qu.prototype.isPaused=qu.prototype.isPaused,qu.prototype.getRemainingTime=qu.prototype.getRemainingTime,qu.prototype.getMinSuggestedDuration=qu.prototype.getMinSuggestedDuration,qu.prototype.getDuration=qu.prototype.getDuration,Vu.prototype.stop=function(){this.i.reset(),this.F="",this.s=null},Vu.prototype.onCueMetadataChange=function(t){if(t.key&&t.data){var e={};e[t.key]=t.data,this.i.onTimedMetadata(e)}},m(zu,eo),(r=zu.prototype).setLocale=function(t){this.i=t},r.initClientSide=function(e,n){var r=this;if(!t.google||!google.ima||!google.ima.AdsLoader)throw new ct(2,10,1e4);this.h=new Uu(e,n,this.i,(function(t){if(t&&t.type)switch(t.type){case"ads-loaded":r.j.h.push(t.loadTime);break;case"ad-started":r.j.g++;break;case"ad-complete":r.j.i++;break;case"ad-skipped":r.j.j++}r.dispatchEvent(t)}))},r.onAssetUnload=function(){this.h&&this.h.stop(),this.dispatchEvent(new to("ad-stopped")),this.j=new Bu},r.requestClientSideAds=function(t){if(!this.h)throw new ct(1,10,10001);var e=this.h;e.u=Date.now()/1e3,e.l.requestAds(t)},r.initServerSide=function(e,n){var r=this;if(!t.google||!google.ima||!google.ima.dai)throw new ct(2,10,10002);this.g=new Vu(e,n,this.i,(function(t){if(t&&t.type)switch(t.type){case"ads-loaded":r.j.h.push(t.loadTime);break;case"ad-started":r.j.g++;break;case"ad-complete":r.j.i++;break;case"ad-skipped":r.j.j++}r.dispatchEvent(t)}))},r.requestServerSideStream=function(t,e){if(e=void 0===e?"":e,!this.g)throw new ct(1,10,10003);t.adTagParameters||(t.adTagParameters={});var n=t.adTagParameters;(n.mpt||n.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),t.adTagParameters.mpt="shaka-player",t.adTagParameters.mpv="v3.1.2";var r=e;return(n=this.g).l?n=Promise.reject(new ct(1,10,10004)):(t instanceof google.ima.dai.api.LiveStreamRequest&&(n.H=!0),n.l=new pr,n.i.requestStream(t),n.F=r||"",n.I=Date.now()/1e3,n=n.l),n},r.replaceServerSideAdTagParameters=function(t){if(!this.g)throw new ct(1,10,10003);(t.mpt||t.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),t.mpt="Shaka Player",t.mpv="v3.1.2",this.g.i.replaceAdTagParameters(t)},r.getStats=function(){var t=this.j;return{loadTimes:t.h,started:t.g,playedCompletely:t.i,skipped:t.j}},r.onDashTimedMetadata=function(t){if(this.g&&"urn:google:dai:2018"==t.schemeIdUri){var e=t.schemeIdUri,n=t.eventElement?t.eventElement.getAttribute("messageData"):null;this.g.i.processMetadata(e,n,t.startTime)}},r.onHlsTimedMetadata=function(t,e){this.g&&this.g.i.processMetadata("ID3",t.data,e)},r.onCueMetadataChange=function(t){this.g&&this.g.onCueMetadataChange(t)},H("shaka.ads.AdManager",zu),zu.prototype.onCueMetadataChange=zu.prototype.onCueMetadataChange,zu.prototype.onHlsTimedMetadata=zu.prototype.onHlsTimedMetadata,zu.prototype.onDashTimedMetadata=zu.prototype.onDashTimedMetadata,zu.prototype.getStats=zu.prototype.getStats,zu.prototype.replaceServerSideAdTagParameters=zu.prototype.replaceServerSideAdTagParameters,zu.prototype.requestServerSideStream=zu.prototype.requestServerSideStream,zu.prototype.initServerSide=zu.prototype.initServerSide,zu.prototype.requestClientSideAds=zu.prototype.requestClientSideAds,zu.prototype.onAssetUnload=zu.prototype.onAssetUnload,zu.prototype.initClientSide=zu.prototype.initClientSide,zu.prototype.setLocale=zu.prototype.setLocale,zu.ADS_LOADED="ads-loaded",zu.AD_STARTED="ad-started",zu.AD_FIRST_QUARTILE="ad-first-quartile",zu.AD_MIDPOINT="ad-midpoint",zu.AD_THIRD_QUARTILE="ad-third-quartile",zu.AD_COMPLETE="ad-complete",zu.AD_STOPPED="ad-stopped",zu.AD_SKIPPED="ad-skipped",zu.AD_VOLUME_CHANGED="ad-volume-changed",zu.AD_MUTED="ad-muted",zu.AD_PAUSED="ad-paused",zu.AD_RESUMED="ad-resumed",zu.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",zu.CUEPOINTS_CHANGED="ad-cue-points-changed",zu.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",zu.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",zu.AD_CLICKED="ad-clicked",zu.AD_PROGRESS="ad-progress",zu.AD_BUFFERING="ad-buffering",zu.AD_IMPRESSION="ad-impression",zu.AD_DURATION_CHANGED="ad-duration-changed",zu.AD_CLOSED="ad-closed",zu.AD_LOADED="ad-loaded",zu.ALL_ADS_COMPLETED="all-ads-completed",zu.AD_LINEAR_CHANGED="ad-linear-changed",zu.AD_METADATA="ad-metadata",zu.AD_RECOVERABLE_ERROR="ad-recoverable-error",zu.AD_BREAK_READY="ad-break-ready",zu.AD_INTERACTION="ad-interaction",ju=function(){return new zu};var $u="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Zu="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Ju=["loop","playbackRate"],Qu=["pause","play"],tl={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getTextTracks:2,getStats:5,getVariantTracks:2,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},el={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},nl=[["getConfiguration","configure"]],rl=[["isTextTrackVisible","setTextTrackVisibility"]],il="addTextTrack addTextTrackAsync cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),ol=["attach","detach","load","unload"];function al(t,e,n,r,i,o){var a=this;this.L=t,this.j=new Ht(e),this.da=n,this.D=!1,this.u=r,this.I=i,this.S=o,this.h=this.m=!1,this.X="",this.s=null,this.F=function(){return fl(a)},this.H=function(t,e){var n=Xu(e);switch(n.type){case"event":var r=n.targetName;n=new to((n=n.event).type,n),a.u(r,n);break;case"update":for(var i in r=n.update)for(var o in n=a.g[i]||{},r[i])n[o]=r[i][o];a.D&&(a.da(),a.D=!1);break;case"asyncComplete":if(i=n.id,n=n.error,o=a.i[i],delete a.i[i],o)if(n){for(r in i=new ct(n.severity,n.category,n.code),n)i[r]=n[r];o.reject(i)}else o.resolve()}},this.g={video:{},player:{}},this.N=0,this.i={},this.l=null,ml.add(this)}function sl(t,e,n){vl=n,n.addUpdateListener(t.F),n.addMessageListener("urn:x-cast:com.google.shaka.v2",t.H),fl(t),dl(t,{type:"init",initState:e,appData:t.s}),t.l.resolve()}function ul(t,e){var n=8003;switch(e.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}t.l.reject(new ct(2,8,n,e))}function ll(t,e){var n=t.S();t.l=new pr,t.D=!0,sl(t,n,e)}function cl(t){var e=vl;e.removeUpdateListener(t.F),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.H)}function fl(t){var e=!!vl&&"connected"==vl.status;if(t.h&&!e){for(var n in t.I(),t.g)t.g[n]={};hl(t)}t.h=e,t.X=e?vl.receiver.friendlyName:"",t.j.cc()}function hl(t){for(var e in t.i){var n=t.i[e];delete t.i[e],n.reject(new ct(1,7,7e3))}}function dl(t,e){var n=Yu(e),r=vl;try{r.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),$)}catch(i){throw r=new to("error",{detail:n=new ct(2,8,8005,i)}),t.u("player",r),t.vb(),n}}(r=al.prototype).destroy=function(){return ml.delete(this),hl(this),vl&&cl(this),this.j&&(this.j.stop(),this.j=null),this.I=this.u=null,this.h=this.m=!1,this.H=this.F=this.l=this.i=this.g=this.s=null,Promise.resolve()},r.sa=function(){return this.h},r.Cd=function(){return this.X},r.init=function(){if(this.L.length)if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.cc();var e=new chrome.cast.SessionRequest(this.L);e=new chrome.cast.ApiConfig(e,(function(t){for(var e=c(ml),n=e.next();!n.done;n=e.next())ll(n.value,t)}),(function(t){for(var e=c(ml),n=e.next();!n.done;n=e.next())n=n.value,gl="available"==t,n.j.cc()}),"origin_scoped"),chrome.cast.initialize(e,(function(){}),(function(){})),gl&&this.j.T(pl),(e=vl)&&e.status!=chrome.cast.SessionStatus.STOPPED?ll(this,e):vl=null}else t.__onGCastApiAvailable||(t.__onGCastApiAvailable=yl),t.__onGCastApiAvailable!=yl&&Y("A global Cast SDK hook is already installed! Shaka Player will be unable to receive a notification when the Cast SDK is ready.")},r.Jd=function(t){this.s=t,this.h&&dl(this,{type:"appData",appData:this.s})},r.cast=function(t){var e=this;return O((function(n){if(!e.m)throw new ct(1,8,8e3);if(!gl)throw new ct(1,8,8001);if(e.h)throw new ct(1,8,8002);return e.l=new pr,chrome.cast.requestSession((function(n){return sl(e,t,n)}),(function(t){return ul(e,t)})),S(n,e.l,0)}))},r.vb=function(){if(this.h){if(hl(this),vl){cl(this);try{vl.stop((function(){}),(function(){}))}catch(Mg){}vl=null}fl(this)}},r.get=function(t,e){var n=this;if("video"==t){if(Qu.includes(e))return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];return n.je.apply(n,[t,e].concat(f(i)))}}else if("player"==t){if(el[e]&&!this.get("player","isLive")())return function(){};if(il.includes(e))return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];return n.je.apply(n,[t,e].concat(f(i)))};if(ol.includes(e))return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];return n.xf.apply(n,[t,e].concat(f(i)))};if(tl[e])return function(){return n.g[t][e]}}return this.g[t][e]},r.set=function(t,e,n){this.g[t][e]=n,dl(this,{type:"set",targetName:t,property:e,value:n})},r.je=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];dl(this,{type:"call",targetName:t,methodName:e,args:r})},r.xf=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new pr;var o=this.N.toString();this.N++,this.i[o]=i;try{dl(this,{type:"asyncCall",targetName:t,methodName:e,args:r,id:o})}catch(a){i.reject(a)}return i};var pl=.02,gl=!1,vl=null,ml=new Set;function yl(t){if(t)for(var e=(t=c(ml)).next();!e.done;e=t.next())e.value.init()}function bl(t,e,n){eo.call(this);var r=this;this.j=t,this.i=e,this.h=this.s=this.l=this.u=this.m=null,this.F=n,this.D=new Map,this.g=new al(n,(function(){return Tl(r)}),(function(){return El(r)}),(function(t,e){return xl(r,t,e)}),(function(){return _l(r)}),(function(){return Sl(r)})),function(t){t.g.init(),t.h=new Nr;for(var e=c($u),n=e.next();!n.done;n=e.next())t.h.B(t.j,n.value,(function(e){t.g.sa()||(e=new to(e.type,e),t.l.dispatchEvent(e))}));for(var r in Ru)t.h.B(t.i,Ru[r],(function(e){t.g.sa()||t.s.dispatchEvent(e)}));for(var i in t.m={},e={},t.j)e.Hb=i,Object.defineProperty(t.m,e.Hb,{configurable:!1,enumerable:!0,get:function(e){return function(){return kl(t,e.Hb)}}(e),set:function(e){return function(n){var r=e.Hb;t.g.sa()?t.g.set("video",r,n):t.j[r]=n}}(e)}),e={Hb:e.Hb};t.u={},wl(t,(function(e){Object.defineProperty(t.u,e,{configurable:!1,enumerable:!0,get:function(){return function(t,e){if(t.D.has(e)&&(e=t.D.get(e)),"addEventListener"==e)return function(e,n,r){return t.s.addEventListener(e,n,r)};if("removeEventListener"==e)return function(e,n,r){return t.s.removeEventListener(e,n,r)};if("getMediaElement"==e)return function(){return t.m};if("getSharedConfiguration"==e)return t.g.get("player","getConfiguration");if("getNetworkingEngine"==e)return function(){return t.i.Sb()};if("getAdManager"==e)return function(){return t.i.Zd()};if("setVideoContainer"==e)return function(e){return t.i.se(e)};if(t.g.sa()){if("getManifest"==e||"drmInfo"==e)return function(){return Y(e+"() does not work while casting!"),null};if("attach"==e||"detach"==e)return function(){return Y(e+"() does not work while casting!"),Promise.resolve()}}return t.g.sa()&&0==Object.keys(t.g.g.video).length&&tl[e]||!t.g.sa()?t.i[e].bind(t.i):t.g.get("player",e)}(t,e)}})})),function(t){var e=new Map;wl(t,(function(n,r){if(e.has(r)){var i=e.get(r);n.length<i.length?t.D.set(n,i):t.D.set(i,n)}else e.set(r,n)}))}(t),t.l=new eo,t.l.oc=t.m,t.s=new eo,t.s.oc=t.u}(this)}function wl(t,e){function n(t){return"constructor"!=t&&"function"==typeof r[t]&&!i.has(t)}var r=t.i,i=new Set;for(o in r)n(o)&&(i.add(o),e(o,r[o]));for(var o=Object.getPrototypeOf(r),a=Object.getPrototypeOf({});o&&o!=a;){for(var s=c(Object.getOwnPropertyNames(o)),u=s.next();!u.done;u=s.next())n(u=u.value)&&(i.add(u),e(u,r[u]));o=Object.getPrototypeOf(o)}}function Sl(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.i.kd(),startTime:null};t.j.pause();for(var n=c(Ju),r=n.next();!r.done;r=n.next())r=r.value,e.video[r]=t.j[r];for(t.j.ended||(e.startTime=t.j.currentTime),r=(n=c(nl)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=t.i[i[0]](),e.player[r]=i}for(r=(n=c(rl)).next();!r.done;r=n.next())r=(i=r.value)[1],i=t.i[i[0]](),e.playerAfterLoad[r]=i;return e}function Tl(t){var e=new to("caststatuschanged");t.dispatchEvent(e)}function El(t){var e=new to(t.m.paused?"pause":"play");t.l.dispatchEvent(e)}function _l(t){for(var e=c(nl),n=e.next();!n.done;n=e.next()){var r=n.value;n=r[1],r=t.g.get("player",r[0])(),t.i[n](r)}var i=t.g.get("player","getAssetUri")();n=t.g.get("video","ended"),e=Promise.resolve();var o=t.j.autoplay;r=null,n||(r=t.g.get("video","currentTime")),i&&(t.j.autoplay=!1,e=t.i.load(i,r));var a={};for(r=(n=c(Ju)).next();!r.done;r=n.next())r=r.value,a[r]=t.g.get("video",r);e.then((function(){if(t.j){for(var e=c(Ju),n=e.next();!n.done;n=e.next())n=n.value,t.j[n]=a[n];for(n=(e=c(rl)).next();!n.done;n=e.next()){var r=n.value;n=r[1],r=t.g.get("player",r[0])(),t.i[n](r)}t.j.autoplay=o,i&&t.j.play()}}),(function(e){e=new to(fu,{detail:e}),t.i.dispatchEvent(e)}))}function kl(t,e){if("addEventListener"==e)return function(e,n,r){return t.l.addEventListener(e,n,r)};if("removeEventListener"==e)return function(e,n,r){return t.l.removeEventListener(e,n,r)};if(t.g.sa()&&0==Object.keys(t.g.g.video).length){var n=t.j[e];if("function"!=typeof n)return n}return t.g.sa()?t.g.get("video",e):("function"==typeof(n=t.j[e])&&(n=n.bind(t.j)),n)}function xl(t,e,n){t.g.sa()&&("video"==e?t.l.dispatchEvent(n):"player"==e&&t.s.dispatchEvent(n))}function Ml(t,e,n,r){eo.call(this);var i=this;this.g=t,this.i=e,this.h=new Nr,this.N={video:t,player:e},this.H=n||function(){},this.S=r||function(t){return t},this.j=null,this.I=!1,this.s=!0,this.m=0,this.F=!1,this.D=!0,this.u=this.l=null,this.L=new Ht((function(){Cl(i)})),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=function(){return Al(t)},e.onSenderDisconnected=function(){return Al(t)},e.onSystemVolumeChanged=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&Pl(t,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},t.l),Pl(t,{type:"event",targetName:"video",event:{type:"volumechange"}},t.l)},t.u=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.u.onMessage=function(e){return function(t,e){var n=Xu(e.data);switch(n.type){case"PLAY":t.g.play(),Nl(t);break;case"PAUSE":t.g.pause(),Nl(t);break;case"SEEK":var r=n.currentTime,i=n.resumeState;null!=r&&(t.g.currentTime=Number(r)),i&&"PLAYBACK_START"==i?(t.g.play(),Nl(t)):i&&"PLAYBACK_PAUSE"==i&&(t.g.pause(),Nl(t));break;case"STOP":t.i.Qd().then((function(){t.i&&Nl(t)}));break;case"GET_STATUS":Dl(t,Number(n.requestId));break;case"VOLUME":i=n.volume,r=i.level,i=i.muted;var o=t.g.volume,a=t.g.muted;null!=r&&(t.g.volume=Number(r)),null!=i&&(t.g.muted=i),o==t.g.volume&&a==t.g.muted||Nl(t);break;case"LOAD":t.m=0,t.F=!1,t.D=!1,r=n.media,i=n.currentTime,o=t.S(r.contentId),a=n.autoplay||!0,t.H(r.customData),a&&(t.g.autoplay=!0),t.i.load(o,i).then((function(){t.i&&Dl(t)})).catch((function(e){var r="LOAD_FAILED";7==e.category&&7e3==e.code&&(r="LOAD_CANCELLED"),Pl(t,{requestId:Number(n.requestId),type:r},t.u)}));break;default:Pl(t,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},t.u)}}(t,e)},t.l=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.l.onMessage=function(e){return function(t,e){var n=Xu(e.data);switch(n.type){case"init":t.m=0,t.F=!1,t.D=!0,function(t,e,n){var r,i,o,a,s,u,l,c,f;O((function(h){switch(h.g){case 1:for(r in e.player)i=e.player[r],t.i[r](i);return t.H(n),o=t.g.autoplay,e.manifest?(t.g.autoplay=!1,E(h,5),S(h,t.i.load(e.manifest,e.startTime),7)):S(h,Promise.resolve(),3);case 7:k(h,3);break;case 5:return a=x(h),s=new to(fu,{detail:a}),t.i&&t.i.dispatchEvent(s),h.return();case 3:if(!t.i)return h.return();for(u in e.video)l=e.video[u],t.g[u]=l;for(c in e.playerAfterLoad)f=e.playerAfterLoad[c],t.i[c](f);t.g.autoplay=o,e.manifest&&(t.g.play(),Nl(t)),T(h)}}))}(t,n.initState,n.appData),Cl(t);break;case"appData":t.H(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){var o=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){o.setSystemVolumeLevel(n);break}if("muted"==i){o.setSystemVolumeMuted(n);break}}t.N[r][i]=n;break;case"call":(r=t.N[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(t.m=0,t.F=!1);var a=n.id,s=e.senderId;o=t.N[r],n=o[i].apply(o,n.args),"player"==r&&"load"==i&&(n=n.then((function(){t.D=!0}))),n.then((function(){return Ol(t,s,a,null)}),(function(e){return Ol(t,s,a,e)}))}}(t,e)},e.start();for(var n=(e=c($u)).next();!n.done;n=e.next())t.h.B(t.g,n.value,(function(e){return Il(t,"video",e)}));for(var r in Ru)t.h.B(t.i,Ru[r],(function(e){return Il(t,"player",e)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.i.Ld(3840,2160):t.i.Ld(1920,1080),t.h.B(t.g,"loadeddata",(function(){t.F=!0})),t.h.B(t.i,"loading",(function(){t.s=!1,Rl(t)})),t.h.B(t.g,"playing",(function(){t.s=!1,Rl(t)})),t.h.B(t.g,"pause",(function(){Rl(t)})),t.h.B(t.i,"unloading",(function(){t.s=!0,Rl(t)})),t.h.B(t.g,"ended",(function(){new Ht((function(){t.g&&t.g.ended&&(t.s=!0,Rl(t))})).T(Bl)}))}(this)}function Al(t){t.m=0,t.D=!0,t.I=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Rl(t)}function Rl(t){var e;O((function(n){return 1==n.g?S(n,Promise.resolve(),2):t.i?(e=new to("caststatuschanged"),t.dispatchEvent(e),Ll(t)||Nl(t),void T(n)):n.return()}))}function Il(t,e,n){t.i&&(Cl(t),Pl(t,{type:"event",targetName:e,event:n},t.l))}function Cl(t){t.L.T(jl);for(var e={video:{},player:{}},n=c(Zu),r=n.next();!r.done;r=n.next())r=r.value,e.video[r]=t.g[r];if(t.i.Y())for(var i in el)0==t.m%el[i]&&(e.player[i]=t.i[i]());for(var o in tl)0==t.m%tl[o]&&(e.player[o]=t.i[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),t.F&&(t.m+=1),Pl(t,{type:"update",update:e},t.l),Ll(t)}function Ll(t){return!(!t.D||!t.g.duration&&!t.i.Y())&&(Dl(t),t.D=!1,!0)}function Dl(t,e){var n={contentId:t.i.kd(),streamType:t.i.Y()?"LIVE":"BUFFERED",contentType:""};t.i.Y()||(n.duration=t.g.duration),t.j&&(n.metadata=t.j),Nl(t,void 0===e?0:e,n)}function Ol(t,e,n,r){t.i&&Pl(t,{type:"asyncComplete",id:n,error:r},t.l,e)}function Pl(t,e,n,r){t.I&&(t=Yu(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Nl(t,e,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:t.g.playbackRate,playerState:t.s?Fl:t.i.nd()?Hl:t.g.paused?Kl:Ul,currentTime:t.g.currentTime,supportedMediaCommands:63,volume:{level:t.g.volume,muted:t.g.muted}};n&&(r.media=n),Pl(t,{requestId:void 0===e?0:e,type:"MEDIA_STATUS",status:[r]},t.u)}m(bl,eo),(r=bl.prototype).destroy=function(t){return t&&this.g.vb(),this.h&&(this.h.release(),this.h=null),t=[],this.i&&(t.push(this.i.destroy()),this.i=null),this.g&&(t.push(this.g.destroy()),this.g=null),this.u=this.m=this.j=null,Promise.all(t)},r.ff=function(){return this.m},r.Ye=function(){return this.u},r.Be=function(){return this.g.m&&gl},r.sa=function(){return this.g.sa()},r.Cd=function(){return this.g.Cd()},r.cast=function(){var t,e=this;return O((function(n){return 1==n.g?(t=Sl(e),S(n,e.g.cast(t),2)):e.i?S(n,e.i.Qd(),0):n.return()}))},r.Jd=function(t){this.g.Jd(t)},r.If=function(){!function(t){if(t.h){var e=t.S();chrome.cast.requestSession((function(n){return sl(t,e,n)}),(function(e){return ul(t,e)}))}}(this.g)},r.vb=function(){this.g.vb()},r.Ee=function(t){var e=this;return O((function(n){if(1==n.g)return t==e.F?n.return():(e.F=t,e.g.vb(),S(n,e.g.destroy(),2));e.g=null,e.g=new al(t,(function(){return Tl(e)}),(function(){return El(e)}),(function(t,n){return xl(e,t,n)}),(function(){return _l(e)}),(function(){return Sl(e)})),e.g.init(),T(n)}))},H("shaka.cast.CastProxy",bl),bl.prototype.changeReceiverId=bl.prototype.Ee,bl.prototype.forceDisconnect=bl.prototype.vb,bl.prototype.suggestDisconnect=bl.prototype.If,bl.prototype.setAppData=bl.prototype.Jd,bl.prototype.cast=bl.prototype.cast,bl.prototype.receiverName=bl.prototype.Cd,bl.prototype.isCasting=bl.prototype.sa,bl.prototype.canCast=bl.prototype.Be,bl.prototype.getPlayer=bl.prototype.Ye,bl.prototype.getVideo=bl.prototype.ff,bl.prototype.destroy=bl.prototype.destroy,m(Ml,eo),(r=Ml.prototype).isConnected=function(){return this.I},r.jf=function(){return this.s},r.Ef=function(t){this.j=t},r.He=function(){this.j=null},r.Ff=function(t){this.j||(this.j={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.j.title=t},r.Df=function(t){this.j||(this.j={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.j.images=[{url:t}]},r.Cf=function(t){this.j||(this.j={}),this.j.artist=t,this.j.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var t,e=this;return O((function(n){if(1==n.g)return e.h&&(e.h.release(),e.h=null),t=[],e.i&&(t.push(e.i.destroy()),e.i=null),e.L&&(e.L.stop(),e.L=null),e.g=null,e.N=null,e.H=null,e.I=!1,e.s=!0,e.l=null,e.u=null,S(n,Promise.all(t),2);cast.receiver.CastReceiverManager.getInstance().stop(),T(n)}))},H("shaka.cast.CastReceiver",Ml),Ml.prototype.destroy=Ml.prototype.destroy,Ml.prototype.setContentArtist=Ml.prototype.Cf,Ml.prototype.setContentImage=Ml.prototype.Df,Ml.prototype.setContentTitle=Ml.prototype.Ff,Ml.prototype.clearContentMetadata=Ml.prototype.He,Ml.prototype.setContentMetadata=Ml.prototype.Ef,Ml.prototype.isIdle=Ml.prototype.jf,Ml.prototype.isConnected=Ml.prototype.isConnected;var jl=.5,Bl=5,Fl="IDLE",Ul="PLAYING",Hl="BUFFERING",Kl="PAUSED";function Gl(t){var e=this;this.g=[],this.h=[],this.data=[],(new Ct).box("moov",Lt).U("pssh",(function(t){if(!(1<t.version)){var n=st(t.reader.R,-12,t.size);if(e.data.push(n),e.g.push(ie(t.reader.$a(16))),0<t.version){n=t.reader.M();for(var r=(n=c(et(n))).next();!r.done;r=n.next())r=ie(t.reader.$a(16)),e.h.push(r)}}})).parse(t)}function ql(t,e){var n=t.length,r=e.length+16+n,i=new Uint8Array(r),o=ut(i),a=0;return o.setUint32(a,r),a+=4,o.setUint32(a,1886614376),a+=4,o.setUint32(a,0),a+=4,i.set(e,a),a+=e.length,o.setUint32(a,n),i.set(t,a+4),i}function Vl(t,e){var n=Wl(t,e);return 1!=n.length?null:n[0]}function zl(t,e,n){return 1!=(t=Yl(t,e,n)).length?null:t[0]}function Wl(t,e){return Array.from(t.childNodes).filter((function(t){return t instanceof Element&&t.tagName==e}))}function Yl(t,e,n){return Array.from(t.childNodes).filter((function(t){return t instanceof Element&&t.localName==n&&t.namespaceURI==e}))}function Xl(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function $l(t){return Array.from(t.childNodes).every(Zl)?t.textContent.trim():null}function Zl(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE}function Jl(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i}function Ql(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null}function tc(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function ec(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function nc(t){return 0===(t=Number(t))%1?t:null}function rc(t){return 0===(t=Number(t))%1&&0<t?t:null}function ic(t){return 0===(t=Number(t))%1&&0<=t?t:null}function oc(t){return t=Number(t),isNaN(t)?null:t}function ac(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t),isNaN(t)?null:t}function sc(t,e){var n=new DOMParser,r=null,i=null;try{i=n.parseFromString(t,"text/xml")}catch(o){}return i&&i.documentElement.tagName==e&&(r=i.documentElement),r&&0<r.getElementsByTagName("parsererror").length?null:r}function uc(t,e){try{return sc(dt(t),e)}catch(n){return null}}function lc(t,e,n){var r=function(t){for(var e=[],n=(t=c(t)).next();!n.done;n=t.next())(n=fc(n.value))&&e.push(n);return e}(t),i=null;t=[];var o=[],a=new Set(r.map((function(t){return t.keyId})));if(a.delete(null),1<a.size)throw new ct(2,4,4010);if(e||(o=r.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.me||(i=t.init||i,!1)}))).length&&(0==(t=function(t,e,n){for(var r=[],i=(e=c(e)).next();!i.done;i=e.next()){i=i.value;var o=n[i.me];if(o){var a;if(a=zl(i.node,"urn:microsoft:playready","pro")){a=ne(a.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);a=[{initData:ql(a,s),initDataType:"cenc",keyId:i.keyId}]}else a=null;a=ur(o,i.init||t||a),(o=dc.get(o))&&(a.licenseServerUri=o(i)),r.push(a)}}return r}(i,o,n)).length&&(t=[ur("",i)])),r.length&&(e||!o.length))for(t=[],n=(e=c(Object.values(n))).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(ur(n,i));if(a=Array.from(a)[0]||null)for(n=(e=c(t)).next();!n.done;n=e.next())for(r=(n=c(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=a;return{Ud:a,ng:i,drmInfos:t,Yd:!0}}function cc(t){return(t=zl(t.node,"urn:microsoft:playready","pro"))&&(t=function(t){var e=0,n=ut(t),r=n.getUint32(e,!0);if(r!=t.byteLength)return[];t:{for(t=e+6,e=[];t<n.byteLength-1;){r=n.getUint16(t,!0),t+=2;var i=n.getUint16(t,!0);if(t+=2,0!=(1&i)||i+t>n.byteLength){n=[];break t}var o=st(n,t,i);e.push({type:r,value:o}),t+=i}n=e}return n}(t=ne(t.textContent)).filter((function(t){return t.type===hc}))[0])&&(t=sc(t=pt(t.value,!0),"WRMHEADER"))?function(t){for(var e=(t=c(t.getElementsByTagName("DATA"))).next();!e.done;e=t.next())for(var n=(e=c(e.value.childNodes)).next();!n.done;n=e.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(t):""}function fc(t){var e=t.getAttribute("schemeIdUri"),n=Xl(t,"urn:mpeg:cenc:2013","default_KID"),r=Yl(t,"urn:mpeg:cenc:2013","pssh").map($l);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new ct(2,4,4009);var i=[];try{i=r.map((function(t){return{initDataType:"cenc",initData:ne(t),keyId:null}}))}catch(o){throw new ct(2,4,4007)}return{node:t,me:e,keyId:n,init:0<i.length?i:null}}var hc=1,dc=(new Map).set("com.widevine.alpha",(function(t){return(t=zl(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",cc).set("com.microsoft.playready.recommendation",cc).set("com.microsoft.playready.software",cc).set("com.microsoft.playready.hardware",cc);function pc(e,n,r,i,o){var a={RepresentationID:n,Number:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(e,n,r,i){if("$$"==e)return"$";var o=a[n];if(null==o)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(o=Math.round(o)),i){case void 0:case"d":case"i":case"u":e=o.toString();break;case"o":e=o.toString(8);break;case"x":e=o.toString(16);break;case"X":e=o.toString(16).toUpperCase();break;default:e=o.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e}))}function gc(t,e){var n=vc(t,e,"timescale"),r=1;n&&(r=rc(n)||1);var i=vc(t,e,"duration");n=rc(i||""),"image"==t.K.contentType&&(n=oc(i||"")),n&&(n/=r);var o=vc(t,e,"startNumber");i=Number(vc(t,e,"presentationTimeOffset"))||0;var a=ic(o||"");null!=o&&null!=a||(a=1);var s=mc(t,e,"SegmentTimeline");if(o=null,s){o=r;var u=t.V.duration||1/0,l=Wl(s,"S");s=[];for(var f=-i,h=(l=c(nt(l))).next();!h.done;h=l.next()){var d=(h=h.value).item,p=h.next,g=Jl(d,"t",ic);h=Jl(d,"d",ic);var v=Jl(d,"r",nc);if(null!=g&&(g-=i),!h)break;if(d=null!=g?g:f,0>(g=v||0))if(p){if(null==(p=Jl(p,"t",ic)))break;if(d>=p)break;g=Math.ceil((p-d)/h)-1}else{if(1/0==u)break;if(d/o>=u)break;g=Math.ceil((u*o-d)/h)-1}for(0<s.length&&d!=f&&(s[s.length-1].end=d/o),g=(p=c(et(g+1))).next();!g.done;g=p.next())f=d+h,s.push({start:d/o,end:f/o,Nf:d}),d=f}o=s}return{timescale:r,ia:n,Gb:a,Ta:i/r||0,Rd:i,timeline:o}}function vc(t,e,n){return[e(t.K),e(t.ka),e(t.fa)].filter(Rt).map((function(t){return t.getAttribute(n)})).reduce((function(t,e){return t||e}))}function mc(t,e,n){return[e(t.K),e(t.ka),e(t.fa)].filter(Rt).map((function(t){return Vl(t,n)})).reduce((function(t,e){return t||e}))}function yc(t,e,n,r,i,o){if(o=void 0===o?0:o,Xl(t,"http://www.w3.org/1999/xlink","href")){var a=function(t,e,n,r,i,o){for(var a=Xl(t,"http://www.w3.org/1999/xlink","href"),s=Xl(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=c(Array.from(t.attributes)),l=u.next();!l.done;l=u.next())"http://www.w3.org/1999/xlink"==(l=l.value).namespaceURI&&t.removeAttributeNS(l.namespaceURI,l.localName);if(5<=o)return Xi(new ct(2,4,4028));if("onLoad"!=s)return Xi(new ct(2,4,4027));var f=sr([r],[a]);return i.request(0,uo(f,e)).ba((function(r){if(!(r=uc(r.data,t.tagName)))return Xi(new ct(2,4,4001,a));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=(r=c(Array.from(r.attributes))).next();!s.done;s=r.next())t.setAttributeNode(s.value.cloneNode(!1));return yc(t,e,n,f[0],i,o+1)}))}(t,e,n,r,i,o);return n&&(a=a.ba(void 0,(function(){return yc(t,e,n,r,i,o)}))),a}a=[];for(var s=c(Array.from(t.childNodes)),u=s.next();!u.done;u=s.next())(u=u.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Xl(u,"http://www.w3.org/1999/xlink","href")?t.removeChild(u):"SegmentTimeline"!=u.tagName&&a.push(yc(u,e,n,r,i,o)));return Qi(a).ba((function(){return t}))}function bc(t,e,n,r,i,o,a){var s,u=(new Ct).U("sidx",(function(t){s=function(t,e,n,r,i,o,a){var s=[];a.reader.skip(4);var u=a.reader.M();if(0==u)throw new ct(2,3,3005);if(0==a.version)var l=a.reader.M(),f=a.reader.M();else l=a.reader.mb(),f=a.reader.mb();a.reader.skip(2);var h=a.reader.Fb();for(t=t+a.size+f,h=c(et(h)),f=h.next();!f.done;f=h.next()){var d=a.reader.M();f=(2147483648&d)>>>31,d&=2147483647;var p=a.reader.M();if(a.reader.skip(4),1==f)throw new ct(2,3,3006);s.push(new ta(l/u+n,(l+p)/u+n,(function(){return o}),t,t+d-1,e,n,r,i)),l+=p,t+=d}return a.parser.stop(),s}(e,r,i,o,a,n,t)}));if(t&&u.parse(t),s)return s;throw new ct(2,3,3004)}function wc(t){this.h=ut(t),this.g=new bt(this.h,0)}function Sc(t){var e=Tc(t);if(7<e.length)throw new ct(2,3,3002);for(var n=0,r=(e=c(e)).next();!r.done;r=e.next())n=256*n+r.value;e=Tc(t);t:{for(var i=(r=c(Ec)).next();!i.done;i=r.next())if(it(e,new Uint8Array(i.value))){r=!0;break t}r=!1}if(r)e=t.h.byteLength-t.g.Z();else{if(8==e.length&&224&e[1])throw new ct(2,3,3001);r=0;for(var o=(i=c(nt(e))).next();!o.done;o=i.next()){var a=(o=o.value).item;r=0==o.ha?a&(1<<8-e.length)-1:256*r+a}e=r}return e=t.g.Z()+e<=t.h.byteLength?e:t.h.byteLength-t.g.Z(),r=ut(t.h,t.g.Z(),e),t.g.skip(e),new _c(n,r)}function Tc(t){var e=t.g.Z(),n=t.g.$();if(0==n)throw new ct(2,3,3002);return n=8-Math.floor(Math.log2(n)),t.g.skip(n-1),st(t.h,e,n)}wc.prototype.na=function(){return this.g.na()};var Ec=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function _c(t,e){this.id=t,this.g=e}function kc(t){if(8<t.g.byteLength)throw new ct(2,3,3002);if(8==t.g.byteLength&&224&t.g.getUint8(0))throw new ct(2,3,3001);for(var e=0,n=c(et(t.g.byteLength)),r=n.next();!r.done;r=n.next())e=256*e+(r=t.g.getUint8(r.value));return e}function xc(t){var e=new wc(t.g);if(179!=(t=Sc(e)).id)throw new ct(2,3,3013);if(t=kc(t),183!=(e=Sc(e)).id)throw new ct(2,3,3012);e=new wc(e.g);for(var n=0;e.na();){var r=Sc(e);if(241==r.id){n=kc(r);break}}return{Of:t,wf:n}}function Mc(t,e){var n=mc(t,e,"Initialization");if(!n)return null;var r=t.K.ya,i=n.getAttribute("sourceURL");i&&(r=sr(t.K.ya,[i])),i=0;var o=null;return(n=Jl(n,"range",ec))&&(i=n.start,o=n.end),new Qo((function(){return r}),i,o)}function Ac(t,e){var n=Number(vc(t,Ic,"presentationTimeOffset"))||0,r=vc(t,Ic,"timescale"),i=1;r&&(i=rc(r)||1);var o=n/i||0,a=Mc(t,Ic);!function(t,e){if(Lc(t,e),!Cc(t))throw new ct(2,4,4002)}(t,a);var s=ro(t);return{wb:function(){var t=mc(s,Ic,"RepresentationIndex"),n=s.K.ya;return t&&(t=t.getAttribute("sourceURL"))&&(n=sr(s.K.ya,[t])),t=Cc(s),Rc(s,e,a,n,t.start,t.end,o)}}}function Rc(t,e,n,r,i,o,a){var s,u,l,c,f,h,d,p,g,v,m,y,b,w,T;return O((function(E){if(1==E.g)return s=t.presentationTimeline,u=!t.cb||!t.V.ce,l=t.V.start,c=t.V.duration,f=t.K.mimeType.split("/")[1],d=null,p=[(h=e)(r,i,o),"webm"==f?h(n.ma(),n.ja,n.ea):null],h=null,S(E,Promise.all(p),2);if(g=E.h,v=g[0],m=g[1]||null,null,b=l-a,w=l,T=c?l+c:1/0,"mp4"==f)var _=bc(v,i,r,n,b,w,T);else{if(440786851!=Sc(_=new wc(m)).id)throw new ct(2,3,3008);var k=Sc(_);if(408125543!=k.id)throw new ct(2,3,3009);_=k.g.byteOffset,k=new wc(k.g);for(var x=null;k.na();){var M=Sc(k);if(357149030==M.id){x=M;break}}if(!x)throw new ct(2,3,3010);for(x=new wc(x.g),M=1e6,k=null;x.na();){var A=Sc(x);if(2807729==A.id)M=kc(A);else if(17545==A.id)if(4==A.g.byteLength)k=A.g.getFloat32(0);else{if(8!=A.g.byteLength)throw new ct(2,3,3003);k=A.g.getFloat64(0)}}if(null==k)throw new ct(2,3,3011);if(k*=x=M/1e9,475249515!=(M=Sc(new wc(v))).id)throw new ct(2,3,3007);_=function(t,e,n,r,i,o,a,s,u){function l(){return i}var c=[];t=new wc(t.g);for(var f=null,h=null;t.na();){var d=Sc(t);if(187==d.id){var p=xc(d);p&&(d=n*p.Of,p=e+p.wf,null!=f&&c.push(new ta(f+a,d+a,l,h,p-1,o,a,s,u)),f=d,h=p)}}return null!=f&&c.push(new ta(f+a,r+a,l,h,null,o,a,s,u)),c}(M,_,x,k,r,n,b,w,T)}return y=_,s.Cb(y),d=new Sa(y),u&&d.Ya(w,T,!0),E.return(d)}))}function Ic(t){return t.$b}function Cc(t){var e=mc(t,Ic,"RepresentationIndex");return t=ec((t=vc(t,Ic,"indexRange"))||""),e&&(t=Jl(e,"range",ec,t)),t}function Lc(t,e){var n=t.K.mimeType.split("/")[1];if(t.K.contentType!=fr&&"mp4"!=n&&"webm"!=n)throw new ct(2,4,4006);if("webm"==n&&!e)throw new ct(2,4,4005)}function Dc(t,e){var n=Mc(t,Oc),r=function(t){var e=function(t){return[t.K.ab,t.ka.ab,t.fa.ab].filter(Rt).map((function(t){return Wl(t,"SegmentURL")})).reduce((function(t,e){return 0<t.length?t:e})).map((function(e){return e.getAttribute("indexRange")&&!t.ae&&(t.ae=!0),{mf:e.getAttribute("media"),start:(e=Jl(e,"mediaRange",ec,{start:0,end:null})).start,end:e.end}}))}(t),n=(t=gc(t,Oc)).Gb;0==n&&(n=1);var r=0;return t.ia?r=t.ia*(n-1):t.timeline&&0<t.timeline.length&&(r=t.timeline[0].start),{ia:t.ia,startTime:r,Gb:n,Ta:t.Ta,timeline:t.timeline,zb:e}}(t);if(!r.ia&&!r.timeline&&1<r.zb.length)throw new ct(2,4,4002);if(!r.ia&&!t.V.duration&&!r.timeline&&1==r.zb.length)throw new ct(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new ct(2,4,4002);var i=null,o=null;return t.fa.id&&t.K.id&&(o=t.fa.id+","+t.K.id,i=e[o]),n=function(t,e,n,r,i){var o=r.zb.length;r.timeline&&r.timeline.length!=r.zb.length&&(o=Math.min(r.timeline.length,r.zb.length));for(var a=t-r.Ta,s=e?t+e:1/0,u=[],l=r.startTime,f={},h=(o=c(et(o))).next();!h.done;f={Tc:f.Tc},h=o.next()){h=h.value;var d=r.zb[h];f.Tc=sr(n,[d.mf]);var p;p=null!=r.ia?l+r.ia:r.timeline?r.timeline[h].end:l+e,u.push(new ta(t+l,t+p,function(t){return function(){return t.Tc}}(f),d.start,d.end,i,a,t,s)),l=p}return u}(t.V.start,t.V.duration,t.K.ya,r,n),r=!i,i?i.Ab(n,t.presentationTimeline.Za()):(t.presentationTimeline.Cb(n),i=new Sa(n),o&&t.cb&&(e[o]=i)),t.cb&&t.V.ce||i.Ya(t.V.start,t.V.duration?t.V.start+t.V.duration:1/0,r),{wb:function(){return Promise.resolve(i)}}}function Oc(t){return t.ab}function Pc(t,e,n,r,i,o){var a=function(t){var e=vc(t,Nc,"initialization");if(!e)return null;var n=t.K.id,r=t.bandwidth||null,i=t.K.ya;return new Qo((function(){var t=pc(e,n,null,r,null);return sr(i,[t])}),0,null)}(t),s=function(t){var e=gc(t,Nc),n=vc(t,Nc,"media");return t=vc(t,Nc,"index"),{ia:e.ia,timescale:e.timescale,Gb:e.Gb,Ta:e.Ta,Rd:e.Rd,timeline:e.timeline,td:n,Wb:t}}(t);!function(t){var e=t.Wb?1:0;if(e+=t.timeline?1:0,0==(e+=t.ia?1:0))throw new ct(2,4,4002);if(1!=e&&(t.Wb&&(t.timeline=null),t.ia=null),!t.Wb&&!t.td)throw new ct(2,4,4002)}(s);var u=ro(t);if(s.Wb)return Lc(t,a),{wb:function(){var t=pc(s.Wb,u.K.id,null,u.bandwidth||null,null);return t=sr(u.K.ya,[t]),Rc(u,e,a,t,0,null,s.Ta)}};if(s.ia)return r||(t.presentationTimeline.vd(s.ia),t.presentationTimeline.wd(t.V.start)),{wb:function(){return function(t,e,n,r,i){function o(t){var n=(t-p)*d,i=n+e.Ta,o=n+l;return n=o+d,(o=new ta(o,Math.min(n,s()),(function(){var e=pc(v,y,t,m,i*g);return sr(b,[e])}),0,null,r,w,l,s())).j=n,o}function a(){var t=[Math.max(u.Za(),l),Math.min(u.gb(),s())].map((function(t){return t-l}));return[Math.ceil(t[0]/d),Math.ceil(t[1]/d)-1].map((function(t){return t+p}))}function s(){var t=null!=f&&i[f]||h;return t?l+t:1/0}var u=t.presentationTimeline,l=t.V.start,f=t.fa.id,h=t.V.duration,d=e.ia,p=e.Gb,g=e.timescale,v=e.td,m=t.bandwidth||null,y=t.K.id,b=t.K.ya,w=l-e.Ta,S=a();t=t.cb?Math.max(S[0],S[1]-n+1):S[0],S=S[1],n=[];for(var T=t;T<=S;++T){var E=o(T);n.push(E)}var _=new Sa(n);if(n=u.gb()<s(),T=u.Y(),n||T){var k=Math.max(t,S+1);_.Lc(d,(function(){var t=u.Za();_.eb(t);var e=c(a());e.next(),e=e.next().value;for(var n=[];k<=e;){var r=o(k);n.push(r),k++}return t>s()&&!n.length?null:n}))}return Promise.resolve(_)}(u,s,i,a,o)}};var l=null;r=null,t.fa.id&&t.K.id&&(r=t.fa.id+","+t.K.id,l=n[r]);var f=function(t,e,n){var r=t.V.start,i=t.V.duration,o=r-e.Ta;i=i?r+i:1/0;for(var a=[],s={},u=c(nt(e.timeline)),l=u.next();!l.done;s={Sc:s.Sc,Vc:s.Vc,Yc:s.Yc,Pc:s.Pc,$c:s.$c,Qc:s.Qc},l=u.next()){var f=(l=l.value).item,h=f.start,d=f.Nf;f=f.end,s.Yc=l.ha+e.Gb,s.$c=d+e.Rd,s.Vc=t.K.id,s.Pc=t.bandwidth||null,s.Sc=e.td,s.Qc=t.K.ya,a.push(new ta(r+h,r+f,function(t){return function(){var e=pc(t.Sc,t.Vc,t.Yc,t.Pc||null,t.$c);return sr(t.Qc,[e]).map((function(t){return t.toString()}))}}(s),0,null,n,o,r,i))}return a}(u,s,a),h=t.V.start,d=t.V.duration?t.V.start+t.V.duration:1/0,p=1/0!=d;return l?(p&&new Sa(f).Ya(h,d,!0),l.Ab(f,t.presentationTimeline.Za())):(t.presentationTimeline.Cb(f),l=new Sa(f),r&&t.cb&&(n[r]=l)),p&&l.Ya(h,d),{wb:function(){return Promise.resolve(l)}}}function Nc(t){return t.ac}function jc(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}function Bc(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,E,_,k,x,M,A,R,I,C,L,D,P,N,j;return O((function(O){switch(O.g){case 1:if(r=hr,function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.rc),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&fe(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(o=!0);o||n.push(i)}e.rc=n}}(e),function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.Nc),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&fe(i.roles,s.roles)&&wo(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(o=!0);o||n.push(i)}e.Nc=n}}(e),function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&fe(i.roles,s.roles)&&(o=!0);o||n.push(i)}e.textStreams=n}}(e),function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){e=e.value;for(var n=[],r=c(e.imageStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=c(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&(o=!0);o||n.push(i)}e.imageStreams=n}}(e),!n&&1==e.length){i=e[0],t.g=i.rc,t.h=i.Nc,t.j=i.textStreams,t.i=i.imageStreams,O.v(2);break}for(o=-1,a=c(nt(e)),s=a.next();!s.done;s=a.next())u=s.value,l=u.ha,f=u.item,t.m.has(f.id)||(t.m.add(f.id),-1==o&&(o=l));if(-1==o)return O.return();for(h=e.map((function(t){return t.rc})),d=e.map((function(t){return t.Nc})),p=e.map((function(t){return t.textStreams})),g=e.map((function(t){return t.imageStreams})),v=c(p),m=v.next();!m.done;m=v.next())m.value.push(nf(r.aa));for(y=c(g),b=y.next();!b.done;b=y.next())b.value.push(nf(r.lc));return S(O,Uc(t.g,h,o,Gc,Vc),3);case 3:return S(O,Uc(t.h,d,o,Gc,Vc),4);case 4:return S(O,Uc(t.j,p,o,Gc,Vc),5);case 5:return S(O,Uc(t.i,g,o,Gc,Vc),2);case 2:if(w=0,E=[],t.h.length&&t.g.length)for(R=c(t.g),I=R.next();!I.done;I=R.next())for(C=I.value,L=c(t.h),D=L.next();!D.done;D=L.next())P=D.value,N=Bo(C.drmInfos,P.drmInfos),C.drmInfos.length&&P.drmInfos.length&&!N.length||(j=w++,E.push({id:j,language:C.language,primary:C.primary,audio:C,video:P,bandwidth:(C.bandwidth||0)+(P.bandwidth||0),drmInfos:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(_=t.h.concat(t.g),k=c(_),x=k.next();!x.done;x=k.next())M=x.value,A=w++,E.push({id:A,language:M.language,primary:M.primary,audio:M.type==r.bb?M:null,video:M.type==r.Na?M:null,bandwidth:M.bandwidth||0,drmInfos:M.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});t.l=E,T(O)}}))}function Fc(t){var e,n,r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,T,E,_,k,x;return O((function(M){switch(M.g){case 1:if(e=hr,1==t.length)return M.return(t[0]);for(n=t.map((function(t){return t.filter((function(t){return t.type==e.bb}))})),r=t.map((function(t){return t.filter((function(t){return t.type==e.Na}))})),i=t.map((function(t){return t.filter((function(t){return t.type==e.aa}))})),o=t.map((function(t){return t.filter((function(t){return t.type==e.lc}))})),a=c(i),s=a.next();!s.done;s=a.next())s.value.push(ef(e.aa));for(u=c(o),l=u.next();!l.done;l=u.next())l.value.push(ef(e.lc));return S(M,Uc([],n,0,qc,zc),2);case 2:return f=M.h,S(M,Uc([],r,0,qc,zc),3);case 3:return h=M.h,S(M,Uc([],i,0,qc,zc),4);case 4:return d=M.h,S(M,Uc([],o,0,qc,zc),5);case 5:if(p=M.h,g=0,h.length&&f.length)for(b=c(f),w=b.next();!w.done;w=b.next())for(T=w.value,E=c(h),_=E.next();!_.done;_=E.next())k=_.value,x=g++,k.variantIds.push(x),T.variantIds.push(x);else for(v=h.concat(f),m=c(v),y=m.next();!y.done;y=m.next())y.value.variantIds=[g++];return M.return(h.concat(f).concat(d).concat(p))}}))}function Uc(t,e,n,r,i){var o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,T,E,_,k,x,M;return O((function(A){switch(A.g){case 1:for(o=hr,a=[],s=c(nt(e)),u=s.next();!u.done;u=s.next())l=u.value,f=l.ha,h=l.item,f>=n?a.push(new Set(h)):a.push(new Set);d=c(t),p=d.next();case 2:if(p.done){A.v(4);break}return S(A,function(t,e,n,r,i){var o;return O((function(a){return 1==a.g?(o=Wc(e,t))?S(a,Hc(o),2):a.return(!1):(Kc(t,o,n,r,i),a.return(!0))}))}(p.value,e,n,i,a),5);case 5:if(!A.h)throw new ct(2,4,4037);p=d.next(),A.v(2);break;case 4:g=c(a),v=g.next();case 6:if(v.done){A.v(8);break}m=v.value,y=c(m),b=y.next();case 9:if(b.done){v=g.next(),A.v(6);break}return S(A,function(t,e,n,r,i){var o,a;return O((function(s){return 1==s.g?(o=n(t),(a=Wc(e,o))?o.createSegmentIndex?S(s,Hc(a),2):s.v(2):s.return(null)):(Kc(o,a,0,r,i),s.return(o))}))}(b.value,e,r,i,a),12);case 12:(w=A.h)&&t.push(w),b=y.next(),A.v(9);break;case 8:for(T=c(a),v=T.next();!v.done;v=T.next())for(E=v.value,_={},k=c(E),b=k.next();!b.done;_={Va:_.Va},b=k.next())if(_.Va=b.value,x=_.Va.type==o.aa&&!_.Va.language,M=_.Va.type==o.lc&&!_.Va.tilesLayout,!x&&!M&&t.some(function(t){return function(e){return e.mimeType==t.Va.mimeType&&_r(e.codecs)==_r(t.Va.codecs)}}(_)))throw new ct(2,4,4037);return A.return(t)}}))}function Hc(t){for(var e=[],n=(t=c(t)).next();!n.done;n=t.next())n=n.value,e.push(n.createSegmentIndex()),n.trickModeVideo&&!n.trickModeVideo.segmentIndex&&e.push(n.trickModeVideo.createSegmentIndex());return Promise.all(e)}function Kc(t,e,n,r,i){for(var o=(e=c(nt(e))).next();!o.done;o=e.next()){var a=o.value;if(o=a.ha,a=a.item,o>=n){r(t,a);var s=!0;"audio"==t.type&&0==oi(t.language,a.language)&&(s=!1),s&&i[o].delete(a)}}}function Gc(t){return(t=Object.assign({},t)).originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.segmentIndex=new _a,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function qc(t){return(t=Object.assign({},t)).keyIds=new Set,t.segments=[],t.variantIds=[],t.closedCaptions=null,t}function Vc(t,e){t.roles=Array.from(new Set(t.roles.concat(e.roles))),e.emsgSchemeIdUris&&(t.emsgSchemeIdUris=Array.from(new Set(t.emsgSchemeIdUris.concat(e.emsgSchemeIdUris))));var n=e.keyIds;if(n=new Set([].concat(f(t.keyIds),f(n))),t.keyIds=n,null==t.originalId?t.originalId=e.originalId:t.originalId+=","+(e.originalId||""),n=Bo(t.drmInfos,e.drmInfos),e.drmInfos.length&&t.drmInfos.length&&!n.length)throw new ct(2,4,4038);if(t.drmInfos=n,t.encrypted=t.encrypted||e.encrypted,e.closedCaptions){t.closedCaptions||(t.closedCaptions=new Map);for(var r=(n=c(e.closedCaptions)).next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,t.closedCaptions.set(r,i)}}t.segmentIndex.l.push(e.segmentIndex),e.trickModeVideo?(t.trickModeVideo||(t.trickModeVideo=Gc(e.trickModeVideo),t.trickModeVideo.segmentIndex=t.segmentIndex.clone()),Vc(t.trickModeVideo,e.trickModeVideo)):t.trickModeVideo&&Vc(t.trickModeVideo,e)}function zc(t,e){t.roles=Array.from(new Set(t.roles.concat(e.roles)));var n=e.keyIds;if(n=new Set([].concat(f(t.keyIds),f(n))),t.keyIds=n,t.encrypted=t.encrypted&&e.encrypted,t.segments.push.apply(t.segments,f(e.segments)),e.closedCaptions){t.closedCaptions||(t.closedCaptions=new Map);for(var r=(n=c(e.closedCaptions)).next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,t.closedCaptions.set(r,i)}}}function Wc(t,e){for(var n=[],r=c(t),i=r.next();!i.done;i=r.next()){for(var o=e,a={audio:Yc,video:Yc,text:Xc,image:$c}[o.type],s={audio:Zc,video:Jc,text:Qc,image:tf}[o.type],u=null,l=(i=c(i.value)).next();!l.done;l=i.next())!a(o,l=l.value)||u&&!s(o,u,l)||(u=l);if(!(o=u))return null;n.push(o)}return n}function Yc(t,e){var n;if(!(n=e.mimeType!=t.mimeType||_r(e.codecs)!=_r(t.codecs))&&(n=t.drmInfos)){n=t.drmInfos;var r=e.drmInfos;n=!(!n.length||!r.length||0<Bo(n,r).length)}return!n}function Xc(t,e){return!!t.language&&(!e.language||0!=oi(t.language,e.language)&&e.kind==t.kind)}function $c(t){return!!t.tilesLayout}function Zc(t,e,n){if(t.id==n.id)return!0;var r=oi(t.language,e.language),i=oi(t.language,n.language);return i>r||!(i<r)&&(!(e.primary||!n.primary)||!(e.primary&&!n.primary)&&(t.roles.length?(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length||!(i.length<r.length)&&n.roles.length<e.roles.length):!(n.roles.length||!e.roles.length)||!(n.roles.length&&!e.roles.length)&&((r=rf(t.channelsCount,e.channelsCount,n.channelsCount))==af||r!=uf&&((r=rf(t.audioSamplingRate,e.audioSamplingRate,n.audioSamplingRate))==af||r!=uf&&!(!t.bandwidth||of(t.bandwidth,e.bandwidth,n.bandwidth)!=af)))))}function Jc(t,e,n){if(t.id==n.id)return!0;var r=rf(t.width*t.height,e.width*e.height,n.width*n.height);if(r==af)return!0;if(r==uf)return!1;if(t.frameRate){if((r=rf(t.frameRate,e.frameRate,n.frameRate))==af)return!0;if(r==uf)return!1}return!(!t.bandwidth||of(t.bandwidth,e.bandwidth,n.bandwidth)!=af)}function Qc(t,e,n){if(t.id==n.id)return!0;var r=oi(t.language,e.language),i=oi(t.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!e.primary&&n.primary)return!0;if(e.primary&&!n.primary)return!1;if(t.roles.length){if(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&e.roles.length)return!0;if(n.roles.length&&!e.roles.length)return!1}return n.mimeType==t.mimeType&&n.codecs==t.codecs&&(e.mimeType!=t.mimeType||e.codecs!=t.codecs)}function tf(t,e,n){return t.id==n.id||rf(t.width*t.height,e.width*e.height,n.width*n.height)==af}function ef(t){return{id:0,originalId:"",primary:!1,type:t,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function nf(t){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Sa([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:t,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function rf(t,e,n){if(e==t&&t!=n)return uf;if(n==t&&t!=e)return af;if(e>t){if(n<=t||n-t<e-t)return af;if(n-t>e-t)return uf}else{if(n>t)return uf;if(t-n<t-e)return af;if(t-n>t-e)return uf}return sf}function of(t,e,n){return e=Math.abs(t-e),(t=Math.abs(t-n))<e?af:e<t?uf:sf}jc.prototype.release=function(){for(var t=c(this.g.concat(this.h,this.j,this.i)),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};var af=1,sf=0,uf=-1;function lf(){var t=this;this.C=this.o=null,this.h=[],this.A=null,this.D=1,this.l={},this.H={},this.g=new jc,this.u=0,this.F=new K(5),this.s=new Ht((function(){t.Xb()})),this.i=new io,this.j=1/0,this.m=!1}function cf(t){var e,n,r,i,o,a,s;return O((function(u){return 1==u.g?(e=uo(t.h,t.o.retryParameters),n=t.C.networkingEngine,r=Date.now(),i=n.request(0,e),oo(t.i,i),S(u,i.promise,2)):3!=u.g?(o=u.h,t.C?(o.uri&&!t.h.includes(o.uri)&&t.h.unshift(o.uri),S(u,function(t,e,n){var r,i,o,a;return O((function(s){if(1==s.g){if(!(r=uc(e,"MPD")))throw new ct(2,4,4001,n);return t.o.dash.disableXlinkProcessing?s.return(ff(t,r,n)):(i=t.o.dash.xlinkFailGracefully,o=yc(r,t.o.retryParameters,i,n,t.C.networkingEngine),oo(t.i,o),S(s,o.promise,2))}return a=s.h,s.return(ff(t,a,n))}))}(t,o.data,o.uri),3)):u.return(0)):(a=Date.now(),s=(a-r)/1e3,G(t.F,1,s),u.return(s))}))}function ff(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,_,M,A,R,I,C,L,D,P,N;return O((function(j){switch(j.g){case 1:if(r=[n],0<(i=Wl(e,"Location").map($l).filter(Rt)).length&&(o=sr(r,i),r=t.h=o),a=Wl(e,"BaseURL"),s=a.map($l),u=sr(r,s),l=0,a&&a.length&&(l=Jl(a[0],"availabilityTimeOffset",oc)||0),f=t.o.dash.ignoreMinBufferTime,h=0,f||(h=Jl(e,"minBufferTime",tc)||0),t.u=Jl(e,"minimumUpdatePeriod",tc,-1),d=Jl(e,"availabilityStartTime",Ql),p=Jl(e,"timeShiftBufferDepth",tc),g=t.o.dash.ignoreSuggestedPresentationDelay,v=null,g||(v=Jl(e,"suggestedPresentationDelay",tc)),m=t.o.dash.ignoreMaxSegmentDuration,y=null,m||(y=Jl(e,"maxSegmentDuration",tc)),b=e.getAttribute("type")||"static",t.A)for(w=t.A.presentationTimeline,_=c(Object.values(t.l)),M=_.next();!M.done;M=_.next())M.value.eb(w.Za());else A=t.o.defaultPresentationDelay||1.5*h,w=new ea(d,null!=v?v:A,t.o.dash.autoCorrectDrift);R=e.getAttribute("profiles")||"",I={cb:"static"!=b,presentationTimeline:w,fa:null,V:null,ka:null,K:null,bandwidth:0,ae:!1,ub:l,profiles:R.split(",")};for(var B=Jl(e,"mediaPresentationDuration",tc),F=[],U=0,H=Wl(e,"Period"),K=(H=c(nt(H))).next();!K.done;K=H.next()){var G=K.value;K=G.item,G=G.next,U=Jl(K,"start",tc,U);var q=Jl(K,"duration",tc),V=null;if(G){var z=Jl(G,"start",tc);null!=z&&(V=z-U)}else null!=B&&(V=B-U);if(null==V&&(V=q),K=hf(t,I,u,{start:U,duration:V,node:K,ce:null==V||!G}),F.push(K),I.fa.id&&V&&(t.H[I.fa.id]=V),null==V){U=null;break}U+=V}return L=(C=null!=B?{periods:F,duration:B,Wd:!1}:{periods:F,duration:U,Wd:!0}).duration,D=C.periods,w.bc("static"==b),"static"!=b&&C.Wd||w.Ja(L||1/0),t.j&&!t.m&&t.C.isAutoLowLatencyMode()&&(t.C.enableLowLatencyMode(),t.m=t.C.isLowLatencyMode()),t.m?w.pe(t.j):t.j&&Y("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),w.Y()&&!isNaN(t.o.availabilityWindowOverride)&&(p=t.o.availabilityWindowOverride),null==p&&(p=1/0),w.Nd(p),w.vd(y||1),S(j,Bc(t.g,D,I.cb),2);case 2:if(t.A){t.A.variants=t.g.l,t.A.textStreams=t.g.j,t.A.imageStreams=t.g.i,t.C.filter(t.A),j.v(3);break}if(t.A={presentationTimeline:w,variants:t.g.l,textStreams:t.g.j,imageStreams:t.g.i,offlineSessionIds:[],minBufferTime:h||0},!w.ue()){j.v(3);break}return P=Wl(e,"UTCTiming"),S(j,function(t,e,n){var r,i,o,a,s,u,l,f;return O((function(h){switch(h.g){case 1:r=n.map((function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}})),i=t.o.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=c(r),a=o.next();case 2:if(a.done){h.v(4);break}switch(s=a.value,E(h,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return h.v(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return h.v(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return f=Date.parse(l),h.return(isNaN(f)?0:f-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Y("NTP UTCTiming scheme is not supported");break;default:Y("Unrecognized scheme in UTCTiming element",u)}h.v(9);break;case 7:return S(h,vf(t,e,l,"HEAD"),10);case 10:return h.return(h.h);case 8:return S(h,vf(t,e,l,"GET"),11);case 11:return h.return(h.h);case 9:k(h,3);break;case 5:x(h);case 3:a=o.next(),h.v(2);break;case 4:return Y("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),h.return(0)}}))}(t,u,P),5);case 5:if(N=j.h,!t.C)return j.return();w.qe(N);case 3:t.C.makeTextStreamsForClosedCaptions(t.A),T(j)}}))}function hf(t,e,n,r){e.fa=gf(r.node,null,n),e.V=r,e.fa.ub=e.ub,e.fa.id||(e.fa.id="__shaka_period_"+r.start);for(var i=(n=c(n=Wl(r.node,"EventStream"))).next();!i.done;i=n.next())mf(t,r.start,r.duration,i.value);if(n=Wl(r.node,"AdaptationSet").map((function(n){return function(t,e,n){e.ka=gf(n,e.fa,null);var r=!1,i=Wl(n,"Role"),o=i.map((function(t){return t.getAttribute("value")})).filter(Rt),a=void 0,s=e.ka.contentType==fr;s&&(a="subtitle");for(var u=(i=c(i)).next();!u.done;u=i.next()){var l=(u=u.value).getAttribute("schemeIdUri");if(null==l||"urn:mpeg:dash:role:2011"==l)switch(u=u.getAttribute("value"),u){case"main":r=!0;break;case"caption":case"subtitle":a=u}}l=Wl(n,"EssentialProperty"),i=null,u=!1;for(var h=(l=c(l)).next();!h.done;h=l.next())"http://dashif.org/guidelines/trickmode"==(h=h.value).getAttribute("schemeIdUri")?i=h.getAttribute("value"):u=!0;l=Wl(n,"Accessibility");var d=new Map;for(l=c(l),h=l.next();!h.done;h=l.next()){var p=h.value;if(h=p.getAttribute("schemeIdUri"),p=p.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==h)if(h=1,null!=p)for(var g=c(p=p.split(";")),v=g.next();!v.done;v=g.next()){var m=v.value,y=v=void 0;m.includes("=")?(m=m.split("="),v=m[0].startsWith("CC")?m[0]:"CC"+m[0],y=m[1]):(v="CC"+h,2==p.length?h+=2:h++,y=m),d.set(v,ii(y))}else d.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==h)if(h=1,null!=p)for(p=c(p.split(";")),v=p.next();!v.done;v=p.next())v=v.value,m=g=void 0,v.includes("=")?(v=v.split("="),g="svc"+v[0],m=v[1].split(",")[0].split(":").pop()):(g="svc"+h,h++,m=v),d.set(g,ii(m));else d.set("svc1","und");else"urn:mpeg:dash:role:2011"==h&&null!=p&&(o.push(p),"captions"==p&&(a="caption"))}if(u)return null;var b=lc(u=Wl(n,"ContentProtection"),t.o.dash.ignoreDrmInfo,t.o.dash.keySystemsByURI),w=ii(n.getAttribute("lang")||"und"),E=n.getAttribute("label");if((u=Wl(n,"Label"))&&u.length&&((u=u[0]).textContent&&(E=u.textContent)),u=Wl(n,"Representation"),0==(n=u.map((function(n){return function(t,e,n,r,i,o,a,s,u,l){if(e.K=gf(l,e.ka,null),t.j=Math.min(t.j,e.K.ub),!function(t){var e=t.$b?1:0;return e+=t.ab?1:0,0==(e+=t.ac?1:0)?t.contentType==fr||"application"==t.contentType:(1!=e&&(t.$b&&(t.ab=null),t.ac=null),!0)}(e.K))return null;var c=e.V.start;e.bandwidth=Jl(l,"bandwidth",rc)||0;var f=e.K.contentType,h=f==fr||"application"==f;f="image"==f;try{var d=function(e,n,r){return function(t,e,n,r){var i,o,a,s,u;return O((function(l){return 1==l.g?(i=fo,o=Oa(e,n,r,t.o.retryParameters),a=t.C.networkingEngine,s=a.request(i,o),oo(t.i,s),S(l,s.promise,2)):(u=l.h,l.return(u.data))}))}(t,e,n,r)};if(e.K.$b)var p=Ac(e,d);else if(e.K.ab)p=Dc(e,t.l);else if(e.K.ac)p=Pc(e,d,t.l,!!t.A,t.o.dash.initialSegmentLimit,t.H);else{var g=e.K.ya,v=e.V.duration||0;p={wb:function(){return Promise.resolve(Ta(c,v,g))}}}}catch(_){if((h||f)&&4002==_.code)return null;throw _}d=function(t,e,n,r){var i=lc(t,n,r);if(e.Yd)t=1==e.drmInfos.length&&!e.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==e.drmInfos.length||t&&!n)&&(e.drmInfos=i.drmInfos),e.Yd=!1;else if(0<i.drmInfos.length&&(e.drmInfos=e.drmInfos.filter((function(t){return i.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==e.drmInfos.length))throw new ct(2,4,4008);return i.Ud||e.Ud}(d=Wl(l,"ContentProtection"),n,t.o.dash.ignoreDrmInfo,t.o.dash.keySystemsByURI),d=new Set(d?[d]:[]);var m=!1;Wl(l,"SupplementalProperty").some((function(t){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==t.getAttribute("schemeIdUri")&&"JOC"==t.getAttribute("value")}))&&(e.K.mimeType="audio/eac3-joc",m=!0);var y,b,w=!1;if(h&&(w=s.includes("forced_subtitle")),f&&((l=Wl(l,"EssentialProperty").find((function(t){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(t.getAttribute("schemeIdUri"))})))&&(y=l.getAttribute("value")),!y))return null;l=e.K.codecs,e.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(b="PQ");var E={id:t.D++,originalId:e.K.id,createSegmentIndex:function(){var t;return O((function(e){if(1==e.g)return E.segmentIndex?e.v(0):(t=E,S(e,p.wb(),3));t.segmentIndex=e.h,T(e)}))},segmentIndex:null,mimeType:e.K.mimeType,codecs:e.K.codecs,frameRate:e.K.frameRate,pixelAspectRatio:e.K.pixelAspectRatio,bandwidth:e.bandwidth,width:e.K.width,height:e.K.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:d,language:i,label:o,type:e.ka.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:e.K.emsgSchemeIdUris,roles:s,forced:w,channelsCount:e.K.xd,audioSamplingRate:e.K.audioSamplingRate,spatialAudio:m,closedCaptions:u,hdr:b,tilesLayout:y};return E}(t,e,b,a,w,E,r,o,d,n)})).filter((function(t){return!!t}))).length){if(i="image"==e.ka.contentType,t.o.dash.ignoreEmptyAdaptationSet||s||i)return null;throw new ct(2,4,4003)}if(!e.ka.contentType||"application"==e.ka.contentType)for(e.ka.contentType=yf(n[0].mimeType,n[0].codecs),s=c(n),l=s.next();!l.done;l=s.next())l.value.type=e.ka.contentType;for(s=c(n),l=s.next();!l.done;l=s.next())for(l=l.value,h=c(b.drmInfos),p=h.next();!p.done;p=h.next())(p=p.value).keyIds=p.keyIds&&l.keyIds?new Set([].concat(f(p.keyIds),f(l.keyIds))):p.keyIds||l.keyIds;return s=u.map((function(t){return t.getAttribute("id")})).filter(Rt),{id:e.ka.id||"__fake__"+t.D++,contentType:e.ka.contentType,language:w,og:r,streams:n,drmInfos:b.drmInfos,Pd:i,zf:s}}(t,e,n)})).filter(Rt),e.cb){r=[];for(var o=(i=c(n)).next();!o.done;o=i.next())for(var a=(o=c(o.value.zf)).next();!a.done;a=o.next())r.push(a.value);if(r.length!=new Set(r).size)throw new ct(2,4,4018)}for(r=n.filter((function(t){return!t.Pd})),i=(n=c(n=n.filter((function(t){return t.Pd})))).next();!i.done;i=n.next()){o=(i=i.value).Pd.split(" ");for(var s=(a=c(r)).next();!s.done;s=a.next()){var u=s.value;if(o.includes(u.id)){s={};for(var l=(u=c(u.streams)).next();!l.done;s={kc:s.kc},l=u.next())s.kc=l.value,s.kc.trickModeVideo=i.streams.find(function(t){return function(e){return _r(t.kc.codecs)==_r(e.codecs)}}(s))}}}if(i=t.o.disableAudio?[]:df(r,"audio"),a=t.o.disableVideo?[]:df(r,"video"),o=t.o.disableText?[]:df(r,fr),n=t.o.disableThumbnails?[]:df(r,"image"),!a.length&&!i.length)throw new ct(2,4,4004);for(r=[],s=(i=c(i)).next();!s.done;s=i.next())r.push.apply(r,f(s.value.streams));for(i=[],s=(a=c(a)).next();!s.done;s=a.next())i.push.apply(i,f(s.value.streams));for(a=[],s=(o=c(o)).next();!s.done;s=o.next())a.push.apply(a,f(s.value.streams));for(o=[],s=(n=c(n)).next();!s.done;s=n.next())o.push.apply(o,f(s.value.streams));return{id:e.fa.id,rc:r,Nc:i,textStreams:a,imageStreams:o}}function df(t,e){return t.filter((function(t){return t.contentType==e}))}function pf(t,e){0>t.u||t.s.T(Math.max(3,t.u-e,q(t.F)))}function gf(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,xd:null,audioSamplingRate:null,ub:0},n=n||e.ya;for(var r=Wl(t,"BaseURL"),i=r.map($l),o=t.getAttribute("contentType")||e.contentType,a=t.getAttribute("mimeType")||e.mimeType,s=t.getAttribute("codecs")||e.codecs,u=Jl(t,"frameRate",ac)||e.frameRate,l=t.getAttribute("sar")||e.pixelAspectRatio,f=Wl(t,"InbandEventStream"),h=e.emsgSchemeIdUris.slice(),d=(f=c(f)).next();!d.done;d=f.next())d=d.value.getAttribute("schemeIdUri"),h.includes(d)||h.push(d);f=function(t){for(var e=(t=c(t)).next();!e.done;e=t.next()){var n=e.value;if((e=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(e){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(e=parseInt(n,10)))continue;return e;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(e=parseInt(n,16)))continue;for(t=0;e;)1&e&&++t,e>>=1;return t;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(e=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<e.length)return e[n]}}return null}(f=Wl(t,"AudioChannelConfiguration"))||e.xd,d=Jl(t,"audioSamplingRate",ic)||e.audioSamplingRate,o||(o=yf(a,s));var p=Vl(t,"SegmentBase"),g=Vl(t,"SegmentTemplate"),v=p&&Jl(p,"availabilityTimeOffset",oc)||0,m=g&&Jl(g,"availabilityTimeOffset",oc)||0;return r=r&&r.length&&Jl(r[0],"availabilityTimeOffset",oc)||0,r=e.ub+r+v+m,{ya:sr(n,i),$b:p||e.$b,ab:Vl(t,"SegmentList")||e.ab,ac:g||e.ac,width:Jl(t,"width",ic)||e.width,height:Jl(t,"height",ic)||e.height,contentType:o,mimeType:a,codecs:s,frameRate:u,pixelAspectRatio:l,emsgSchemeIdUris:h,id:t.getAttribute("id"),xd:f,audioSamplingRate:d,ub:r}}function vf(t,e,n,r){var i,o,a,s,u,l;return O((function(c){if(1==c.g)return i=sr(e,[n]),(o=uo(i,t.o.retryParameters)).method=r,a=t.C.networkingEngine.request(4,o),oo(t.i,a),S(c,a.promise,2);if(s=c.h,"HEAD"==r){if(!s.headers||!s.headers.date)return c.return(0);u=s.headers.date}else u=dt(s.data);return l=Date.parse(u),isNaN(l)?c.return(0):c.return(l-Date.now())}))}function mf(t,e,n,r){for(var i=r.getAttribute("schemeIdUri")||"",o=r.getAttribute("value")||"",a=Jl(r,"timescale",ic)||1,s=(r=c(Wl(r,"Event"))).next();!s.done;s=r.next()){var u=Jl(s=s.value,"presentationTime",ic)||0,l=Jl(s,"duration",ic)||0;l=(u=u/a+e)+l/a,null!=n&&(u=Math.min(u,e+n),l=Math.min(l,e+n)),s={schemeIdUri:i,value:o,startTime:u,endTime:l,id:s.getAttribute("id")||"",eventElement:s},t.C.onTimelineRegionAdded(s)}}function yf(t,e){return Ar(Tr(t,e))?fr:t.split("/")[0]}function bf(t,e,n,r){this.g=t,this.type=e,this.W=n,this.segments=r||null}function wf(t,e,n,r){this.id=t,this.name=e,this.g=n,this.value=void 0===r?null:r}function Sf(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function Tf(t,e){var n=t.getAttribute(e);if(!n)throw new ct(2,4,4023,e);return n.value}function Ef(t,e,n){n=void 0===n?[]:n,this.W=e,this.g=t,this.h=n}function _f(t,e){this.name=t,this.value=e}function kf(t,e){return t.filter((function(t){return t.name==e}))}function xf(t,e){return t.filter((function(t){return Tf(t,"TYPE")==e}))}function Mf(t,e){var n=kf(t,e);return n.length?n[0]:null}function Af(t,e,n){return n=void 0===n?0:n,(t=Mf(t,e))?Number(t.value):n}function Rf(t){this.h=t,this.g=0}function If(t){Cf(t,/[ \t]+/gm)}function Cf(t,e){e.lastIndex=t.g;var n=e.exec(t.h);return n=null==n?null:{position:n.index,length:n[0].length,results:n},t.g==t.h.length||null==n||n.position!=t.g?null:(t.g+=n.length,n.results)}function Lf(t){return t.g==t.h.length?null:(t=Cf(t,/[^ \t\n]*/gm))?t[0]:null}function Df(){this.g=0}function Of(t,e,n){var r=(e=(e=dt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new ct(2,4,4015);e=0;for(var i=!0,o=c(r),a=o.next();!a.done;a=o.next())if(a=a.value,/^#(?!EXT)/m.test(a)||i)i=!1;else{if(a=Pf(t.g++,a),--t.g,Nf.includes(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(i=!0)}o=[],i=!0;for(var s=(a=c(nt(r))).next();!s.done;s=a.next()){var u=s.value;s=u.ha;var l=u.item;if(u=u.next,/^#(?!EXT)/m.test(l)||i)i=!1;else{if(l=Pf(t.g++,l),jf.includes(l.name)){if(1!=e)throw new ct(2,4,4017);u=r.splice(s,r.length-s),r=n,i=[],a=[],s=[],l=null;for(var f=(u=c(u)).next();!f.done;f=u.next())f=f.value,/^(#EXT)/.test(f)?(f=Pf(t.g++,f),Nf.includes(f.name)?o.push(f):"EXT-X-MAP"==f.name?l=f:"EXT-X-PART"==f.name?s.push(f):"EXT-X-PRELOAD-HINT"==f.name?"PART"==Sf(f,"TYPE")?s.push(f):"MAP"==Sf(f,"TYPE")&&(f.name="EXT-X-MAP",l=f):a.push(f)):/^#(?!EXT)/m.test(f)||(f=sr([r],[f.trim()])[0],l&&a.push(l),i.push(new Ef(f,a,s)),a=[],s=[]);return s.length&&(l&&a.push(l),i.push(new Ef("",a,s))),new bf(n,e,o,i)}o.push(l),"EXT-X-STREAM-INF"==l.name&&(l.g.push(new _f("URI",u)),i=!0)}}return new bf(n,e,o)}function Pf(t,e){var n=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new ct(2,4,4016,e);var r,i=n[1],o=n[2];if(n=[],o){var a;(a=Cf(o=new Rf(o),/^([^,=]+)(?:,|$)/g))&&(r=a[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=Cf(o,s);)n.push(new _f(a[1],a[2]||a[3]))}return new wf(t,i,n,r)}(r=lf.prototype).configure=function(t){this.o=t},r.start=function(t,e){var n,r=this;return O((function(i){if(1==i.g)return r.m=e.isLowLatencyMode(),r.h=[t],r.C=e,S(i,cf(r),2);if(n=i.h,r.C&&pf(r,n),!r.C)throw new ct(2,7,7001);return i.return(r.A)}))},r.stop=function(){for(var t=c(Object.values(this.l)),e=t.next();!e.done;e=t.next())e.value.release();return this.g&&this.g.release(),this.o=this.C=null,this.h=[],this.A=null,this.l={},this.g=null,null!=this.s&&(this.s.stop(),this.s=null),this.i.destroy()},r.update=function(){var t,e=this;return O((function(n){return 1==n.g?(E(n,2),S(n,cf(e),4)):2!=n.g?k(n,0):(t=x(n),e.C&&t?(e.C.onError(t),void T(n)):n.return())}))},r.onExpirationUpdated=function(){},r.Xb=function(){var t,e,n=this;return O((function(r){switch(r.g){case 1:return t=0,E(r,2),S(r,cf(n),4);case 4:t=r.h,k(r,3);break;case 2:e=x(r),n.C&&(e.severity=1,n.C.onError(e));case 3:if(!n.C)return r.return();pf(n,t),T(r)}}))},H("shaka.dash.DashParser",lf),Jo.mpd=function(){return new lf},Zo["application/dash+xml"]=function(){return new lf},Zo["video/vnd.mpeg.dash.mpd"]=function(){return new lf},wf.prototype.toString=function(){var t="#"+this.name,e=this.g?this.g.map((function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)})):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},wf.prototype.getAttribute=function(t){var e=this.g.filter((function(e){return e.name==t}));return e.length?e[0]:null};var Nf="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),jf="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function Bf(){}function Ff(t){try{var e=Uf(t);return Zi({uri:t,he:t,data:e.data,headers:{"content-type":e.contentType}})}catch(n){return Xi(n)}}function Uf(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new ct(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new ct(2,1,1004,e);var r=n[0];e=t.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?ne(e):vt(e),contentType:r}}function Hf(){var t=this;this.o=this.C=null,this.Ma=1,this.u=new Map,this.m=new Map,this.Fa=new Set,this.h=new Map,this.g=null,this.L="",this.X=new Df,this.Ea=0,this.s=new Ht((function(){t.Xb()})),this.j=sh,this.A=null,this.oa=0,this.F=1/0,this.S=this.Xa=0,this.D=new io,this.pa=[],this.I=new Map,this.Wa=!1,this.l=new Map,this.N=null,this.da=new Map,this.H=new Map,this.i=!1}function Kf(t,e){var n,r,i,o,a,s,u,l,c,f,h,d;return O((function(p){if(1==p.g)return n=ch,r=e.ye,i=new Yn(r),t.i&&e.Ce&&Zn(i,new ar("_HLS_skip=YES")),S(p,rh(t,uo([i.toString()],t.o.retryParameters),0),2);if(3!=p.g){if(o=p.h,1!=(a=Of(t.X,o.data,o.uri)).type)throw new ct(2,4,4017);return s=kf(a.W,"EXT-X-DEFINE"),u=Gf(t,s),l=e.stream,S(p,Jf(t,e.Mc,a,l.mimeType,e.sd,u,e.Je),3)}c=p.h,l.segmentIndex.Ab(c,t.g.Za()),c.length&&(f=Af(a.W,"EXT-X-MEDIA-SEQUENCE",0),h=e.sd.get(f),l.segmentIndex.eb(h)),d=c[c.length-1],Mf(a.W,"EXT-X-ENDLIST")&&(nh(t,n.xe),t.g.Ja(d.endTime)),T(p)}))}function Gf(t,e){for(var n=new Map,r=c(e),i=r.next();!i.done;i=r.next()){var o=i.value;i=Sf(o,"NAME");var a=Sf(o,"VALUE");o=Sf(o,"IMPORT"),i&&a&&n.set(i,a),o&&(i=t.u.get(o))&&n.set(o,i)}return n}function qf(t,e){var n=[];t.o.disableVideo||n.push("avc1.42E01E"),t.o.disableAudio||n.push("mp4a.40.2");var r=Sf(e,"CODECS",n.join(",")).split(/\s*,\s*/);n=new Set;for(var i=[],o=(r=c(r)).next();!o.done;o=r.next()){var a=_r(o=o.value);n.has(a)||(i.push(o),n.add(a))}return i}function Vf(t){return ii(t=Sf(t,"LANGUAGE")||"und")}function zf(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p;return O((function(g){if(1==g.g){n=Tf(e,"GROUP-ID"),r="";var v=Tf(e,"TYPE").toLowerCase();return"subtitles"==v&&(v=fr),(i=v)!=fr&&n&&t.l.has(n)&&(r=t.l.get(n)),o=eh(Tf(e,"URI"),t.u),t.h.has(o)?g.return(t.h.get(o)):(a=Vf(e),s=Sf(e,"NAME"),u=e.getAttribute("DEFAULT"),l="YES"==u,v="audio"==i&&(v=Sf(e,"CHANNELS"))?parseInt(v.split("/")[0],10):null,c=v,v="audio"==i&&(!!(v=Sf(e,"CHANNELS"))&&v.includes("/JOC")),f=v,h=Sf(e,"CHARACTERISTICS"),d=Sf(e,"FORCED"),S(g,Wf(t,o,r,i,a,l,s,c,null,h,"YES"==d,f),2))}return p=g.h,t.m.has(n)?t.m.get(n).push(p):t.m.set(n,[p]),null==p?g.return(null):t.h.has(o)?g.return(t.h.get(o)):(t.h.set(o,p),g.return(p))}))}function Wf(t,e,n,r,i,o,a,s,u,l,h,d){var p,g,v,m,y,b,w,T,_,M,A,R,I,C,L,D,P,N,j,B,F,U,H,K,G,q,V,z,W,X,$,Z,J,Q,tt,et,nt,rt,it;return O((function(ot){switch(ot.g){case 1:return p=sr([t.L],[e])[0],S(ot,rh(t,uo([p],t.o.retryParameters),0),2);case 2:if(g=ot.h,p=g.uri,1!=(v=Of(t.X,g.data,p)).type)throw new ct(2,4,4017);if(m=[],v.segments)for(y=c(v.segments),b=y.next();!b.done;b=y.next())w=b.value,T=kf(w.W,"EXT-X-KEY"),m.push.apply(m,f(T));for(_=!1,M=[],A=new Set,R=c(m),I=R.next();!I.done;I=R.next())if(C=I.value,"NONE"!=(L=Tf(C,"METHOD"))){if(_=!0,"AES-128"==L)return t.Wa=!0,ot.return(null);if(D=Tf(C,"KEYFORMAT"),N=(P=ah[D])?P(C):null){if(N.keyIds)for(j=c(N.keyIds),B=j.next();!B.done;B=j.next())F=B.value,A.add(F);M.push(N)}}if(_&&!M.length)throw new ct(2,4,4026);return U=kf(v.W,"EXT-X-DEFINE"),H=Gf(t,U),function(t,e){var n=Mf(e.W,"EXT-X-PLAYLIST-TYPE"),r=Mf(e.W,"EXT-X-ENDLIST");if(r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r)nh(t,sh);else{if(nh(t,n?lh:uh),!(r=Mf(e.W,"EXT-X-TARGETDURATION")))throw new ct(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),n=Mf(e.W,"EXT-X-PART-INF"),t.i&&n?(t.Xa=Number(Tf(n,"PART-TARGET")),t.F=Math.min(t.Xa,t.F),n=Mf(e.W,"EXT-X-SERVER-CONTROL"),t.S=n?Number(Tf(n,"PART-HOLD-BACK")):0):t.F=Math.min(r,t.F),t.oa=Math.max(r,t.oa)}}(t,v),S(ot,function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g;return O((function(v){return 1==v.g?(o=hr,a=fo,s=eh(r.segments[0].g,i),u=new Yn(s),l=u.wa.split(".").pop(),c=oh[e],(f=c[l])?v.return(f):e==o.aa?n&&"vtt"!=n&&"wvtt"!=n?v.return("application/mp4"):v.return("text/vtt"):((h=uo([s],t.o.retryParameters)).method="HEAD",S(v,rh(t,h,a),2))):(d=v.h,(p=d.headers["content-type"])?v.return(p.split(";")[0]):(g=c.mp4,v.return(g)))}))}(t,r,n,v,H),3);case 3:return K=ot.h,ih.includes(K)&&(n=""),G=new Map,q=new Map,E(ot,4),S(ot,Jf(t,e,v,K,G,H,q),6);case 6:V=ot.h,k(ot,5);break;case 4:if(4035==(z=x(ot)).code)return Y("Skipping unsupported HLS stream",K,e),ot.return(null);throw z;case 5:if(W=V[0].startTime,X=V[V.length-1].endTime,$=new Sa(V),Z=r==fr?"subtitle":void 0,J=[],l)for(Q=c(l.split(",")),tt=Q.next();!tt.done;tt=Q.next())et=tt.value,J.push(et);return rt=!!(nt=Mf(v.W,"EXT-X-SERVER-CONTROL"))&&null!=nt.getAttribute("CAN-SKIP-UNTIL"),it={id:t.Ma++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:$,mimeType:K,codecs:n,kind:Z,encrypted:_,drmInfos:M,keyIds:A,language:i,label:a,type:r,primary:o,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:J,forced:h,channelsCount:s,audioSamplingRate:null,spatialAudio:d,closedCaptions:u,hdr:void 0,tilesLayout:void 0},ot.return({stream:it,Mc:e,ye:p,fe:W,lf:X,sd:G,Je:q,Ce:rt})}}))}function Yf(t,e,n,r){return(n=Mf(n,"EXT-X-MAP"))?(e=[r=eh(sr([e],[Tf(n,"URI")])[0],r),Sf(n,"BYTERANGE","")].join("-"),t.da.has(e)||(n=function(t,e){var n=0,r=null,i=Sf(e,"BYTERANGE");return i&&(n=i.split("@"),r=Number(n[0]),n=Number(n[1]),r=n+r-1),new Qo((function(){return[t]}),n,r)}(r,n),t.da.set(e,n)),t.da.get(e)):null}function Xf(t,e,n,r,i,o,a,s){var u=r.W,l=eh(r.g,a),f=Mf(u,"EXTINF"),h=a=0,d=null,p=[];if(t.i&&r.h.length){t={};for(var g=(r=c(nt(r.h))).next();!g.done;t={Uc:t.Uc},g=r.next()){var v=(g=g.value).ha;g=g.item;var m=0==v?n:p[p.length-1];v=0==v?i:m.endTime;var y=Number(Sf(g,"DURATION"));y=v+y;var b=0,w=null;"EXT-X-PRELOAD-HINT"==g.name?b=(m=Sf(g,"BYTERANGE-START"))?Number(m):0:(b=(m=c($f(m,b=Sf(g,"BYTERANGE")))).next().value,w=m.next().value),g=Sf(g,"URI"),t.Uc=sr([s],[g])[0],p.push(new ta(v,y,function(t){return function(){return[t.Uc]}}(t),b,w,e,o,0,1/0))}}else if(!f)throw new ct(2,4,4024,"EXTINF");return a=f?i+Number(f.value.split(",")[0]):p[p.length-1].endTime,(s=Mf(u,"EXT-X-BYTERANGE"))?(h=(n=c($f(n,s.value))).next().value,d=n.next().value):p.length&&(h=p[0].ja,d=p[p.length-1].ea),new ta(i,a,(function(){return l.length?[l]:[]}),h,d,e,o,0,1/0,p)}function $f(t,e){var n=0,r=null;return e&&(n=e.split("@"),r=Number(n[0]),r=(n=n[1]?Number(n[1]):t.ea+1)+r-1),[n,r]}function Zf(t){if(t.g){for(var e=c(t.pa),n=e.next();!n.done;n=e.next())t.g.Cb(n.value);t.pa=[]}}function Jf(t,e,n,r,i,o,a){var s,u,l,f,h,d,p,g,v,m,y,b,w,T,E,_,k,x,M,A;return O((function(R){switch(R.g){case 1:if(s=n.segments,l=Af(n.W,"EXT-X-MEDIA-SEQUENCE",0),h=(f=Mf(n.W,"EXT-X-SKIP"))?Number(Sf(f,"SKIPPED-SEGMENTS")):0,d=l+h,t.j!=sh&&i.has(d)){p=i.get(d),R.v(2);break}if(null!=t.N){R.v(3);break}return u=Yf(t,n.g,s[0].W,o),g=t,S(R,th(t,e,u,r,d,!1,s[0],o),4);case 4:g.N=R.h;case 3:p=t.N;case 2:if(s[0].g.split("/").pop(),v=Af(n.W,"EXT-X-DISCONTINUITY-SEQUENCE"),t.i&&(a.has(v)||a.set(v,d),h))for(;a.has(v+1)&&a.get(v+1)<d;)v++;m=t.H.get(v)||0,y=[],b=c(function(t){return nt(t)}(s)),w=b.next();case 5:if(w.done){R.v(7);break}if(T=w.value,E=T.ha,_=T.item,k=y[y.length-1],x=0==E?p:k.endTime,d=l+h+E,i.set(d,x),u=Yf(t,n.g,_.W,o),!Mf(_.W,"EXT-X-DISCONTINUITY")){R.v(8);break}return v++,a.set(v,d),S(R,function(t,e,n,r,i,o,a,s,u){var l,c;return O((function(f){return 1==f.g?(l=0,t.H.has(e)?(l=t.H.get(e),f.v(2)):S(f,th(t,n,r,i,o,!0,a,s),3)):(2!=f.g&&(c=f.h,l=u-c,t.H.set(e,l)),f.return(l))}))}(t,v,e,u,r,d,_,o,x),9);case 9:m=R.h;case 8:!t.i&&t.C.isAutoLowLatencyMode()&&(t.C.enableLowLatencyMode(),t.i=t.C.isLowLatencyMode()),M=Mf(_.W,"EXTINF"),t.i||M?(A=Xf(t,u,k,_,x,m,o,n.g),y.push(A)):t.i||Y("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),w=b.next(),R.v(5);break;case 7:return t.pa.push(y),Zf(t),R.return(y)}}))}function Qf(t,e){var n,r,i,o,a,s;return O((function(u){switch(u.g){case 1:return n=fo,r=Oa(e.ma(),e.ja,e.ea,t.o.retryParameters),t.o.hls.useFullSegmentsForStartTime?u.return(rh(t,r,n)):(i=Oa(e.ma(),e.ja,e.ja+2048-1,t.o.retryParameters),E(u,2),S(u,rh(t,i,n),4));case 4:return o=u.h,u.return(o);case 2:if(7001==(a=x(u)).code)throw a;return Y("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),S(u,rh(t,r,n),5);case 5:return s=u.h,u.return(s)}}))}function th(t,e,n,r,i,o,a,s){var u,l,c,f,h,d,p,g;return O((function(v){switch(v.g){case 1:if(u=Xf(t,n,null,a,0,0,s,""),t.A&&!o&&(l=t.h.get(e),void 0!=(c=l.sd.get(i))))return v.return(c);if(r=r.toLowerCase(),ih.includes(r))throw Y("Raw formats are not yet supported.  Skipping "+r),new ct(1,4,4035);if("video/webm"==r)throw Y("WebM in HLS is not yet supported.  Skipping."),new ct(1,4,4035);if("video/mp4"!=r&&"audio/mp4"!=r){v.v(2);break}return f=[Qf(t,u)],n&&f.push(Qf(t,n)),S(v,Promise.all(f),3);case 3:return h=v.h,d=h[0],p=h[1]||h[0],v.return(function(t,e,n,r){var i=0;if((new Ct).box("moov",Lt).box("trak",Lt).box("mdia",Lt).U("mdhd",(function(t){i=Bn(t.reader,t.version).timescale,t.parser.stop()})).parse(r,!0),!i)throw new ct(2,4,4030,t,e);var o=0,a=!1;if((new Ct).box("moof",Lt).box("traf",Lt).U("tfdt",(function(t){o=jn(t.reader,t.version).dd/i,a=!0,t.parser.stop()})).parse(n,!0),!a)throw new ct(2,4,4030,t,e);return o}(e,d.uri,d.data,p.data));case 2:if("video/mp2t"!=r){v.v(4);break}return S(v,Qf(t,u),5);case 5:return g=v.h,v.return(function(t,e,n){function r(){o.seek(a+188),71!=(s=o.$())&&(o.seek(a+192),s=o.$()),71!=s&&(o.seek(a+204),s=o.$()),71!=s&&i(),o.ke(1)}function i(){throw new ct(2,4,4030,t,e)}for(var o=new bt(n,0),a=0,s=0;;)if(a=o.Z(),71!=(s=o.$())&&i(),8191==(8191&(n=o.Fb())))r();else if(16384&n){if(0!=(n=(48&o.$())>>4)&&2!=n||i(),3==n&&(n=o.$(),o.skip(n)),1==o.M()>>8){o.skip(3),0!=(n=o.$()>>6)&&1!=n||i(),0==o.$()&&i(),n=o.$();var u=o.Fb(),l=o.Fb();return(1073741824*((14&n)>>1)+((65534&u)<<14|(65534&l)>>1))/9e4}r()}else r()}(e,g.uri,g.data));case 4:throw new ct(2,4,4030,e)}}))}function eh(t,e){var n=String(t).replace(/%7B/g,"{").replace(/%7D/g,"}"),r=n.match(/{\$\w*}/g);if(r)for(var i=(r=c(r)).next();!i.done;i=r.next()){var o=(i=i.value).slice(2,i.length-1),a=e.get(o);if(!a)throw new ct(2,4,4039,o);n=n.replace(i,a)}return n}function nh(t,e){t.j=e,t.g&&t.g.bc(t.j==sh),t.j!=sh||t.s.stop()}function rh(t,e,n){if(!t.D)throw new ct(2,7,7001);return e=t.C.networkingEngine.request(n,e),oo(t.D,e),e.promise}H("shaka.net.DataUriPlugin",Bf),Bf.parse=Ff,so("data",Ff),(r=Hf.prototype).configure=function(t){this.o=t},r.start=function(t,e){var n,r,i=this;return O((function(o){return 1==o.g?(i.C=e,i.i=e.isLowLatencyMode(),S(o,rh(i,uo([t],i.o.retryParameters),0),2)):3!=o.g?(n=o.h,i.L=n.uri,S(o,function(t,e){var n,r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,_,k,M,A,R,I;return O((function(C){switch(C.g){case 1:if(0!=(n=Of(t.X,e,t.L)).type)throw new ct(2,4,4022);for(var L=c(kf(n.W,"EXT-X-DEFINE")),D=L.next();!D.done;D=L.next()){var P=D.value;D=Sf(P,"NAME"),P=Sf(P,"VALUE"),D&&P&&(t.u.has(D)||t.u.set(D,P))}for(r=kf(n.W,"EXT-X-MEDIA"),D=(L=c(i=kf(n.W,"EXT-X-STREAM-INF"))).next();!D.done;D=L.next()){var N=D.value;P=Sf(N,"AUDIO"),D=Sf(N,"VIDEO");var j=Sf(N,"SUBTITLES");if(N=qf(t,N),j){var B=cr(fr,N);t.l.set(j,B),ce(N,B)}P&&(j=lr("audio",N),t.l.set(P,j)),D&&(P=lr("video",N),t.l.set(D,P))}for(o=kf(n.W,"EXT-X-SESSION-DATA"),a=c(o),s=a.next();!s.done;s=a.next())u=s.value,l=Sf(u,"DATA-ID"),f=Sf(u,"URI"),h=Sf(u,"LANGUAGE"),d=Sf(u,"VALUE"),p={id:l},f&&(p.uri=sr([t.L],[f])[0]),h&&(p.language=h),d&&(p.value=d),g=new to("sessiondata",p),t.C&&t.C.onEvent(g);return S(C,function(t,e){var n;return O((function(r){return 1==r.g?(e=e.filter((function(t){var e=Sf(t,"URI")||"";return"SUBTITLES"!=Sf(t,"TYPE")&&""!=e}))).length?S(r,zf(t,e[0]),2):r.v(2):(n=e.slice(1).map((function(e){return zf(t,e)})),S(r,Promise.all(n),0))}))}(t,r),2);case 2:for(D=(L=c(L=xf(r,"CLOSED-CAPTIONS"))).next();!D.done;D=L.next())D=Vf(j=D.value),P=Tf(j,"GROUP-ID"),j=Tf(j,"INSTREAM-ID"),t.I.get(P)||t.I.set(P,new Map),t.I.get(P).set(j,D);return S(C,function(t,e){var n,r,i;return O((function(o){return 1==o.g?(n=e.map((function(e){var n,r,i,o,a,s,u,l;return O((function(f){if(1==f.g)return n=Sf(e,"FRAME-RATE"),r=Number(Sf(e,"AVERAGE-BANDWIDTH"))||Number(Tf(e,"BANDWIDTH")),i=Sf(e,"RESOLUTION"),o=c(i?i.split("x"):[null,null]),a=o.next().value,s=o.next().value,u=Sf(e,"VIDEO-RANGE"),S(f,function(t,e){var n,r,i,o,a,s,u,l,f,h,d,p,g,v;return O((function(m){if(1==m.g)return n=hr,r=qf(t,e),i=Sf(e,"AUDIO"),o=Sf(e,"VIDEO"),s=(a=i||o)&&t.m.has(a)?t.m.get(a):[],u={audio:i?s:[],video:o?s:[]},f=!1,h=Tf(e,"URI"),d=u.audio.find((function(t){return t&&t.Mc==h})),p=cr(n.Na,r),(g=cr(n.bb,r))&&!p?l=n.bb:!s.length&&g&&p?(l=n.Na,r=[[p,g].join()]):u.audio.length&&d?(l=n.bb,f=!0):l=u.video.length?n.bb:n.Na,f?m.v(2):S(m,function(t,e,n,r){var i,o,a,s;return O((function(u){if(1==u.g){if(i=eh(Tf(e,"URI"),t.u),t.h.has(i))return u.return(t.h.get(i));var l=Sf(e,"CLOSED-CAPTIONS");return o="video"==r&&l&&"NONE"!=l?t.I.get(l):null,a=lr(r,n),S(u,Wf(t,i,a,r,"und",!1,null,null,o,null,!1,!1),2)}return null==(s=u.h)?u.return(null):t.h.has(i)?u.return(t.h.get(i)):(t.h.set(i,s),u.return(s))}))}(t,e,r,l),3);if(2!=m.g&&(v=m.h),v)u[v.stream.type]=[v];else if(null===v)return m.return(null);return function(t){for(var e=(t=c(t.audio.concat(t.video))).next();!e.done;e=t.next())if(e=e.value){var n=e.stream.codecs.split(",");n=n.filter((function(t){return"mp4a.40.34"!=t})),e.stream.codecs=n.join(",")}}(u),m.return(u)}))}(t,e),2);if(l=f.h){for(var h=f.return,d=l.audio,p=l.video,g=c(p),v=g.next();!v.done;v=g.next())(v=v.value.stream)&&(v.width=Number(a)||void 0,v.height=Number(s)||void 0,v.frameRate=Number(n)||void 0,v.hdr=u||void 0);for(g=t.o.disableAudio,d.length&&!g||(d=[null]),g=t.o.disableVideo,p.length&&!g||(p=[null]),g=[],v=(d=c(d)).next();!v.done;v=d.next()){v=v.value;for(var m=c(p),y=m.next();!y.done;y=m.next()){var b=y.value;y=v?v.stream:null;var w=b?b.stream:null,T=v?v.stream.drmInfos:null,E=b?b.stream.drmInfos:null;b=(b?b.Mc:"")+" - "+(v?v.Mc:""),y&&w&&T.length&&E.length&&!(0<Bo(T,E).length)||t.Fa.has(b)||(y={id:t.Ma++,language:y?y.language:"und",primary:!!y&&y.primary||!!w&&w.primary,audio:y,video:w,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},g.push(y),t.Fa.add(b))}}f=h.call(f,g)}else f=f.return([]);return f}))})),S(o,Promise.all(n),2)):(r=o.h,i=(i=r.reduce(Mt,[])).filter((function(t){return null!=t})),o.return(i))}))}(t,i),3);case 3:return v=C.h,S(C,function(t,e){var n,r,i,o,a,s,u,l,f,h,d;return O((function(p){if(1==p.g)return n=xf(e,"SUBTITLES"),r=n.map((function(e){var n,r;return O((function(i){if(1==i.g)return t.o.disableText?i.return(null):(E(i,2),S(i,zf(t,e),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=x(i),t.o.hls.ignoreTextStreamFailures)return i.return(null);throw r}))})),S(p,Promise.all(r),2);for(i=p.h,o=c(n),a=o.next();!a.done;a=o.next())if(s=a.value,u=Tf(s,"GROUP-ID"),(l=t.l.get(u))&&(f=t.m.get(u)))for(h=c(f),d=h.next();!d.done;d=h.next())d.value.stream.codecs=l;return p.return(i.filter((function(t){return t})))}))}(t,r),4);case 4:if(m=C.h,!t.C)throw new ct(2,7,7001);if(t.Wa&&0==v.length)throw new ct(2,4,4034);for(b=y=1/0,w=c(t.h.values()),_=w.next();!_.done;_=w.next())k=_.value,y=Math.min(y,k.fe),"text"!=k.stream.type&&(b=Math.min(b,k.lf-k.fe));if(t.j!=sh?(t.g=new ea(0,t.o.defaultPresentationDelay?t.o.defaultPresentationDelay:t.S?t.S:3*t.oa),t.g.bc(!1)):(t.g=new ea(null,0),t.g.bc(!0)),Zf(t),t.j!=sh)t.Ea=t.F,M=ch,t.j==M.we&&(A=t.g.Ic,isNaN(t.o.availabilityWindowOverride)||(A=t.o.availabilityWindowOverride),t.g.Nd(A));else for(t.g.Ja(b),t.g.offset(-y),R=c(t.h.values()),_=R.next();!_.done;_=R.next())(I=_.value).stream.segmentIndex.offset(-y),I.stream.segmentIndex.Ya(0,b);t.A={presentationTimeline:t.g,variants:v,textStreams:m,imageStreams:[],offlineSessionIds:[],minBufferTime:0},t.C.makeTextStreamsForClosedCaptions(t.A),T(C)}}))}(i,n.data),3)):(0<(r=i.Ea)&&i.s.T(r),o.return(i.A))}))},r.stop=function(){this.s&&(this.s.stop(),this.s=null);var t=[];return this.D&&(t.push(this.D.destroy()),this.D=null),this.o=this.C=null,this.Fa.clear(),this.A=null,this.h.clear(),this.m.clear(),this.l.clear(),this.u.clear(),Promise.all(t)},r.update=function(){var t,e,n,r=this;return O((function(i){if(1==i.g)return r.j==sh?i.return():(t=[],r.N=null,(e=Array.from(r.h.values())).length?S(i,Kf(r,e[0]),2):i.v(2));for(n=1;n<e.length;n++)t.push(Kf(r,e[n]));return S(i,Promise.all(t),0)}))},r.onExpirationUpdated=function(){},r.Xb=function(){var t,e,n=this;return O((function(r){return 1==r.g?n.C?(E(r,2),S(r,n.update(),4)):r.return():2!=r.g?(t=n.Ea,n.s.T(t),k(r,0)):(e=x(r),n.C?(e.severity=1,n.C.onError(e),n.s.T(.1),void T(r)):r.return())}))},H("shaka.hls.HlsParser",Hf);var ih=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],oh={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},ah={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=Tf(t,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?(e=ur("com.widevine.alpha",[{initDataType:"cenc",initData:e=st((e=Uf(e=Tf(t,"URI"))).data)}]),(t=Sf(t,"KEYID"))&&(e.keyIds=new Set([t.toLowerCase().substr(2)])),e):null},"com.microsoft.playready":function(t){var e=Tf(t,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?ur("com.microsoft.playready",[{initDataType:"cenc",initData:t=ql(t=st((t=Uf(t=Tf(t,"URI"))).data),e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]))}]):null}},sh="VOD",uh="EVENT",lh="LIVE",ch={xe:sh,Uf:uh,we:lh};function fh(t,e,n,r,i,o){if(200<=n&&299>=n&&202!=n)return{uri:i||r,he:r,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=gt(e)}catch(a){}throw new ct(401==n||403==n?2:1,1,1001,r,n,i,t,o)}function hh(){}function dh(t,e,n,r){var i=new yh;yo(e.headers).forEach((function(t,e){i.append(e,t)}));var o=new vh,a={Sd:!1,te:!1};if(t=new Yi(t=function(t,e,n,r,i,o){var a,s,u,l,c,f,h,d,p,g,v,m;return O((function(y){switch(y.g){case 1:return a=gh,s=mh,f=c=0,h=Date.now(),E(y,2),S(y,a(t,n),4);case 4:return u=y.h,d=u.clone().body.getReader(),g=(p=u.headers.get("Content-Length"))?parseInt(p,10):0,new s({start:function(t){!function e(){var n,r;return O((function(a){switch(a.g){case 1:return E(a,2),S(a,d.read(),4);case 4:n=a.h,k(a,3);break;case 2:return x(a),a.return();case 3:if(n.done){a.v(5);break}if(c+=n.value.byteLength,!o){a.v(5);break}return S(a,o(n.value),5);case 5:(100<(r=Date.now())-h||n.done)&&(i(r-h,c-f,g-c),f=c,h=r),n.done?t.close():(t.enqueue(n.value),e()),T(a)}}))}()}}),S(y,u.arrayBuffer(),5);case 5:l=y.h,k(y,3);break;case 2:if(v=x(y),r.Sd)throw new ct(1,1,7001,t,e);if(r.te)throw new ct(1,1,1003,t,e);throw new ct(1,1,1002,t,v,e);case 3:return m={},u.headers.forEach((function(t,e){m[e.trim()]=t})),y.return(fh(m,l,u.status,t,u.url,e))}}))}(t,n,{body:e.body||void 0,headers:i,method:e.method,signal:o.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},a,r,e.streamDataCallback),(function(){return a.Sd=!0,o.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var s=new Ht((function(){a.te=!0,o.abort()}));s.T(e/1e3),t.finally((function(){s.stop()}))}return t}function ph(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(Mg){return!1}return!(!t.fetch||!t.AbortController)}Jo.m3u8=function(){return new Hf},Zo["application/x-mpegurl"]=function(){return new Hf},Zo["application/vnd.apple.mpegurl"]=function(){return new Hf},H("shaka.net.HttpFetchPlugin",hh),hh.isSupported=ph,hh.parse=dh;var gh=t.fetch,vh=t.AbortController,mh=t.ReadableStream,yh=t.Headers;function bh(){}function wh(t,e,n,r){var i=new Sh,o=Date.now(),a=0;return new Yi(new Promise((function(s,u){for(var l in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){u(new ct(1,1,7001,t,n))},i.onload=function(e){for(var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n"),i={},o=(r=c(r)).next();!o.done;o=r.next())i[(o=o.value.split(": "))[0].toLowerCase()]=o.slice(1).join(": ");try{var a=fh(i,e.response,e.status,t,e.responseURL,n);s(a)}catch(l){u(l)}},i.onerror=function(e){u(new ct(1,1,1002,t,e,n))},i.ontimeout=function(){u(new ct(1,1,1003,t,n))},i.onprogress=function(t){var e=Date.now();(100<e-o||t.lengthComputable&&t.loaded==t.total)&&(r(e-o,t.loaded-a,t.total-t.loaded),a=t.loaded,o=e)},e.headers)i.setRequestHeader(l.toLowerCase(),e.headers[l]);i.send(e.body)})),(function(){return i.abort(),Promise.resolve()}))}ph()&&(so("http",dh,2,!0),so("https",dh,2,!0)),H("shaka.net.HttpXHRPlugin",bh),bh.parse=wh;var Sh=t.XMLHttpRequest;function Th(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function Eh(t){var e=this;this.O=t,this.g=new Map,this.J=new Lr((function(){var t=Array.from(e.g.values());return Promise.all(t.map((function(t){return t.catch((function(){}))})))})),this.h=[],this.ee=function(){},this.de=function(){},this.Mb=new Th}function _h(t){var e=t.h.map((function(t){return t()}));return t.h=[],Promise.all(e)}function kh(t,e,n,r,i,o){Dr(t.J);var a=function(t,e){t.i+=e;var n=t.l;return t.l++,t.g.set(n,e),n}(t.Mb,r);return r=(t.g.get(e)||Promise.resolve()).then((function(){var e,r,s,u,l,c,f;return O((function(h){if(1==h.g)return S(h,function(t,e){var n,r,i,o;return O((function(a){return 1==a.g?(n=fo,r=t.O.request(n,e),i=function(){return r.abort()},t.h.push(i),S(a,r.promise,2)):(o=a.h,ce(t.h,i),a.return(o.data))}))}(t,n),2);if(e=h.h,t.J.g)throw new ct(2,9,7001);if(i)for(u in r=st(e),(s=new Gl(r)).data)l=Number(u),c=s.data[l],f=s.g[l],t.de(c,f);t.Mb.close(a,e.byteLength);var d=t.Mb;return t.ee(0==d.i?0:d.j/d.i,t.Mb.h),h.return(o(e))}))})),t.g.set(e,r),r}function xh(t,e){var n=this;this.i=t,this.h=t.objectStore(e),this.g=new pr,t.onabort=function(t){t.preventDefault(),n.g.reject()},t.onerror=function(t){t.preventDefault(),n.g.reject()},t.oncomplete=function(){n.g.resolve()}}function Mh(t,e){return new Promise((function(n,r){var i=t.h.openCursor();i.onerror=r,i.onsuccess=function(){var t;return O((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(t=i.result,S(r,e(t.key,t.value,t),2));t.continue(),T(r)}))}}))}function Ah(t){this.h=t,this.g=[]}function Rh(t,e){return Ih(t,e,"readwrite")}function Ih(t,e,n){var r=new xh(n=t.h.transaction([e],n),e);return t.g.push(r),r.promise().then((function(){ce(t.g,r)}),(function(){ce(t.g,r)})),r}function Ch(t,e,n){this.g=new Ah(t),this.i=e,this.h=n}function Lh(t){return Promise.reject(new ct(2,9,9011,"Cannot add new value to "+t))}function Dh(t,e,n,r){e=(t=Rh(t.g,e)).store();for(var i={},o=(n=c(n)).next();!o.done;i={ic:i.ic},o=n.next())i.ic=o.value,e.delete(i.ic).onsuccess=function(t){return function(){return r(t.ic)}}(i);return t.promise()}function Oh(t,e,n){var r,i,o,a,s,u,l;return O((function(f){if(1==f.g){for(r=Ih(t.g,e,"readonly"),i=r.store(),o={},a=[],s={},u=c(n),l=u.next();!l.done;s={Kb:s.Kb,Ib:s.Ib},l=u.next())s.Ib=l.value,s.Kb=i.get(s.Ib),s.Kb.onsuccess=function(t){return function(){void 0==t.Kb.result&&a.push(t.Ib),o[t.Ib]=t.Kb.result}}(s);return S(f,r.promise(),2)}if(a.length)throw new ct(2,9,9012,"Could not find values for "+a);return f.return(n.map((function(t){return o[t]})))}))}function Ph(t){this.g=new Ah(t)}function Nh(){this.g=new Map}function jh(t,e,n){if(!(t=t.g.get(e)))throw new ct(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new ct(2,9,9013,"Could not find cell with name "+n);return e}function Bh(t,e){Fh.set(t,e)}so("http",wh,1,!0),so("https",wh,1,!0),Th.prototype.close=function(t,e){if(this.g.has(t)){var n=this.g.get(t);this.g.delete(t),this.j+=n,this.h+=e}},Eh.prototype.destroy=function(){return this.J.destroy()},xh.prototype.abort=function(){var t=this;return O((function(e){if(1==e.g){try{t.i.abort()}catch(n){}return E(e,2),S(e,t.g,4)}if(2!=e.g)return k(e,0);x(e),T(e)}))},xh.prototype.store=function(){return this.h},xh.prototype.promise=function(){return this.g},Ah.prototype.destroy=function(){return Promise.all(this.g.map((function(t){return t.abort()})))},(r=Ch.prototype).destroy=function(){return this.g.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return Lh(this.i)},r.removeSegments=function(t,e){return Dh(this,this.i,t,e)},r.getSegments=function(t){var e,n=this;return O((function(r){return 1==r.g?S(r,Oh(n,n.i,t),2):(e=r.h,r.return(e.map((function(t){return n.Td(t)}))))}))},r.addManifests=function(){return Lh(this.h)},r.updateManifestExpiration=function(t,e){var n=Rh(this.g,this.h),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},r.removeManifests=function(t,e){return Dh(this,this.h,t,e)},r.getManifests=function(t){var e,n=this;return O((function(r){return 1==r.g?S(r,Oh(n,n.h,t),2):(e=r.h,r.return(Promise.all(e.map((function(t){return n.Pb(t)})))))}))},r.getAllManifests=function(){var t,e,n=this;return O((function(r){return 1==r.g?(t=Ih(n.g,n.h,"readonly"),e=new Map,S(r,Mh(t,(function(t,r){var i;return O((function(o){if(1==o.g)return S(o,n.Pb(r),2);i=o.h,e.set(t,i),T(o)}))})),2)):3!=r.g?S(r,t.promise(),3):r.return(e)}))},r.Td=function(t){return t},r.Pb=function(t){return Promise.resolve(t)},r.add=function(t,e){var n,r,i,o,a,s,u,l=this;return O((function(f){if(1==f.g){for(n=Rh(l.g,t),r=n.store(),i=[],o={},a=c(e),s=a.next();!s.done;o={jc:o.jc},s=a.next())u=s.value,o.jc=r.add(u),o.jc.onsuccess=function(t){return function(){i.push(t.jc.result)}}(o);return S(f,n.promise(),2)}return f.return(i)}))},Ph.prototype.destroy=function(){return this.g.destroy()},Ph.prototype.getAll=function(){var t,e,n=this;return O((function(r){return 1==r.g?(t=Ih(n.g,"session-ids","readonly"),e=[],S(r,Mh(t,(function(t,n){e.push(n)})),2)):3!=r.g?S(r,t.promise(),3):r.return(e)}))},Ph.prototype.add=function(t){for(var e=Rh(this.g,"session-ids"),n=e.store(),r=(t=c(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},Ph.prototype.remove=function(t){var e,n=this;return O((function(r){return 1==r.g?S(r,Mh(e=Rh(n.g,"session-ids"),(function(e,n,r){t.includes(n.sessionId)&&r.delete()})),2):S(r,e.promise(),0)}))},Nh.prototype.destroy=function(){for(var t=[],e=c(this.g.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.g.clear(),Promise.all(t)},Nh.prototype.init=function(){var t=this;Fh.forEach((function(e,n){var r=e();r&&t.g.set(n,r)}));for(var e=[],n=c(this.g.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},H("shaka.offline.StorageMuxer",Nh),Nh.unregister=function(t){Fh.delete(t)},Nh.register=Bh,Nh.prototype.destroy=Nh.prototype.destroy;var Fh=new Map;function Uh(){Ch.apply(this,arguments)}function Hh(t,e){!function(t){var e=t.streams.filter((function(t){return"audio"==t.contentType}));if(t=t.streams.filter((function(t){return"video"==t.contentType})),!e.every((function(t){return t.variantIds}))||!t.every((function(t){return t.variantIds}))){for(var n=c(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=c(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,t.length&&!e.length){var i=n++,o=c(t);for(r=o.next();!r.done;r=o.next())r.value.variantIds.push(i)}if(!t.length&&e.length)for(i=n++,o=c(e),r=o.next();!r.done;r=o.next())r.value.variantIds.push(i);if(t.length&&e.length)for(e=c(e),r=e.next();!r.done;r=e.next())for(r=r.value,i=c(t),o=i.next();!o.done;o=i.next()){o=o.value;var a=n++;r.variantIds.push(a),o.variantIds.push(a)}}}(t);for(var n=c(t.streams),r=n.next();!r.done;r=n.next());return t.streams.map((function(n){return function(t,e,n){var r=t.initSegmentUri?Kh(t.initSegmentUri):null,i=e+t.presentationTimeOffset,o=e+n;return{id:t.id,originalId:null,primary:t.primary,type:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:r,encrypted:t.encrypted,keyIds:new Set([t.keyId]),segments:t.segments.map((function(t){var n=Kh(t.uri);return{startTime:e+t.startTime,endTime:e+t.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:e,appendWindowEnd:o,timestampOffset:i}})),variantIds:t.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}(n,t.startTime,e)}))}function Kh(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new ct(2,9,9004,"Could not parse uri "+t)}function Gh(){Ch.apply(this,arguments)}function qh(t,e,n){return{id:t.id,originalId:t.originalId,primary:t.primary,type:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,encrypted:t.encrypted,keyIds:new Set([t.keyId]),segments:t.segments.map((function(r){return{startTime:e+r.startTime,endTime:e+r.endTime,initSegmentKey:t.initSegmentKey,appendWindowStart:e,appendWindowEnd:n,timestampOffset:e-t.presentationTimeOffset,dataKey:r.dataKey}})),variantIds:t.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function Vh(){Ch.apply(this,arguments)}function zh(){this.m=this.j=this.i=this.h=this.g=this.l=null}function Wh(t,e,n,r){this.g=t,this.i=e,this.h=n,this.l=r,this.j=["offline:",t,"/",e,"/",n,"/",r].join("")}function Yh(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new Wh(e,n,r,Number(t[4])):null}function Xh(t,e){this.h=t,this.g=e}function $h(t,e){var n=new ea(null,0);n.Ja(e.duration);var r=e.streams.filter((function(t){return"audio"==t.type})),i=e.streams.filter((function(t){return"video"==t.type}));r=function(t,e,n,r){for(var i=new Set,o=c(e),a=o.next();!a.done;a=o.next()){var s=c(a.value.variantIds);for(a=s.next();!a.done;a=s.next())i.add(a.value)}for(o=c(n),a=o.next();!a.done;a=o.next())for(s=c(a.value.variantIds),a=s.next();!a.done;a=s.next())i.add(a.value);for(o=new Map,i=c(i),a=i.next();!a.done;a=i.next())a=a.value,o.set(a,{id:a,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(e=c(e),i=e.next();!i.done;i=e.next())for(i=i.value,a=Zh(t,i,r),s=c(i.variantIds),i=s.next();!i.done;i=s.next())(i=o.get(i.value)).language=a.language,i.primary=i.primary||a.primary,i.audio=a;for(n=c(n),e=n.next();!e.done;e=n.next())for(i=e.value,e=Zh(t,i,r),a=c(i.variantIds),i=a.next();!i.done;i=a.next())(i=o.get(i.value)).primary=i.primary||e.primary,i.video=e;return o}(t,r,i,n),i=e.streams.filter((function(t){return t.type==fr})).map((function(e){return Zh(t,e,n)}));var o=e.streams.filter((function(t){return"image"==t.type})).map((function(e){return Zh(t,e,n)})),a=e.drmInfo?[e.drmInfo]:[];if(e.drmInfo)for(var s=c(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=a),u.video&&u.video.encrypted&&(u.video.drmInfos=a);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:o}}function Zh(t,e,n){var r=e.segments.map((function(e){return function(t,e){var n=new Wh("segment",t.h,t.g,e.dataKey);return new ta(e.startTime,e.endTime,(function(){return[n.toString()]}),0,null,null!=e.initSegmentKey?function(t,e){var n=new Wh("segment",t.h,t.g,e);return new Qo((function(){return[n.toString()]}),0,null)}(t,e.initSegmentKey):null,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd)}(t,e)}));return n.Cb(r),{id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Sa(r),mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:e.hdr,kind:e.kind,encrypted:e.encrypted,drmInfos:[],keyIds:e.keyIds,language:e.language,label:e.label,type:e.type,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:e.roles,forced:e.forced,channelsCount:e.channelsCount,audioSamplingRate:e.audioSamplingRate,spatialAudio:e.spatialAudio,closedCaptions:e.closedCaptions,tilesLayout:e.tilesLayout}}function Jh(){this.g=null}function Qh(){}function td(t){var e=Yh(t);return e&&"manifest"==e.g?t=Zi(t={uri:t,he:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):t=e&&"segment"==e.g?function(t,e){var n=new Nh;return Zi(void 0).ba((function(){return n.init()})).ba((function(){return jh(n,e.Ia(),e.la())})).ba((function(t){return t.getSegments([e.key()])})).ba((function(t){return{uri:e,data:t[0].data,headers:{}}})).finally((function(){return n.destroy()}))}(e.key(),e):Xi(new ct(2,1,9004,t)),t}function ed(t,e,n){var r,i,o,a,s,u;return O((function(l){switch(l.g){case 1:r=[];for(var f=[],h=c(n),d=h.next();!d.done;d=h.next()){d=d.value;for(var p=!1,g=c(f),v=g.next();!v.done;v=g.next())if(nd((v=v.value).info,d)){v.sessionIds.push(d.sessionId),p=!0;break}p||f.push({info:d,sessionIds:[d.sessionId]})}i=c(f),o=i.next();case 2:if(o.done){l.v(4);break}return a=o.value,s=function(t,e,n){var r,i;return O((function(o){switch(o.g){case 1:return r=new So({Bb:e,onError:function(){},Fc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),E(o,2),r.configure(t),S(o,function(t,e,n,r,i,o){var a=new Map;return(i={audioCapabilities:i,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e}).drmInfos=[{keySystem:e,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}],a.set(e,i),Lo(t,a,[],!1)}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:k(o,3);break;case 2:return x(o),S(o,r.destroy(),5);case 5:return o.return([]);case 3:return E(o,6),S(o,_o(r),8);case 8:k(o,7);break;case 6:return x(o),S(o,r.destroy(),9);case 9:return o.return([]);case 7:return i=[],S(o,Promise.all(n.sessionIds.map((function(t){return O((function(e){return 1==e.g?(E(e,2),S(e,function(t,e){var n,r,i;return O((function(o){return 1==o.g?S(o,Do(t,e),2):(n=o.h)?(r=[],(i=t.j.get(n))&&(i.Ka=new pr,r.push(i.Ka)),r.push(n.remove()),S(o,Promise.all(r),0)):o.return()}))}(r,t),4)):2!=e.g?(i.push(t),k(e,0)):(x(e),void T(e))}))}))),10);case 10:return S(o,r.destroy(),11);case 11:return o.return(i)}}))}(t,e,a),S(l,s,5);case 5:u=l.h,r=r.concat(u),o=i.next(),l.v(2);break;case 4:return l.return(r)}}))}function nd(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&fe(t.audioCapabilities,e.audioCapabilities,n)&&fe(t.videoCapabilities,e.videoCapabilities,n)}function rd(t,e){var n=$h(new Xh(t.Ia(),t.la()),e),r=e.appMetadata||{};return n=id(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r}}function id(t){for(var e=[],n=function(t){return t.filter((function(t){return xi(t)}))}(t.variants),r=(n=c(n)).next();!r.done;r=n.next())e.push(wi(r.value));for(n=(t=c(t.textStreams)).next();!n.done;n=t.next())e.push(Si(n.value));return e}function od(){this.g={}}function ad(t,e){var n=t.g[e];return null==n&&(n=0),n}function sd(t){var e=this;if(t&&t.constructor!=Ss)throw new ct(2,9,9008);this.O=this.o=null,t?(this.o=t.o,this.O=t.Sb()):(this.o=hs(),this.O=new ao),this.Kc=[],this.Yb=[],this.Bd=[];var n=!t;this.J=new Lr((function(){var t,r,i,o,a;return O((function(s){switch(s.g){case 1:return S(s,Promise.all(e.Bd.map((function(t){return _h(t)}))),2);case 2:for(t=function(){},r=[],i=c(e.Yb),o=i.next();!o.done;o=i.next())a=o.value,r.push(a.then(t,t));return S(s,Promise.all(r),3);case 3:if(!n){s.v(4);break}return S(s,e.O.destroy(),4);case 4:e.o=null,e.O=null,T(s)}}))}))}function ud(){if(Kt())t:{for(var t=c(Fh.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function ld(t,e){for(var n=[],r=c(t.streams),i=r.next();!i.done;i=r.next())i=i.value,e&&"video"==i.type?n.push({contentType:Tr(i.mimeType,i.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=i.type||n.push({contentType:Tr(i.mimeType,i.codecs),robustness:t.drmInfo.audioRobustness});return n}function cd(t,e,n){return O((function(r){return S(r,function(t,e,n,r){var i,o,a;return O((function(s){return 1==s.g?r.drmInfo?(i=function(t){var e=Array.from(t.g.keys());if(!e.length)throw new ct(2,9,9e3,"No supported storage mechanisms found");return t.g.get(e[0]).getEmeSessionCell()}(n),o=r.sessionIds.map((function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:ld(r,!1),videoCapabilities:ld(r,!0)}})),S(s,ed(e,t,o),2)):s.return():3!=s.g?(a=s.h,S(s,i.remove(a),3)):S(s,i.add(o.filter((function(t){return!a.includes(t.sessionId)}))),0)}))}(t.O,t.o.drm,n,e),0)}))}function fd(t,e,n){function r(){}var i=function(t){for(var e=[],n=(t=c(t.streams)).next();!n.done;n=t.next())for(var r=(n=c(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&e.push(r.initSegmentKey),e.push(r.dataKey);return e}(n);return rd(e,n),Promise.all([t.removeSegments(i,r),t.removeManifests([e.key()],r)])}function hd(t,e,n,r,i,o,a,s,u){var l={id:o.id,originalId:o.originalId,primary:o.primary,type:o.type,mimeType:o.mimeType,codecs:o.codecs,frameRate:o.frameRate,pixelAspectRatio:o.pixelAspectRatio,hdr:o.hdr,kind:o.kind,language:o.language,label:o.label,width:o.width||null,height:o.height||null,encrypted:o.encrypted,keyIds:o.keyIds,segments:[],variantIds:[],roles:o.roles,forced:o.forced,channelsCount:o.channelsCount,audioSamplingRate:o.audioSamplingRate,spatialAudio:o.spatialAudio,closedCaptions:o.closedCaptions,tilesLayout:o.tilesLayout},c=o.id;return function(t,e,n){if(null!=(e=t.segmentIndex.find(e)))for(var r=t.segmentIndex.get(e);r;)n(r),r=t.segmentIndex.get(++e)}(o,i.presentationTimeline.Za(),(function(i){var f=function(t,e,n,r,i,o,a,s,u){return u.has(a)?u.get(a):(s=Oa(a.ma(),a.ja,a.ea,s.streaming.retryParameters),e=kh(e,n,s,.5*ad(o,r),!0,(function(e){var n;return O((function(r){return 1==r.g?S(r,i.addSegments([{data:e}]),2):(n=r.h,t.Kc.push(n[0]),r.return(n[0]))}))})),u.set(a,e),e)}(t,e,c,o.id,n,r,i.h,a,s),h=function(t,e,n,r,i,o,a,s,u){var l=[a.ma()[0],a.ja,a.ea].join("-");return u.has(l)?u.get(l):(s=Oa(a.ma(),a.ja,a.ea,s.streaming.retryParameters),e=kh(e,n,s,function(t,e,n){return n=n.endTime-n.startTime,ad(t,e)*n}(o,r,a),!1,(function(e){var n;return O((function(r){return 1==r.g?S(r,i.addSegments([{data:e}]),2):(n=r.h,t.Kc.push(n[0]),r.return(n[0]))}))})),u.set(l,e),e)}(t,e,c,o.id,n,r,i,a,u);!function(t,e,n){Dr(t.J);var r=(t.g.get(e)||Promise.resolve()).then((function(){return O((function(t){return S(t,n(),0)}))}));t.g.set(e,r)}(e,c,(function(){var t,e;return O((function(n){return 1==n.g?S(n,f,2):3!=n.g?(t=n.h,S(n,h,3)):(e=n.h,l.segments.push({initSegmentKey:t,startTime:i.startTime,endTime:i.endTime,appendWindowStart:i.appendWindowStart,appendWindowEnd:i.appendWindowEnd,timestampOffset:i.timestampOffset,dataKey:e}),void T(n))}))}))})),l}function dd(t){if(t.J.g)throw new ct(2,9,7001)}function pd(){if(!ud())throw new ct(2,9,9e3)}function gd(t,e){return O((function(n){return 1==n.g?(t.Yb.push(e),_(n),S(n,e,4)):2!=n.g?n.return(n.h):(M(n),ce(t.Yb,e),A(n,0))}))}function vd(t){for(var e=new Set,n=c(t.textStreams),r=n.next();!r.done;r=n.next())e.add(r.value);for(r=(n=c(t.imageStreams)).next();!r.done;r=n.next())e.add(r.value);for(n=(t=c(t.variants)).next();!n.done;n=t.next())(n=n.value).audio&&e.add(n.audio),n.video&&e.add(n.video);return e}m(Uh,Ch),Uh.prototype.updateManifestExpiration=function(t,e){var n,r,i,o=this;return O((function(a){return n=Rh(o.g,o.h),r=n.store(),i=new pr,r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new ct(2,9,9012,"Could not find values for "+t))},S(a,Promise.all([n.promise(),i]),0)}))},Uh.prototype.Pb=function(t){var e,n,r,i,o,a;return O((function(s){if(1==s.g){for(e=[],n=0;n<t.periods.length;++n)r=n==t.periods.length-1?t.duration:t.periods[n+1].startTime,i=r-t.periods[n].startTime,o=Hh(t.periods[n],i),e.push(o);return S(s,Fc(e),2)}return a=s.h,s.return({creationTime:0,originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,streams:a,sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata})}))},Uh.prototype.Td=function(t){return{data:t.data}},m(Gh,Ch),Gh.prototype.Pb=function(t){var e,n,r,i,o,a;return O((function(s){if(1==s.g){for(e=[],n=0;n<t.periods.length;++n){r=n==t.periods.length-1?t.duration:t.periods[n+1].startTime,i=r-t.periods[n].startTime;for(var u=t.periods[n],l=[],f=c(u.streams),h=f.next();!h.done;h=f.next())0!=(h=h.value).variantIds.length&&l.push(qh(h,u.startTime,u.startTime+i));o=l,e.push(o)}return S(s,Fc(e),2)}return a=s.h,s.return({appMetadata:t.appMetadata,creationTime:0,drmInfo:t.drmInfo,duration:t.duration,expiration:null==t.expiration?1/0:t.expiration,originalManifestUri:t.originalManifestUri,sessionIds:t.sessionIds,size:t.size,streams:a})}))},m(Vh,Ch),Vh.prototype.hasFixedKeySpace=function(){return!1},Vh.prototype.addSegments=function(t){return this.add(this.i,t)},Vh.prototype.addManifests=function(t){return this.add(this.h,t)},Vh.prototype.Pb=function(t){return null==t.expiration&&(t.expiration=1/0),Promise.resolve(t)},(r=zh.prototype).init=function(){var e=this,n=new pr,r=t.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){var t=r.result;e.l=t;var i=t.objectStoreNames;i=i.contains("manifest")&&i.contains("segment")?new Uh(t,"segment","manifest"):null,e.g=i,i=(i=t.objectStoreNames).contains("manifest-v2")&&i.contains("segment-v2")?new Gh(t,"segment-v2","manifest-v2"):null,e.h=i,i=(i=t.objectStoreNames).contains("manifest-v3")&&i.contains("segment-v3")?new Gh(t,"segment-v3","manifest-v3"):null,e.i=i,i=(i=t.objectStoreNames).contains("manifest-v5")&&i.contains("segment-v5")?new Vh(t,"segment-v5","manifest-v5"):null,e.j=i,t=t.objectStoreNames.contains("session-ids")?new Ph(t):null,e.m=t,n.resolve()},r.onupgradeneeded=function(){for(var t=r.result,e=c(["segment-v5","manifest-v5","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(t){n.reject(new ct(2,9,9001,r.error)),t.preventDefault()},n},r.destroy=function(){var t=this;return O((function(e){switch(e.g){case 1:if(!t.g){e.v(2);break}return S(e,t.g.destroy(),2);case 2:if(!t.h){e.v(4);break}return S(e,t.h.destroy(),4);case 4:if(!t.i){e.v(6);break}return S(e,t.i.destroy(),6);case 6:if(!t.j){e.v(8);break}return S(e,t.j.destroy(),8);case 8:if(!t.m){e.v(10);break}return S(e,t.m.destroy(),10);case 10:t.l&&t.l.close(),T(e)}}))},r.getCells=function(){var t=new Map;return this.g&&t.set("v1",this.g),this.h&&t.set("v2",this.h),this.i&&t.set("v3",this.i),this.j&&t.set("v5",this.j),t},r.getEmeSessionCell=function(){return this.m},r.erase=function(){var e=this;return O((function(n){switch(n.g){case 1:if(!e.g){n.v(2);break}return S(n,e.g.destroy(),2);case 2:if(!e.h){n.v(4);break}return S(n,e.h.destroy(),4);case 4:if(!e.i){n.v(6);break}return S(n,e.i.destroy(),6);case 6:if(!e.j){n.v(8);break}return S(n,e.j.destroy(),8);case 8:return e.l&&e.l.close(),S(n,function(){var e=new pr,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new ct(2,9,9001,n.error)),t.preventDefault()},e}(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,S(n,e.init(),0)}}))},Bh("idb",(function(){return zt()||!t.indexedDB?null:new zh})),Wh.prototype.Ia=function(){return this.i},Wh.prototype.la=function(){return this.h},Wh.prototype.key=function(){return this.l},Wh.prototype.toString=function(){return this.j},(r=Jh.prototype).configure=function(){},r.start=function(t,e){var n,r,i,o,a,s,u=this;return O((function(l){switch(l.g){case 1:if(n=Yh(t),u.g=n,null==n||"manifest"!=n.g)throw new ct(2,1,9004,t);return r=new Nh,_(l),S(l,r.init(),4);case 4:return S(l,jh(r,n.Ia(),n.la()),5);case 5:return S(l,l.h.getManifests([n.key()]),6);case 6:return i=l.h,o=i[0],a=new Xh(n.Ia(),n.la()),s=$h(a,o),e.makeTextStreamsForClosedCaptions(s),l.return(s);case 2:return M(l),S(l,r.destroy(),7);case 7:A(l,0)}}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(t,e){var n,r,i,o,a,s,u,l=this;return O((function(c){switch(c.g){case 1:return n=l.g,r=new Nh,E(c,2,3),S(c,r.init(),5);case 5:return S(c,jh(r,n.Ia(),n.la()),6);case 6:return S(c,(i=c.h).getManifests([n.key()]),7);case 7:if(o=c.h,a=o[0],s=a.sessionIds.includes(t),u=void 0==a.expiration||a.expiration>e,!s||!u){c.v(3);break}return S(c,i.updateManifestExpiration(n.key(),e),3);case 3:return M(c),S(c,r.destroy(),10);case 10:A(c,0);break;case 2:x(c),c.v(3)}}))},Zo["application/x-offline-manifest"]=function(){return new Jh},H("shaka.offline.OfflineScheme",Qh),Qh.plugin=td,so("offline",td),(r=sd.prototype).destroy=function(){return this.J.destroy()},r.configure=function(t,e){return 2==arguments.length&&"string"==typeof t&&(t=cs(t,e)),t.manifest&&t.manifest.dash&&"defaultPresentationDelay"in t.manifest.dash&&(Et("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),t.manifest.defaultPresentationDelay=t.manifest.dash.defaultPresentationDelay,delete t.manifest.dash.defaultPresentationDelay),ds(this.o,t)},r.getConfiguration=function(){var t=hs();return ds(t,this.o,hs()),t},r.Sb=function(){return this.O},r.store=function(t,e,n){var r=this,i=this.getConfiguration(),o=new Eh(this.O);this.Bd.push(o);var a=new Yi(e=function(t,e,n,r,i,o){var a,s,u,l,f,h,d,p,g,v;return O((function(m){switch(m.g){case 1:return pd(),s=a=null,u=new Nh,f=l=null,E(m,2,3),S(m,r(),5);case 5:return a=m.h,S(m,function(t,e,n,r){var i,o,a,s,u;return O((function(l){if(1==l.g)return i=null,o=t.O,a={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){}},n.configure(r.manifest),dd(t),S(l,n.start(e,a),2);if(3!=l.g)return s=l.h,dd(t),u=vd(s),S(l,Promise.all(tt(u,(function(t){return t.createSegmentIndex()}))),3);if(dd(t),i)throw i;return l.return(s)}))}(t,e,a,i),6);case 6:if(h=m.h,dd(t),!(!h.presentationTimeline.Y()&&!h.presentationTimeline.kb()))throw new ct(2,9,9005,e);return S(m,function(t,e,n,r){var i;return O((function(o){switch(o.g){case 1:return(i=new So({Bb:t.O,onError:n,Fc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(r.drm),S(o,function(t,e,n,r){return t.oa=!0,t.D=[],t.F=n,Eo(t,e,!!r)}(i,e.variants,r.offline.usePersistentLicense,r.useMediaCapabilities),2);case 2:return S(o,_o(i),3);case 3:return S(o,ko(i),4);case 4:return o.return(i)}}))}(t,h,(function(t){f=f||t}),i),7);case 7:if(s=m.h,dd(t),f)throw f;return S(m,t.vc(h,s,i),8);case 8:return S(m,u.init(),9);case 9:return dd(t),S(m,function(t){var e=null;if(t.g.forEach((function(t,n){t.getCells().forEach((function(t,r){t.hasFixedKeySpace()||e||(e={path:{Ia:n,la:r},la:t})}))})),e)return e;throw new ct(2,9,9013,"Could not find a cell that supports add-operations")}(u),10);case 10:return l=m.h,dd(t),S(m,function(t,e,n,r,i,o,a,s){var u,l,f,h,d,p,g,v,m,y;return O((function(b){switch(b.g){case 1:return u=function(t,e,n){return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:e=id(e),appMetadata:n}}(i,r,o),l=a.offline.progressCallback,function(t,e,n){t.ee=e,t.de=n}(s,(function(t,e){u.size=e,l(u,t)}),(function(t,e){d&&a.offline.usePersistentLicense&&p==e&&xo(n,"cenc",t)})),f=r.variants.some((function(t){var e=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||e})),h=r.variants.some((function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some((function(t){return t.initData&&t.initData.length}))})),p=null,(d=f&&!h)&&(g=n.i,p=md.get(g.keySystem)),_(b),m=v=function(t,e,n,r,i,o,a,s){for(var u=new od,l=c(i.variants),f=l.next();!f.done;f=l.next()){var h=u,d=(f=f.value).audio,p=f.video;if(d&&!p&&(h.g[d.id]=d.bandwidth||f.bandwidth),!d&&p&&(h.g[p.id]=p.bandwidth||f.bandwidth),d&&p){var g=d.bandwidth||393216,v=p.bandwidth||f.bandwidth-g;0>=v&&(v=f.bandwidth),h.g[d.id]=g,h.g[p.id]=v}}for(l=c(i.textStreams),h=l.next();!h.done;h=l.next())u.g[h.value.id]=52;for(l=c(i.imageStreams),h=l.next();!h.done;h=l.next())h=h.value,u.g[h.id]=h.bandwidth||2048;for((h=new Map).set(null,Promise.resolve(null)),f=new Map,d=vd(i),l=new Map,d=c(d),p=d.next();!p.done;p=d.next())p=p.value,g=hd(t,e,n,u,i,p,s,h,f),l.set(p.id,g);for(t=c(i.variants),f=t.next();!f.done;f=t.next())(e=f.value).audio&&l.get(e.audio.id).variantIds.push(e.id),e.video&&l.get(e.video.id).variantIds.push(e.id);return t=Array.from(l.values()),s=s.offline.usePersistentLicense,(e=r.i)&&s&&(e.initData=[]),{creationTime:Date.now(),originalManifestUri:o,duration:i.presentationTimeline.getDuration(),size:0,expiration:r.Rb(),streams:t,sessionIds:s?Io(r):[],drmInfo:e,appMetadata:a}}(t,s,e,n,r,i,o,a),S(b,function(t){return O((function(e){return 1==e.g?S(e,Promise.all(t.g.values()),2):e.return(t.Mb.h)}))}(s),4);case 4:if(m.size=b.h,v.expiration=n.Rb(),y=Io(n),v.sessionIds=a.offline.usePersistentLicense?y:[],f&&a.offline.usePersistentLicense&&!y.length)throw new ct(2,9,9007);return b.return(v);case 2:return M(b),S(b,s.destroy(),5);case 5:A(b,0)}}))}(t,l.la,s,h,e,n,i,o),11);case 11:if(d=m.h,dd(t),f)throw f;return S(m,l.la.addManifests([d]),12);case 12:return p=m.h,dd(t),g=new Wh("manifest",l.path.Ia,l.path.la,p[0]),m.return(rd(g,d));case 3:return M(m),t.Kc=[],S(m,u.destroy(),13);case 13:if(!a){m.v(14);break}return S(m,a.stop(),14);case 14:if(!s){m.v(16);break}return S(m,s.destroy(),16);case 16:A(m,0);break;case 2:if(v=x(m),!l){m.v(18);break}return S(m,l.la.removeSegments(t.Kc,(function(){})),18);case 18:throw f||v}}))}(this,t,e||{},(function(){var e;return O((function(o){return 1==o.g?S(o,Yo(t,r.O,i.manifest.retryParameters,n||null),2):(e=o.h,o.return(It(e)))}))}),i,o),(function(){return _h(o)}));return a.finally((function(){ce(r.Bd,o)})),a.then=function(t){return Et("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),a.promise.then(t)},function(t,e){var n=e.promise;return t.Yb.push(n),e.finally((function(){ce(t.Yb,n)}))}(this,a)},r.bf=function(){return Et("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},r.vc=function(t,e,n){var r,i,o,a,s,u,l,f,h,d,p,g,v,m,y,b,w,_,M,A,R,I,C,L,D;return O((function(O){switch(O.g){case 1:for(r={width:1/0,height:1/0},function(t,e,n){t.variants=t.variants.filter((function(t){return fi(t,e,n)}))}(t,n.restrictions,r),n.useMediaCapabilities?pi(t,n.offline.usePersistentLicense):(gi(t),di(t,e)),i=[],o=n.preferredAudioChannelCount,li(t,o),a=c(t.variants),s=a.next();!s.done;s=a.next())u=s.value,i.push(wi(u));for(l=c(t.textStreams),f=l.next();!f.done;f=l.next())h=f.value,i.push(Si(h));for(d=c(t.imageStreams),p=d.next();!p.done;p=d.next())g=p.value,i.push(Ti(g));return S(O,n.offline.trackSelectionCallback(i),2);case 2:for(v=O.h,m=t.presentationTimeline.getDuration(),y=0,b=c(v),w=b.next();!w.done;w=b.next())_=w.value,M=_.bandwidth*m/8,y+=M;return E(O,3),S(O,n.offline.downloadSizeCallback(y),5);case 5:if(!O.h)throw new ct(2,9,9014);k(O,4);break;case 3:if((A=x(O))instanceof ct)throw A;throw new ct(2,9,9015);case 4:for(R=new Set,I=new Set,C=new Set,L=c(v),w=L.next();!w.done;w=L.next())"variant"==(D=w.value).type&&R.add(D.id),"text"==D.type&&I.add(D.id),"image"==D.type&&C.add(D.id);t.variants=t.variants.filter((function(t){return R.has(t.id)})),t.textStreams=t.textStreams.filter((function(t){return I.has(t.id)})),t.imageStreams=t.imageStreams.filter((function(t){return C.has(t.id)})),function(t){t.variants.map((function(t){return t.video}));var e=new Set(t.variants.map((function(t){return t.audio})));t=t.textStreams;for(var n=c(e),r=n.next();!r.done;r=n.next())for(var i=(r=c(e)).next();!i.done;i=r.next());for(e=c(t),n=e.next();!n.done;n=e.next())for(n=c(t),r=n.next();!r.done;r=n.next());}(t),T(O)}}))},r.remove=function(t){return gd(this,function(t,e){var n,r,i,o,a,s;return O((function(u){switch(u.g){case 1:if(pd(),null==(n=Yh(e))||"manifest"!=n.g)throw new ct(2,9,9004,e);return r=n,i=new Nh,_(u),S(u,i.init(),4);case 4:return S(u,jh(i,r.Ia(),r.la()),5);case 5:return S(u,(o=u.h).getManifests([r.key()]),6);case 6:return a=u.h,s=a[0],S(u,Promise.all([cd(t,s,i),fd(o,r,s)]),2);case 2:return M(u),S(u,i.destroy(),8);case 8:A(u,0)}}))}(this,t))},r.yf=function(){return gd(this,function(t){var e,n,r,i,o,a,s,u,l,f;return O((function(h){switch(h.g){case 1:return pd(),e=t.O,n=t.o.drm,r=new Nh,i=!1,_(h),S(h,r.init(),4);case 4:o=[],function(t,e){t.g.forEach((function(t){e(t.getEmeSessionCell())}))}(r,(function(t){return o.push(t)})),a=c(o),s=a.next();case 5:if(s.done){h.v(2);break}return S(h,(u=s.value).getAll(),8);case 8:return l=h.h,S(h,ed(n,e,l),9);case 9:return f=h.h,S(h,u.remove(f),10);case 10:f.length!=l.length&&(i=!0),s=a.next(),h.v(5);break;case 2:return M(h),S(h,r.destroy(),11);case 11:A(h,3);break;case 3:return h.return(!i)}}))}(this))},r.list=function(){return gd(this,function(){var t,e,n;return O((function(r){switch(r.g){case 1:return pd(),t=[],e=new Nh,_(r),S(r,e.init(),4);case 4:return n=Promise.resolve(),function(t,e){t.g.forEach((function(t,n){t.getCells().forEach((function(t,r){e({Ia:n,la:r},t)}))}))}(e,(function(e,r){n=n.then((function(){return O((function(n){if(1==n.g)return S(n,r.getAllManifests(),2);n.h.forEach((function(n,r){var i=rd(new Wh("manifest",e.Ia,e.la,r),n);t.push(i)})),T(n)}))}))})),S(r,n,2);case 2:return M(r),S(r,e.destroy(),6);case 6:A(r,3);break;case 3:return r.return(t)}}))}())},H("shaka.offline.Storage",sd),sd.deleteAll=function(){var t;return O((function(e){return 1==e.g?(t=new Nh,_(e),S(e,function(t){var e,n;return O((function(r){return 1==r.g?(e=Array.from(t.g.values()),(n=0<e.length)||Fh.forEach((function(t){(t=t())&&e.push(t)})),S(r,Promise.all(e.map((function(t){return t.erase()}))),2)):n?r.v(0):S(r,Promise.all(e.map((function(t){return t.destroy()}))),0)}))}(t),2)):5!=e.g?(M(e),S(e,t.destroy(),5)):A(e,0)}))},sd.prototype.list=sd.prototype.list,sd.prototype.removeEmeSessions=sd.prototype.yf,sd.prototype.remove=sd.prototype.remove,sd.prototype.getStoreInProgress=sd.prototype.bf,sd.prototype.store=sd.prototype.store,sd.prototype.getNetworkingEngine=sd.prototype.Sb,sd.prototype.getConfiguration=sd.prototype.getConfiguration,sd.prototype.configure=sd.prototype.configure,sd.prototype.destroy=sd.prototype.destroy,sd.support=ud;var md=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function yd(){}function bd(t,e){for(var n={priority:e||0,Ae:t},r=c(nt(wd)),i=r.next();!i.done;i=r.next()){var o=(i=i.value).ha;if(i.item.priority<n.priority)return void wd.splice(o,0,n)}wd.push(n)}Nu.offline=ud,H("shaka.polyfill",yd),yd.register=bd,yd.installAll=function(){for(var t=c(wd),e=t.next();!e.done;e=t.next()){e=e.value;try{e.Ae()}catch(n){Y("Error installing polyfill!",n)}}};var wd=[];function Sd(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(e,t.bubbles,t.cancelable),t.target.dispatchEvent(n)}function Td(t){var e,n,r,i,o,a,s,u,l,c;return O((function(f){switch(f.g){case 1:return e={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},t&&(!t.video||(n=t.video.contentType,MediaSource.isTypeSupported(n)))&&(!t.audio||(r=t.audio.contentType,MediaSource.isTypeSupported(r)))?t.keySystemConfiguration?(i=t.keySystemConfiguration,o=[],a=[],i.audio&&(s={robustness:i.audio.robustness||"",contentType:t.audio.contentType},o.push(s)),i.video&&(u={robustness:i.video.robustness||"",contentType:t.video.contentType},a.push(u)),l={initDataTypes:[i.initDataType],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(l.audioCapabilities=o),a.length&&(l.videoCapabilities=a),E(f,3),S(f,navigator.requestMediaKeySystemAccess(i.keySystem,[l]),5)):(e.supported=!0,f.return(Promise.resolve(e))):f.return(e);case 5:c=f.h,k(f,4);break;case 3:x(f);case 4:c&&(e.supported=!0,e.keySystemAccess=c);case 2:return f.return(e)}}))}function Ed(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=t.apply(this,n)).abort=function(){},n}}function _d(){eo.call(this),this.type="",this.angle=0}function kd(t,e){try{var n=new Ad(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function xd(t){var e=this.mediaKeys;return e&&e!=t&&Id(e,null),delete this.mediaKeys,(this.mediaKeys=t)?Id(t,this):Promise.resolve()}function Md(t){if(ut(t=st(t.initData)).getUint32(0,!0)+4!=t.byteLength)throw new RangeError("Malformed FairPlay init data");t=vt(t=pt(t.subarray(4),!0));var e=new Event("encrypted");e.initDataType="skd",e.initData=at(t),this.dispatchEvent(e)}function Ad(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=c(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var o=!1,a=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),u=s.next();!u.done;u=s.next())(u=u.value).contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(r.audioCapabilities.push(u),a=!0));if(i.videoCapabilities)for(u=(i=c(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(r.videoCapabilities.push(s),a=!0));o||(a=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=a?r:null}if(r)return void(this.g=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Rd(t){this.g=new WebKitMediaKeys(t),this.h=new Nr}function Id(t,e){if(t.h.nb(),!e)return Promise.resolve();t.h.B(e,"webkitneedkey",Md);try{return sa(e,HTMLMediaElement.HAVE_METADATA,t.h,(function(){e.webkitSetMediaKeys(t.g)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function Cd(t){eo.call(this),this.j=null,this.l=t,this.i=this.g=null,this.h=new Nr,this.sessionId="",this.expiration=NaN,this.closed=new pr,this.keyStatuses=new Dd}function Ld(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.g=e,n=new to("keystatuseschange"),t.dispatchEvent(n)}function Dd(){this.size=0,this.g=void 0}function Od(t,e){try{var n=new Nd(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Pd(t){if(t.initData){var e=new CustomEvent("encrypted");e.initDataType="cenc",e.initData=at(function(t){if(!t)return t;var e=new Gl(t);if(1>=e.data.length)return t;t=[];for(var n={},r=(e=c(e.data)).next();!r.done;n={fc:n.fc},r=e.next())n.fc=r.value,t.some(function(t){return function(e){return it(e,t.fc)}}(n))||t.push(n.fc);return oe.apply(Qt,f(t))}(t.initData)),this.dispatchEvent(e)}}function Nd(t,e){this.keySystem=t;for(var n=!1,r=c(e),i=r.next();!i.done;i=r.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},a=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),u=s.next();!u.done;u=s.next())(u=u.value).contentType&&(a=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(o.audioCapabilities.push(u),n=!0));if(i.videoCapabilities)for(u=(s=c(i.videoCapabilities)).next();!u.done;u=s.next())(u=u.value).contentType&&(a=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(o.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.g=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function jd(t){var e=this.mediaKeys;return e&&e!=t&&Fd(e,null),delete this.mediaKeys,(this.mediaKeys=t)?Fd(t,this):Promise.resolve()}function Bd(t){this.g=new MSMediaKeys(t),this.h=new Nr}function Fd(t,e){if(t.h.nb(),!e)return Promise.resolve();t.h.B(e,"msneedkey",Pd);try{return sa(e,HTMLMediaElement.HAVE_METADATA,t.h,(function(){e.msSetMediaKeys(t.g)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function Ud(t){eo.call(this),this.j=null,this.l=t,this.i=this.g=null,this.h=new Nr,this.sessionId="",this.expiration=NaN,this.closed=new pr,this.keyStatuses=new Kd}function Hd(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.g=e,n=new to("keystatuseschange"),t.dispatchEvent(n)}function Kd(){this.size=0,this.g=void 0}function Gd(){return Promise.reject(Error("The key system specified is not supported."))}function qd(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Vd(){throw new TypeError("Illegal constructor.")}function zd(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Wd(t){return ip?ip+t.charAt(0).toUpperCase()+t.slice(1):t}function Yd(t,e){try{var n=new $d(t,e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Xd(t){var e=this.mediaKeys;return e&&e!=t&&Jd(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Jd(t,this),Promise.resolve()}function $d(t,e){this.g=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=c(e),a=o.next();!a.done;a=o.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},u=!1;if(a.audioCapabilities)for(var l=c(a.audioCapabilities),f=l.next();!f.done;f=l.next())(f=f.value).contentType&&(u=!0,i.canPlayType(f.contentType.split(";")[0],this.g)&&(s.audioCapabilities.push(f),r=!0));if(a.videoCapabilities)for(f=(l=c(a.videoCapabilities)).next();!f.done;f=l.next())(f=f.value).contentType&&(u=!0,i.canPlayType(f.contentType,this.g)&&(s.videoCapabilities.push(f),r=!0));if(u||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Zd(t){this.l=t,this.g=null,this.h=new Nr,this.i=[],this.j=new Map}function Jd(t,e){t.g=e,t.h.nb();var n=ip;e&&(t.h.B(e,n+"needkey",(function(e){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=at(e.initData),t.g.dispatchEvent(n)})),t.h.B(e,n+"keymessage",(function(e){var n=Qd(t,e.sessionId);n&&(e=new to("message",{messageType:void 0==n.keyStatuses.g?"licenserequest":"licenserenewal",message:e.message}),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(e))})),t.h.B(e,n+"keyadded",(function(e){(e=Qd(t,e.sessionId))&&(np(e,"usable"),e.g&&e.g.resolve(),e.g=null)})),t.h.B(e,n+"keyerror",(function(e){var n=Qd(t,e.sessionId);n&&n.handleError(e)})))}function Qd(t,e){var n=t.j.get(e);return n||((n=t.i.shift())?(n.sessionId=e,t.j.set(e,n),n):null)}function tp(t,e,n){eo.call(this),this.j=t,this.m=!1,this.g=this.h=null,this.i=e,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new pr,this.keyStatuses=new rp}function ep(t,e,n){if(t.m)return Promise.reject(Error("The session is already initialized."));t.m=!0;try{if("persistent-license"==t.l)if(n)var r=st(vt("LOAD_SESSION|"+n));else{var i=vt("PERSISTENT|");r=oe(i,e)}else r=st(e)}catch(a){return Promise.reject(a)}t.h=new pr;var o=Wd("generateKeyRequest");try{t.j[o](t.i,r)}catch(a){if("InvalidStateError"!=a.name)return t.h=null,Promise.reject(a);new Ht((function(){try{t.j[o](t.i,r)}catch(e){t.h.reject(e),t.h=null}})).T(.01)}return t.h}function np(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.g=e,n=new to("keystatuseschange"),t.dispatchEvent(n)}function rp(){this.size=0,this.g=void 0}bd((function(){xg()}),-2),bd((function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Sd),document.addEventListener("webkitfullscreenerror",Sd),document.addEventListener("mozfullscreenchange",Sd),document.addEventListener("mozfullscreenerror",Sd),document.addEventListener("MSFullscreenChange",Sd),document.addEventListener("MSFullscreenError",Sd)}})),bd((function(){})),bd((function(){!zt()&&navigator.mediaCapabilities||!t.MediaSource||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),navigator.mediaCapabilities.decodingInfo=Td)}),-1),bd((function(){var e=Yt();t.MediaSource&&(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */);return n.shift(),n.some((function(t){return t.startsWith("codecs=")}))?cast.__platform__.canDisplayType(e):t(e)}}():e?(function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1].toLowerCase()&&t(e)}}(),12>=e?(Ed(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):Ed()):(Xt("Tizen 2")||Xt("Tizen 3")||Xt("Tizen 4"))&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=_r(e)&&t(e)}}()),t.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */),r=n.findIndex((function(t){return t.startsWith("codecs=")}));if(0>r)return t(e);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex((function(t){return t.startsWith("vp09")}));return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',e=n.join("; ")),t(e)}}()})),m(_d,eo),_d.prototype.lock=function(t){function e(t){return screen.lockOrientation?screen.lockOrientation(t):screen.mozLockOrientation?screen.mozLockOrientation(t):!!screen.msLockOrientation&&screen.msLockOrientation(t)}var n=!1;switch(t){case"natural":n=e("default");break;case"any":n=!0,this.unlock();break;default:n=e(t)}return n?Promise.resolve():((t=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(t))},_d.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},bd((function(){screen.orientation||void 0!=t.orientation&&function(){function e(){switch(t.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new _d;screen.orientation=n,e(),t.addEventListener("orientationchange",(function(){e();var t=new to("change",{});n.dispatchEvent(t)}))}()})),Ad.prototype.createMediaKeys=function(){var t=new Rd(this.keySystem);return Promise.resolve(t)},Ad.prototype.getConfiguration=function(){return this.g},Rd.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Cd(this.g,t)},Rd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(Cd,eo),(r=Cd.prototype).generateRequest=function(t,e){var n=this;this.g=new pr;try{var r=this.l.createSession("video/mp4",st(e));this.j=r,this.sessionId=r.sessionId||"",this.h.B(this.j,"webkitkeymessage",(function(t){n.g&&(n.g.resolve(),n.g=null),t=new to("message",{messageType:void 0==n.keyStatuses.g?"license-request":"license-renewal",message:at(t.message)}),n.dispatchEvent(t)})),this.h.B(r,"webkitkeyadded",(function(){n.i&&(Ld(n,"usable"),n.i.resolve(),n.i=null)})),this.h.B(r,"webkitkeyerror",(function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=n.j.error,null!=n.g)n.g.reject(t),n.g=null;else if(null!=n.i)n.i.reject(t),n.i=null;else switch(n.j.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ld(n,"output-not-allowed");break;default:Ld(n,"internal-error")}})),Ld(this,"status-pending")}catch(i){this.g.reject(i)}return this.g},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.i=new pr;try{this.j.update(st(t))}catch(e){this.i.reject(e)}return this.i},r.close=function(){try{this.j.close(),this.closed.resolve(),this.h.nb()}catch(Mg){this.closed.reject(Mg)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Dd.prototype).forEach=function(t){this.g&&t(this.g,zo.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=zo.value();return!(!this.g||!it(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){},bd((function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=xd,t.MediaKeys=Rd,t.MediaKeySystemAccess=Ad,navigator.requestMediaKeySystemAccess=kd)})),Nd.prototype.createMediaKeys=function(){var t=new Bd(this.keySystem);return Promise.resolve(t)},Nd.prototype.getConfiguration=function(){return this.g},Bd.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Ud(this.g,t)},Bd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(Ud,eo),(r=Ud.prototype).generateRequest=function(t,e){var n=this;this.g=new pr;try{this.j=this.l.createSession("video/mp4",st(e),null),this.h.B(this.j,"mskeymessage",(function(t){n.g&&(n.g.resolve(),n.g=null),t=new to("message",{messageType:void 0==n.keyStatuses.g?"license-request":"license-renewal",message:at(t.message)}),n.dispatchEvent(t)})),this.h.B(this.j,"mskeyadded",(function(){n.g?(Hd(n,"usable"),n.g.resolve(),n.g=null):n.i&&(Hd(n,"usable"),n.i.resolve(),n.i=null)})),this.h.B(this.j,"mskeyerror",(function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=n.j.error,null!=n.g)n.g.reject(t),n.g=null;else if(null!=n.i)n.i.reject(t),n.i=null;else switch(n.j.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Hd(n,"output-not-allowed");break;default:Hd(n,"internal-error")}})),Hd(this,"status-pending")}catch(r){this.g.reject(r)}return this.g},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(t){this.i=new pr;try{this.j.update(st(t))}catch(e){this.i.reject(e)}return this.i},r.close=function(){try{this.j.close(),this.closed.resolve(),this.h.nb()}catch(Mg){this.closed.reject(Mg)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Kd.prototype).forEach=function(t){this.g&&t(this.g,zo.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=zo.value();return!(!this.g||!it(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){},bd((function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,t.MediaKeys=Bd,t.MediaKeySystemAccess=Nd,navigator.requestMediaKeySystemAccess=Od,HTMLMediaElement.prototype.setMediaKeys=jd)})),Vd.prototype.createSession=function(){},Vd.prototype.setServerCertificate=function(){},zd.prototype.getConfiguration=function(){},zd.prototype.createMediaKeys=function(){},bd((function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Gd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=qd,t.MediaKeys=Vd,t.MediaKeySystemAccess=zd)}),-10),$d.prototype.createMediaKeys=function(){var t=new Zd(this.g);return Promise.resolve(t)},$d.prototype.getConfiguration=function(){return this.h},Zd.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.g||document.createElement("video");return e.src||(e.src="about:blank"),t=new tp(e,this.l,t),this.i.push(t),t},Zd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(tp,eo),(r=tp.prototype).handleError=function(t){var e=Error("EME v0.1b key error"),n=t.errorCode;n.systemCode=t.systemCode,e.errorCode=n,!t.sessionId&&this.h?(45==t.systemCode&&(e.message="Unsupported session type."),this.h.reject(e),this.h=null):t.sessionId&&this.g?(this.g.reject(e),this.g=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?np(this,"output-restricted"):np(this,1==e?"expired":"internal-error"))},r.generateRequest=function(t,e){return ep(this,e,null)},r.load=function(t){return"persistent-license"==this.l?ep(this,null,t):Promise.reject(Error("Not a persistent session."))},r.update=function(t){var e=new pr;return function t(e,n,r){if(e.g)e.g.then((function(){return t(e,n,r)})).catch((function(){return t(e,n,r)}));else{if(e.g=n,"webkit-org.w3.clearkey"==e.i){var i=dt(r),o=JSON.parse(i);"oct"!=o.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=ne(o.keys[0].k),o=ne(o.keys[0].kid)}else i=st(r),o=null;var a=Wd("addKey");try{e.j[a](e.i,i,o,e.sessionId)}catch(s){e.g.reject(s),e.g=null}}}(this,e,t),e},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Wd("cancelKeyRequest");try{this.j[t](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=rp.prototype).forEach=function(t){this.g&&t(this.g,zo.value())},r.get=function(t){if(this.has(t))return this.g},r.has=function(t){var e=zo.value();return!(!this.g||!it(t,e))},r.entries=function(){},r.keys=function(){},r.values=function(){};var ip="";function op(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function ap(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function sp(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function up(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function lp(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function cp(){return new Promise((function(t,e){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,n){t({usage:e,quota:n})}),e)}))}function fp(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function hp(e,n,r){return new t.TextTrackCue(e,n,r)}function dp(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function pp(){}bd((function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)ip="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Yd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Xd,t.MediaKeys=Zd,t.MediaKeySystemAccess=$d}})),bd((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=ap,Object.defineProperty(e,"disablePictureInPicture",{get:up,set:lp,enumerable:!0,configurable:!0}),document.exitPictureInPicture=sp,document.addEventListener("webkitpresentationmodechanged",op,!0))}})),bd((function(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=cp)})),bd((function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}})),bd((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=fp)}})),bd((function(){if(!t.VTTCue&&t.TextTrackCue){var e=null,n=TextTrackCue.length;if(3==n)e=hp;else if(6==n)e=dp;else{try{var r=!!hp(1,2,"")}catch(i){r=!1}r&&(e=hp)}e&&(t.VTTCue=function(t,n,r){return e(t,n,r)})}})),pp.prototype.parseInit=function(){},pp.prototype.parseMedia=function(t,e){for(var n=null,r=[],i=dt(t).split(/\r?\n/),o=(i=c(i)).next();!o.done;o=i.next())if((o=o.value)&&!/^\s+$/.test(o)&&(o=gp.exec(o))){var a=vp.exec(o[1]);o=new de(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),e.segmentEnd?e.segmentEnd:a+2,o[2]),n&&(n.endTime=a,r.push(n)),n=o}return n&&r.push(n),r},H("shaka.text.LrcTextParser",pp),pp.prototype.parseMedia=pp.prototype.parseMedia,pp.prototype.parseInit=pp.prototype.parseInit;var gp=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,vp=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function mp(){}function yp(t,e,n,r,i,o,a,s,u,l){var f=t.parentNode;if(t.nodeType==Node.TEXT_NODE){var h=document.createElement("span");h.textContent=t.textContent,t=h}if(s="default"==(t.getAttribute("xml:space")||(s?"default":"preserve")),h=/\S/.test(t.textContent),!(t.hasAttribute("begin")||t.hasAttribute("end")||t.hasAttribute("dur")||h||"br"==t.tagName||u&&!s))return null;var d=xp(t,n);for(h=d.start,d=d.end;f&&f.nodeType==Node.ELEMENT_NODE&&"tt"!=f.tagName;)h=(d=kp(f,n,h,d)).start,d=d.end,f=f.parentNode;if(null==h&&(h=0),h+=e,d=null==d?1/0:d+e,"br"==t.tagName)return(r=new de(h,d,"")).lineBreak=!0,r;var p="";if(f=[],Array.from(t.childNodes).every((function(t){return t.nodeType==Node.TEXT_NODE})))p=t.textContent,s&&(p=(p=p.trim()).replace(/\s+/g," "));else for(var g=c(t.childNodes),v=g.next();!v.done;v=g.next())(v=yp(v.value,e,n,r,i,o,a,s,!0,l))&&f.push(v);if((e=new de(h,d,p)).nestedCues=f,l&&(e.cellResolution=l),(o=_p(t,"region",o,"")[0])&&o.getAttribute("xml:id")){var m=o.getAttribute("xml:id");e.region=a.filter((function(t){return t.id==m}))[0]}for(a=null,n=(l=c(Kp)).next();!n.done&&!(a=_p(t,"backgroundImage",r,"#",n.value)[0]);n=l.next());return function(t,e,n,r,i,o,a){"rtl"==wp(e,n,i,"direction",o=o||a)&&(t.direction="rtl"),"tb"==(a=wp(e,n,i,"writingMode",o))||"tblr"==a?t.writingMode="vertical-lr":"tbrl"==a?t.writingMode="vertical-rl":"rltb"==a||"rl"==a?t.direction="rtl":a&&(t.direction=we),(a=wp(e,n,i,"textAlign",o))?(t.positionAlign=Hp[a],t.lineAlign=Up[a],t.textAlign=me[a.toUpperCase()]):t.textAlign="start",(a=wp(e,n,i,"displayAlign",o))&&(t.displayAlign=be[a.toUpperCase()]);(a=wp(e,n,i,"color",o))&&(t.color=a);(a=wp(e,n,i,"backgroundColor",o))&&(t.backgroundColor=a);(a=wp(e,n,i,"border",o))&&(t.border=a);(a=wp(e,n,i,"fontFamily",o))&&(t.fontFamily=a);(a=wp(e,n,i,"fontWeight",o))&&"bold"==a&&(t.fontWeight=700),a=wp(e,n,i,"wrapOption",o),t.wrapLine=!a||"noWrap"!=a,(a=wp(e,n,i,"lineHeight",o))&&a.match(Lp)&&(t.lineHeight=a),(a=wp(e,n,i,"fontSize",o))&&(a.match(Lp)||a.match(Cp))&&(t.fontSize=a),(a=wp(e,n,i,"fontStyle",o))&&(t.fontStyle=Re[a.toUpperCase()]);if(r){a=r.getAttribute("imageType")||r.getAttribute("imagetype");var s=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==s&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(r=wp(e,n,i,"letterSpacing",o))&&r.match(Lp)&&(t.letterSpacing=r),(r=wp(e,n,i,"linePadding",o))&&r.match(Lp)&&(t.linePadding=r),(o=wp(e,n,i,"opacity",o))&&(t.opacity=parseFloat(o));(n=Sp(n,i,"textDecoration"))&&bp(t,n),(e=Tp(e,i,"textDecoration"))&&bp(t,e)}(e,t,o,a,i,u,0==f.length),e}function bp(t,e){for(var n=c(e.split(" ")),r=n.next();!r.done;r=n.next())switch(r.value){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&ce(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&ce(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&ce(t.textDecoration,"overline")}}function wp(t,e,n,r,i){return i=void 0===i||i,(t=Tp(t,n,r))?t:i?Sp(e,n,r):null}function Sp(t,e,n){if(!t)return null;var r=Xl(t,"http://www.w3.org/ns/ttml#styling",n);return r||Ep(t,e,n)}function Tp(t,e,n){var r=Xl(t,"http://www.w3.org/ns/ttml#styling",n);return r||Ep(t,e,n)}function Ep(t,e,n){t=_p(t,"style",e,"");for(var r=null,i=0;i<t.length;i++){var o=Xl(t[i],"urn:ebu:tt:style",n);o||(o=Xl(t[i],"http://www.w3.org/ns/ttml#styling",n)),o||(o=Tp(t[i],e,n)),o&&(r=o)}return r}function _p(t,e,n,r,i){var o=[];if(!t||1>n.length)return o;var a=t;for(t=null;a&&!(t=i?Xl(a,i,e):a.getAttribute(e))&&(a=a.parentNode)instanceof Element;);if(e=t)for(i=(e=c(e.split(" "))).next();!i.done;i=e.next())for(i=i.value,a=(t=c(n)).next();!a.done;a=t.next())if(r+(a=a.value).getAttribute("xml:id")==i){o.push(a);break}return o}function kp(t,e,n,r){return t=xp(t,e),null==n?n=t.start:null!=t.start&&(n+=t.start),null==r?r=t.end:null!=t.start&&(r+=t.start),{start:n,end:r}}function xp(t,e){var n=Mp(t.getAttribute("begin"),e),r=Mp(t.getAttribute("end"),e),i=Mp(t.getAttribute("dur"),e);return null==r&&null!=i&&(r=n+i),{start:n,end:r}}function Mp(t,e){var n=null;if(Op.test(t)){n=Op.exec(t);var r=Number(n[1]),i=Number(n[2]),o=Number(n[3]),a=Number(n[4]);n=(o+=(a+=(Number(n[5])||0)/e.h)/e.frameRate)+60*i+3600*r}else if(Pp.test(t))n=Ap(Pp,t);else if(Np.test(t))n=Ap(Np,t);else if(jp.test(t))n=jp.exec(t),n=Number(n[1])/e.frameRate;else if(Bp.test(t))n=Bp.exec(t),n=Number(n[1])/e.g;else if(Fp.test(t))n=Ap(Fp,t);else if(t)throw new ct(2,2,2001,"Could not parse cue time range in TTML");return n}function Ap(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Rp(t,e,n,r){this.frameRate=Number(t)||30,this.h=Number(e)||1,this.g=Number(r),0==this.g&&(this.g=t?this.frameRate*this.h:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}Cr["application/x-subtitle-lrc"]=function(){return new pp},mp.prototype.parseInit=function(){},mp.prototype.parseMedia=function(t,e){var n=dt(t),r=[],i=new DOMParser,o=null;if(""==n)return r;try{o=i.parseFromString(n,"text/xml")}catch(w){throw new ct(2,2,2005,"Failed to parse TTML.")}if(o){if(n=o.getElementsByTagName("parsererror")[0])throw new ct(2,2,2005,n.textContent);var a=o.getElementsByTagName("tt")[0];if(!a)throw new ct(2,2,2005,"TTML does not contain <tt> tag.");if(!(i=a.getElementsByTagName("body")[0]))return[];n=Xl(a,"http://www.w3.org/ns/ttml#parameter","frameRate");var s=Xl(a,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Xl(a,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),l=Xl(a,"http://www.w3.org/ns/ttml#parameter","tickRate"),f=Xl(a,"http://www.w3.org/ns/ttml#parameter","cellResolution");o=a.getAttribute("xml:space")||"default";var h=Xl(a,"http://www.w3.org/ns/ttml#styling","extent");if("default"!=o&&"preserve"!=o)throw new ct(2,2,2005,"Invalid xml:space value: "+o);o="default"==o,n=new Rp(n,s,u,l),f=f&&(f=/^(\d+) (\d+)$/.exec(f))?{columns:parseInt(f[1],10),rows:parseInt(f[2],10)}:null,s=(s=a.getElementsByTagName("metadata")[0])?function(t){return Array.from(t.childNodes).filter((function(t){return t instanceof Element}))}(s):[],u=Array.from(a.getElementsByTagName("style")),l=[];for(var d=c(a=Array.from(a.getElementsByTagName("region"))),p=d.next();!p.done;p=d.next()){var g=p.value;p=new Ie;var v=g.getAttribute("xml:id");if(v){p.id=v;var m,y,b=null;h&&(b=Ip.exec(h)||Dp.exec(h)),v=b?Number(b[1]):null,b=b?Number(b[2]):null,(m=Sp(g,u,"extent"))&&(null!=(m=(y=Ip.exec(m))||Dp.exec(m))&&(p.width=Number(m[1]),p.height=Number(m[2]),y||(null!=v&&(p.width=100*p.width/v),null!=b&&(p.height=100*p.height/b)),p.widthUnits=y||null!=v?Ce:0,p.heightUnits=y||null!=b?Ce:0)),(g=Sp(g,u,"origin"))&&(null!=(m=(y=Ip.exec(g))||Dp.exec(g))&&(p.viewportAnchorX=Number(m[1]),p.viewportAnchorY=Number(m[2]),y||(null!=b&&(p.viewportAnchorY=100*p.viewportAnchorY/b),null!=v&&(p.viewportAnchorX=100*p.viewportAnchorX/v)),p.viewportAnchorUnits=y||null!=v?Ce:0))}else p=null;p&&l.push(p)}if(Wl(i,"p").length)throw new ct(2,2,2001,"<p> can only be inside <div> in TTML");for(h=(i=c(Wl(i,"div"))).next();!h.done;h=i.next()){if(Wl(h=h.value,"span").length)throw new ct(2,2,2001,"<span> can only be inside <p> in TTML");if((d=Wl(h,"p"))&&d.length)for(d=(h=c(d)).next();!d.done;d=h.next())(d=yp(d.value,e.periodStart,n,s,u,a,l,o,!1,f))&&r.push(d);else(h=yp(h,e.periodStart,n,s,u,a,l,o,!1,f))&&r.push(h)}}return r},H("shaka.text.TtmlTextParser",mp),mp.prototype.parseMedia=mp.prototype.parseMedia,mp.prototype.parseInit=mp.prototype.parseInit;var Ip=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Cp=/^(\d{1,2}(?:\.\d+)?|100)%$/,Lp=/^(\d+px|\d+em|\d*\.?\d+c)$/,Dp=/^(\d+)px (\d+)px$/,Op=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Pp=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Np=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,jp=/^(\d*(?:\.\d*)?)f$/,Bp=/^(\d*(?:\.\d*)?)t$/,Fp=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Up={left:Ee,center:"center",right:"end",start:Ee,end:"end"},Hp={left:"line-left",center:"center",right:"line-right"},Kp=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function Gp(){this.s=new mp}function qp(){}function Vp(t){for(var e=c(Object.entries(ke)),n=e.next();!n.done;n=e.next()){var r=c(n.value);n=r.next().value,r=r.next().value;var i=new de(0,0,"");i.color=r,t.set(n,i)}for(n=(e=c(Object.entries(xe))).next();!n.done;n=e.next())n=(r=c(n.value)).next().value,r=r.next().value,(i=new de(0,0,"")).backgroundColor=r,t.set(n,i)}function zp(t,e,n){0===n.size&&Vp(n);t:{var r=t;t=[];for(var i=-1,o="",a=0;a<r.length;a++)if("/"===r[a]){var s=r.indexOf(">",a);if(s<=a){t=r;break t}s=r.substring(a+1,s);var u=t.pop();if(u===s)o+="/"+s+">";else{if(!u.startsWith("c.")||"c"!==s){t=r;break t}o+="/"+u+">"}a+=s.length+1}else"<"===r[a]?i=a+1:">"===r[a]&&0<i&&(t.push(r.substr(i,a-i)),i=-1),o+=r[a];t=o}if(i=sc("<span>"+t+"</span>","span")){if(r=[],1==(i=i.childNodes).length&&((o=i[0]).nodeType==Node.TEXT_NODE||o.nodeType==Node.CDATA_SECTION_NODE))return void(e.payload=t);for(i=(t=c(i)).next();!i.done;i=t.next())Yp(i.value,e,r,n);e.nestedCues=r}else e.payload=t}function Wp(t,e){return t&&0<t.length?t:e}function Yp(t,e,n,r){var i=e.clone();if(t.nodeType===Node.ELEMENT_NODE&&t.nodeName)for(var o=c(t.nodeName.split(/[ .]+/)),a=o.next();!a.done;a=o.next()){if(a=a.value,r.has(a)){var s=r.get(a);s&&(i.backgroundColor=Wp(s.backgroundColor,i.backgroundColor),i.color=Wp(s.color,i.color),i.fontFamily=Wp(s.fontFamily,i.fontFamily),i.fontSize=Wp(s.fontSize,i.fontSize),i.fontWeight=s.fontWeight,i.fontStyle=s.fontStyle,i.opacity=s.opacity,i.wrapLine=s.wrapLine)}switch(a){case"b":i.fontWeight=700;break;case"i":i.fontStyle="italic";break;case"u":i.textDecoration.push("underline")}}if(Zl(t))for(o=!0,r=c(t.textContent.split("\n")),t=r.next();!t.done;t=r.next())t=t.value,o||((o=e.clone()).lineBreak=!0,n.push(o)),0<t.length&&((o=i.clone()).payload=t,n.push(o)),o=!1;else for(t=(e=c(t.childNodes)).next();!t.done;t=e.next())Yp(t.value,i,n,r)}function Xp(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?ve:me[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter((function(t){return t.id==e}));return n.length?n[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=_e[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=Te,t.line=Number(n[1]),n[2]&&(t.lineAlign=_e[n[2].toUpperCase()]))}function $p(t){if(null==(t=Cf(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function Zp(){this.g=null}function Jp(t,e,n){var r,i,o;return(new Ct).box("payl",Ot((function(t){r=dt(t)}))).box("iden",Ot((function(t){i=dt(t)}))).box("sttg",Ot((function(t){o=dt(t)}))).parse(t),r?function(t,e,n,r,i){if(r=new de(r,i,""),zp(t,r,new Map),e&&(r.id=e),n)for(t=new Rf(n),e=Lf(t);e;)Xp(r,e,[]),If(t),e=Lf(t);return r}(r,i,o,e,n):null}function Qp(){}function tg(t){if(null==(t=Cf(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function eg(){this.s=new qp}function ng(t){var e="WEBVTT\n\n";if(""==t)return e;for(var n=(t=c((t=(t=t.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=t.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),e+=n.join("\n")+"\n\n";return e}function rg(){}function ig(t,e){var n=e.Fontname;if(n&&(t.fontFamily=n),(n=e.Fontsize)&&(t.fontSize=n+"px"),(n=e.PrimaryColour)&&(n=og(n))&&(t.color=n),(n=e.BackColour)&&(n=og(n))&&(t.backgroundColor=n),e.Bold&&(t.fontWeight=700),e.Italic&&(t.fontStyle="italic"),e.Underline&&t.textDecoration.push("underline"),(n=e.Spacing)&&(t.letterSpacing=n+"px"),n=e.Alignment)switch(parseInt(n,10)){case 1:t.displayAlign=ye,t.textAlign="start";break;case 2:t.displayAlign=ye,t.textAlign=ve;break;case 3:t.displayAlign=ye,t.textAlign="end";break;case 5:t.displayAlign="before",t.textAlign="start";break;case 6:t.displayAlign="before",t.textAlign=ve;break;case 7:t.displayAlign="before",t.textAlign="end";break;case 9:t.displayAlign="center",t.textAlign="start";break;case 10:t.displayAlign="center",t.textAlign=ve;break;case 11:t.displayAlign="center",t.textAlign="end"}(n=e.AlphaLevel)&&(t.opacity=parseFloat(n))}function og(t){return 0<=(t=parseInt(t.replace("&H",""),16))?"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+(t>>24&255^255)/255+")":null}function ag(t){return 3600*((t=hg.exec(t))[1]?parseInt(t[1].replace(":",""),10):0)+60*parseInt(t[2],10)+parseFloat(t[3])}Cr["application/ttml+xml"]=function(){return new mp},Gp.prototype.parseInit=function(t){var e=!1;if((new Ct).box("moov",Lt).box("trak",Lt).box("mdia",Lt).box("minf",Lt).box("stbl",Lt).U("stsd",Dt).box("stpp",(function(t){e=!0,t.parser.stop()})).parse(t),!e)throw new ct(2,2,2007)},Gp.prototype.parseMedia=function(t,e){var n=this,r=!1,i=[];if((new Ct).box("mdat",Ot((function(t){r=!0,i=i.concat(n.s.parseMedia(t,e))}))).parse(t,!1),!r)throw new ct(2,2,2007);return i},H("shaka.text.Mp4TtmlParser",Gp),Gp.prototype.parseMedia=Gp.prototype.parseMedia,Gp.prototype.parseInit=Gp.prototype.parseInit,Cr['application/mp4; codecs="stpp"']=function(){return new Gp},Cr['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Gp},Cr['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Gp},qp.prototype.parseInit=function(){},qp.prototype.parseMedia=function(t,e){var n=dt(t),r=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new ct(2,2,2e3);if(n=e.periodStart,r[0].includes("X-TIMESTAMP-MAP")){var i=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=r[0].match(/MPEGTS:(\d+)/m);if(i&&o){if(null==(n=$p(new Rf(i[1]))))throw new ct(2,2,2e3);for(o=Number(o[1]),i=e.segmentStart;95443.7176888889<=i;)i-=95443.7176888889,o+=8589934592;n=e.periodStart+o/9e4-n}}o=[];for(var a=(i=c(r[0].split("\n"))).next();!a.done;a=i.next())if(a=a.value,/^Region:/.test(a)){a=new Rf(a);var s=new Ie;Lf(a),If(a);for(var u=Lf(a);u;){var l=s,f=u;(u=/^id=(.*)$/.exec(f))?l.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(f))?l.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(f))?(l.height=Number(u[1]),l.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.regionAnchorX=Number(u[1]),l.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(l.viewportAnchorX=Number(u[1]),l.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(f)&&(l.scroll="up"),If(a),u=Lf(a)}o.push(s)}for(Vp(i=new Map),a=[],s=(r=c(r.slice(1))).next();!s.done;s=r.next()){if((1!=(s=s.value.split("\n")).length||s[0])&&!/^NOTE($|[ \t])/.test(s[0])&&"STYLE"==s[0]&&s[1].includes("::cue")){l="global",(u=s[1].match(/\((.*)\)/))&&(l=u.pop()),u=s.slice(2,-1),s[1].includes("}")&&(f=/\{(.*?)\}/.exec(s[1]))&&(u=f[1].split(";")),f=new de(0,0,"");for(var h=!1,d=0;d<u.length;d++){var p=/^\s*([^:]+):\s*(.*)/.exec(u[d]);if(p){var g=p[2].trim().replace(";","");switch(p[1].trim()){case"background-color":h=!0,f.backgroundColor=g;break;case"color":h=!0,f.color=g;break;case"font-family":h=!0,f.fontFamily=g;break;case"font-size":h=!0,f.fontSize=g;break;case"font-weight":700<=parseInt(g,10)&&(h=!0,f.fontWeight=700);break;case"font-style":switch(g){case"normal":h=!0,f.fontStyle=Ae;break;case"italic":h=!0,f.fontStyle="italic";break;case"oblique":h=!0,f.fontStyle="oblique"}break;case"opacity":h=!0,f.opacity=parseFloat(g);break;case"white-space":h=!0,f.wrapLine="noWrap"!=g}}}h&&i.set(l,f)}if(d=n,1==s.length&&!s[0]||/^NOTE($|[ \t])/.test(s[0])||"STYLE"==s[0])s=null;else{if(l=null,s[0].includes("--\x3e")||(l=s[0],s.splice(0,1)),f=$p(u=new Rf(s[0])),p=Cf(u,/[ \t]+--\x3e[ \t]+/g),h=$p(u),null==f||null==p||null==h)throw new ct(2,2,2001,"Could not parse cue time range in WebVTT");for(f+=d,h+=d,d=s.slice(1).join("\n").trim(),i.has("global")?((s=i.get("global").clone()).startTime=f,s.endTime=h,s.payload=""):s=new de(f,h,""),zp(d,s,i),If(u),f=Lf(u);f;)Xp(s,f,o),If(u),f=Lf(u);null!=l&&(s.id=l)}s&&a.push(s)}return a},H("shaka.text.VttTextParser",qp),qp.prototype.parseMedia=qp.prototype.parseMedia,qp.prototype.parseInit=qp.prototype.parseInit,Cr["text/vtt"]=function(){return new qp},Cr['text/vtt; codecs="vtt"']=function(){return new qp},Cr['text/vtt; codecs="wvtt"']=function(){return new qp},Zp.prototype.parseInit=function(t){var e=this,n=!1;if((new Ct).box("moov",Lt).box("trak",Lt).box("mdia",Lt).U("mdhd",(function(t){t=Bn(t.reader,t.version),e.g=t.timescale})).box("minf",Lt).box("stbl",Lt).U("stsd",Dt).box("wvtt",(function(){n=!0})).parse(t),!this.g)throw new ct(2,2,2008);if(!n)throw new ct(2,2,2008)},Zp.prototype.parseMedia=function(t,e){if(!this.g)throw new ct(2,2,2008);var n,r=0,i=[],o=[],a=!1,s=!1,u=!1,l=null;if((new Ct).box("moof",Lt).box("traf",Lt).U("tfdt",(function(t){a=!0,r=jn(t.reader,t.version).dd})).U("tfhd",(function(t){l=Nn(t.reader,t.flags).Vd})).U("trun",(function(t){s=!0,i=Fn(t.reader,t.version,t.flags).le})).box("mdat",Ot((function(t){u=!0,n=t}))).parse(t,!1),!u&&!a&&!s)throw new ct(2,2,2008);for(var f=r,h=new bt(n,0),d=c(i),p=d.next();!p.done;p=d.next()){var g=(p=p.value).Fd||l,v=p.Jc?r+p.Jc:f;f=v+(g||0);var m=0;do{var y=h.M();m+=y;var b=null;"vttc"==Nt(h.M())?8<y&&(b=h.$a(y-8)):h.skip(y-8),g&&b&&(y=Jp(b,e.periodStart+v/this.g,e.periodStart+f/this.g),o.push(y))}while(p.sampleSize&&m<p.sampleSize)}return o.filter(Rt)},H("shaka.text.Mp4VttParser",Zp),Zp.prototype.parseMedia=Zp.prototype.parseMedia,Zp.prototype.parseInit=Zp.prototype.parseInit,Cr['application/mp4; codecs="wvtt"']=function(){return new Zp},Qp.prototype.parseInit=function(){},Qp.prototype.parseMedia=function(t){var e=dt(t).replace(/\r+/g,"");if(t=[],""==(e=e.trim()))return t;for(var n=(e=c(e.split("\n\n"))).next();!n.done;n=e.next()){var r=new Rf((n=n.value.split("\n"))[0]),i=tg(r),o=Cf(r,/,/g);if(r=tg(r),null==i||null==o||null==r)throw new ct(2,2,2001,"Could not parse cue time range in SubViewer");t.push(new de(i,r,n.slice(1).join("\n").trim()))}return t},H("shaka.text.SbvTextParser",Qp),Qp.prototype.parseMedia=Qp.prototype.parseMedia,Qp.prototype.parseInit=Qp.prototype.parseInit,Cr["text/x-subviewer"]=function(){return new Qp},eg.prototype.parseInit=function(){},eg.prototype.parseMedia=function(t,e){var n=dt(t);return n=st(vt(n=ng(n))),this.s.parseMedia(n,e)},H("shaka.text.SrtTextParser",eg),eg.srt2webvtt=ng,eg.prototype.parseMedia=eg.prototype.parseMedia,eg.prototype.parseInit=eg.prototype.parseInit,Cr["text/srt"]=function(){return new eg},rg.prototype.parseInit=function(){},rg.prototype.parseMedia=function(t){for(var e="",n="",r=(t=c(t=dt(t).split(/\r?\n\s*\r?\n/))).next();!r.done;r=t.next()){var i=lg.exec(r.value);i&&(r=i[1],i=i[2],"V4 Styles"==r||"V4+ Styles"==r?e=i:"Events"==r&&(n=i))}t=[],r=null;for(var o=(e=c(e.split(/\r?\n/))).next();!o.done;o=e.next())if(i=o.value,!/^\s*;/.test(i)&&(o=cg.exec(i)))if(i=o[1].trim(),o=o[2].trim(),"Format"==i)r=o.split(fg);else if("Style"==i){i=o.split(fg),o={};for(var a=0;a<r.length&&a<i.length;a++)o[r[a]]=i[a];t.push(o)}for(r=[],e=null,i={},o=(n=c(n.split(/\r?\n/))).next();!o.done;i={Zc:i.Zc},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(a=cg.exec(o)))if(o=a[1].trim(),a=a[2].trim(),"Format"==o)e=a.split(fg);else if("Dialogue"==o){a=a.split(fg),o={};for(var s=0;s<e.length&&s<a.length;s++)o[e[s]]=a[s];a=new de(s=ag(o.Start),ag(o.End),a.slice(e.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),i.Zc=o.Style,(o=t.find(function(t){return function(e){return e.Name==t.Zc}}(i)))&&ig(a,o),r.push(a)}return r},H("shaka.text.SsaTextParser",rg),rg.prototype.parseMedia=rg.prototype.parseMedia,rg.prototype.parseInit=rg.prototype.parseInit;var sg,ug,lg=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,cg=/^\s*([^:]+):\s*(.*)/,fg=/\s*,\s*/,hg=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function dg(){}function pg(){sg?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(sg=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=gg):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function gg(t,e){var n,r=this;return O((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),S(i,sg.call(r,t,e),2)):_g(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=sg,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=vg,i.return(vg.call(r,t,e)))}))}function vg(t,e){var n,r,i,o,a,s,u,l,f,h,d=this;return O((function(p){if(1==p.g){for(console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess'),n=Eg(t),r=[],i=c(e),o=i.next();!o.done;o=i.next())a=o.value,s=mg(a.videoCapabilities,n),u=mg(a.audioCapabilities,n),a.videoCapabilities&&a.videoCapabilities.length&&!s.length||a.audioCapabilities&&a.audioCapabilities.length&&!u.length||((l=Object.assign({},a)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(f=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",f.code=DOMException.NOT_SUPPORTED_ERR,f;return S(p,sg.call(d,t,r),2)}return h=p.h,p.return(new Tg(h,n))}))}function mg(t,e){return t?t.filter((function(t){return!t.encryptionScheme||t.encryptionScheme==e})):t}function yg(){}function bg(){ug?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(ug=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=wg):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function wg(t){var e,n,r=this;return O((function(i){return 1==i.g?(console.assert(r==navigator.mediaCapabilities,'bad "this" for decodingInfo'),S(i,ug.call(r,t),2)):(e=i.h,t.keySystemConfiguration?(n=e.keySystemAccess)&&_g(n)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=ug,i.return(e)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Sg,i.return(Sg.call(r,t))):i.return(e))}))}function Sg(t){var e,n,r,i,o,a,s,u,l,c=this;return O((function(f){switch(f.g){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),e=null,t.keySystemConfiguration&&(n=t.keySystemConfiguration,r=n.keySystem,i=n.audio&&n.audio.encryptionScheme,o=n.video&&n.video.encryptionScheme,e=Eg(r),a={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},i&&i!=e||o&&o!=e)?f.return(a):S(f,ug.call(c,t),2);case 2:if((s=f.h).keySystemAccess){s.keySystemAccess=new Tg(s.keySystemAccess,e),f.v(3);break}if(!t.keySystemConfiguration){f.v(3);break}var h=t.keySystemConfiguration,d=[],p=[];return h.audio&&d.push({robustness:h.audio.robustness||"",contentType:t.audio.contentType}),h.video&&p.push({robustness:h.video.robustness||"",contentType:t.video.contentType}),h={initDataTypes:h.initDataType?[h.initDataType]:[],distinctiveIdentifier:h.distinctiveIdentifier,persistentState:h.persistentState,sessionTypes:h.sessionTypes},d.length&&(h.audioCapabilities=d),p.length&&(h.videoCapabilities=p),u=h,l=s,S(f,navigator.requestMediaKeySystemAccess(t.keySystemConfiguration.keySystem,[u]),5);case 5:l.keySystemAccess=f.h;case 3:return f.return(s)}}))}function Tg(t,e){this.h=t,this.g=e,this.keySystem=t.keySystem}function Eg(t){return t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.adobe")||t.startsWith("org.w3")?"cenc":t.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function _g(t){var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return!(!(t=t.videoCapabilities&&t.videoCapabilities[0]||e)||void 0===t.encryptionScheme)}function kg(){}function xg(){pg(),bg()}Cr["text/x-ssa"]=function(){return new rg},H("EmeEncryptionSchemePolyfill",dg),dg.install=pg,H("McEncryptionSchemePolyfill",yg),yg.install=bg,Tg.prototype.getConfiguration=function(){var t=this.h.getConfiguration();if(t.videoCapabilities)for(var e=c(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.g;if(t.audioCapabilities)for(n=(e=c(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.g;return t},Tg.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},H("EncryptionSchemePolyfills",kg),kg.install=xg,"undefined"!==typeof n&&n.exports&&(n.exports=kg)}.call(r,n,n,void 0),r.shaka)e[i]=r.shaka[i]}()}).call(this,n(60))},,function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(60))},function(t,e,n){"use strict";n.d(e,"a",(function(){return qo}));var r=n(21),i=n(87);var o=n(276);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(o.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(16),u=n(285),l=n(40),c=n(36),f=n(9),h=n(10),d=n(12),p=n(6),g=n(8);function v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m,y={exports:{}};m=y,function(t){var e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var i=o.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,f=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(f)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(t){var n=e.exec(t);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};m.exports=o}();var b=y.exports;function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(){return(E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var _=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)},k=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),x=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),M=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({}),A=function(){},R={trace:A,debug:A,log:A,warn:A,info:A,error:A},I=R;function C(t){var e=self.console[t];return e?e.bind(self.console,"[".concat(t,"] >")):A}function L(t,e){if(self.console&&!0===t||"object"===typeof t){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach((function(e){I[e]=t[e]?t[e].bind(t):C(e)}))}(t,"debug","log","info","warn","error");try{I.log('Debug logs enabled for "'.concat(e,'" in hls.js version ',"1.4.12"))}catch(n){I=R}}else I=R}var D=I,O=/^(\d+)x(\d+)$/,P=/(.+?)=(".*?"|.*?)(?:,|$)/g,N=function(){function t(e){for(var n in Object(p.a)(this,t),"string"===typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&("X-"===n.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(n)),this[n]=e[n])}return Object(g.a)(t,[{key:"decimalInteger",value:function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}},{key:"hexadecimalInteger",value:function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}},{key:"decimalFloatingPoint",value:function(t){return parseFloat(this[t])}},{key:"optionalFloat",value:function(t,e){var n=this[t];return n?parseFloat(n):e}},{key:"enumeratedString",value:function(t){return this[t]}},{key:"bool",value:function(t){return"YES"===this[t]}},{key:"decimalResolution",value:function(t){var e=O.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}}],[{key:"parseAttrList",value:function(t){var e,n={};for(P.lastIndex=0;null!==(e=P.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[e[1].trim()]=r}return n}}]),t}();function j(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}var B=function(){function t(e,n){if(Object(p.a)(this,t),this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){var r=n.attr;for(var i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){D.warn('DATERANGE tag attribute: "'.concat(i,'" does not match for tags with ID: "').concat(e.ID,'"')),this._badValueForSameId=i;break}e=E(new N({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){var o=new Date(this.attr["END-DATE"]);_(o.getTime())&&(this._endDate=o)}}return Object(g.a)(t,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var t=this.attr.decimalFloatingPoint("DURATION");if(_(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&_(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),t}(),F=function t(){Object(p.a)(this,t),this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},U="audio",H="video",K="audiovideo",G=function(){function t(e){var n;Object(p.a)(this,t),this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(n={},Object(d.a)(n,U,null),Object(d.a)(n,H,null),Object(d.a)(n,K,null),n),this.baseurl=e}return Object(g.a)(t,[{key:"setByteRange",value:function(t,e){var n=t.split("@",2),r=[];1===n.length?r[0]=e?e.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=b.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),q=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(p.a)(this,n),(i=e.call(this,r))._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkeys=void 0,i.type=void 0,i.loader=null,i.keyLoader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new F,i.urlId=0,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.endList=void 0,i.gap=void 0,i.type=t,i}return Object(g.a)(n,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!_(this.programDateTime))return null;var t=_(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){var e=Object.keys(this.levelkeys),n=e.length;if(n>1||1===n&&this.levelkeys[e[0]].encrypted)return!0}return!1}},{key:"setKeyFormat",value:function(t){if(this.levelkeys){var e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}},{key:"abortRequests",value:function(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}},{key:"setElementaryStreamInfo",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=this.elementaryStreams,s=a[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[t]={startPTS:e,endPTS:n,startDTS:r,endDTS:i,partial:o}}},{key:"clearElementaryStreamInfo",value:function(){var t=this.elementaryStreams;t[U]=null,t[H]=null,t[K]=null}}]),n}(G),V=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o,a){var s;Object(p.a)(this,n),(s=e.call(this,i)).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new F,s.duration=t.decimalFloatingPoint("DURATION"),s.gap=t.bool("GAP"),s.independent=t.bool("INDEPENDENT"),s.relurl=t.enumeratedString("URI"),s.fragment=r,s.index=o;var u=t.enumeratedString("BYTERANGE");return u&&s.setByteRange(u,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return Object(g.a)(n,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),n}(G),z=function(){function t(e){Object(p.a)(this,t),this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}return Object(g.a)(t,[{key:"reloaded",value:function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay}},{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&_(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),t}();function W(t){return Uint8Array.from(atob(t),(function(t){return t.charCodeAt(0)}))}function Y(t){var e=t.split(":"),n=null;if("data"===e[0]&&2===e.length){var r=e[1].split(";"),i=r[r.length-1].split(",");if(2===i.length){var o="base64"===i[0],a=i[1];o?(r.splice(-1,1),n=W(a)):n=function(t){var e=X(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}(a)}}return n}function X(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(function(t){return t.charCodeAt(0)}))}var $={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Z="org.w3.clearkey",J="com.apple.streamingkeydelivery",Q="com.microsoft.playready",tt="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function et(t){switch(t){case J:return $.FAIRPLAY;case Q:return $.PLAYREADY;case tt:return $.WIDEVINE;case Z:return $.CLEARKEY}}var nt="edef8ba979d64acea3c827dcd51d21ed";function rt(t){switch(t){case $.FAIRPLAY:return J;case $.PLAYREADY:return Q;case $.WIDEVINE:return tt;case $.CLEARKEY:return Z}}function it(t){var e=t.drmSystems,n=t.widevineLicenseUrl,r=e?[$.FAIRPLAY,$.WIDEVINE,$.PLAYREADY,$.CLEARKEY].filter((function(t){return!!e[t]})):[];return!r[$.WIDEVINE]&&n&&r.push($.WIDEVINE),r}var ot="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function at(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}var st,ut=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},lt=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},ct=function(t,e){for(var n=e,r=0;ut(t,e);){r+=10,r+=ft(t,e+6),lt(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},ft=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},ht=function(t,e){return ut(t,e)&&ft(t,e+6)+10<=t.length-e},dt=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},pt=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=ft(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},gt=function(t){for(var e=0,n=[];ut(t,e);){for(var r=ft(t,e+6),i=(e+=10)+r;e+8<i;){var o=pt(t.subarray(e)),a=vt(o);a&&n.push(a),e+=o.size+10}lt(t,e)&&(e+=10)}return n},vt=function(t){return"PRIV"===t.type?mt(t):"W"===t.type[0]?bt(t):yt(t)},mt=function(t){if(!(t.size<2)){var e=St(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},yt=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=St(t.data.subarray(e),!0);e+=n.length+1;var r=St(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=St(t.data.subarray(1));return{key:t.type,data:i}}},bt=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=St(t.data.subarray(e),!0);e+=n.length+1;var r=St(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=St(t.data);return{key:t.type,data:i}},wt=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},St=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Tt();if(n){var r=n.decode(t);if(e){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var o,a,s,u=t.length,l="",c=0;c<u;){if(0===(o=t[c++])&&e)return l;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(o);break;case 12:case 13:a=t[c++],l+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=t[c++],s=t[c++],l+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0)}}return l};function Tt(){return st||"undefined"===typeof self.TextDecoder||(st=new self.TextDecoder("utf-8")),st}var Et=function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e},_t=Math.pow(2,32)-1,kt=[].push,xt={video:1,audio:2,id3:3,text:4};function Mt(t){return String.fromCharCode.apply(null,t)}function At(t,e){var n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Rt(t,e){var n=It(t,e);return n<0?4294967296+n:n}function It(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Ct(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function Lt(t,e){var n=[];if(!e.length)return n;for(var r=t.byteLength,i=0;i<r;){var o=Rt(t,i),a=o>1?i+o:r;if(Mt(t.subarray(i+4,i+8))===e[0])if(1===e.length)n.push(t.subarray(i+8,a));else{var s=Lt(t.subarray(i+8,a),e.slice(1));s.length&&kt.apply(n,s)}i=a}return n}function Dt(t){var e=[],n=t[0],r=8,i=Rt(t,r);r+=4;r+=0===n?8:16,r+=2;var o=t.length+0,a=At(t,r);r+=2;for(var s=0;s<a;s++){var u=r,l=Rt(t,u);u+=4;var c=2147483647&l;if(1===(2147483648&l)>>>31)return D.warn("SIDX has hierarchical references (not supported)"),null;var f=Rt(t,u);u+=4,e.push({referenceSize:c,subsegmentDuration:f,info:{duration:f/i,start:o,end:o+c-1}}),o+=c,r=u+=4}return{earliestPresentationTime:0,timescale:i,version:n,referencesCount:a,references:e}}function Ot(t){for(var e=[],n=Lt(t,["moov","trak"]),r=0;r<n.length;r++){var i=n[r],o=Lt(i,["tkhd"])[0];if(o){var a=o[0],s=0===a?12:20,u=Rt(o,s),l=Lt(i,["mdia","mdhd"])[0];if(l){var c=Rt(l,s=0===(a=l[0])?12:20),f=Lt(i,["mdia","hdlr"])[0];if(f){var h=Mt(f.subarray(8,12)),d={soun:U,vide:H}[h];if(d){var p=Lt(i,["mdia","minf","stbl","stsd"])[0],g=void 0;p&&(g=Mt(p.subarray(12,16))),e[u]={timescale:c,type:d},e[d]={timescale:c,id:u,codec:g}}}}}}return Lt(t,["moov","mvex","trex"]).forEach((function(t){var n=Rt(t,4),r=e[n];r&&(r.default={duration:Rt(t,12),flags:Rt(t,20)})})),e}function Pt(t){var e=Lt(t,["schm"])[0];if(e){var n=Mt(e.subarray(4,8));if("cbcs"===n||"cenc"===n)return Lt(t,["schi","tenc"])[0]}return D.error("[eme] missing 'schm' box"),null}function Nt(t){var e=Rt(t,0),n=8;1&e&&(n+=4),4&e&&(n+=4);for(var r=0,i=Rt(t,4),o=0;o<i;o++){if(256&e)r+=Rt(t,n),n+=4;512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4)}return r}function jt(t,e){var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function Bt(t,e){var n=[],r=e.samples,i=e.timescale,o=e.id,a=!1;return Lt(r,["moof"]).map((function(s){var u=s.byteOffset-8;Lt(s,["traf"]).map((function(s){var l=Lt(s,["tfdt"]).map((function(t){var e=t[0],n=Rt(t,4);return 1===e&&(n*=Math.pow(2,32),n+=Rt(t,8)),n/i}))[0];return void 0!==l&&(t=l),Lt(s,["tfhd"]).map((function(l){var c=Rt(l,4),f=16777215&Rt(l,0),h=0,d=0!==(16&f),p=0,g=0!==(32&f),v=8;c===o&&(0!==(1&f)&&(v+=8),0!==(2&f)&&(v+=4),0!==(8&f)&&(h=Rt(l,v),v+=4),d&&(p=Rt(l,v),v+=4),g&&(v+=4),"video"===e.type&&(a=function(t){if(!t)return!1;var e=t.indexOf("."),n=e<0?t:t.substring(0,e);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(e.codec)),Lt(s,["trun"]).map((function(o){var s=o[0],l=16777215&Rt(o,0),c=0!==(1&l),f=0,d=0!==(4&l),g=0!==(256&l),v=0,m=0!==(512&l),y=0,b=0!==(1024&l),w=0!==(2048&l),S=0,T=Rt(o,4),E=8;c&&(f=Rt(o,E),E+=4),d&&(E+=4);for(var _=f+u,k=0;k<T;k++){if(g?(v=Rt(o,E),E+=4):v=h,m?(y=Rt(o,E),E+=4):y=p,b&&(E+=4),w&&(S=0===s?Rt(o,E):It(o,E),E+=4),e.type===H)for(var x=0;x<y;){var M=Rt(r,_);if(Ft(a,r[_+=4]))Ut(r.subarray(_,_+M),a?2:1,t+S/i,n);_+=M,x+=M+4}t+=v/i}})))}))}))})),n}function Ft(t,e){if(t){var n=e>>1&63;return 39===n||40===n}return 6===(31&e)}function Ut(t,e,n,r){var i=Ht(t),o=0;o+=e;for(var a=0,s=0,u=!1,l=0;o<i.length;){a=0;do{if(o>=i.length)break;a+=l=i[o++]}while(255===l);s=0;do{if(o>=i.length)break;s+=l=i[o++]}while(255===l);var c=i.length-o;if(!u&&4===a&&o<i.length){if(u=!0,181===i[o++]){var f=At(i,o);if(o+=2,49===f){var h=Rt(i,o);if(o+=4,1195456820===h){var d=i[o++];if(3===d){var p=i[o++],g=64&p,v=g?2+3*(31&p):0,m=new Uint8Array(v);if(g){m[0]=p;for(var y=1;y<v;y++)m[y]=i[o++]}r.push({type:d,payloadType:a,pts:n,bytes:m})}}}}}else if(5===a&&s<c){if(u=!0,s>16){for(var b=[],w=0;w<16;w++){var S=i[o++].toString(16);b.push(1==S.length?"0"+S:S),3!==w&&5!==w&&7!==w&&9!==w||b.push("-")}for(var T=s-16,E=new Uint8Array(T),_=0;_<T;_++)E[_]=i[o++];r.push({payloadType:a,pts:n,uuid:b.join(""),userData:St(E),userDataBytes:E})}}else if(s<c)o+=s;else if(s>c)break}}function Ht(t){for(var e=t.byteLength,n=[],r=1;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;var i=e-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=t[a];return o}function Kt(t,e,n){if(16!==t.byteLength)throw new RangeError("Invalid system id");var r,i,o;if(e){r=1,i=new Uint8Array(16*e.length);for(var a=0;a<e.length;a++){var s=e[a];if(16!==s.byteLength)throw new RangeError("Invalid key");i.set(s,16*a)}}else r=0,i=new Uint8Array;r>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;var u=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(u.buffer).setUint32(0,n.byteLength,!1),function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=n.length,o=8,a=i;a--;)o+=n[a].byteLength;var s=new Uint8Array(o);for(s[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,s.set(t,4),a=0,o=8;a<i;a++)s.set(n[a],o),o+=n[a].byteLength;return s}([112,115,115,104],new Uint8Array([r,0,0,0]),t,o,i,u,n||new Uint8Array)}var Gt={},qt=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(p.a)(this,t),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=o,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}return Object(g.a)(t,[{key:"isSupported",value:function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case J:case tt:case Q:case Z:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}},{key:"getDecryptData",value:function(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof e&&("AES-128"!==this.method||this.iv||D.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),e=0);var n=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}(e);return new t(this.method,this.uri,"identity",this.keyFormatVersions,n)}var r=Y(this.uri);if(r)switch(this.keyFormat){case tt:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case Q:var i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Kt(i,null,r);var o=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),a=String.fromCharCode.apply(null,Array.from(o)),s=a.substring(a.indexOf("<"),a.length),u=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("KID")[0];if(u){var l=u.childNodes[0]?u.childNodes[0].nodeValue:u.getAttribute("VALUE");if(l){var c=W(l).subarray(0,16);!function(t){var e=function(t,e,n){var r=t[e];t[e]=t[n],t[n]=r};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(c),this.keyId=c}}break;default:var f=r.subarray(0,16);if(16!==f.length){var h=new Uint8Array(16);h.set(f,16-f.length),f=h}this.keyId=f}if(!this.keyId||16!==this.keyId.byteLength){var d=Gt[this.uri];if(!d){var p=Object.keys(Gt).length%Number.MAX_SAFE_INTEGER;d=new Uint8Array(16),new DataView(d.buffer,12,4).setUint32(0,p),Gt[this.uri]=d}this.keyId=d}return this}}],[{key:"clearKeyUriToKeyIdMap",value:function(){Gt={}}}]),t}();var Vt=/\{\$([a-zA-Z0-9-_]+)\}/g;function zt(t){return Vt.test(t)}function Wt(t,e,n){if(null!==t.variableList||t.hasVariableRefs)for(var r=n.length;r--;){var i=n[r],o=e[i];o&&(e[i]=Yt(t,o))}}function Yt(t,e){if(null!==t.variableList||t.hasVariableRefs){var n=t.variableList;return e.replace(Vt,(function(e){var r=e.substring(2,e.length-1),i=null==n?void 0:n[r];return void 0===i?(t.playlistParsingError||(t.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(r,'"'))),e):i}))}return e}function Xt(t,e,n){var r,i,o=t.variableList;if(o||(t.variableList=o={}),"QUERYPARAM"in e){r=e.QUERYPARAM;try{var a=new self.URL(n).searchParams;if(!a.has(r))throw new Error('"'.concat(r,'" does not match any query parameter in URI: "').concat(n,'"'));i=a.get(r)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(s.message)))}}else r=e.NAME,i=e.VALUE;r in o?t.playlistParsingError||(t.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(r,'"'))):o[r]=i||""}function $t(t,e,n){var r=e.IMPORT;if(n&&r in n){var i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(r,'"')))}function Zt(){if("undefined"!==typeof self)return self.MediaSource||self.WebKitMediaSource}var Jt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Qt=Zt();function te(t,e){var n;return null!=(n=null==Qt?void 0:Qt.isTypeSupported("".concat(e||"video",'/mp4;codecs="').concat(t,'"')))&&n}var ee=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,ne=/#EXT-X-MEDIA:(.*)/g,re=/^#EXT(?:INF|-X-TARGETDURATION):/m,ie=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),oe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),ae=function(){function t(){Object(p.a)(this,t)}return Object(g.a)(t,null,[{key:"findGroup",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}}},{key:"convertAVC1ToAVCOTI",value:function(t){var e=t.split(".");if(e.length>2){var n=e.shift()+".";return n+=parseInt(e.shift()).toString(16),n+=("000"+parseInt(e.shift()).toString(16)).slice(-4)}return t}},{key:"resolve",value:function(t,e){return b.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}},{key:"isMediaPlaylist",value:function(t){return re.test(t)}},{key:"parseMasterPlaylist",value:function(e,n){var r,i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:zt(e)},o=[];for(ee.lastIndex=0;null!=(r=ee.exec(e));)if(r[1]){var a,s=new N(r[1]);Wt(i,s,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var u=Yt(i,r[2]),l={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:t.resolve(u,n)},c=s.decimalResolution("RESOLUTION");c&&(l.width=c.width,l.height=c.height),le((s.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=t.convertAVC1ToAVCOTI(l.videoCodec)),null!=(a=l.unknownCodecs)&&a.length||o.push(l),i.levels.push(l)}else if(r[3]){var f=r[3],h=r[4];switch(f){case"SESSION-DATA":var d=new N(h);Wt(i,d,["DATA-ID","LANGUAGE","VALUE","URI"]);var p=d["DATA-ID"];p&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[p]=d);break;case"SESSION-KEY":var g=se(h,n,i);g.encrypted&&g.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(g)):D.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(h,'"'));break;case"DEFINE":var v=new N(h);Wt(i,v,["NAME","VALUE","QUERYPARAM"]),Xt(i,v,n);break;case"CONTENT-STEERING":var m=new N(h);Wt(i,m,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:t.resolve(m["SERVER-URI"],n),pathwayId:m["PATHWAY-ID"]||"."};break;case"START":i.startTimeOffset=ue(h)}}var y=o.length>0&&o.length<i.levels.length;return i.levels=y?o:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i}},{key:"parseMasterPlaylistMedia",value:function(e,n,r){var i,o={},a=r.levels,s={AUDIO:a.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),SUBTITLES:a.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),"CLOSED-CAPTIONS":[]},u=0;for(ne.lastIndex=0;null!==(i=ne.exec(e));){var l=new N(i[1]),c=l.TYPE;if(c){var f=s[c],h=o[c]||[];o[c]=h,Wt(r,l,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var d={attrs:l,bitrate:0,id:u++,groupId:l["GROUP-ID"]||"",instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:c,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?t.resolve(l.URI,n):""};if(null!=f&&f.length){var p=t.findGroup(f,d.groupId)||f[0];ce(d,p,"audioCodec"),ce(d,p,"textCodec")}h.push(d)}}return o}},{key:"parseLevelPlaylist",value:function(t,e,n,r,i,o){var a,s,u,l=new z(e),c=l.fragments,f=null,h=0,d=0,p=0,g=0,v=null,m=new q(r,e),y=-1,b=!1;for(ie.lastIndex=0,l.m3u8=t,l.hasVariableRefs=zt(t);null!==(a=ie.exec(t));){b&&(b=!1,(m=new q(r,e)).start=p,m.sn=h,m.cc=g,m.level=n,f&&(m.initSegment=f,m.rawProgramDateTime=f.rawProgramDateTime,f.rawProgramDateTime=null));var w=a[1];if(w){m.duration=parseFloat(w);var S=(" "+a[2]).slice(1);m.title=S||null,m.tagList.push(S?["INF",w,S]:["INF",w])}else if(a[3]){if(_(m.duration)){m.start=p,u&&de(m,u,l),m.sn=h,m.level=n,m.cc=g,m.urlId=i,c.push(m);var T=(" "+a[3]).slice(1);m.relurl=Yt(l,T),fe(m,v),v=m,p+=m.duration,h++,d=0,b=!0}}else if(a[4]){var k=(" "+a[4]).slice(1);v?m.setByteRange(k,v):m.setByteRange(k)}else if(a[5])m.rawProgramDateTime=(" "+a[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),-1===y&&(y=c.length);else{if(!(a=a[0].match(oe))){D.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<a.length&&"undefined"===typeof a[s];s++);var x=(" "+a[s]).slice(1),M=(" "+a[s+1]).slice(1),A=a[s+2]?(" "+a[s+2]).slice(1):"";switch(x){case"PLAYLIST-TYPE":l.type=M.toUpperCase();break;case"MEDIA-SEQUENCE":h=l.startSN=parseInt(M);break;case"SKIP":var R=new N(M);Wt(l,R,["RECENTLY-REMOVED-DATERANGES"]);var I=R.decimalInteger("SKIPPED-SEGMENTS");if(_(I)){l.skippedSegments=I;for(var C=I;C--;)c.unshift(null);h+=I}var L=R.enumeratedString("RECENTLY-REMOVED-DATERANGES");L&&(l.recentlyRemovedDateranges=L.split("\t"));break;case"TARGETDURATION":l.targetduration=Math.max(parseInt(M),1);break;case"VERSION":l.version=parseInt(M);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"#":(M||A)&&m.tagList.push(A?[M,A]:[M]);break;case"DISCONTINUITY":g++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([x]);break;case"BITRATE":m.tagList.push([x,M]);break;case"DATERANGE":var O=new N(M);Wt(l,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Wt(l,O,O.clientAttrs);var P=new B(O,l.dateRanges[O.ID]);P.isValid||l.skippedSegments?l.dateRanges[P.id]=P:D.warn('Ignoring invalid DATERANGE tag: "'.concat(M,'"')),m.tagList.push(["EXT-X-DATERANGE",M]);break;case"DEFINE":var j=new N(M);Wt(l,j,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in j?$t(l,j,o):Xt(l,j,e);break;case"DISCONTINUITY-SEQUENCE":g=parseInt(M);break;case"KEY":var F=se(M,e,l);if(F.isSupported()){if("NONE"===F.method){u=void 0;break}u||(u={}),u[F.keyFormat]&&(u=E({},u)),u[F.keyFormat]=F}else D.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(M,'"'));break;case"START":l.startTimeOffset=ue(M);break;case"MAP":var U=new N(M);if(Wt(l,U,["BYTERANGE","URI"]),m.duration){var H=new q(r,e);he(H,U,n,u),f=H,m.initSegment=f,f.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=f.rawProgramDateTime)}else he(m,U,n,u),f=m,b=!0;break;case"SERVER-CONTROL":var K=new N(M);l.canBlockReload=K.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=K.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&K.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=K.optionalFloat("PART-HOLD-BACK",0),l.holdBack=K.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var G=new N(M);l.partTarget=G.decimalFloatingPoint("PART-TARGET");break;case"PART":var W=l.partList;W||(W=l.partList=[]);var Y=d>0?W[W.length-1]:void 0,X=d++,$=new N(M);Wt(l,$,["BYTERANGE","URI"]);var Z=new V($,m,e,X,Y);W.push(Z),m.duration+=Z.duration;break;case"PRELOAD-HINT":var J=new N(M);Wt(l,J,["URI"]),l.preloadHint=J;break;case"RENDITION-REPORT":var Q=new N(M);Wt(l,Q,["URI"]),l.renditionReports=l.renditionReports||[],l.renditionReports.push(Q);break;default:D.warn("line parsed but not handled: ".concat(a))}}}v&&!v.relurl?(c.pop(),p-=v.duration,l.partList&&(l.fragmentHint=v)):l.partList&&(fe(m,v),m.cc=g,l.fragmentHint=m,u&&de(m,u,l));var tt=c.length,et=c[0],nt=c[tt-1];if((p+=l.skippedSegments*l.targetduration)>0&&tt&&nt){l.averagetargetduration=p/tt;var rt=nt.sn;l.endSN="initSegment"!==rt?rt:0,l.live||(nt.endList=!0),et&&(l.startCC=et.cc)}else l.endSN=0,l.startCC=0;return l.fragmentHint&&(p+=l.fragmentHint.duration),l.totalduration=p,l.endCC=g,y>0&&function(t,e){for(var n=t[e],r=e;r--;){var i=t[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(c,y),l}}]),t}();function se(t,e,n){var r,i,o=new N(t);Wt(n,o,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var a=null!=(r=o.METHOD)?r:"",s=o.URI,u=o.hexadecimalInteger("IV"),l=o.KEYFORMATVERSIONS,c=null!=(i=o.KEYFORMAT)?i:"identity";s&&o.IV&&!u&&D.error("Invalid IV: ".concat(o.IV));var f=s?ae.resolve(s,e):"",h=(l||"1").split("/").map(Number).filter(Number.isFinite);return new qt(a,f,c,h,u)}function ue(t){var e=new N(t).decimalFloatingPoint("TIME-OFFSET");return _(e)?e:null}function le(t,e){["video","audio","text"].forEach((function(n){var r=t.filter((function(t){return function(t,e){var n=Jt[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)}));if(r.length){var i=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e["".concat(n,"Codec")]=i.length>0?i[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.unknownCodecs=t}function ce(t,e,n){var r=e[n];r&&(t[n]=r)}function fe(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),_(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function he(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function de(t,e,n){t.levelkeys=e;var r=n.encryptedFragments;r.length&&r[r.length-1].levelkeys===e||!Object.keys(e).some((function(t){return e[t].isCommonEncryption}))||r.push(t)}var pe="manifest",ge="level",ve="audioTrack",me="subtitleTrack",ye="main",be="audio",we="subtitle";function Se(t){switch(t.type){case ve:return be;case me:return we;default:return ye}}function Te(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}var Ee=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}return Object(g.a)(t,[{key:"startLoad",value:function(t){}},{key:"stopLoad",value:function(){this.destroyInternalLoaders()}},{key:"registerListeners",value:function(){var t=this.hls;t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.LEVEL_LOADING,this.onLevelLoading,this),t.on(k.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(k.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.LEVEL_LOADING,this.onLevelLoading,this),t.off(k.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(k.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"createInternalLoader",value:function(t){var e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return this.loaders[t.type]=i,i}},{key:"getInternalLoader",value:function(t){return this.loaders[t.type]}},{key:"resetInternalLoader",value:function(t){this.loaders[t]&&delete this.loaders[t]}},{key:"destroyInternalLoaders",value:function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}},{key:"destroy",value:function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}},{key:"onManifestLoading",value:function(t,e){var n=e.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:pe,url:n,deliveryDirectives:null})}},{key:"onLevelLoading",value:function(t,e){var n=e.id,r=e.level,i=e.url,o=e.deliveryDirectives;this.load({id:n,level:r,responseType:"text",type:ge,url:i,deliveryDirectives:o})}},{key:"onAudioTrackLoading",value:function(t,e){var n=e.id,r=e.groupId,i=e.url,o=e.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:ve,url:i,deliveryDirectives:o})}},{key:"onSubtitleTrackLoading",value:function(t,e){var n=e.id,r=e.groupId,i=e.url,o=e.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:me,url:i,deliveryDirectives:o})}},{key:"load",value:function(t){var e,n,r,i=this,o=this.hls.config,a=this.getInternalLoader(t);if(a){var s=a.context;if(s&&s.url===t.url)return void D.trace("[playlist-loader]: playlist request ongoing");D.log("[playlist-loader]: aborting previous loader for type: ".concat(t.type)),a.abort()}if((n=t.type===pe?o.manifestLoadPolicy.default:E({},o.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),a=this.createInternalLoader(t),null!=(e=t.deliveryDirectives)&&e.part)&&(t.type===ge&&null!==t.level?r=this.hls.levels[t.level].details:t.type===ve&&null!==t.id?r=this.hls.audioTracks[t.id].details:t.type===me&&null!==t.id&&(r=this.hls.subtitleTracks[t.id].details),r)){var u=r.partTarget,l=r.targetduration;if(u&&l){var c=1e3*Math.max(3*u,.8*l);n=E({},n,{maxTimeToFirstByteMs:Math.min(c,n.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,n.maxTimeToFirstByteMs)})}}var f=n.errorRetry||n.timeoutRetry||{},h={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:f.maxNumRetry||0,retryDelay:f.retryDelayMs||0,maxRetryDelay:f.maxRetryDelayMs||0},d={onSuccess:function(t,e,n,r){var o=i.getInternalLoader(n);i.resetInternalLoader(n.type);var a=t.data;0===a.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),ae.isMediaPlaylist(a)?i.handleTrackOrLevelPlaylist(t,e,n,r||null,o):i.handleMasterPlaylist(t,e,n,r)):i.handleManifestParsingError(t,n,new Error("no EXTM3U delimiter"),r||null,e)},onError:function(t,e,n,r){i.handleNetworkError(e,n,!1,t,r)},onTimeout:function(t,e,n){i.handleNetworkError(e,n,!0,void 0,t)}};a.load(t,h,d)}},{key:"handleMasterPlaylist",value:function(t,e,n,r){var i=this.hls,o=t.data,a=Te(t,n),s=ae.parseMasterPlaylist(o,a);if(s.playlistParsingError)this.handleManifestParsingError(t,n,s.playlistParsingError,r,e);else{var u=s.contentSteering,l=s.levels,c=s.sessionData,f=s.sessionKeys,h=s.startTimeOffset,d=s.variableList;this.variableList=d;var p=ae.parseMasterPlaylistMedia(o,a,s),g=p.AUDIO,v=void 0===g?[]:g,m=p.SUBTITLES,y=p["CLOSED-CAPTIONS"];if(v.length)v.some((function(t){return!t.url}))||!l[0].audioCodec||l[0].attrs.AUDIO||(D.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new N({}),bitrate:0,url:""}));i.trigger(k.MANIFEST_LOADED,{levels:l,audioTracks:v,subtitles:m,captions:y,contentSteering:u,url:a,stats:e,networkDetails:r,sessionData:c,sessionKeys:f,startTimeOffset:h,variableList:d})}}},{key:"handleTrackOrLevelPlaylist",value:function(t,e,n,r,i){var o=this.hls,a=n.id,s=n.level,u=n.type,l=Te(t,n),c=_(a)?a:0,f=_(s)?s:c,h=Se(n),d=ae.parseLevelPlaylist(t.data,l,f,h,c,this.variableList);if(u===pe){var p={attrs:new N({}),bitrate:0,details:d,name:"",url:l};o.trigger(k.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:l,stats:e,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=d,this.handlePlaylistLoaded(d,t,e,n,r,i)}},{key:"handleManifestParsingError",value:function(t,e,n,r,i){this.hls.trigger(k.ERROR,{type:x.NETWORK_ERROR,details:M.MANIFEST_PARSING_ERROR,fatal:e.type===pe,url:t.url,err:n,error:n,reason:n.message,response:t,context:e,networkDetails:r,stats:i})}},{key:"handleNetworkError",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="A network ".concat(n?"timeout":"error"+(r?" (status "+r.code+")":"")," occurred while loading ").concat(t.type);t.type===ge?o+=": ".concat(t.level," id: ").concat(t.id):t.type!==ve&&t.type!==me||(o+=" id: ".concat(t.id,' group-id: "').concat(t.groupId,'"'));var a=new Error(o);D.warn("[playlist-loader]: ".concat(o));var s=M.UNKNOWN,u=!1,l=this.getInternalLoader(t);switch(t.type){case pe:s=n?M.MANIFEST_LOAD_TIMEOUT:M.MANIFEST_LOAD_ERROR,u=!0;break;case ge:s=n?M.LEVEL_LOAD_TIMEOUT:M.LEVEL_LOAD_ERROR,u=!1;break;case ve:s=n?M.AUDIO_TRACK_LOAD_TIMEOUT:M.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case me:s=n?M.SUBTITLE_TRACK_LOAD_TIMEOUT:M.SUBTITLE_LOAD_ERROR,u=!1}l&&this.resetInternalLoader(t.type);var c={type:x.NETWORK_ERROR,details:s,fatal:u,url:t.url,loader:l,context:t,error:a,networkDetails:e,stats:i};if(r){var f=(null==e?void 0:e.url)||t.url;c.response=S({url:f,data:void 0},r)}this.hls.trigger(k.ERROR,c)}},{key:"handlePlaylistLoaded",value:function(t,e,n,r,i,o){var a=this.hls,s=r.type,u=r.level,l=r.id,c=r.groupId,f=r.deliveryDirectives,h=Te(e,r),d=Se(r),p="number"===typeof r.level&&d===ye?u:void 0;if(t.fragments.length){t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));var g=t.playlistParsingError;if(g)a.trigger(k.ERROR,{type:x.NETWORK_ERROR,details:M.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:e,context:r,level:p,parent:d,networkDetails:i,stats:n});else switch(t.live&&o&&(o.getCacheAge&&(t.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),s){case pe:case ge:a.trigger(k.LEVEL_LOADED,{details:t,level:p||0,id:l||0,stats:n,networkDetails:i,deliveryDirectives:f});break;case ve:a.trigger(k.AUDIO_TRACK_LOADED,{details:t,id:l||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:f});break;case me:a.trigger(k.SUBTITLE_TRACK_LOADED,{details:t,id:l||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:f})}}else{var v=new Error("No Segments found in Playlist");a.trigger(k.ERROR,{type:x.NETWORK_ERROR,details:M.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:e,context:r,level:p,parent:d,networkDetails:i,stats:n})}}}]),t}();function _e(t,e){var n;try{n=new Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function ke(t,e){var n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: ".concat(e))}catch(i){D.debug("[texttrack-utils]: ".concat(i));try{var r=new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id=e.id,t.addCue(r)}catch(o){D.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: ".concat(o))}}"disabled"===n&&(t.mode=n)}function xe(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var n=t.cues.length;n--;)t.removeCue(t.cues[n]);"disabled"===e&&(t.mode=e)}function Me(t,e,n,r){var i=t.mode;if("disabled"===i&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var o=function(t,e,n){var r=[],i=function(t,e){if(e<t[0].startTime)return 0;var n=t.length-1;if(e>t[n].endTime)return-1;var r=0,i=n;for(;r<=i;){var o=Math.floor((i+r)/2);if(e<t[o].startTime)i=o-1;else{if(!(e>t[o].startTime&&r<n))return o;r=o+1}}return t[r].startTime-e<e-t[i].startTime?r:i}(t,e);if(i>-1)for(var o=i,a=t.length;o<a;o++){var s=t[o];if(s.startTime>=e&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}(t.cues,e,n),a=0;a<o.length;a++)r&&!r(o[a])||t.removeCue(o[a]);"disabled"===i&&(t.mode=i)}var Ae="org.id3",Re="com.apple.quicktime.HLS",Ie="https://aomedia.org/emsg/ID3";function Ce(){if("undefined"!==typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Le=function(){var t=Ce();try{new t(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function De(t,e){return t.getTime()/1e3-e}var Oe=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}return Object(g.a)(t,[{key:"destroy",value:function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}},{key:"_registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(k.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(k.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(k.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(k.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"onMediaAttached",value:function(t,e){this.media=e.media}},{key:"onMediaDetaching",value:function(){this.id3Track&&(xe(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}},{key:"onManifestLoading",value:function(){this.dateRangeCuesAppended={}}},{key:"createTrack",value:function(t){var e=this.getID3Track(t.textTracks);return e.mode="hidden",e}},{key:"getID3Track",value:function(t){if(this.media){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return _e(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}},{key:"onFragParsingMetadata",value:function(t,e){if(this.media){var n=this.hls.config,r=n.enableEmsgMetadataCues,i=n.enableID3MetadataCues;if(r||i){var o=e.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var a=Ce(),s=0;s<o.length;s++){var u=o[s].type;if((u!==Ie||r)&&i){var l=gt(o[s].data);if(l){var c=o[s].pts,f=c+o[s].duration;f>Le&&(f=Le),f-c<=0&&(f=c+.25);for(var h=0;h<l.length;h++){var d=l[h];if(!dt(d)){this.updateId3CueEnds(c,u);var p=new a(c,f,"");p.value=d,u&&(p.type=u),this.id3Track.addCue(p)}}}}}}}}},{key:"updateId3CueEnds",value:function(t,e){var n,r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(var i=r.length;i--;){var o=r[i];o.type===e&&o.startTime<t&&o.endTime===Le&&(o.endTime=t)}}},{key:"onBufferFlushing",value:function(t,e){var n=e.startOffset,r=e.endOffset,i=e.type,o=this.id3Track,a=this.hls;if(a){var s=a.config,u=s.enableEmsgMetadataCues,l=s.enableID3MetadataCues;if(o&&(u||l))Me(o,n,r,"audio"===i?function(t){return t.type===Ae&&l}:"video"===i?function(t){return t.type===Ie&&u}:function(t){return t.type===Ae&&l||t.type===Ie&&u})}}},{key:"onLevelUpdated",value:function(t,e){var n=this,r=e.details;if(this.media&&r.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,o=this.id3Track,a=r.dateRanges,s=Object.keys(a);if(o)for(var u=Object.keys(i).filter((function(t){return!s.includes(t)})),l=function(t){var e=u[t];Object.keys(i[e].cues).forEach((function(t){o.removeCue(i[e].cues[t])})),delete i[e]},c=u.length;c--;)l(c);var f=r.fragments[r.fragments.length-1];if(0!==s.length&&_(null==f?void 0:f.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var h=f.programDateTime/1e3-f.start,d=Ce(),p=function(t){var e=s[t],r=a[e],o=i[e],u=(null==o?void 0:o.cues)||{},l=(null==o?void 0:o.durationKnown)||!1,c=De(r.startDate,h),f=Le,p=r.endDate;if(p)f=De(p,h),l=!0;else if(r.endOnNext&&!l){var g=s.reduce((function(t,e){var n=a[e];return n.class===r.class&&n.id!==e&&n.startDate>r.startDate&&t.push(n),t}),[]).sort((function(t,e){return t.startDate.getTime()-e.startDate.getTime()}))[0];g&&(f=De(g.startDate,h),l=!0)}for(var v,m,y=Object.keys(r.attr),b=0;b<y.length;b++){var w=y[b];if("ID"!==(m=w)&&"CLASS"!==m&&"START-DATE"!==m&&"DURATION"!==m&&"END-DATE"!==m&&"END-ON-NEXT"!==m){var S=u[w];if(S)l&&!o.durationKnown&&(S.endTime=f);else{var T=r.attr[w];S=new d(c,f,""),j(w)&&(v=T,T=Uint8Array.from(v.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),S.value={key:w,data:T},S.type=Re,S.id=e,n.id3Track.addCue(S),u[w]=S}}}i[e]={cues:u,dateRange:r,durationKnown:l}},g=0;g<s.length;g++)p(g)}}}}]),t}(),Pe=function(){function t(e){var n=this;Object(p.a)(this,t),this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return n.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}return Object(g.a)(t,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,n=t.partHoldBack,r=t.targetduration,i=this.config,o=i.liveSyncDuration,a=i.liveSyncDurationCount,s=i.lowLatencyMode,u=this.hls.userConfig,l=s&&n||e;(u.liveSyncDuration||u.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:a*r);var c=r;return l+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;var r=n.edge,i=t-e-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}},{key:"registerListeners",value:function(){this.hls.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(k.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(k.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(k.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){this.hls.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(k.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(k.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(k.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}},{key:"onManifestLoading",value:function(){this.levelDetails=null,this._latency=null,this.stallCount=0}},{key:"onLevelUpdated",value:function(t,e){var n=e.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}},{key:"onError",value:function(t,e){var n;e.details===M.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&D.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}},{key:"timeupdate",value:function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(i&&1!==o){var a=this.targetLatency;if(null!==a){var s=n-a,u=s<Math.min(this.maxLatency,a+e.targetduration);if(e.live&&u&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,o)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;t.playbackRate=Math.min(l,Math.max(1,c))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}}},{key:"estimateLiveEdge",value:function(){var t=this.levelDetails;return null===t?null:t.edge+t.age}},{key:"computeLatency",value:function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}]),t}(),Ne=["NONE","TYPE-0","TYPE-1",null],je="",Be="YES",Fe="v2";var Ue=function(){function t(e,n,r){Object(p.a)(this,t),this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}return Object(g.a)(t,[{key:"addDirectives",value:function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}]),t}(),He=function(){function t(e){Object(p.a)(this,t),this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}return Object(g.a)(t,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}},{key:"audioGroupId",get:function(){var t;return null==(t=this.audioGroupIds)?void 0:t[this.urlId]}},{key:"textGroupId",get:function(){var t;return null==(t=this.textGroupIds)?void 0:t[this.urlId]}},{key:"addFallback",value:function(t){this.url.push(t.url),this._attrs.push(t.attrs)}}]),t}();function Ke(t,e){var n=e.startPTS;if(_(n)){var r,i=0;e.sn>t.sn?(i=n-t.start,r=t):(i=t.start-n,r=e),r.duration!==i&&(r.duration=i)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration}else e.start=Math.max(t.start-e.duration,0)}function Ge(t,e,n,r,i,o){r-n<=0&&(D.warn("Fragment should have a positive duration",e),r=n+e.duration,o=i+e.duration);var a=n,s=r,u=e.startPTS,l=e.endPTS;if(_(u)){var c=Math.abs(u-n);_(e.deltaPTS)?e.deltaPTS=Math.max(c,e.deltaPTS):e.deltaPTS=c,a=Math.max(n,u),n=Math.min(n,u),i=Math.min(i,e.startDTS),s=Math.min(r,l),r=Math.max(r,l),o=Math.max(o,e.endDTS)}var f=n-e.start;0!==e.start&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=s,e.endDTS=o;var h,d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;var p=d-t.startSN,g=t.fragments;for(g[p]=e,h=p;h>0;h--)Ke(g[h],g[h-1]);for(h=p;h<g.length-1;h++)Ke(g[h],g[h+1]);return t.fragmentHint&&Ke(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function qe(t,e){for(var n=null,r=t.fragments,i=r.length-1;i>=0;i--){var o=r[i].initSegment;if(o){n=o;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var a,s=0;(function(t,e,n){for(var r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=i;l<=o;l++){var c=u[a+l],f=s[l];r&&!f&&l<r&&(f=e.fragments[l]=c),c&&f&&n(c,f)}}(t,e,(function(t,r){t.relurl&&(s=t.cc-r.cc),_(t.startPTS)&&_(t.endPTS)&&(r.start=r.startPTS=t.startPTS,r.startDTS=t.startDTS,r.maxStartPTS=t.maxStartPTS,r.endPTS=t.endPTS,r.endDTS=t.endDTS,r.minEndPTS=t.minEndPTS,r.duration=t.endPTS-t.startPTS,r.duration&&(a=r),e.PTSKnown=e.alignedSliding=!0),r.elementaryStreams=t.elementaryStreams,r.loader=t.loader,r.stats=t.stats,r.urlId=t.urlId,t.initSegment&&(r.initSegment=t.initSegment,n=t.initSegment)})),n)&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((function(t){var e;t.initSegment&&t.initSegment.relurl!==(null==(e=n)?void 0:e.relurl)||(t.initSegment=n)}));if(e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed){D.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var u=e.skippedSegments;u--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){var r=E({},t);n&&n.forEach((function(t){delete r[t]}));return Object.keys(e).forEach((function(t){var n=new B(e[t].attr,r[t]);n.isValid?r[t]=n:D.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(e[t].attr),'"'))})),r}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));var l=e.fragments;if(s){D.warn("discontinuity sliding from playlist, take drift into account");for(var c=0;c<l.length;c++)l[c].cc+=s}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e)for(var r=0,i=0,o=t.length;i<=o;i++){var a=t[i],s=e[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),a?Ge(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS):Ve(t,e),l.length&&(e.totalduration=e.edge-l[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var f=e.advancedDateTime;if(e.advanced&&f){var h=e.edge;e.driftStart||(e.driftStartTime=f,e.driftStart=h),e.driftEndTime=f,e.driftEnd=h}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function Ve(t,e){var n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||ze(e,r[n].start)}function ze(t,e){if(e){for(var n=t.fragments,r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function We(t,e,n){var r;return null!=t&&t.details?Ye(null==(r=t.details)?void 0:r.partList,e,n):null}function Ye(t,e,n){if(t)for(var r=t.length;r--;){var i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function Xe(t){switch(t.details){case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_TIMEOUT:case M.LEVEL_LOAD_TIMEOUT:case M.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function $e(t,e){var n=Xe(e);return t.default["".concat(n?"timeout":"error","Retry")]}function Ze(t,e){var n="linear"===t.backoff?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function Je(t){return S(S({},t),{errorRetry:null,timeoutRetry:null})}function Qe(t,e,n,r){return!!t&&e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(r)||!!n)}var tn=function(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var a=e(o=t[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null};function en(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=null;if(t?i=e[t.sn-e[0].sn+1]||null:0===n&&0===e[0].start&&(i=e[0]),i&&0===nn(n,r,i))return i;var o=tn(e,nn.bind(null,n,r));return!o||o===t&&i?i:o}function nn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(n.start<=t&&n.start+n.duration>t)return 0;var r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function rn(t,e,n){var r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>t}var on=0,an=2,sn=5,un=0,ln=1,cn=2,fn=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=D.log.bind(D,"[info]:"),this.warn=D.warn.bind(D,"[warning]:"),this.error=D.error.bind(D,"[error]:"),this.registerListeners()}return Object(g.a)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(k.ERROR,this.onError,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t&&(t.off(k.ERROR,this.onError,this),t.off(k.ERROR,this.onErrorOut,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.LEVEL_UPDATED,this.onLevelUpdated,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}},{key:"startLoad",value:function(t){this.playlistError=0}},{key:"stopLoad",value:function(){}},{key:"getVariantLevelIndex",value:function(t){return(null==t?void 0:t.type)===ye?t.level:this.hls.loadLevel}},{key:"onManifestLoading",value:function(){this.playlistError=0,this.penalizedRenditions={}}},{key:"onLevelUpdated",value:function(){this.playlistError=0}},{key:"onError",value:function(t,e){var n,r;if(!e.fatal){var i=this.hls,o=e.context;switch(e.details){case M.FRAG_LOAD_ERROR:case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_ERROR:case M.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case M.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction={action:on,flags:un});case M.FRAG_GAP:case M.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=an);case M.LEVEL_EMPTY_ERROR:case M.LEVEL_PARSING_ERROR:var a,s,u=e.parent===ye?e.level:i.loadLevel;return void(e.details===M.LEVEL_EMPTY_ERROR&&null!=(a=e.context)&&null!=(s=a.levelDetails)&&s.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,u):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,u)));case M.LEVEL_LOAD_ERROR:case M.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==o?void 0:o.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,o.level)));case M.AUDIO_TRACK_LOAD_ERROR:case M.AUDIO_TRACK_LOAD_TIMEOUT:case M.SUBTITLE_LOAD_ERROR:case M.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){var l=i.levels[i.loadLevel];if(l&&(o.type===ve&&o.groupId===l.audioGroupId||o.type===me&&o.groupId===l.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=an,void(e.errorAction.flags=ln)}return;case M.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var c=i.levels[i.loadLevel],f=null==c?void 0:c.attrs["HDCP-LEVEL"];return void(f&&(e.errorAction={action:an,flags:cn,hdcpLevel:f}));case M.BUFFER_ADD_CODEC_ERROR:case M.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(r=e.level)?r:i.loadLevel));case M.INTERNAL_EXCEPTION:case M.BUFFER_APPENDING_ERROR:case M.BUFFER_APPEND_ERROR:case M.BUFFER_FULL_ERROR:case M.LEVEL_SWITCH_ERROR:case M.BUFFER_STALLED_ERROR:case M.BUFFER_SEEK_OVER_HOLE:case M.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:on,flags:un})}if(e.type===x.KEY_SYSTEM_ERROR){var h=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,h))}}}},{key:"getPlaylistRetryOrSwitchAction",value:function(t,e){var n,r=$e(this.hls.config.playlistLoadPolicy,t),i=this.playlistError++,o=null==(n=t.response)?void 0:n.code;if(Qe(r,i,Xe(t),o))return{action:sn,flags:un,retryConfig:r,retryCount:i};var a=this.getLevelSwitchAction(t,e);return r&&(a.retryConfig=r,a.retryCount=i),a}},{key:"getFragRetryOrSwitchAction",value:function(t){var e=this.hls,n=this.getVariantLevelIndex(t.frag),r=e.levels[n],i=e.config,o=i.fragLoadPolicy,a=i.keyLoadPolicy,s=$e(t.details.startsWith("key")?a:o,t),u=e.levels.reduce((function(t,e){return t+e.fragmentError}),0);if(r){var l;t.details!==M.FRAG_GAP&&r.fragmentError++;var c=null==(l=t.response)?void 0:l.code;if(Qe(s,u,Xe(t),c))return{action:sn,flags:un,retryConfig:s,retryCount:u}}var f=this.getLevelSwitchAction(t,n);return s&&(f.retryConfig=s,f.retryCount=u),f}},{key:"getLevelSwitchAction",value:function(t,e){var n=this.hls;null!==e&&void 0!==e||(e=n.loadLevel);var r=this.hls.levels[e];if(r&&(r.loadError++,n.autoLevelEnabled)){for(var i,o,a=-1,s=n.levels,u=n.loadLevel,l=n.minAutoLevel,c=n.maxAutoLevel,f=null==(i=t.frag)?void 0:i.type,h=null!=(o=t.context)?o:{},d=h.type,p=h.groupId,g=s.length;g--;){var v=(g+u)%s.length;if(v!==u&&v>=l&&v<=c&&0===s[v].loadError){var m=s[v];if(t.details===M.FRAG_GAP&&t.frag){var y=s[v].details;if(y){var b=en(t.frag,y.fragments,t.frag.start);if(null!=b&&b.gap)continue}}else{if(d===ve&&p===m.audioGroupId||d===me&&p===m.textGroupId)continue;if(f===be&&r.audioGroupId===m.audioGroupId||f===we&&r.textGroupId===m.textGroupId)continue}a=v;break}}if(a>-1&&n.loadLevel!==a)return t.levelRetry=!0,this.playlistError=0,{action:an,flags:un,nextAutoLevel:a}}return{action:an,flags:ln}}},{key:"onErrorOut",value:function(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case on:break;case an:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===M.FRAG_GAP||(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}},{key:"sendAlternateToPenaltyBox",value:function(t){var e=this.hls,n=t.errorAction;if(n){var r=n.flags,i=n.hdcpLevel,o=n.nextAutoLevel;switch(r){case un:this.switchLevel(t,o);break;case ln:n.resolved||(n.resolved=this.redundantFailover(t));break;case cn:i&&(e.maxHdcpLevel=Ne[Ne.indexOf(i)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(e.maxHdcpLevel,'" or lower'))}n.resolved||this.switchLevel(t,o)}}},{key:"switchLevel",value:function(t,e){void 0!==e&&t.errorAction&&(this.warn("switching to level ".concat(e," after ").concat(t.details)),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},{key:"redundantFailover",value:function(t){var e=this,n=this.hls,r=this.penalizedRenditions,i=t.parent===ye?t.level:n.loadLevel,o=n.levels[i],a=o.url.length,s=t.frag?t.frag.urlId:o.urlId;o.urlId!==s||t.frag&&!o.details||this.penalizeRendition(o,t);for(var u=function(u){var l=(s+u)%a,c=r[l];if(!c||function(t,e,n){if(performance.now()-t.lastErrorPerfMs>3e5)return!0;var r=t.details;if(e.details===M.FRAG_GAP&&r&&e.frag){var i=e.frag.start,o=en(null,r.fragments,i);if(o&&!o.gap)return!0}if(n&&t.errors.length<n.errors.length){var a=t.errors[t.errors.length-1];if(r&&a.frag&&e.frag&&Math.abs(a.frag.start-e.frag.start)>3*r.targetduration)return!0}return!1}(c,t,r[s]))return e.warn("Switching to Redundant Stream ".concat(l+1,"/").concat(a,': "').concat(o.url[l],'" after ').concat(t.details)),e.playlistError=0,n.levels.forEach((function(t){t.urlId=l})),n.nextLoadLevel=i,{v:!0}},l=1;l<a;l++){var c=u(l);if("object"===typeof c)return c.v}return!1}},{key:"penalizeRendition",value:function(t,e){var n=this.penalizedRenditions,r=n[t.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};r.lastErrorPerfMs=performance.now(),r.errors.push(e),r.details=t.details,n[t.urlId]=r}}]),t}();var hn,dn=function(){function t(e,n){Object(p.a)(this,t),this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=D.log.bind(D,"".concat(n,":")),this.warn=D.warn.bind(D,"".concat(n,":")),this.hls=e}return Object(g.a)(t,[{key:"destroy",value:function(){this.clearTimer(),this.hls=this.log=this.warn=null}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=-1}},{key:"startLoad",value:function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}},{key:"stopLoad",value:function(){this.canLoad=!1,this.clearTimer()}},{key:"switchParams",value:function(t,e){var n=null==e?void 0:e.renditionReports;if(n){for(var r=-1,i=0;i<n.length;i++){var o=n[i],a=void 0;try{a=new self.URL(o.URI,e.url).href}catch(f){D.warn("Could not construct new URL for Rendition Report: ".concat(f)),a=o.URI||""}if(a===t){r=i;break}a===t.substring(0,a.length)&&(r=i)}if(-1!==r){var s=n[r],u=parseInt(s["LAST-MSN"])||(null==e?void 0:e.lastPartSn),l=parseInt(s["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(e.age-e.partTarget,e.targetduration);l>=0&&c>e.partTarget&&(l+=1)}return new Ue(u,l>=0?l:void 0,je)}}}},{key:"loadPlaylist",value:function(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}},{key:"shouldLoadPlaylist",value:function(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}},{key:"shouldReloadPlaylist",value:function(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}},{key:"playlistLoaded",value:function(t,e,n){var r=this,i=e.details,o=e.stats,a=self.performance.now(),s=o.loading.first?Math.max(0,a-o.loading.first):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist ".concat(t," ").concat(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED")),n&&i.fragments.length>0&&qe(n,i),!this.canLoad||!i.live)return;var u,l=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var f=this.hls.config.lowLatencyMode,h=i.lastPartSn,d=i.endSN,p=i.lastPartIndex,g=h===d;-1!==p?(l=g?d+1:h,c=g?f?0:p:p+1):l=d+1;var v=i.age,m=v+i.ageHeader,y=Math.min(m-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(n.tuneInGoal," to: ").concat(y," with playlist age: ").concat(i.age)),y=0;else{var b=Math.floor(y/i.targetduration);if(l+=b,void 0!==c)c+=Math.round(y%i.targetduration/i.partTarget);this.log("CDN Tune-in age: ".concat(i.ageHeader,"s last advanced ").concat(v.toFixed(2),"s goal: ").concat(y," skip sn ").concat(b," to part ").concat(c))}i.tuneInGoal=y}if(u=this.getDeliveryDirectives(i,e.deliveryDirectives,l,c),f||!g)return void this.loadPlaylist(u)}else(i.canBlockReload||i.canSkipUntil)&&(u=this.getDeliveryDirectives(i,e.deliveryDirectives,l,c));var w=this.hls.mainForwardBufferInfo,S=w?w.end-w.len:0,T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=1e3*t.targetduration;if(t.updated){var r=t.fragments,i=4;if(r.length&&n*i>e){var o=1e3*r[r.length-1].duration;o<n&&(n=o)}}else n/=2;return Math.round(n)}(i,1e3*(i.edge-S));i.updated&&a>this.requestScheduled+T&&(this.requestScheduled=o.loading.start),void 0!==l&&i.canBlockReload?this.requestScheduled=o.loading.first+T-(1e3*i.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+T<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=T);var E=this.requestScheduled-a;E=Math.max(0,E),this.log("reload live playlist ".concat(t," in ").concat(Math.round(E)," ms")),this.timer=self.setTimeout((function(){return r.loadPlaylist(u)}),E)}else this.clearTimer()}},{key:"getDeliveryDirectives",value:function(t,e,n,r){var i=function(t,e){var n=t.canSkipUntil,r=t.canSkipDateRanges,i=t.endSN;return n&&(void 0!==e?e-i:0)<n?r?Fe:Be:je}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,r=e.part,i=je),new Ue(n,r,i)}},{key:"checkRetry",value:function(t){var e=this,n=t.details,r=Xe(t),i=t.errorAction,o=i||{},a=o.action,s=o.retryCount,u=void 0===s?0:s,l=o.retryConfig,c=!!i&&!!l&&(a===sn||!i.resolved&&a===an);if(c){var f;if(this.requestScheduled=-1,u>=l.maxNumRetry)return!1;if(r&&null!=(f=t.context)&&f.deliveryDirectives)this.warn("Retrying playlist loading ".concat(u+1,"/").concat(l.maxNumRetry,' after "').concat(n,'" without delivery-directives')),this.loadPlaylist();else{var h=Ze(l,u);this.timer=self.setTimeout((function(){return e.loadPlaylist()}),h),this.warn("Retrying playlist loading ".concat(u+1,"/").concat(l.maxNumRetry,' after "').concat(n,'" in ').concat(h,"ms"))}t.levelRetry=!0,i.resolved=!0}return c}}]),t}(),pn=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(p.a)(this,n),(i=e.call(this,t,"[level-controller]"))._levels=[],i._firstLevel=-1,i._startLevel=void 0,i.currentLevel=null,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.steering=void 0,i.onParsedComplete=void 0,i.steering=r,i._registerListeners(),i}return Object(g.a)(n,[{key:"_registerListeners",value:function(){var t=this.hls;t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(k.LEVEL_LOADED,this.onLevelLoaded,this),t.on(k.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(k.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(k.FRAG_LOADED,this.onFragLoaded,this),t.on(k.ERROR,this.onError,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(k.LEVEL_LOADED,this.onLevelLoaded,this),t.off(k.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(k.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(k.FRAG_LOADED,this.onFragLoaded,this),t.off(k.ERROR,this.onError,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),Object(l.a)(Object(c.a)(n.prototype),"destroy",this).call(this)}},{key:"startLoad",value:function(){this._levels.forEach((function(t){t.loadError=0,t.fragmentError=0})),Object(l.a)(Object(c.a)(n.prototype),"startLoad",this).call(this)}},{key:"resetLevels",value:function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}},{key:"onManifestLoading",value:function(t,e){this.resetLevels()}},{key:"onManifestLoaded",value:function(t,e){var n,r=[],i={};e.levels.forEach((function(t){var e,o=t.attrs;-1!==(null==(e=t.audioCodec)?void 0:e.indexOf("mp4a.40.34"))&&(hn||(hn=/chrome|firefox/i.test(navigator.userAgent)),hn&&(t.audioCodec=void 0));var a=o.AUDIO,s=o.CODECS,u=o["FRAME-RATE"],l=o["PATHWAY-ID"],c=o.RESOLUTION,f=o.SUBTITLES,h="".concat(l||".","-"),d="".concat(h).concat(t.bitrate,"-").concat(c,"-").concat(u,"-").concat(s);(n=i[d])?n.addFallback(t):(n=new He(t),i[d]=n,r.push(n)),gn(n,"audio",a),gn(n,"text",f)})),this.filterAndSortMediaOptions(r,e)}},{key:"filterAndSortMediaOptions",value:function(t,e){var n=this,r=[],i=[],o=!1,a=!1,s=!1,u=t.filter((function(t){var e=t.audioCodec,n=t.videoCodec,r=t.width,i=t.height,u=t.unknownCodecs;return o||(o=!(!r||!i)),a||(a=!!n),s||(s=!!e),!(null!=u&&u.length)&&(!e||te(e,"audio"))&&(!n||te(n,"video"))}));if((o||a)&&s&&(u=u.filter((function(t){var e=t.videoCodec,n=t.width,r=t.height;return!!e||!(!n||!r)}))),0!==u.length){e.audioTracks&&vn(r=e.audioTracks.filter((function(t){return!t.audioCodec||te(t.audioCodec,"audio")}))),e.subtitles&&vn(i=e.subtitles);var l=u.slice(0);u.sort((function(t,e){return t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"]?(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1:t.bitrate!==e.bitrate?t.bitrate-e.bitrate:t.attrs["FRAME-RATE"]!==e.attrs["FRAME-RATE"]?t.attrs.decimalFloatingPoint("FRAME-RATE")-e.attrs.decimalFloatingPoint("FRAME-RATE"):t.attrs.SCORE!==e.attrs.SCORE?t.attrs.decimalFloatingPoint("SCORE")-e.attrs.decimalFloatingPoint("SCORE"):o&&t.height!==e.height?t.height-e.height:0}));var c=l[0];if(this.steering&&(u=this.steering.filterParsedLevels(u)).length!==l.length)for(var f=0;f<l.length;f++)if(l[f].pathwayId===u[0].pathwayId){c=l[f];break}this._levels=u;for(var h=0;h<u.length;h++)if(u[h]===c){this._firstLevel=h,this.log("manifest loaded, ".concat(u.length," level(s) found, first bitrate: ").concat(c.bitrate));break}var d=s&&!a,p={levels:u,audioTracks:r,subtitleTracks:i,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:a,altAudio:!d&&r.some((function(t){return!!t.url}))};this.hls.trigger(k.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(n.hls){var t=new Error("no level with compatible codecs found in manifest");n.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}}))}},{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;if(0!==e.length){if(t<0||t>=e.length){var n=new Error("invalid level idx"),r=t<0;if(this.hls.trigger(k.ERROR,{type:x.OTHER_ERROR,details:M.LEVEL_SWITCH_ERROR,level:t,fatal:r,error:n,reason:n.message}),r)return;t=Math.min(t,e.length-1)}var i=this.currentLevelIndex,o=this.currentLevel,a=o?o.attrs["PATHWAY-ID"]:void 0,s=e[t],u=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=s,i!==t||!s.details||!o||a!==u){this.log("Switching to level ".concat(t).concat(u?" with Pathway "+u:""," from level ").concat(i).concat(a?" with Pathway "+a:""));var l=E({},s,{level:t,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete l._attrs,delete l._urlId,this.hls.trigger(k.LEVEL_SWITCHING,l);var c=s.details;if(!c||c.live){var f=this.switchParams(s.uri,null==o?void 0:o.details);this.loadPlaylist(f)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"onError",value:function(t,e){!e.fatal&&e.context&&e.context.type===ge&&e.context.level===this.level&&this.checkRetry(e)}},{key:"onFragLoaded",value:function(t,e){var n=e.frag;if(void 0!==n&&n.type===ye){var r=this._levels[n.level];void 0!==r&&(r.loadError=0)}}},{key:"onLevelLoaded",value:function(t,e){var n,r,i=e.level,o=e.details,a=this._levels[i];if(!a)return this.warn("Invalid level index ".concat(i)),void(null!=(r=e.deliveryDirectives)&&r.skip&&(o.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0),this.playlistLoaded(i,e,a.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(o.deltaUpdateFailed=!0)}},{key:"onAudioTrackSwitched",value:function(t,e){var n=this.currentLevel;if(n){var r=this.hls.audioTracks[e.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==r){for(var i=-1,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===r){i=o;break}-1!==i&&i!==n.urlId&&(n.urlId=i,this.canLoad&&this.startLoad())}}}},{key:"loadPlaylist",value:function(t){Object(l.a)(Object(c.a)(n.prototype),"loadPlaylist",this).call(this);var e=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){var i=r.urlId,o=r.uri;if(t)try{o=t.addDirectives(o)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(s))}var a=r.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(e).concat(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""," with").concat(a?" Pathway "+a:""," URI ").concat(i+1,"/").concat(r.url.length," ").concat(o)),this.clearTimer(),this.hls.trigger(k.LEVEL_LOADING,{url:o,level:e,id:i,deliveryDirectives:t||null})}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}},{key:"removeLevel",value:function(t,e){var n=this,r=function(t,n){return n!==e},i=this._levels.filter((function(i,o){return o!==t||(i.url.length>1&&void 0!==e?(i.url=i.url.filter(r),i.audioGroupIds&&(i.audioGroupIds=i.audioGroupIds.filter(r)),i.textGroupIds&&(i.textGroupIds=i.textGroupIds.filter(r)),i.urlId=0,!0):(n.steering&&n.steering.removeLevel(i),!1))}));this.hls.trigger(k.LEVELS_UPDATED,{levels:i})}},{key:"onLevelsUpdated",value:function(t,e){var n=e.levels;n.forEach((function(t,e){var n=t.details;null!=n&&n.fragments&&n.fragments.forEach((function(t){t.level=e}))})),this._levels=n}}]),n}(dn);function gn(t,e,n){n&&("audio"===e?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=n):"text"===e&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=n))}function vn(t){var e={};t.forEach((function(t){var n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}var mn="NOT_LOADED",yn="APPENDING",bn="PARTIAL",wn="OK",Sn=function(){function t(e){Object(p.a)(this,t),this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}return Object(g.a)(t,[{key:"_registerListeners",value:function(){var t=this.hls;t.on(k.BUFFER_APPENDED,this.onBufferAppended,this),t.on(k.FRAG_BUFFERED,this.onFragBuffered,this),t.on(k.FRAG_LOADED,this.onFragLoaded,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(k.BUFFER_APPENDED,this.onBufferAppended,this),t.off(k.FRAG_BUFFERED,this.onFragBuffered,this),t.off(k.FRAG_LOADED,this.onFragLoaded,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}},{key:"getAppendedFrag",value:function(t,e){var n=this.activePartLists[e];if(n)for(var r=n.length;r--;){var i=n[r];if(!i)break;var o=i.end;if(i.start<=t&&null!==o&&t<=o)return i}return this.getBufferedFrag(t,e)}},{key:"getBufferedFrag",value:function(t,e){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var o=n[r[i]];if((null==o?void 0:o.body.type)===e&&o.buffered){var a=o.body;if(a.start<=t&&t<=a.end)return a}}return null}},{key:"detectEvictedFragments",value:function(t,e,n,r){var i=this;this.timeRanges&&(this.timeRanges[t]=e);var o=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(r){var a=i.fragments[r];if(a&&!(o>=a.body.sn))if(a.buffered||a.loaded){var s=a.range[t];s&&s.time.some((function(t){var n=!i.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&i.removeFragment(a.body),n}))}else a.body.type===n&&i.removeFragment(a.body)}))}},{key:"detectPartialFragments",value:function(t){var e=this,n=this.timeRanges,r=t.frag,i=t.part;if(n&&"initSegment"!==r.sn){var o=En(r),a=this.fragments[o];if(!(!a||a.buffered&&r.gap)){var s=!r.relurl;if(Object.keys(n).forEach((function(t){var o=r.elementaryStreams[t];if(o){var u=n[t],l=s||!0===o.partial;a.range[t]=e.getBufferedTimes(r,i,l,u)}})),a.loaded=null,Object.keys(a.range).length)a.buffered=!0,(a.body.endList=r.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),Tn(a)||this.removeParts(r.sn-1,r.type);else this.removeFragment(a.body)}}}},{key:"removeParts",value:function(t,e){var n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter((function(e){return e.fragment.sn>=t})))}},{key:"fragBuffered",value:function(t,e){var n=En(t),r=this.fragments[n];!r&&e&&(r=this.fragments[n]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}},{key:"getBufferedTimes",value:function(t,e,n,r){for(var i={time:[],partial:n},o=t.start,a=t.end,s=t.minEndPTS||a,u=t.maxStartPTS||o,l=0;l<r.length;l++){var c=r.start(l)-this.bufferPadding,f=r.end(l)+this.bufferPadding;if(u>=c&&s<=f){i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});break}if(o<f&&a>c)i.partial=!0,i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});else if(a<=c)break}return i}},{key:"getPartialFragment",value:function(t){var e,n,r,i=null,o=0,a=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(u){var l=s[u];l&&Tn(l)&&(n=l.body.start-a,r=l.body.end+a,t>=n&&t<=r&&(e=Math.min(t-n,r-t),o<=e&&(i=l.body,o=e)))})),i}},{key:"isEndListAppended",value:function(t){var e=this.endListFragments[t];return void 0!==e&&(e.buffered||Tn(e))}},{key:"getState",value:function(t){var e=En(t),n=this.fragments[e];return n?n.buffered?Tn(n)?bn:wn:yn:mn}},{key:"isTimeBuffered",value:function(t,e,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1}},{key:"onFragLoaded",value:function(t,e){var n=e.frag,r=e.part;if("initSegment"!==n.sn&&!n.bitrateTest){var i=r?null:e,o=En(n);this.fragments[o]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}}},{key:"onBufferAppended",value:function(t,e){var n=this,r=e.frag,i=e.part,o=e.timeRanges;if("initSegment"!==r.sn){var a=r.type;if(i){var s=this.activePartLists[a];s||(this.activePartLists[a]=s=[]),s.push(i)}this.timeRanges=o,Object.keys(o).forEach((function(t){var e=o[t];n.detectEvictedFragments(t,e,a,i)}))}}},{key:"onFragBuffered",value:function(t,e){this.detectPartialFragments(e)}},{key:"hasFragment",value:function(t){var e=En(t);return!!this.fragments[e]}},{key:"hasParts",value:function(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}},{key:"removeFragmentsInRange",value:function(t,e,n,r,i){var o=this;r&&!this.hasGaps||Object.keys(this.fragments).forEach((function(a){var s=o.fragments[a];if(s){var u=s.body;u.type!==n||r&&!u.gap||u.start<e&&u.end>t&&(s.buffered||i)&&o.removeFragment(u)}}))}},{key:"removeFragment",value:function(t){var e=En(t);t.stats.loaded=0,t.clearElementaryStreamInfo();var n=this.activePartLists[t.type];if(n){var r=t.sn;this.activePartLists[t.type]=n.filter((function(t){return t.fragment.sn!==r}))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}},{key:"removeAllFragments",value:function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}]),t}();function Tn(t){var e,n,r;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(n=t.range.audio)?void 0:n.partial)||(null==(r=t.range.audiovideo)?void 0:r.partial))}function En(t){return"".concat(t.type,"_").concat(t.level,"_").concat(t.urlId,"_").concat(t.sn)}var _n=Math.pow(2,17),kn=function(){function t(e){Object(p.a)(this,t),this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}return Object(g.a)(t,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null)}},{key:"abort",value:function(){this.loader&&this.loader.abort()}},{key:"load",value:function(t,e){var n=this,r=t.url;if(!r)return Promise.reject(new An({type:x.NETWORK_ERROR,details:M.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a ".concat(r?"part list":"url")),networkDetails:null}));this.abort();var i=this.config,o=i.fLoader,a=i.loader;return new Promise((function(s,u){if(n.loader&&n.loader.destroy(),t.gap){if(t.tagList.some((function(t){return"GAP"===t[0]})))return void u(Mn(t));t.gap=!1}var l=n.loader=t.loader=o?new o(i):new a(i),c=xn(t),f=Je(i.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:_n};t.stats=l.stats,l.load(c,h,{onSuccess:function(e,r,i,o){n.resetLoader(t,l);var a=e.data;i.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(a.slice(0,16)),a=a.slice(16)),s({frag:t,part:null,payload:a,networkDetails:o})},onError:function(e,i,o,a){n.resetLoader(t,l),u(new An({type:x.NETWORK_ERROR,details:M.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:S({url:r,data:void 0},e),error:new Error("HTTP Error ".concat(e.code," ").concat(e.text)),networkDetails:o,stats:a}))},onAbort:function(e,r,i){n.resetLoader(t,l),u(new An({type:x.NETWORK_ERROR,details:M.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:i,stats:e}))},onTimeout:function(e,r,i){n.resetLoader(t,l),u(new An({type:x.NETWORK_ERROR,details:M.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error("Timeout after ".concat(h.timeout,"ms")),networkDetails:i,stats:e}))},onProgress:function(n,r,i,o){e&&e({frag:t,part:null,payload:i,networkDetails:o})}})}))}},{key:"loadPart",value:function(t,e,n){var r=this;this.abort();var i=this.config,o=i.fLoader,a=i.loader;return new Promise((function(s,u){if(r.loader&&r.loader.destroy(),t.gap||e.gap)u(Mn(t,e));else{var l=r.loader=t.loader=o?new o(i):new a(i),c=xn(t,e),f=Je(i.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:_n};e.stats=l.stats,l.load(c,h,{onSuccess:function(i,o,a,u){r.resetLoader(t,l),r.updateStatsFromPart(t,e);var c={frag:t,part:e,payload:i.data,networkDetails:u};n(c),s(c)},onError:function(n,i,o,a){r.resetLoader(t,l),u(new An({type:x.NETWORK_ERROR,details:M.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:S({url:c.url,data:void 0},n),error:new Error("HTTP Error ".concat(n.code," ").concat(n.text)),networkDetails:o,stats:a}))},onAbort:function(n,i,o){t.stats.aborted=e.stats.aborted,r.resetLoader(t,l),u(new An({type:x.NETWORK_ERROR,details:M.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:o,stats:n}))},onTimeout:function(n,i,o){r.resetLoader(t,l),u(new An({type:x.NETWORK_ERROR,details:M.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error("Timeout after ".concat(h.timeout,"ms")),networkDetails:o,stats:n}))}})}}))}},{key:"updateStatsFromPart",value:function(t,e){var n=t.stats,r=e.stats,i=r.total;if(n.loaded+=r.loaded,i){var o=Math.round(t.duration/e.duration),a=Math.min(Math.round(n.loaded/i),o),s=(o-a)*Math.round(n.loaded/a);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var u=n.loading,l=r.loading;u.start?u.first+=l.first-l.start:(u.start=l.start,u.first=l.first),u.end=l.end}},{key:"resetLoader",value:function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}]),t}();function xn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(_(i)&&_(o)){var a,s=i,u=o;if("initSegment"===t.sn&&"AES-128"===(null==(a=t.decryptdata)?void 0:a.method)){var l=o-i;l%16&&(u=o+(16-l%16)),0!==i&&(r.resetIV=!0,s=i-16)}r.rangeStart=s,r.rangeEnd=u}return r}function Mn(t,e){var n=new Error("GAP ".concat(t.gap?"tag":"attribute"," found")),r={type:x.MEDIA_ERROR,details:M.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new An(r)}var An=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(p.a)(this,n),(r=e.call(this,t.error.message)).data=void 0,r.data=t,r}return n}(Object(u.a)(Error)),Rn=function(){function t(e){Object(p.a)(this,t),this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}return Object(g.a)(t,[{key:"abort",value:function(t){for(var e in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[e].loader;if(n){if(t&&t!==n.context.frag.type)return;n.abort()}}}},{key:"detach",value:function(){for(var t in this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}},{key:"destroy",value:function(){for(var t in this.detach(),this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}},{key:"createKeyLoadError",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.KEY_LOAD_ERROR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new An({type:x.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:i,error:n,networkDetails:r})}},{key:"loadClear",value:function(t,e){var n=this;if(this.emeController&&this.config.emeEnabled)for(var r=t.sn,i=t.cc,o=function(t){var o=e[t];if(i<=o.cc&&("initSegment"===r||"initSegment"===o.sn||r<o.sn))return n.emeController.selectKeySystemFormat(o).then((function(t){o.setKeyFormat(t)})),"break"},a=0;a<e.length;a++){if("break"===o(a))break}}},{key:"load",value:function(t){var e=this;return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((function(n){return e.loadInternal(t,n)})):this.loadInternal(t)}},{key:"loadInternal",value:function(t,e){var n,r;e&&t.setKeyFormat(e);var i=t.decryptdata;if(!i){var o=new Error(e?"Expected frag.decryptdata to be defined after setting format ".concat(e):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,M.KEY_LOAD_ERROR,o))}var a=i.uri;if(!a)return Promise.reject(this.createKeyLoadError(t,M.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(a,'"'))));var s,u=this.keyUriToKeyInfo[a];if(null!=(n=u)&&n.decryptdata.key)return i.key=u.decryptdata.key,Promise.resolve({frag:t,keyInfo:u});if(null!=(r=u)&&r.keyLoadPromise)switch(null==(s=u.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return u.keyLoadPromise.then((function(e){return i.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:u}}))}switch(u=this.keyUriToKeyInfo[a]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(u,t):this.loadKeyEME(u,t);case"AES-128":return this.loadKeyHTTP(u,t);default:return Promise.reject(this.createKeyLoadError(t,M.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(i.method,'"'))))}}},{key:"loadKeyEME",value:function(t,e){var n={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var r=this.emeController.loadKey(n);if(r)return(t.keyLoadPromise=r.then((function(e){return t.mediaKeySessionContext=e,n}))).catch((function(e){throw t.keyLoadPromise=null,e}))}return Promise.resolve(n)}},{key:"loadKeyHTTP",value:function(t,e){var n=this,r=this.config,i=new(0,r.loader)(r);return e.keyLoader=t.loader=i,t.keyLoadPromise=new Promise((function(o,a){var s={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},u=r.keyLoadPolicy.default,l={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(t,e,r,i){var s=r.frag,u=r.keyInfo,l=r.url;if(!s.decryptdata||u!==n.keyUriToKeyInfo[l])return a(n.createKeyLoadError(s,M.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));u.decryptdata.key=s.decryptdata.key=new Uint8Array(t.data),s.keyLoader=null,u.loader=null,o({frag:s,keyInfo:u})},onError:function(t,r,i,o){n.resetLoader(r),a(n.createKeyLoadError(e,M.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(t.code," loading key ").concat(t.text)),i,S({url:s.url,data:void 0},t)))},onTimeout:function(t,r,i){n.resetLoader(r),a(n.createKeyLoadError(e,M.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:function(t,r,i){n.resetLoader(r),a(n.createKeyLoadError(e,M.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};i.load(s,l,c)}))}},{key:"resetLoader",value:function(t){var e=t.frag,n=t.keyInfo,r=t.url,i=n.loader;e.keyLoader===i&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}]),t}(),In=function(){function t(){Object(p.a)(this,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}return Object(g.a)(t,[{key:"destroy",value:function(){this.onHandlerDestroying(),this.onHandlerDestroyed()}},{key:"onHandlerDestroying",value:function(){this.clearNextTick(),this.clearInterval()}},{key:"onHandlerDestroyed",value:function(){}},{key:"hasInterval",value:function(){return!!this._tickInterval}},{key:"hasNextTick",value:function(){return!!this._tickTimer}},{key:"setInterval",value:function(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}},{key:"clearInterval",value:function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}},{key:"clearNextTick",value:function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}},{key:"tick",value:function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}},{key:"tickImmediate",value:function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}},{key:"doTick",value:function(){}}]),t}(),Cn={length:0,start:function(){return 0},end:function(){return 0}},Ln=function(){function t(){Object(p.a)(this,t)}return Object(g.a)(t,null,[{key:"isBuffered",value:function(e,n){try{if(e)for(var r=t.getBuffered(e),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(o){}return!1}},{key:"bufferInfo",value:function(e,n,r){try{if(e){var i,o=t.getBuffered(e),a=[];for(i=0;i<o.length;i++)a.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(a,n,r)}}catch(s){}return{len:0,start:n,end:n,nextStart:void 0}}},{key:"bufferedInfo",value:function(t,e,n){e=Math.max(0,e),t.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end}));var r=[];if(n)for(var i=0;i<t.length;i++){var o=r.length;if(o){var a=r[o-1].end;t[i].start-a<n?t[i].end>a&&(r[o-1].end=t[i].end):r.push(t[i])}else r.push(t[i])}else r=t;for(var s,u=0,l=e,c=e,f=0;f<r.length;f++){var h=r[f].start,d=r[f].end;if(e+n>=h&&e<d)l=h,u=(c=d)-e;else if(e+n<h){s=h;break}}return{len:u,start:l||0,end:c||0,nextStart:s}}},{key:"getBuffered",value:function(t){try{return t.buffered}catch(e){return D.log("failed to get media.buffered",e),Cn}}}]),t}(),Dn=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(p.a)(this,t),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=o,this.partial=a};function On(t,e){for(var n=null,r=0,i=t.length;r<i;r++){var o=t[r];if(o&&o.cc===e){n=o;break}}return n}function Pn(t,e){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function Nn(t,e){for(var n=e.fragments,r=0,i=n.length;r<i;r++)Pn(n[r],t);e.fragmentHint&&Pn(e.fragmentHint,t),e.alignedSliding=!0}function jn(t,e,n){e&&(!function(t,e,n){if(function(t,e,n){return!(!e.details||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){var r=function(t,e){var n=t.fragments,r=e.fragments;if(r.length&&n.length){var i=On(n,r[0].cc);if(i&&(!i||i.startPTS))return i;D.log("No frag in previous level to align on")}else D.log("No fragments to align")}(n.details,e);r&&_(r.start)&&(D.log("Adjusting PTS using last level due to CC increase within current level ".concat(e.url)),Nn(r.start,e))}}(t,n,e),!n.alignedSliding&&e.details&&function(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;var n=e.fragments[0].programDateTime,r=t.fragments[0].programDateTime,i=(r-n)/1e3+e.fragments[0].start;i&&_(i)&&(D.log("Adjusting PTS using programDateTime delta ".concat(r-n,"ms, sliding:").concat(i.toFixed(3)," ").concat(t.url," ")),Nn(i,t))}(n,e.details),n.alignedSliding||!e.details||n.skippedSegments||Ve(e.details,n))}function Bn(t,e){if(t.hasProgramDateTime&&e.hasProgramDateTime){var n=t.fragments,r=e.fragments;if(n.length&&r.length){var i=r[Math.round(r.length/2)-1],o=On(n,i.cc)||n[Math.round(n.length/2)-1],a=i.programDateTime,s=o.programDateTime;if(null!==a&&null!==s)Nn((s-a)/1e3-(o.start-i.start),t)}}}var Fn=function(){function t(e,n){Object(p.a)(this,t),this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}return Object(g.a)(t,[{key:"decrypt",value:function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}]),t}(),Un=function(){function t(e,n){Object(p.a)(this,t),this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}return Object(g.a)(t,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),t}();var Hn=function(){function t(){Object(p.a)(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}return Object(g.a)(t,[{key:"uint8ArrayToUint32Array_",value:function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n}},{key:"initTable",value:function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],h=new Uint32Array(256),d=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[d]=v,e[v]=d;var m=h[d],y=h[m],b=h[y],w=257*h[v]^16843008*v;r[d]=w<<24|w>>>8,i[d]=w<<16|w>>>16,o[d]=w<<8|w>>>24,a[d]=w,w=16843009*b^65537*y^257*m^16843008*d,u[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,c[v]=w<<8|w>>>24,f[v]=w,d?(d=m^h[h[h[b^m]]],p^=h[h[p]]):d=p=1}}},{key:"expandKey",value:function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),h=this.sBox,d=this.rcon,p=this.invSubMix,g=p[0],v=p[1],m=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=e[o]:(u=s,o%i===0?(u=h[(u=u<<8|u>>>24)>>>24]<<24|h[u>>>16&255]<<16|h[u>>>8&255]<<8|h[255&u],u^=d[o/i|0]<<24):i>6&&o%i===4&&(u=h[u>>>24]<<24|h[u>>>16&255]<<16|h[u>>>8&255]<<8|h[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:g[h[u>>>24]]^v[h[u>>>16&255]]^m[h[u>>>8&255]]^y[h[255&u]],f[a]=f[a]>>>0}}},{key:"networkToHostOrderSwap",value:function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}},{key:"decrypt",value:function(t,e,n){for(var r,i,o,a,s,u,l,c,f,h,d,p,g,v,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,w=this.invSubMix,S=w[0],T=w[1],E=w[2],_=w[3],k=this.uint8ArrayToUint32Array_(n),x=k[0],M=k[1],A=k[2],R=k[3],I=new Int32Array(t),C=new Int32Array(I.length),L=this.networkToHostOrderSwap;e<I.length;){for(f=L(I[e]),h=L(I[e+1]),d=L(I[e+2]),p=L(I[e+3]),s=f^y[0],u=p^y[1],l=d^y[2],c=h^y[3],g=4,v=1;v<m;v++)r=S[s>>>24]^T[u>>16&255]^E[l>>8&255]^_[255&c]^y[g],i=S[u>>>24]^T[l>>16&255]^E[c>>8&255]^_[255&s]^y[g+1],o=S[l>>>24]^T[c>>16&255]^E[s>>8&255]^_[255&u]^y[g+2],a=S[c>>>24]^T[s>>16&255]^E[u>>8&255]^_[255&l]^y[g+3],s=r,u=i,l=o,c=a,g+=4;r=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[g],i=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[g+1],o=b[l>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&u]^y[g+2],a=b[c>>>24]<<24^b[s>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^y[g+3],C[e]=L(r^x),C[e+1]=L(a^M),C[e+2]=L(o^A),C[e+3]=L(i^R),x=f,M=h,A=d,R=p,e+=4}return C.buffer}}]),t}(),Kn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.removePKCS7Padding,i=void 0===r||r;if(Object(p.a)(this,t),this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=i,i)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}null===this.subtle&&(this.useSoftware=!0)}return Object(g.a)(t,[{key:"destroy",value:function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}},{key:"isSync",value:function(){return this.useSoftware}},{key:"flush",value:function(){var t=this.currentResult,e=this.remainderData;if(!t||e)return this.reset(),null;var n=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){var e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?at(t,0,e-n):t}(n):n}},{key:"reset",value:function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}},{key:"decrypt",value:function(t,e,n){var r=this;return this.useSoftware?new Promise((function(i,o){r.softwareDecrypt(new Uint8Array(t),e,n);var a=r.flush();a?i(a.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,n)}},{key:"softwareDecrypt",value:function(t,e,n){var r=this.currentIV,i=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(t=jt(o,t),this.remainderData=null);var a=this.getValidChunk(t);if(!a.length)return null;r&&(n=r);var s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Hn),s.expandKey(e);var u=i;return this.currentResult=s.decrypt(a.buffer,0,n),this.currentIV=at(a,-16).buffer,u||null}},{key:"webCryptoDecrypt",value:function(t,e,n){var r=this,i=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new Un(i,e)),this.fastAesKey.expandKey().then((function(e){return i?(r.logOnce("WebCrypto AES decrypt"),new Fn(i,new Uint8Array(n)).decrypt(t.buffer,e)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(i){return D.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(i.name,": ").concat(i.message)),r.onWebCryptoError(t,e,n)}))}},{key:"onWebCryptoError",value:function(t,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,n);var r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}},{key:"getValidChunk",value:function(t){var e=t,n=t.length-t.length%16;return n!==t.length&&(e=at(t,0,n),this.remainderData=at(t,n)),e}},{key:"logOnce",value:function(t){this.logEnabled&&(D.log("[decrypter]: ".concat(t)),this.logEnabled=!1)}}]),t}(),Gn=function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="[".concat(t.start(r).toFixed(3),"-").concat(t.end(r).toFixed(3),"]");return e},qn="STOPPED",Vn="IDLE",zn="KEY_LOADING",Wn="FRAG_LOADING",Yn="FRAG_LOADING_WAITING_RETRY",Xn="WAITING_TRACK",$n="PARSING",Zn="PARSED",Jn="ENDED",Qn="ERROR",tr="WAITING_INIT_PTS",er="WAITING_LEVEL",nr=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r,i,o,a){var u;return Object(p.a)(this,n),(u=e.call(this)).hls=void 0,u.fragPrevious=null,u.fragCurrent=null,u.fragmentTracker=void 0,u.transmuxer=null,u._state=qn,u.playlistType=void 0,u.media=null,u.mediaBuffer=null,u.config=void 0,u.bitrateTest=!1,u.lastCurrentTime=0,u.nextLoadPosition=0,u.startPosition=0,u.startTimeOffset=null,u.loadedmetadata=!1,u.retryDate=0,u.levels=null,u.fragmentLoader=void 0,u.keyLoader=void 0,u.levelLastLoaded=null,u.startFragRequested=!1,u.decrypter=void 0,u.initPTS=[],u.onvseeking=null,u.onvended=null,u.logPrefix="",u.log=void 0,u.warn=void 0,u.playlistType=a,u.logPrefix=o,u.log=D.log.bind(D,"".concat(o,":")),u.warn=D.warn.bind(D,"".concat(o,":")),u.hls=t,u.fragmentLoader=new kn(t.config),u.keyLoader=i,u.fragmentTracker=r,u.config=t.config,u.decrypter=new Kn(t.config),t.on(k.MANIFEST_LOADED,u.onManifestLoaded,Object(s.a)(u)),u}return Object(g.a)(n,[{key:"doTick",value:function(){this.onTickEnd()}},{key:"onTickEnd",value:function(){}},{key:"startLoad",value:function(t){}},{key:"stopLoad",value:function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qn}},{key:"_streamEnded",value:function(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;var n=e.partList;if(null!=n&&n.length){var r=n[n.length-1];return Ln.isBuffered(this.media,r.start+r.duration/2)}var i=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}},{key:"getLevelDetails",value:function(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levels[this.levelLastLoaded])?void 0:t.details}},{key:"onMediaAttached",value:function(t,e){var n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===qn&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},{key:"onMediaSeeking",value:function(){var t=this.config,e=this.fragCurrent,n=this.media,r=this.mediaBuffer,i=this.state,o=n?n.currentTime:0,a=Ln.bufferInfo(r||n,o,t.maxBufferHole);if(this.log("media seeking to ".concat(_(o)?o.toFixed(3):o,", state: ").concat(i)),this.state===Jn)this.resetLoadingState();else if(e){var s=t.maxFragLookUpTolerance,u=e.start-s,l=e.start+e.duration+s;if(!a.len||l<a.start||u>a.end){var c=o>l;(o<u||c)&&(c&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoaded",value:function(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}},{key:"onHandlerDestroying",value:function(){this.stopLoad(),Object(l.a)(Object(c.a)(n.prototype),"onHandlerDestroying",this).call(this)}},{key:"onHandlerDestroyed",value:function(){this.state=qn,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,Object(l.a)(Object(c.a)(n.prototype),"onHandlerDestroyed",this).call(this)}},{key:"loadFragment",value:function(t,e,n){this._loadFragForPlayback(t,e,n)}},{key:"_loadFragForPlayback",value:function(t,e,n){var r=this;this._doFragLoad(t,e,n,(function(e){if(r.fragContextChanged(t))return r.warn("Fragment ".concat(t.sn).concat(e.part?" p: "+e.part.index:""," of level ").concat(t.level," was dropped during download.")),void r.fragmentTracker.removeFragment(t);t.stats.chunkCount++,r._handleFragmentLoadProgress(e)})).then((function(e){if(e){var n=r.state;r.fragContextChanged(t)?(n===Wn||!r.fragCurrent&&n===$n)&&(r.fragmentTracker.removeFragment(t),r.state=Vn):("payload"in e&&(r.log("Loaded fragment ".concat(t.sn," of level ").concat(t.level)),r.hls.trigger(k.FRAG_LOADED,e)),r._handleFragmentLoadComplete(e))}})).catch((function(e){r.state!==qn&&r.state!==Qn&&(r.warn(e),r.resetFragmentLoading(t))}))}},{key:"clearTrackerIfNeeded",value:function(t){var e,n=this.fragmentTracker;if(n.getState(t)===yn){var r=t.type,i=this.getFwdBufferInfo(this.mediaBuffer,r),o=Math.max(t.duration,i?i.len:this.config.maxBufferLength);this.reduceMaxBufferLength(o)&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===bn&&n.removeFragment(t))}},{key:"checkLiveUpdate",value:function(t){if(t.updated&&!t.live){var e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}},{key:"flushMainBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t-e){var r={startOffset:t,endOffset:e,type:n};this.hls.trigger(k.BUFFER_FLUSHING,r)}}},{key:"_loadInitSegment",value:function(t,e){var n=this;this._doFragLoad(t,e).then((function(e){if(!e||n.fragContextChanged(t)||!n.levels)throw new Error("init load aborted");return e})).then((function(e){var r=n.hls,i=e.payload,o=t.decryptdata;if(i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return n.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch((function(e){throw r.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((function(n){var i=self.performance.now();return r.trigger(k.FRAG_DECRYPTED,{frag:t,payload:n,stats:{tstart:a,tdecrypt:i}}),e.payload=n,e}))}return e})).then((function(r){var i=n.fragCurrent,o=n.hls;if(!n.levels)throw new Error("init load aborted, missing levels");var a=t.stats;n.state=Vn,e.fragmentError=0,t.data=new Uint8Array(r.payload),a.parsing.start=a.buffering.start=self.performance.now(),a.parsing.end=a.buffering.end=self.performance.now(),r.frag===i&&o.trigger(k.FRAG_BUFFERED,{stats:a,frag:i,part:null,id:t.type}),n.tick()})).catch((function(e){n.state!==qn&&n.state!==Qn&&(n.warn(e),n.resetFragmentLoading(t))}))}},{key:"fragContextChanged",value:function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId}},{key:"fragBufferedComplete",value:function(t,e){var n,r,i,o,a=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered ".concat(t.type," sn: ").concat(t.sn).concat(e?" part: "+e.index:""," of ").concat(this.playlistType===ye?"level":"track"," ").concat(t.level," (frag:[").concat((null!=(n=t.startPTS)?n:NaN).toFixed(3),"-").concat((null!=(r=t.endPTS)?r:NaN).toFixed(3),"] > buffer:").concat(a?Gn(Ln.getBuffered(a)):"(detached)",")")),this.state=Vn,a&&(!this.loadedmetadata&&t.type==ye&&a.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(o=this.fragPrevious)?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}},{key:"seekToStartPos",value:function(){}},{key:"_handleFragmentLoadComplete",value:function(t){var e=this.transmuxer;if(e){var n=t.frag,r=t.part,i=t.partsLoaded,o=!i||0===i.length||i.some((function(t){return!t})),a=new Dn(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);e.flush(a)}}},{key:"_handleFragmentLoadProgress",value:function(t){}},{key:"_doFragLoad",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,s=null==e?void 0:e.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level".concat(s?"":" detail","s"));var u=null;if(!t.encrypted||null!=(n=t.decryptdata)&&n.key?!t.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(t,s.encryptedFragments):(this.log("Loading key for ".concat(t.sn," of [").concat(s.startSN,"-").concat(s.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(t.level)),this.state=zn,this.fragCurrent=t,u=this.keyLoader.load(t).then((function(t){if(!r.fragContextChanged(t.frag))return r.hls.trigger(k.KEY_LOADED,t),r.state===zn&&(r.state=Vn),t})),this.hls.trigger(k.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(u=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(t.start,i||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){var l=s.partList;if(l&&o){i>t.end&&s.fragmentHint&&(t=s.fragmentHint);var c=this.getNextPart(l,t,i);if(c>-1){var f,h=l[c];return this.log("Loading part sn: ".concat(t.sn," p: ").concat(h.index," cc: ").concat(t.cc," of playlist [").concat(s.startSN,"-").concat(s.endSN,"] parts [0-").concat(c,"-").concat(l.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(t.level,", target: ").concat(parseFloat(i.toFixed(3)))),this.nextLoadPosition=h.start+h.duration,this.state=Wn,f=u?u.then((function(n){return!n||r.fragContextChanged(n.frag)?null:r.doFragPartsLoad(t,h,e,o)})).catch((function(t){return r.handleFragLoadError(t)})):this.doFragPartsLoad(t,h,e,o).catch((function(t){return r.handleFragLoadError(t)})),this.hls.trigger(k.FRAG_LOADING,{frag:t,part:h,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):f}if(!t.url||this.loadedEndOfParts(l,i))return Promise.resolve(null)}}this.log("Loading fragment ".concat(t.sn," cc: ").concat(t.cc," ").concat(s?"of ["+s.startSN+"-"+s.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(t.level,", target: ").concat(parseFloat(i.toFixed(3)))),_(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Wn;var d,p=this.config.progressive;return d=p&&u?u.then((function(e){return!e||r.fragContextChanged(null==e?void 0:e.frag)?null:r.fragmentLoader.load(t,o)})).catch((function(t){return r.handleFragLoadError(t)})):Promise.all([this.fragmentLoader.load(t,p?o:void 0),u]).then((function(t){var e=a(t,1)[0];return!p&&e&&o&&o(e),e})).catch((function(t){return r.handleFragLoadError(t)})),this.hls.trigger(k.FRAG_LOADING,{frag:t,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}},{key:"doFragPartsLoad",value:function(t,e,n,r){var i=this;return new Promise((function(o,a){var s,u=[],l=null==(s=n.details)?void 0:s.partList;!function e(s){i.fragmentLoader.loadPart(t,s,r).then((function(r){u[s.index]=r;var a=r.part;i.hls.trigger(k.FRAG_LOADED,r);var c=We(n,t.sn,s.index+1)||Ye(l,t.sn,s.index+1);if(!c)return o({frag:t,part:a,partsLoaded:u});e(c)})).catch(a)}(e)}))}},{key:"handleFragLoadError",value:function(t){if("data"in t){var e=t.data;t.data&&e.details===M.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(k.ERROR,e)}else this.hls.trigger(k.ERROR,{type:x.OTHER_ERROR,details:M.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}},{key:"_handleTransmuxerFlush",value:function(t){var e=this.getCurrentContext(t);if(e&&this.state===$n){var n=e.frag,r=e.part,i=e.level,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,t.partial)}else this.fragCurrent||this.state===qn||this.state===Qn||(this.state=Vn)}},{key:"getCurrentContext",value:function(t){var e=this.levels,n=this.fragCurrent,r=t.level,i=t.sn,o=t.part;if(null==e||!e[r])return this.warn("Levels object was unset while buffering fragment ".concat(i," of level ").concat(r,". The current chunk will not be buffered.")),null;var a=e[r],s=o>-1?We(a,i,o):null,u=s?s.fragment:function(t,e,n){if(null==t||!t.details)return null;var r=t.details,i=r.fragments[e-r.startSN];return i||((i=r.fragmentHint)&&i.sn===e?i:e<r.startSN&&n&&n.sn===e?n:null)}(a,i,n);return u?(n&&n!==u&&(u.stats=n.stats),{frag:u,part:s,level:a}):null}},{key:"bufferFragmentData",value:function(t,e,n,r,i){var o;if(t&&this.state===$n){var a=t.data1,s=t.data2,u=a;if(a&&s&&(u=jt(a,s)),null!=(o=u)&&o.length){var l={type:t.type,frag:e,part:n,chunkMeta:r,parent:e.type,data:u};if(this.hls.trigger(k.BUFFER_APPENDING,l),t.dropped&&t.independent&&!n){if(i)return;this.flushBufferGap(e)}}}}},{key:"flushBufferGap",value:function(t){var e=this.media;if(e)if(Ln.isBuffered(e,e.currentTime)){var n=e.currentTime,r=Ln.bufferInfo(e,n,0),i=t.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),a=Math.max(Math.min(t.start-o,r.end-o),n+o);t.start-a>o&&this.flushMainBuffer(a,t.start)}else this.flushMainBuffer(0,t.start)}},{key:"getFwdBufferInfo",value:function(t,e){var n=this.getLoadPosition();return _(n)?this.getFwdBufferInfoAtPos(t,n,e):null}},{key:"getFwdBufferInfoAtPos",value:function(t,e,n){var r=this.config.maxBufferHole,i=Ln.bufferInfo(t,e,r);if(0===i.len&&void 0!==i.nextStart){var o=this.fragmentTracker.getBufferedFrag(e,n);if(o&&i.nextStart<o.end)return Ln.bufferInfo(t,e,Math.max(i.nextStart,r))}return i}},{key:"getMaxBufferLength",value:function(t){var e,n=this.config;return e=t?Math.max(8*n.maxBufferSize/t,n.maxBufferLength):n.maxBufferLength,Math.min(e,n.maxMaxBufferLength)}},{key:"reduceMaxBufferLength",value:function(t){var e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(e.maxMaxBufferLength,"s")),!0)}},{key:"getAppendedFrag",value:function(t){var e=this.fragmentTracker.getAppendedFrag(t,ye);return e&&"fragment"in e?e.fragment:e}},{key:"getNextFragment",value:function(t,e){var n=e.fragments,r=n.length;if(!r)return null;var i,o=this.config,a=n[0].start;if(e.live){var s=o.initialLiveManifestSize;if(r<s)return this.warn("Not enough fragments to start playback (have: ".concat(r,", need: ").concat(s,")")),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(i=this.getInitialLiveFragment(e,n),this.startPosition=i?this.hls.liveSyncPosition||i.start:t)}else t<=a&&(i=n[0]);if(!i){var u=o.lowLatencyMode?e.partEnd:e.fragmentEnd;i=this.getFragmentAtPosition(t,u,e)}return this.mapToInitFragWhenRequired(i)}},{key:"isLoopLoading",value:function(t,e){var n=this.fragmentTracker.getState(t);return(n===wn||n===bn&&!!t.gap)&&this.nextLoadPosition>e}},{key:"getNextFragmentLoopLoading",value:function(t,e,n,r,i){var o=t.gap,a=this.getNextFragment(this.nextLoadPosition,e);if(null===a)return a;if(t=a,o&&t&&!t.gap&&n.nextStart){var s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==s&&n.len+s.len>=i)return this.log('buffer full after gaps in "'.concat(r,'" playlist starting at sn: ').concat(t.sn)),null}return t}},{key:"mapToInitFragWhenRequired",value:function(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}},{key:"getNextPart",value:function(t,e,n){for(var r=-1,i=!1,o=!0,a=0,s=t.length;a<s;a++){var u=t[a];if(o=o&&!u.independent,r>-1&&n<u.start)break;var l=u.loaded;l?r=-1:(i||u.independent||o)&&u.fragment===e&&(r=a),i=l}return r}},{key:"loadedEndOfParts",value:function(t,e){var n=t[t.length-1];return n&&e>n.start&&n.loaded}},{key:"getInitialLiveFragment",value:function(t,e){var n=this.fragPrevious,r=null;if(n){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(n.programDateTime)),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!_(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<t.length;++r){var i=t[r];if(rn(e,n,i))return i}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=t.startSN&&i<=t.endSN){var o=e[i-t.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(r.sn)))}r||(r=function(t,e){return tn(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}(e,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(r.sn))}}else{var a=this.hls.liveSyncPosition;null!==a&&(r=this.getFragmentAtPosition(a,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r}},{key:"getFragmentAtPosition",value:function(t,e,n){var r,i=this.config,o=this.fragPrevious,a=n.fragments,s=n.endSN,u=n.fragmentHint,l=i.maxFragLookUpTolerance,c=n.partList,f=!!(i.lowLatencyMode&&null!=c&&c.length&&u);(f&&u&&!this.bitrateTest&&(a=a.concat(u),s=u.sn),t<e)?r=en(o,a,t,t>e-l?0:l):r=a[a.length-1];if(r){var h=r.sn-n.startSN,d=this.fragmentTracker.getState(r);if((d===wn||d===bn&&r.gap)&&(o=r),o&&r.sn===o.sn&&(!f||c[0].fragment.sn>r.sn))if(o&&r.level===o.level){var p=a[h+1];r=r.sn<s&&this.fragmentTracker.getState(p)!==wn?p:null}}return r}},{key:"synchronizeToLiveEdge",value:function(t){var e=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,o=t.fragments[0].start,a=t.edge,s=i>=o-e.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){var u=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&n.readyState<4||i<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: ".concat(i.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(a,", reset currentTime to : ").concat(r.toFixed(3))),n.currentTime=r))}}}},{key:"alignPlaylists",value:function(t,e){var n=this.levels,r=this.levelLastLoaded,i=this.fragPrevious,o=null!==r?n[r]:null,a=t.fragments.length;if(!a)return this.warn("No fragments in live playlist"),0;var s=t.fragments[0].start,u=!e,l=t.alignedSliding&&_(s);if(u||!l&&!s){jn(i,o,t);var c=t.fragments[0].start;return this.log("Live playlist sliding: ".concat(c.toFixed(2)," start-sn: ").concat(e?e.startSN:"na","->").concat(t.startSN," prev-sn: ").concat(i?i.sn:"na"," fragments: ").concat(a)),c}return s}},{key:"waitForCdnTuneIn",value:function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}},{key:"setStartPosition",value:function(t,e){var n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){var r=null!==this.startTimeOffset,i=r?this.startTimeOffset:t.startTimeOffset;null!==i&&_(i)?(n=e+i,i<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log("Start time offset ".concat(i," found in ").concat(r?"multivariant":"media"," playlist, adjust startPosition to ").concat(n)),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}},{key:"getLoadPosition",value:function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}},{key:"handleFragLoadAborted",value:function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment ".concat(t.sn).concat(e?" part "+e.index:""," of level ").concat(t.level," was aborted")),this.resetFragmentLoading(t))}},{key:"resetFragmentLoading",value:function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===Yn)||(this.state=Vn)}},{key:"onFragmentOrKeyLoadError",value:function(t,e){if(e.chunkMeta&&!e.frag){var n=this.getCurrentContext(e.chunkMeta);n&&(e.frag=n.frag)}var r=e.frag;if(r&&r.type===t&&this.levels)if(this.fragContextChanged(r)){var i;this.warn("Frag load error must match current frag to retry ".concat(r.url," > ").concat(null==(i=this.fragCurrent)?void 0:i.url))}else{var o=e.details===M.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(r,!0);var a=e.errorAction,s=a||{},u=s.action,l=s.retryCount,c=void 0===l?0:l,f=s.retryConfig;if(a&&u===sn&&f){var h;this.resetStartWhenNotLoaded(null!=(h=this.levelLastLoaded)?h:r.level);var d=Ze(f,c);this.warn("Fragment ".concat(r.sn," of ").concat(t," ").concat(r.level," errored with ").concat(e.details,", retrying loading ").concat(c+1,"/").concat(f.maxNumRetry," in ").concat(d,"ms")),a.resolved=!0,this.retryDate=self.performance.now()+d,this.state=Yn}else f&&a?(this.resetFragmentErrors(t),c<f.maxNumRetry?o||(a.resolved=!0):D.warn("".concat(e.details," reached or exceeded max retry (").concat(c,")"))):(null==a?void 0:a.action)===an?this.state=er:this.state=Qn;this.tickImmediate()}}},{key:"reduceLengthAndFlushBuffer",value:function(t){if(this.state===$n||this.state===Zn){var e=t.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);var i=!r;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(e," buffer")),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),i}return!1}},{key:"resetFragmentErrors",value:function(t){t===be&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==qn&&(this.state=Vn)}},{key:"afterBufferFlushed",value:function(t,e,n){if(t){var r=Ln.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,r,n),this.state===Jn&&this.resetLoadingState()}}},{key:"resetLoadingState",value:function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Vn}},{key:"resetStartWhenNotLoaded",value:function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}},{key:"resetWhenMissingContext",value:function(t){var e;this.warn("The loading context changed while buffering fragment ".concat(t.sn," of level ").concat(t.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:t.level),this.resetLoadingState()}},{key:"removeUnbufferedFrags",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}},{key:"updateLevelTiming",value:function(t,e,n,r){var i,o=this,a=n.details;if(a){if(Object.keys(t.elementaryStreams).reduce((function(e,i){var s=t.elementaryStreams[i];if(s){var u=s.endPTS-s.startPTS;if(u<=0)return o.warn("Could not parse fragment ".concat(t.sn," ").concat(i," duration reliably (").concat(u,")")),e||!1;var l=r?0:Ge(a,t,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return o.hls.trigger(k.LEVEL_PTS_UPDATED,{details:a,level:n,drift:l,type:i,frag:t,start:s.startPTS,end:s.endPTS}),!0}return e}),!1))n.fragmentError=0;else if(null===(null==(i=this.transmuxer)?void 0:i.error)){var s=new Error("Found no media in fragment ".concat(t.sn," of level ").concat(t.level," resetting transmuxer to fallback to playlist timing"));if(0===n.fragmentError&&(n.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)),this.warn(s.message),this.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,error:s,frag:t,reason:"Found no media in msn ".concat(t.sn,' of level "').concat(n.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=Zn,this.hls.trigger(k.FRAG_PARSED,{frag:t,part:e})}else this.warn("level.details undefined")}},{key:"resetTransmuxer",value:function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}},{key:"recoverWorkerError",value:function(t){var e,n,r;"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(n=this.levelLastLoaded)?n:null==(r=this.fragCurrent)?void 0:r.level)?e:0),this.resetLoadingState())}},{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log("".concat(e,"->").concat(t)))}}]),n}(In);function rr(){return self.SourceBuffer||self.WebKitSourceBuffer}function ir(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}var or=function(){function t(){Object(p.a)(this,t),this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}return Object(g.a)(t,[{key:"resetInitSegment",value:function(t,e,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}},{key:"resetTimeStamp",value:function(t){this.initPTS=t,this.resetContiguity()}},{key:"resetContiguity",value:function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}},{key:"canParse",value:function(t,e){return!1}},{key:"appendFrame",value:function(t,e,n){}},{key:"demux",value:function(t,e){this.cachedData&&(t=jt(this.cachedData,t),this.cachedData=null);var n,r=ct(t,0),i=r?r.length:0,o=this._audioTrack,a=this._id3Track,s=r?function(t){for(var e=gt(t),n=0;n<e.length;n++){var r=e[n];if(dt(r))return wt(r)}}(r):void 0,u=t.length;for((null===this.basePTS||0===this.frameIndex&&_(s))&&(this.basePTS=ar(s,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ae,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(t,i)){var l=this.appendFrame(o,t,i);l?(this.frameIndex++,this.lastPTS=l.sample.pts,n=i+=l.length):i=u}else ht(t,i)?(r=ct(t,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ae,duration:Number.POSITIVE_INFINITY}),n=i+=r.length):i++;if(i===u&&n!==u){var c=at(t,n);this.cachedData?this.cachedData=jt(this.cachedData,c):this.cachedData=c}}return{audioTrack:o,videoTrack:ir(),id3Track:a,textTrack:ir()}}},{key:"demuxSampleAes",value:function(t,e,n){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}},{key:"flush",value:function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:ir(),id3Track:this._id3Track,textTrack:ir()}}},{key:"destroy",value:function(){}}]),t}(),ar=function(t,e,n){return _(t)?90*t:9e4*e+(n?9e4*n.baseTime/n.timescale:0)};function sr(t,e){return 255===t[e]&&240===(246&t[e+1])}function ur(t,e){return 1&t[e+1]?7:9}function lr(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function cr(t,e){return e+1<t.length&&sr(t,e)}function fr(t,e){if(cr(t,e)){var n=ur(t,e);if(e+n>=t.length)return!1;var r=lr(t,e);if(r<=n)return!1;var i=e+r;return i===t.length||cr(t,i)}return!1}function hr(t,e,n,r,i){if(!t.samplerate){var o=function(t,e,n,r){var i,o,a,s,u=navigator.userAgent.toLowerCase(),l=r,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&e[n+2])>>>6);var f=(60&e[n+2])>>>2;if(!(f>c.length-1))return a=(1&e[n+2])<<2,a|=(192&e[n+3])>>>6,D.log("manifest codec:".concat(r,", ADTS type:").concat(i,", samplingIndex:").concat(f)),/firefox/i.test(u)?f>=6?(i=5,s=new Array(4),o=f-3):(i=2,s=new Array(2),o=f):-1!==u.indexOf("android")?(i=2,s=new Array(2),o=f):(i=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&f>=6?o=f-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(f>=6&&1===a||/vivaldi/i.test(u))||!r&&1===a)&&(i=2,s=new Array(2)),o=f)),s[0]=i<<3,s[0]|=(14&f)>>1,s[1]|=(1&f)<<7,s[1]|=a<<3,5===i&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[f],channelCount:a,codec:"mp4a.40."+i,manifestCodec:l};t.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:".concat(f)})}(e,n,r,i);if(!o)return;t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,D.log("parsed codec:".concat(t.codec,", rate:").concat(o.samplerate,", channels:").concat(o.channelCount))}}function dr(t){return 9216e4/t}function pr(t,e,n,r,i){var o,a=r+i*dr(t.samplerate),s=function(t,e){var n=ur(t,e);if(e+n<=t.length){var r=lr(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}(e,n);if(s){var u=s.frameLength,l=s.headerLength,c=l+u,f=Math.max(0,n+c-e.length);f?(o=new Uint8Array(c-l)).set(e.subarray(n+l,e.length),0):o=e.subarray(n+l,n+c);var h={unit:o,pts:a};return f||t.samples.push(h),{sample:h,length:c,missing:f}}var d=e.length-n;return(o=new Uint8Array(d)).set(e.subarray(n,e.length),0),{sample:{unit:o,pts:a},length:d,missing:-1}}var gr=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(p.a)(this,n),(i=e.call(this)).observer=void 0,i.config=void 0,i.observer=t,i.config=r,i}return Object(g.a)(n,[{key:"resetInitSegment",value:function(t,e,r,i){Object(l.a)(Object(c.a)(n.prototype),"resetInitSegment",this).call(this,t,e,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&sr(t,e)&&lr(t,e)<=t.length-e}(t,e)}},{key:"appendFrame",value:function(t,e,n){hr(t,this.observer,e,n,t.manifestCodec);var r=pr(t,e,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}}],[{key:"probe",value:function(t){if(!t)return!1;for(var e=(ct(t,0)||[]).length,n=t.length;e<n;e++)if(fr(t,e))return D.log("ADTS sync word found !"),!0;return!1}}]),n}(or),vr=/\/emsg[-/]ID3/i,mr=function(){function t(e,n){Object(p.a)(this,t),this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}return Object(g.a)(t,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(t,e,n,r){var i=this.videoTrack=ir("video",1),o=this.audioTrack=ir("audio",1),a=this.txtTrack=ir("text",1);if(this.id3Track=ir("id3",1),this.timeOffset=0,null!=t&&t.byteLength){var s=Ot(t);if(s.video){var u=s.video,l=u.id,c=u.timescale,f=u.codec;i.id=l,i.timescale=a.timescale=c,i.codec=f}if(s.audio){var h=s.audio,d=h.id,p=h.timescale,g=h.codec;o.id=d,o.timescale=p,o.codec=g}a.id=xt.text,i.sampleDuration=0,i.duration=o.duration=r}}},{key:"resetContiguity",value:function(){this.remainderData=null}},{key:"demux",value:function(t,e){this.timeOffset=e;var n=t,r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=jt(this.remainderData,t));var o=function(t){var e={valid:null,remainder:null},n=Lt(t,["moof"]);if(!n)return e;if(n.length<2)return e.remainder=t,e;var r=n[n.length-1];return e.valid=at(t,0,r.byteOffset-8),e.remainder=at(t,r.byteOffset-8),e}(n);this.remainderData=o.remainder,r.samples=o.valid||new Uint8Array}else r.samples=n;var a=this.extractID3Track(r,e);return i.samples=Bt(e,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}},{key:"flush",value:function(){var t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(e,this.timeOffset);return n.samples=Bt(t,e),{videoTrack:e,audioTrack:ir(),id3Track:r,textTrack:ir()}}},{key:"extractID3Track",value:function(t,e){var n=this.id3Track;if(t.samples.length){var r=Lt(t.samples,["emsg"]);r&&r.forEach((function(t){var r=function(t){var e=t[0],n="",r="",i=0,o=0,a=0,s=0,u=0,l=0;if(0===e){for(;"\0"!==Mt(t.subarray(l,l+1));)n+=Mt(t.subarray(l,l+1)),l+=1;for(n+=Mt(t.subarray(l,l+1)),l+=1;"\0"!==Mt(t.subarray(l,l+1));)r+=Mt(t.subarray(l,l+1)),l+=1;r+=Mt(t.subarray(l,l+1)),l+=1,i=Rt(t,12),o=Rt(t,16),s=Rt(t,20),u=Rt(t,24),l=28}else if(1===e){i=Rt(t,l+=4);var c=Rt(t,l+=4),f=Rt(t,l+=4);for(l+=4,a=Math.pow(2,32)*c+f,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,D.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=Rt(t,l),u=Rt(t,l+=4),l+=4;"\0"!==Mt(t.subarray(l,l+1));)n+=Mt(t.subarray(l,l+1)),l+=1;for(n+=Mt(t.subarray(l,l+1)),l+=1;"\0"!==Mt(t.subarray(l,l+1));)r+=Mt(t.subarray(l,l+1)),l+=1;r+=Mt(t.subarray(l,l+1)),l+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:u,payload:t.subarray(l,t.byteLength)}}(t);if(vr.test(r.schemeIdUri)){var i=_(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale,o=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;o<=.001&&(o=Number.POSITIVE_INFINITY);var a=r.payload;n.samples.push({data:a,len:a.byteLength,dts:i,pts:i,type:Ie,duration:o})}}))}return n}},{key:"demuxSampleAes",value:function(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){return Lt(t=t.length>16384?t.subarray(0,16384):t,["moof"]).length>0}}]),t}(),yr=null,br=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],wr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Sr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Tr=[0,1,1,4];function Er(t,e,n,r,i){if(!(n+24>e.length)){var o=_r(e,n);if(o&&n+o.frameLength<=e.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}}function _r(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){var a=t[e+2]>>1&1,s=t[e+3]>>6,u=1e3*br[14*(3===n?3-r:3===r?3:4)+i-1],l=wr[3*(3===n?0:2===n?1:2)+o],c=3===s?1:2,f=Sr[n][r],h=Tr[r],d=8*f*h,p=Math.floor(f*u/l+a)*h;if(null===yr){var g=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);yr=g?parseInt(g[1]):0}return!!yr&&yr<=87&&2===r&&u>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:l,channelCount:c,frameLength:p,samplesPerFrame:d}}}function kr(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])}function xr(t,e){return e+1<t.length&&kr(t,e)}function Mr(t,e){if(e+1<t.length&&kr(t,e)){var n=_r(t,e),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=e+r;return i===t.length||xr(t,i)}return!1}var Ar=function(){function t(e){Object(p.a)(this,t),this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return Object(g.a)(t,[{key:"loadWord",value:function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(t){var e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}},{key:"readBits",value:function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;if(t>32&&D.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n}},{key:"skipLZ",value:function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var t=this.skipLZ();return this.readBits(t+1)-1}},{key:"readEG",value:function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(t){for(var e=8,n=8,r=0;r<t;r++)0!==n&&(n=(e+this.readEG()+256)%256),e=0===n?e:n}},{key:"readSPS",value:function(){var t,e,n,r=0,i=0,o=0,a=0,s=this.readUByte.bind(this),u=this.readBits.bind(this),l=this.readUEG.bind(this),c=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),d=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var g=s();if(u(5),f(3),s(),d(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var v=l();if(3===v&&f(1),d(),d(),f(1),c())for(e=3!==v?8:12,n=0;n<e;n++)c()&&p(n<6?16:64)}d();var m=l();if(0===m)l();else if(1===m)for(f(1),h(),h(),t=l(),n=0;n<t;n++)h();d(),f(1);var y=l(),b=l(),w=u(1);0===w&&f(1),f(1),c()&&(r=l(),i=l(),o=l(),a=l());var S=[1,1];if(c()&&c())switch(s()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-w)*(b+1)*16-(w?2:4)*(o+a),pixelRatio:S}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),t}(),Rr=function(){function t(e,n,r){Object(p.a)(this,t),this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Kn(n,{removePKCS7Padding:!1})}return Object(g.a)(t,[{key:"decryptBuffer",value:function(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}},{key:"decryptAacSample",value:function(t,e,n){var r=this,i=t[e].unit;if(!(i.length<=16)){var o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(a).then((function(o){var a=new Uint8Array(o);i.set(a,16),r.decrypter.isSync()||r.decryptAacSamples(t,e+1,n)}))}}},{key:"decryptAacSamples",value:function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,n),!this.decrypter.isSync()))return}}},{key:"getAvcEncryptedData",value:function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n}},{key:"getAvcDecryptedUnit",value:function(t,e){for(var n=new Uint8Array(e),r=0,i=32;i<t.length-16;i+=160,r+=16)t.set(n.subarray(r,r+16),i);return t}},{key:"decryptAvcSample",value:function(t,e,n,r,i){var o=this,a=Ht(i.data),s=this.getAvcEncryptedData(a);this.decryptBuffer(s.buffer).then((function(s){i.data=o.getAvcDecryptedUnit(a,s),o.decrypter.isSync()||o.decryptAvcSamples(t,e,n+1,r)}))}},{key:"decryptAvcSamples",value:function(t,e,n,r){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)&&(this.decryptAvcSample(t,e,n,r,o),!this.decrypter.isSync()))return}}}}]),t}(),Ir=function(){function t(e,n,r){Object(p.a)(this,t),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=n,this.typeSupported=r}return Object(g.a)(t,[{key:"resetInitSegment",value:function(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video"),this._audioTrack=t.createTrack("audio",i),this._id3Track=t.createTrack("id3"),this._txtTrack=t.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}},{key:"resetTimeStamp",value:function(){}},{key:"resetContiguity",value:function(){var t=this._audioTrack,e=this._avcTrack,n=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}},{key:"demux",value:function(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||(this.sampleAes=null);var a=this._avcTrack,s=this._audioTrack,u=this._id3Track,l=this._txtTrack,c=a.pid,f=a.pesData,h=s.pid,d=u.pid,p=s.pesData,g=u.pesData,v=null,m=this.pmtParsed,y=this._pmtId,b=e.length;if(this.remainderData&&(b=(e=jt(this.remainderData,e)).length,this.remainderData=null),b<188&&!o)return this.remainderData=e,{audioTrack:s,videoTrack:a,id3Track:u,textTrack:l};var w=Math.max(0,t.syncOffset(e));(b-=(b-w)%188)<e.byteLength&&!o&&(this.remainderData=new Uint8Array(e.buffer,b,e.buffer.byteLength-b));for(var S=0,T=w;T<b;T+=188)if(71===e[T]){var E=!!(64&e[T+1]),_=Lr(e,T),A=(48&e[T+3])>>4,R=void 0;if(A>1){if((R=T+5+e[T+4])===T+188)continue}else R=T+4;switch(_){case c:E&&(f&&(r=Pr(f))&&this.parseAVCPES(a,l,r,!1),f={data:[],size:0}),f&&(f.data.push(e.subarray(R,T+188)),f.size+=T+188-R);break;case h:if(E){if(p&&(r=Pr(p)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,r);break;case"mp3":this.parseMPEGPES(s,r)}p={data:[],size:0}}p&&(p.data.push(e.subarray(R,T+188)),p.size+=T+188-R);break;case d:E&&(g&&(r=Pr(g))&&this.parseID3PES(u,r),g={data:[],size:0}),g&&(g.data.push(e.subarray(R,T+188)),g.size+=T+188-R);break;case 0:E&&(R+=e[R]+1),y=this._pmtId=Dr(e,R);break;case y:E&&(R+=e[R]+1);var I=Or(e,R,this.typeSupported,i);(c=I.avc)>0&&(a.pid=c),(h=I.audio)>0&&(s.pid=h,s.segmentCodec=I.segmentCodec),(d=I.id3)>0&&(u.pid=d),null===v||m||(D.warn("MPEG-TS PMT found at ".concat(T," after unknown PID '").concat(v,"'. Backtracking to sync byte @").concat(w," to parse all TS packets.")),v=null,T=w-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:v=_}}else S++;if(S>0){var C=new Error("Found ".concat(S," TS packet/s that do not start with 0x47"));this.observer.emit(k.ERROR,k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message})}a.pesData=f,s.pesData=p,u.pesData=g;var L={audioTrack:s,videoTrack:a,id3Track:u,textTrack:l};return o&&this.extractRemainingSamples(L),L}},{key:"flush",value:function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}},{key:"extractRemainingSamples",value:function(t){var e,n=t.audioTrack,r=t.videoTrack,i=t.id3Track,o=t.textTrack,a=r.pesData,s=n.pesData,u=i.pesData;if(a&&(e=Pr(a))?(this.parseAVCPES(r,o,e,!0),r.pesData=null):r.pesData=a,s&&(e=Pr(s))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,e);break;case"mp3":this.parseMPEGPES(n,e)}n.pesData=null}else null!=s&&s.size&&D.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s;u&&(e=Pr(u))?(this.parseID3PES(i,e),i.pesData=null):i.pesData=u}},{key:"demuxSampleAes",value:function(t,e,n){var r=this.demux(t,n,!0,!this.config.progressive),i=this.sampleAes=new Rr(this.observer,this.config,e);return this.decrypt(r,i)}},{key:"decrypt",value:function(t,e){return new Promise((function(n){var r=t.audioTrack,i=t.videoTrack;r.samples&&"aac"===r.segmentCodec?e.decryptAacSamples(r.samples,0,(function(){i.samples?e.decryptAvcSamples(i.samples,0,0,(function(){n(t)})):n(t)})):i.samples&&e.decryptAvcSamples(i.samples,0,0,(function(){n(t)}))}))}},{key:"destroy",value:function(){this._duration=0}},{key:"parseAVCPES",value:function(t,e,n,r){var i,o=this,a=this.parseAVCNALu(t,n.data),s=this.avcSample,u=!1;n.data=null,s&&a.length&&!t.audFound&&(Nr(s,t),s=this.avcSample=Cr(!1,n.pts,n.dts,"")),a.forEach((function(r){var a;switch(r.type){case 1:var l=!1;i=!0;var c,f=r.data;if(u&&f.length>4){var h=new Ar(f).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(l=!0)}if(l)null!=(c=s)&&c.frame&&!s.key&&(Nr(s,t),s=o.avcSample=null);s||(s=o.avcSample=Cr(!0,n.pts,n.dts,"")),s.frame=!0,s.key=l;break;case 5:i=!0,null!=(a=s)&&a.frame&&!s.key&&(Nr(s,t),s=o.avcSample=null),s||(s=o.avcSample=Cr(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:i=!0,Ut(r.data,1,n.pts,e.samples);break;case 7:if(i=!0,u=!0,!t.sps){var d=r.data,p=new Ar(d).readSPS();t.width=p.width,t.height=p.height,t.pixelRatio=p.pixelRatio,t.sps=[d],t.duration=o._duration;for(var g=d.subarray(1,4),v="avc1.",m=0;m<3;m++){var y=g[m].toString(16);y.length<2&&(y="0"+y),v+=y}t.codec=v}break;case 8:i=!0,t.pps||(t.pps=[r.data]);break;case 9:i=!1,t.audFound=!0,s&&Nr(s,t),s=o.avcSample=Cr(!1,n.pts,n.dts,"");break;case 12:i=!0;break;default:i=!1,s&&(s.debug+="unknown NAL "+r.type+" ")}s&&i&&s.units.push(r)})),r&&s&&(Nr(s,t),this.avcSample=null)}},{key:"getLastNalUnit",value:function(t){var e,n,r=this.avcSample;if(r&&0!==r.units.length||(r=t[t.length-1]),null!=(e=r)&&e.units){var i=r.units;n=i[i.length-1]}return n}},{key:"parseAVCNALu",value:function(t,e){var n,r,i=e.byteLength,o=t.naluState||0,a=o,s=[],u=0,l=-1,c=0;for(-1===o&&(l=0,c=31&e[0],o=0,u=1);u<i;)if(n=e[u++],o)if(1!==o)if(n)if(1===n){if(l>=0){var f={data:e.subarray(l,u-o-1),type:c};s.push(f)}else{var h=this.getLastNalUnit(t.samples);if(h&&(a&&u<=4-a&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-a)),(r=u-o-1)>0)){var d=new Uint8Array(h.data.byteLength+r);d.set(h.data,0),d.set(e.subarray(0,r),h.data.byteLength),h.data=d,h.state=0}}u<i?(l=u,c=31&e[u],o=0):o=-1}else o=0;else o=3;else o=n?0:2;else o=n?0:1;if(l>=0&&o>=0){var p={data:e.subarray(l,i),type:c,state:o};s.push(p)}if(0===s.length){var g=this.getLastNalUnit(t.samples);if(g){var v=new Uint8Array(g.data.byteLength+e.byteLength);v.set(g.data,0),v.set(e,g.data.byteLength),g.data=v}}return t.naluState=o,s}},{key:"parseAACPES",value:function(t,e){var n,r,i,o=0,a=this.aacOverFlow,s=e.data;if(a){this.aacOverFlow=null;var u=a.missing,l=a.sample.unit.byteLength;if(-1===u){var c=new Uint8Array(l+s.byteLength);c.set(a.sample.unit,0),c.set(s,l),s=c}else{var f=l-u;a.sample.unit.set(s.subarray(0,u),f),t.samples.push(a.sample),o=a.missing}}for(n=o,r=s.length;n<r-1&&!cr(s,n);n++);if(n!==o){var h,d=n<r-1;h=d?"AAC PES did not start with ADTS header,offset:".concat(n):"No ADTS header found in AAC PES";var p=new Error(h);if(D.warn("parsing error: ".concat(h)),this.observer.emit(k.ERROR,k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,levelRetry:d,error:p,reason:h}),!d)return}if(hr(t,this.observer,s,n,this.audioCodec),void 0!==e.pts)i=e.pts;else{if(!a)return void D.warn("[tsdemuxer]: AAC PES unknown PTS");var g=dr(t.samplerate);i=a.sample.pts+g}for(var v,m=0;n<r;){if(n+=(v=pr(t,s,n,i,m)).length,v.missing){this.aacOverFlow=v;break}for(m++;n<r-1&&!cr(s,n);n++);}}},{key:"parseMPEGPES",value:function(t,e){var n=e.data,r=n.length,i=0,o=0,a=e.pts;if(void 0!==a)for(;o<r;)if(xr(n,o)){var s=Er(t,n,o,a,i);if(!s)break;o+=s.length,i++}else o++;else D.warn("[tsdemuxer]: MPEG PES unknown PTS")}},{key:"parseID3PES",value:function(t,e){if(void 0!==e.pts){var n=E({},e,{type:this._avcTrack?Ie:Ae,duration:Number.POSITIVE_INFINITY});t.samples.push(n)}else D.warn("[tsdemuxer]: ID3 PES unknown PTS")}}],[{key:"probe",value:function(e){var n=t.syncOffset(e);return n>0&&D.warn("MPEG2-TS detected but first sync word found @ offset ".concat(n)),-1!==n}},{key:"syncOffset",value:function(t){for(var e=t.length,n=Math.min(940,t.length-188)+1,r=0;r<n;){for(var i=!1,o=-1,a=0,s=r;s<e;s+=188){if(71!==t[s]){if(a)return-1;break}if(a++,-1===o&&0!==(o=s)&&(n=Math.min(o+18612,t.length-188)+1),i||(i=0===Lr(t,s)),i&&a>1&&(0===o&&a>2||s+188>n))return o}r++}return-1}},{key:"createTrack",value:function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:xt[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}}]),t}();function Cr(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}function Lr(t,e){return((31&t[e+1])<<8)+t[e+2]}function Dr(t,e){return(31&t[e+10])<<8|t[e+11]}function Or(t,e,n,r){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){var a=Lr(t,e);switch(t[e]){case 207:if(!r){D.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=a);break;case 21:-1===i.id3&&(i.id3=a);break;case 219:if(!r){D.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=a);break;case 3:case 4:!0!==n.mpeg&&!0!==n.mp3?D.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=a,i.segmentCodec="mp3");break;case 36:D.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return i}function Pr(t){var e,n,r,i,o,a=0,s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;){var u=new Uint8Array(s[0].length+s[1].length);u.set(s[0]),u.set(s[1],s[0].length),s[0]=u,s.splice(1,1)}if(1===((e=s[0])[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;var l=e[7];192&l&&(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&l?i-(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(D.warn("".concat(Math.round((i-o)/9e4),"s delta between PTS and DTS, align them")),i=o):o=i);var c=(r=e[8])+9;if(t.size<=c)return null;t.size-=c;for(var f=new Uint8Array(t.size),h=0,d=s.length;h<d;h++){var p=(e=s[h]).byteLength;if(c){if(c>p){c-=p;continue}e=e.subarray(c),p-=c,c=0}f.set(e,a),a+=p}return n&&(n-=r+3),{data:f,pts:i,dts:o,len:n}}return null}function Nr(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var n=e.samples,r=n.length;if(!r)return void e.dropped++;var i=n[r-1];t.pts=i.pts,t.dts=i.dts}e.samples.push(t)}t.debug.length&&D.log(t.pts+"/"+t.dts+":"+t.debug)}var jr=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"resetInitSegment",value:function(t,e,r,i){Object(l.a)(Object(c.a)(n.prototype),"resetInitSegment",this).call(this,t,e,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(t,e){return function(t,e){return kr(t,e)&&4<=t.length-e}(t,e)}},{key:"appendFrame",value:function(t,e,n){if(null!==this.basePTS)return Er(t,e,n,this.basePTS,this.frameIndex)}}],[{key:"probe",value:function(t){if(!t)return!1;for(var e=(ct(t,0)||[]).length,n=t.length;e<n;e++)if(Mr(t,e))return D.log("MPEG Audio sync word found !"),!0;return!1}}]),n}(or),Br=function(){function t(){Object(p.a)(this,t)}return Object(g.a)(t,null,[{key:"getSilentFrame",value:function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),t}(),Fr=Math.pow(2,32)-1,Ur=function(){function t(){Object(p.a)(this,t)}return Object(g.a)(t,null,[{key:"init",value:function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))}},{key:"box",value:function(t){for(var e=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length,a=o;o--;)e+=r[o].byteLength;var s=new Uint8Array(e);for(s[0]=e>>24&255,s[1]=e>>16&255,s[2]=e>>8&255,s[3]=255&e,s.set(t,4),o=0,e=8;o<a;o++)s.set(r[o],e),e+=r[o].byteLength;return s}},{key:"hdlr",value:function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])}},{key:"mdat",value:function(e){return t.box(t.types.mdat,e)}},{key:"mdhd",value:function(e,n){n*=e;var r=Math.floor(n/(Fr+1)),i=Math.floor(n%(Fr+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))}},{key:"mfhd",value:function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}},{key:"minf",value:function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))}},{key:"moof",value:function(e,n,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,n))}},{key:"moov",value:function(e){for(var n=e.length,r=[];n--;)r[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(t.mvex(e)))}},{key:"mvex",value:function(e){for(var n=e.length,r=[];n--;)r[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(r))}},{key:"mvhd",value:function(e,n){n*=e;var r=Math.floor(n/(Fr+1)),i=Math.floor(n%(Fr+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)}},{key:"sdtp",value:function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,o)}},{key:"stbl",value:function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))}},{key:"avc1",value:function(e){var n,r,i,o=[],a=[];for(n=0;n<e.sps.length;n++)i=(r=e.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<e.pps.length;n++)i=(r=e.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),u=e.width,l=e.height,c=e.pixelRatio[0],f=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))}},{key:"esds",value:function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}},{key:"mp4a",value:function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))}},{key:"mp3",value:function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))}},{key:"tkhd",value:function(e){var n=e.id,r=e.duration*e.timescale,i=e.width,o=e.height,a=Math.floor(r/(Fr+1)),s=Math.floor(r%(Fr+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(e,n){var r=t.sdtp(e),i=e.id,o=Math.floor(n/(Fr+1)),a=Math.floor(n%(Fr+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))}},{key:"trex",value:function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(e,n){var r,i,o,a,s,u,l=e.samples||[],c=l.length,f=12+16*c,h=new Uint8Array(f);for(n+=8+f,h.set(["video"===e.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return t.box(t.types.trun,h)}},{key:"initSegment",value:function(e){t.types||t.init();var n=t.moov(e),r=new Uint8Array(t.FTYP.byteLength+n.byteLength);return r.set(t.FTYP),r.set(n,t.FTYP.byteLength),r}}]),t}();Ur.types=void 0,Ur.HDLR_TYPES=void 0,Ur.STTS=void 0,Ur.STSC=void 0,Ur.STCO=void 0,Ur.STSZ=void 0,Ur.VMHD=void 0,Ur.SMHD=void 0,Ur.STSD=void 0,Ur.FTYP=void 0,Ur.DINF=void 0;function Hr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t*e*n;return r?Math.round(i):i}function Kr(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hr(t,1e3,1/9e4,e)}var Gr=null,qr=null,Vr=function(){function t(e,n,r){if(Object(p.a)(this,t),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,null===Gr){var i=navigator.userAgent||"",o=i.match(/Chrome\/(\d+)/i);Gr=o?parseInt(o[1]):0}if(null===qr){var a=navigator.userAgent.match(/Safari\/(\d+)/i);qr=a?parseInt(a[1]):0}}return Object(g.a)(t,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(t){D.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}},{key:"resetNextTimestamp",value:function(){D.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}},{key:"resetInitSegment",value:function(){D.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}},{key:"getVideoStartPts",value:function(t){var e=!1,n=t.reduce((function(t,n){var r=n.pts-t;return r<-4294967296?(e=!0,zr(t,n.pts)):r>0?t:n.pts}),t[0].pts);return e&&D.debug("PTS rollover detected"),n}},{key:"remux",value:function(t,e,n,r,i,o,a,s){var u,l,c,f,h,d,p=i,g=i,v=t.pid>-1,m=e.pid>-1,y=e.samples.length,b=t.samples.length>0,w=a&&y>0||y>1;if((!v||b)&&(!m||w)||this.ISGenerated||a){this.ISGenerated||(c=this.generateIS(t,e,i,o));var S,T=this.isVideoContiguous,E=-1;if(w&&(E=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!T&&this.config.forceKeyFrameOnDiscontinuity))if(d=!0,E>0){D.warn("[mp4-remuxer]: Dropped ".concat(E," out of ").concat(y," video samples due to a missing keyframe"));var _=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(E),e.dropped+=E,S=g+=(e.samples[0].pts-_)/e.inputTimeScale}else-1===E&&(D.warn("[mp4-remuxer]: No keyframe found out of ".concat(y," video samples")),d=!1);if(this.ISGenerated){if(b&&w){var k=this.getVideoStartPts(e.samples),x=(zr(t.samples[0].pts,k)-k)/e.inputTimeScale;p+=Math.max(0,x),g+=Math.max(0,-x)}if(b){if(t.samplerate||(D.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(t,e,i,o)),l=this.remuxAudio(t,p,this.isAudioContiguous,o,m||w||s===be?g:void 0),w){var M=l?l.endPTS-l.startPTS:0;e.inputTimeScale||(D.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(t,e,i,o)),u=this.remuxVideo(e,g,T,M)}}else w&&(u=this.remuxVideo(e,g,T,0));u&&(u.firstKeyFrame=E,u.independent=-1!==E,u.firstKeyFramePTS=S)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=Wr(n,i,this._initPTS,this._initDTS)),r.samples.length&&(f=Yr(r,i,this._initPTS))),{audio:l,video:u,initSegment:c,independent:d,text:f,id3:h}}},{key:"generateIS",value:function(t,e,n,r){var i,o,a,s=t.samples,u=e.samples,l=this.typeSupported,c={},f=this._initPTS,h=!f||r,d="audio/mp4";if(h&&(i=o=1/0),t.config&&s.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":l.mpeg?(d="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")}c.audio={id:"audio",container:d,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&l.mpeg?new Uint8Array(0):Ur.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(a=t.inputTimeScale,f&&a===f.timescale?h=!1:i=o=s[0].pts-Math.round(a*n))}if(e.sps&&e.pps&&u.length&&(e.timescale=e.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Ur.initSegment([e]),metadata:{width:e.width,height:e.height}},h))if(a=e.inputTimeScale,f&&a===f.timescale)h=!1;else{var p=this.getVideoStartPts(u),g=Math.round(a*n);o=Math.min(o,zr(u[0].dts,p)-g),i=Math.min(i,p-g)}if(Object.keys(c).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:i,timescale:a},this._initDTS={baseTime:o,timescale:a}):i=a=void 0,{tracks:c,initPTS:i,timescale:a}}},{key:"remuxVideo",value:function(t,e,n,r){var i,o,a=t.inputTimeScale,s=t.samples,u=[],l=s.length,c=this._initPTS,f=this.nextAvcDts,h=8,d=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!1;n&&null!==f||(f=e*a-(s[0].pts-zr(s[0].dts,s[0].pts)));for(var m=c.baseTime*a/c.timescale,y=0;y<l;y++){var b=s[y];b.pts=zr(b.pts-m,f),b.dts=zr(b.dts-m,f),b.dts<s[y>0?y-1:y].dts&&(v=!0)}v&&s.sort((function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r})),i=s[0].dts;var w=(o=s[s.length-1].dts)-i,S=w?Math.round(w/(l-1)):d||t.inputTimeScale/30;if(n){var T=i-f,_=T>S,A=T<-1;if((_||A)&&(_?D.warn("AVC: ".concat(Kr(T,!0)," ms (").concat(T,"dts) hole between fragments detected, filling it")):D.warn("AVC: ".concat(Kr(-T,!0)," ms (").concat(T,"dts) overlapping between fragments detected")),!A||f>=s[0].pts)){i=f;var R=s[0].pts-T;s[0].dts=i,s[0].pts=R,D.log("Video: First PTS/DTS adjusted: ".concat(Kr(R,!0),"/").concat(Kr(i,!0),", delta: ").concat(Kr(T,!0)," ms"))}}i=Math.max(0,i);for(var I=0,C=0,L=0;L<l;L++){for(var O=s[L],P=O.units,N=P.length,j=0,B=0;B<N;B++)j+=P[B].data.length;C+=j,I+=N,O.length=j,O.dts=Math.max(O.dts,i),p=Math.min(O.pts,p),g=Math.max(O.pts,g)}o=s[l-1].dts;var F,U=C+4*I+8;try{F=new Uint8Array(U)}catch(vt){return void this.observer.emit(k.ERROR,k.ERROR,{type:x.MUX_ERROR,details:M.REMUX_ALLOC_ERROR,fatal:!1,error:vt,bytes:U,reason:"fail allocating video mdat ".concat(U)})}var H=new DataView(F.buffer);H.setUint32(0,U),F.set(Ur.types.mdat,4);for(var K=!1,G=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY,V=Number.NEGATIVE_INFINITY,z=Number.NEGATIVE_INFINITY,W=0;W<l;W++){for(var Y=s[W],X=Y.units,$=0,Z=0,J=X.length;Z<J;Z++){var Q=X[Z],tt=Q.data,et=Q.data.byteLength;H.setUint32(h,et),h+=4,F.set(tt,h),h+=et,$+=4+et}var nt=void 0;if(W<l-1)d=s[W+1].dts-Y.dts,nt=s[W+1].pts-Y.pts;else{var rt=this.config,it=W>0?Y.dts-s[W-1].dts:S;if(nt=W>0?Y.pts-s[W-1].pts:S,rt.stretchShortVideoTrack&&null!==this.nextAudioPts){var ot=Math.floor(rt.maxBufferHole*a),at=(r?p+r*a:this.nextAudioPts)-Y.pts;at>ot?((d=at-it)<0?d=it:K=!0,D.log("[mp4-remuxer]: It is approximately ".concat(at/90," ms to the next segment; using duration ").concat(d/90," ms for the last video frame."))):d=it}else d=it}var st=Math.round(Y.pts-Y.dts);G=Math.min(G,d),V=Math.max(V,d),q=Math.min(q,nt),z=Math.max(z,nt),u.push(new $r(Y.key,d,$,st))}if(u.length)if(Gr){if(Gr<70){var ut=u[0].flags;ut.dependsOn=2,ut.isNonSync=0}}else if(qr&&z-q<V-G&&S/V<.025&&0===u[0].cts){D.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var lt=i,ct=0,ft=u.length;ct<ft;ct++){var ht=lt+u[ct].duration,dt=lt+u[ct].cts;if(ct<ft-1){var pt=ht+u[ct+1].cts;u[ct].duration=pt-dt}else u[ct].duration=ct?u[ct-1].duration:S;u[ct].cts=0,lt=ht}}d=K||!d?S:d,this.nextAvcDts=f=o+d,this.videoSampleDuration=d,this.isVideoContiguous=!0;var gt={data1:Ur.moof(t.sequenceNumber++,i,E({},t,{samples:u})),data2:F,startPTS:p/a,endPTS:(g+d)/a,startDTS:i/a,endDTS:f/a,type:"video",hasAudio:!1,hasVideo:!0,nb:u.length,dropped:t.dropped};return t.samples=[],t.dropped=0,gt}},{key:"remuxAudio",value:function(t,e,n,r,i){var o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),s="aac"===t.segmentCodec?1024:1152,u=s*a,l=this._initPTS,c="mp3"===t.segmentCodec&&this.typeSupported.mpeg,f=[],h=void 0!==i,d=t.samples,p=c?0:8,g=this.nextAudioPts||-1,v=e*o,m=l.baseTime*o/l.timescale;if(this.isAudioContiguous=n=n||d.length&&g>0&&(r&&Math.abs(v-g)<9e3||Math.abs(zr(d[0].pts-m,v)-g)<20*u),d.forEach((function(t){t.pts=zr(t.pts-m,v)})),!n||g<0){if(!(d=d.filter((function(t){return t.pts>=0}))).length)return;g=0===i?0:r&&!h?Math.max(0,v):d[0].pts}if("aac"===t.segmentCodec)for(var y=this.config.maxAudioFramesDrift,b=0,w=g;b<d.length;b++){var S=d[b],T=S.pts,_=T-w,A=Math.abs(1e3*_/o);if(_<=-y*u&&h)0===b&&(D.warn("Audio frame @ ".concat((T/o).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*_/o)," ms.")),this.nextAudioPts=g=w=T);else if(_>=y*u&&A<1e4&&h){var R=Math.round(_/u);(w=T-R*u)<0&&(R--,w+=u),0===b&&(this.nextAudioPts=g=w),D.warn("[mp4-remuxer]: Injecting ".concat(R," audio frame @ ").concat((w/o).toFixed(3),"s due to ").concat(Math.round(1e3*_/o)," ms gap."));for(var I=0;I<R;I++){var C=Math.max(w,0),L=Br.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);L||(D.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),L=S.unit.subarray()),d.splice(b,0,{unit:L,pts:C}),w+=u,b++}}S.pts=w,w+=u}for(var O,P=null,N=null,j=0,B=d.length;B--;)j+=d[B].unit.byteLength;for(var F=0,U=d.length;F<U;F++){var H=d[F],K=H.unit,G=H.pts;if(null!==N){f[F-1].duration=Math.round((G-N)/a)}else{if(n&&"aac"===t.segmentCodec&&(G=g),P=G,!(j>0))return;j+=p;try{O=new Uint8Array(j)}catch(Z){return void this.observer.emit(k.ERROR,k.ERROR,{type:x.MUX_ERROR,details:M.REMUX_ALLOC_ERROR,fatal:!1,error:Z,bytes:j,reason:"fail allocating audio mdat ".concat(j)})}c||(new DataView(O.buffer).setUint32(0,j),O.set(Ur.types.mdat,4))}O.set(K,p);var q=K.byteLength;p+=q,f.push(new $r(!0,s,q,0)),N=G}var V=f.length;if(V){var z=f[f.length-1];this.nextAudioPts=g=N+a*z.duration;var W=c?new Uint8Array(0):Ur.moof(t.sequenceNumber++,P/a,E({},t,{samples:f}));t.samples=[];var Y=P/o,X=g/o,$={data1:W,data2:O,startPTS:Y,endPTS:X,startDTS:Y,endDTS:X,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.isAudioContiguous=!0,$}}},{key:"remuxEmptyAudio",value:function(t,e,n,r){var i=t.inputTimeScale,o=i/(t.samplerate?t.samplerate:i),a=this.nextAudioPts,s=this._initDTS,u=9e4*s.baseTime/s.timescale,l=(null!==a?a:r.startDTS*i)+u,c=r.endDTS*i+u,f=1024*o,h=Math.ceil((c-l)/f),d=Br.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(D.warn("[mp4-remuxer]: remux empty Audio"),d){for(var p=[],g=0;g<h;g++){var v=l+g*f;p.push({unit:d,pts:v,dts:v})}return t.samples=p,this.remuxAudio(t,e,n,!1)}D.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")}}]),t}();function zr(t,e){var n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function Wr(t,e,n,r){var i=t.samples.length;if(i){for(var o=t.inputTimeScale,a=0;a<i;a++){var s=t.samples[a];s.pts=zr(s.pts-n.baseTime*o/n.timescale,e*o)/o,s.dts=zr(s.dts-r.baseTime*o/r.timescale,e*o)/o}var u=t.samples;return t.samples=[],{samples:u}}}function Yr(t,e,n){var r=t.samples.length;if(r){for(var i=t.inputTimeScale,o=0;o<r;o++){var a=t.samples[o];a.pts=zr(a.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((function(t,e){return t.pts-e.pts}));var s=t.samples;return t.samples=[],{samples:s}}}var Xr,$r=function t(e,n,r,i){Object(p.a)(this,t),this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags=new Zr(e)},Zr=function t(e){Object(p.a)(this,t),this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1},Jr=function(){function t(){Object(p.a)(this,t),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}return Object(g.a)(t,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(t){this.initPTS=t,this.lastEndTime=null}},{key:"resetNextTimestamp",value:function(){this.lastEndTime=null}},{key:"resetInitSegment",value:function(t,e,n,r){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function(t,e){if(!t||!e)return t;var n=e.keyId;return n&&e.isCommonEncryption&&Lt(t,["moov","trak"]).forEach((function(t){var e=Lt(t,["mdia","minf","stbl","stsd"])[0].subarray(8),r=Lt(e,["enca"]),i=r.length>0;i||(r=Lt(e,["encv"])),r.forEach((function(t){Lt(i?t.subarray(28):t.subarray(78),["sinf"]).forEach((function(t){var e=Pt(t);if(e){var r=e.subarray(8,24);r.some((function(t){return 0!==t}))||(D.log("[eme] Patching keyId in 'enc".concat(i?"a":"v",">sinf>>tenc' box: ").concat(Et(r)," -> ").concat(Et(n))),e.set(n,8))}}))}))})),t}(t,r)),this.emitInitSegment=!0}},{key:"generateInitSegment",value:function(t){var e=this.audioCodec,n=this.videoCodec;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Ot(t);e||(e=Qr(r.audio,U)),n||(n=Qr(r.video,H));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:D.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}},{key:"remux",value:function(t,e,n,r,i,o){var a,s,u=this.initPTS,l=this.lastEndTime,c={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};_(l)||(l=this.lastEndTime=i||0);var f=e.samples;if(null==f||!f.length)return c;var h={initPTS:void 0,timescale:1},d=this.initData;if(null!=(a=d)&&a.length||(this.generateInitSegment(f),d=this.initData),null==(s=d)||!s.length)return D.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(t,e){for(var n=0,r=0,i=0,o=Lt(t,["moof","traf"]),a=0;a<o.length;a++){var s=o[a],u=Lt(s,["tfhd"])[0],l=e[Rt(u,4)];if(l){var c=l.default,f=Rt(u,0)|(null==c?void 0:c.flags),h=null==c?void 0:c.duration;8&f&&(h=Rt(u,2&f?12:8));for(var d=l.timescale||9e4,p=Lt(s,["trun"]),g=0;g<p.length;g++){if(!(n=Nt(p[g]))&&h)n=h*Rt(p[g],4);l.type===H?r+=n/d:l.type===U&&(i+=n/d)}}}if(0===r&&0===i){for(var v=0,m=Lt(t,["sidx"]),y=0;y<m.length;y++){var b=Dt(m[y]);null!=b&&b.references&&(v+=b.references.reduce((function(t,e){return t+e.info.duration||0}),0))}return v}return r||i}(f,d),g=function(t,e){return Lt(e,["moof","traf"]).reduce((function(e,n){var r=Lt(n,["tfdt"])[0],i=r[0],o=Lt(n,["tfhd"]).reduce((function(e,n){var o=Rt(n,4),a=t[o];if(a){var s=Rt(r,4);if(1===i){if(s===_t)return D.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;s*=_t+1,s+=Rt(r,8)}var u=s/(a.timescale||9e4);if(isFinite(u)&&(null===e||u<e))return u}return e}),null);return null!==o&&isFinite(o)&&(null===e||o<e)?o:e}),null)}(d,f),v=null===g?i:g;(function(t,e,n,r){if(null===t)return!0;var i=Math.max(r,1),o=e-t.baseTime/t.timescale;return Math.abs(o-n)>i}(u,v,i,p)||h.timescale!==u.timescale&&o)&&(h.initPTS=v-i,u&&1===u.timescale&&D.warn("Adjusting initPTS by ".concat(h.initPTS-u.baseTime)),this.initPTS=u={baseTime:h.initPTS,timescale:1});var m=t?v-u.baseTime/u.timescale:l,y=m+p;!function(t,e,n){Lt(e,["moof","traf"]).forEach((function(e){Lt(e,["tfhd"]).forEach((function(r){var i=Rt(r,4),o=t[i];if(o){var a=o.timescale||9e4;Lt(e,["tfdt"]).forEach((function(t){var e=t[0],r=Rt(t,4);if(0===e)r-=n*a,Ct(t,4,r=Math.max(r,0));else{r*=Math.pow(2,32),r+=Rt(t,8),r-=n*a,r=Math.max(r,0);var i=Math.floor(r/(_t+1)),o=Math.floor(r%(_t+1));Ct(t,4,i),Ct(t,8,o)}}))}}))}))}(d,f,u.baseTime/u.timescale),p>0?this.lastEndTime=y:(D.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!d.audio,w=!!d.video,S="";b&&(S+="audio"),w&&(S+="video");var T={data1:f,startPTS:m,startDTS:m,endPTS:y,endDTS:y,type:S,hasAudio:b,hasVideo:w,nb:1,dropped:0};return c.audio="audio"===T.type?T:void 0,c.video="audio"!==T.type?T:void 0,c.initSegment=h,c.id3=Wr(n,i,u,u),r.samples.length&&(c.text=Yr(r,i,u)),c}}]),t}();function Qr(t,e){var n=null==t?void 0:t.codec;return n&&n.length>4?n:"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||e===H?"avc1.42e01e":"mp4a.40.5"}try{Xr=self.performance.now.bind(self.performance)}catch(Vo){D.debug("Unable to use Performance API on this environment"),Xr="undefined"!==typeof self&&self.Date.now}var ti=[{demux:mr,remux:Jr},{demux:Ir,remux:Vr},{demux:gr,remux:Vr},{demux:jr,remux:Vr}],ei=function(){function t(e,n,r,i,o){Object(p.a)(this,t),this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=o}return Object(g.a)(t,[{key:"configure",value:function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}},{key:"push",value:function(t,e,n,r){var i=this,o=n.transmuxing;o.executeStart=Xr();var a=new Uint8Array(t),s=this.currentTransmuxState,u=this.transmuxConfig;r&&(this.currentTransmuxState=r);var l=r||s,c=l.contiguous,f=l.discontinuity,h=l.trackSwitch,d=l.accurateTimeOffset,p=l.timeOffset,g=l.initSegmentChange,v=u.audioCodec,m=u.videoCodec,y=u.defaultInitPts,b=u.duration,w=u.initSegmentData,S=function(t,e){var n=null;t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(n=e);return n}(a,e);if(S&&"AES-128"===S.method){var T=this.getDecrypter();if(!T.isSync())return this.decryptionPromise=T.webCryptoDecrypt(a,S.key.buffer,S.iv.buffer).then((function(t){var e=i.push(t,null,n);return i.decryptionPromise=null,e})),this.decryptionPromise;var E=T.softwareDecrypt(a,S.key.buffer,S.iv.buffer);if(n.part>-1&&(E=T.flush()),!E)return o.executeEnd=Xr(),ni(n);a=new Uint8Array(E)}var _=this.needsProbing(f,h);if(_){var A=this.configureTransmuxer(a);if(A)return D.warn("[transmuxer] ".concat(A.message)),this.observer.emit(k.ERROR,k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,error:A,reason:A.message}),o.executeEnd=Xr(),ni(n)}(f||h||g||_)&&this.resetInitSegment(w,v,m,b,e),(f||g||_)&&this.resetInitialTimestamp(y),c||this.resetContiguity();var R=this.transmux(a,S,p,d,n),I=this.currentTransmuxState;return I.contiguous=!0,I.discontinuity=!1,I.trackSwitch=!1,o.executeEnd=Xr(),R}},{key:"flush",value:function(t){var e=this,n=t.transmuxing;n.executeStart=Xr();var r=this.decrypter,i=this.currentTransmuxState,o=this.decryptionPromise;if(o)return o.then((function(){return e.flush(t)}));var a=[],s=i.timeOffset;if(r){var u=r.flush();u&&a.push(this.push(u,null,t))}var l=this.demuxer,c=this.remuxer;if(!l||!c)return n.executeEnd=Xr(),[ni(t)];var f=l.flush(s);return ri(f)?f.then((function(n){return e.flushRemux(a,n,t),a})):(this.flushRemux(a,f,t),a)}},{key:"flushRemux",value:function(t,e,n){var r=e.audioTrack,i=e.videoTrack,o=e.id3Track,a=e.textTrack,s=this.currentTransmuxState,u=s.accurateTimeOffset,l=s.timeOffset;D.log("[transmuxer.ts]: Flushed fragment ".concat(n.sn).concat(n.part>-1?" p: "+n.part:""," of level ").concat(n.level));var c=this.remuxer.remux(r,i,o,a,l,u,!0,this.id);t.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=Xr()}},{key:"resetInitialTimestamp",value:function(t){var e=this.demuxer,n=this.remuxer;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))}},{key:"resetContiguity",value:function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}},{key:"resetInitSegment",value:function(t,e,n,r,i){var o=this.demuxer,a=this.remuxer;o&&a&&(o.resetInitSegment(t,e,n,r),a.resetInitSegment(t,e,n,i))}},{key:"destroy",value:function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}},{key:"transmux",value:function(t,e,n,r,i){return e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,r,i):this.transmuxUnencrypted(t,n,r,i)}},{key:"transmuxUnencrypted",value:function(t,e,n,r){var i=this.demuxer.demux(t,e,!1,!this.config.progressive),o=i.audioTrack,a=i.videoTrack,s=i.id3Track,u=i.textTrack;return{remuxResult:this.remuxer.remux(o,a,s,u,e,n,!1,this.id),chunkMeta:r}}},{key:"transmuxSampleAes",value:function(t,e,n,r,i){var o=this;return this.demuxer.demuxSampleAes(t,e,n).then((function(t){return{remuxResult:o.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,r,!1,o.id),chunkMeta:i}}))}},{key:"configureTransmuxer",value:function(t){for(var e,n=this.config,r=this.observer,i=this.typeSupported,o=this.vendor,a=0,s=ti.length;a<s;a++)if(ti[a].demux.probe(t)){e=ti[a];break}if(!e)return new Error("Failed to find demuxer by probing fragment data");var u=this.demuxer,l=this.remuxer,c=e.remux,f=e.demux;l&&l instanceof c||(this.remuxer=new c(r,n,i,o)),u&&u instanceof f||(this.demuxer=new f(r,n,i),this.probe=f.probe)}},{key:"needsProbing",value:function(t,e){return!this.demuxer||!this.remuxer||t||e}},{key:"getDecrypter",value:function(){var t=this.decrypter;return t||(t=this.decrypter=new Kn(this.config)),t}}]),t}();var ni=function(t){return{remuxResult:{},chunkMeta:t}};function ri(t){return"then"in t&&t.then instanceof Function}var ii=function t(e,n,r,i,o){Object(p.a)(this,t),this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=o||null},oi=function t(e,n,r,i,o,a){Object(p.a)(this,t),this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=o,this.initSegmentChange=a},ai={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(ai);var si=v(ai.exports),ui=Zt()||{isTypeSupported:function(){return!1}},li=function(){function t(e,n,r,i){var o=this;Object(p.a)(this,t),this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var a=e.config;this.hls=e,this.id=n,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;var s=function(t,e){(e=e||{}).frag=o.frag,e.id=o.id,t===k.ERROR&&(o.error=e.error),o.hls.trigger(t,e)};this.observer=new si,this.observer.on(k.FRAG_DECRYPTED,s),this.observer.on(k.ERROR,s);var u={mp4:ui.isTypeSupported("video/mp4"),mpeg:ui.isTypeSupported("audio/mpeg"),mp3:ui.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker&&(a.workerPath||"function"===typeof __HLS_WORKER_BUNDLE__)){try{a.workerPath?(D.log("loading Web Worker ".concat(a.workerPath,' for "').concat(n,'"')),this.workerContext=function(t){var e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}(a.workerPath)):(D.log('injecting Web Worker for "'.concat(n,'"')),this.workerContext=function(){var t=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}()),this.onwmsg=function(t){return o.onWorkerMessage(t)};var c=this.workerContext.worker;c.addEventListener("message",this.onwmsg),c.onerror=function(t){var e=new Error("".concat(t.message,"  (").concat(t.filename,":").concat(t.lineno,")"));a.enableWorker=!1,D.warn('Error in "'.concat(n,'" Web Worker, fallback to inline')),o.hls.trigger(k.ERROR,{type:x.OTHER_ERROR,details:M.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:e})},c.postMessage({cmd:"init",typeSupported:u,vendor:l,id:n,config:JSON.stringify(a)})}catch(Vo){D.warn('Error setting up "'.concat(n,'" Web Worker, fallback to inline'),Vo),this.resetWorker(),this.error=null,this.transmuxer=new ei(this.observer,u,a,l,n)}return}this.transmuxer=new ei(this.observer,u,a,l,n)}return Object(g.a)(t,[{key:"resetWorker",value:function(){if(this.workerContext){var t=this.workerContext,e=t.worker,n=t.objectURL;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}},{key:"destroy",value:function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}},{key:"push",value:function(t,e,n,r,i,o,a,s,u,l){var c,f,h=this;u.transmuxing.start=self.performance.now();var d=this.transmuxer,p=o?o.start:i.start,g=i.decryptdata,v=this.frag,m=!(v&&i.cc===v.cc),y=!(v&&u.level===v.level),b=v?u.sn-v.sn:-1,w=this.part?u.part-this.part.index:-1,S=0===b&&u.id>1&&u.id===(null==v?void 0:v.stats.chunkCount),T=!y&&(1===b||0===b&&(1===w||S&&w<=0)),E=self.performance.now();(y||b||0===i.stats.parsing.start)&&(i.stats.parsing.start=E),!o||!w&&T||(o.stats.parsing.start=E);var _=!(v&&(null==(c=i.initSegment)?void 0:c.url)===(null==(f=v.initSegment)?void 0:f.url)),k=new oi(m,T,s,y,p,_);if(!T||m||_){D.log("[transmuxer-interface, ".concat(i.type,"]: Starting new transmux session for sn: ").concat(u.sn," p: ").concat(u.part," level: ").concat(u.level," id: ").concat(u.id,"\n        discontinuity: ").concat(m,"\n        trackSwitch: ").concat(y,"\n        contiguous: ").concat(T,"\n        accurateTimeOffset: ").concat(s,"\n        timeOffset: ").concat(p,"\n        initSegmentChange: ").concat(_));var x=new ii(n,r,e,a,l);this.configureTransmuxer(x)}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:g,chunkMeta:u,state:k},t instanceof ArrayBuffer?[t]:[]);else if(d){var M=d.push(t,g,u,k);ri(M)?(d.async=!0,M.then((function(t){h.handleTransmuxComplete(t)})).catch((function(t){h.transmuxerError(t,u,"transmuxer-interface push error")}))):(d.async=!1,this.handleTransmuxComplete(M))}}},{key:"flush",value:function(t){var e=this;t.transmuxing.start=self.performance.now();var n=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(n){var r=n.flush(t);ri(r)||n.async?(ri(r)||(r=Promise.resolve(r)),r.then((function(n){e.handleFlushResult(n,t)})).catch((function(n){e.transmuxerError(n,t,"transmuxer-interface flush error")}))):this.handleFlushResult(r,t)}}},{key:"transmuxerError",value:function(t,e,n){this.hls&&(this.error=t,this.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:n}))}},{key:"handleFlushResult",value:function(t,e){var n=this;t.forEach((function(t){n.handleTransmuxComplete(t)})),this.onFlush(e)}},{key:"onWorkerMessage",value:function(t){var e=t.data,n=this.hls;switch(e.event){case"init":var r,i=null==(r=this.workerContext)?void 0:r.objectURL;i&&self.URL.revokeObjectURL(i);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":D[e.data.logType]&&D[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}},{key:"configureTransmuxer",value:function(t){var e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)}},{key:"handleTransmuxComplete",value:function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}]),t}(),ci=function(){function t(e,n,r,i){Object(p.a)(this,t),this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}return Object(g.a)(t,[{key:"destroy",value:function(){this.media=null,this.hls=this.fragmentTracker=null}},{key:"poll",value:function(t,e){var n=this.config,r=this.media,i=this.stalled;if(null!==r){var o=r.currentTime,a=r.seeking,s=this.seeking&&!a,u=!this.seeking&&a;if(this.seeking=a,o===t){if(u||s)this.stalled=null;else if(!(r.paused&&!a||r.ended||0===r.playbackRate)&&Ln.getBuffered(r).length){var l=Ln.bufferInfo(r,o,0),c=l.len>0,f=l.nextStart||0;if(c||f){if(a){var h=l.len>2,d=!f||e&&e.start<=o||f-o>2&&!this.fragmentTracker.getPartialFragment(o);if(h||d)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,g=Math.max(f,l.start||0)-o,v=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,m=(null==v||null==(p=v.details)?void 0:p.live)?2*v.details.targetduration:2,y=this.fragmentTracker.getPartialFragment(o);if(g>0&&(g<=m||y))return void this._trySkipBufferHole(y)}var b=self.performance.now();if(null!==i){var w=b-i;if(a||!(w>=250)||(this._reportStall(l),this.media)){var S=Ln.bufferInfo(r,o,n.maxBufferHole);this._tryFixBufferStall(S,w)}}else this.stalled=b}}}else if(this.moved=!0,null!==i){if(this.stallReported){var T=self.performance.now()-i;D.warn("playback not stuck anymore @".concat(o,", after ").concat(Math.round(T),"ms")),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}}},{key:"_tryFixBufferStall",value:function(t,e){var n=this.config,r=this.fragmentTracker,i=this.media;if(null!==i){var o=i.currentTime,a=r.getPartialFragment(o);if(a)if(this._trySkipBufferHole(a)||!this.media)return;(t.len>n.maxBufferHole||t.nextStart&&t.nextStart-o<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(D.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}}},{key:"_reportStall",value:function(t){var e=this.hls,n=this.media;if(!this.stallReported&&n){this.stallReported=!0;var r=new Error("Playback stalling at @".concat(n.currentTime," due to low buffer (").concat(JSON.stringify(t),")"));D.warn(r.message),e.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:t.len})}}},{key:"_trySkipBufferHole",value:function(t){var e=this.config,n=this.hls,r=this.media;if(null===r)return 0;var i=r.currentTime,o=Ln.bufferInfo(r,i,0),a=i<o.start?o.start:o.nextStart;if(a){var s=o.len<=e.maxBufferHole,u=o.len>0&&o.len<1&&r.readyState<3,l=a-i;if(l>0&&(s||u)){if(l>e.maxBufferHole){var c=this.fragmentTracker,f=!1;if(0===i){var h=c.getAppendedFrag(0,ye);h&&a<h.end&&(f=!0)}if(!f){var d=t||c.getAppendedFrag(i,ye);if(d){for(var p=!1,g=d.end;g<a;){var v=c.getPartialFragment(g);if(!v){p=!0;break}g+=v.duration}if(p)return 0}}}var m=Math.max(a+.05,i+.1);if(D.warn("skipping hole, adjusting currentTime from ".concat(i," to ").concat(m)),this.moved=!0,this.stalled=null,r.currentTime=m,t&&!t.gap){var y=new Error("fragment loaded with buffer holes, seeking from ".concat(i," to ").concat(m));n.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:t})}return m}}return 0}},{key:"_tryNudgeBuffer",value:function(){var t=this.config,e=this.hls,n=this.media,r=this.nudgeRetry;if(null!==n){var i=n.currentTime;if(this.nudgeRetry++,r<t.nudgeMaxRetry){var o=i+(r+1)*t.nudgeOffset,a=new Error("Nudging 'currentTime' from ".concat(i," to ").concat(o));D.warn(a.message),n.currentTime=o,e.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{var s=new Error("Playhead still not moving while enough data buffered @".concat(i," after ").concat(t.nudgeMaxRetry," nudges"));D.error(s.message),e.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}}]),t}(),fi=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(p.a)(this,n),(o=e.call(this,t,r,i,"[stream-controller]",ye)).audioCodecSwap=!1,o.gapController=null,o.level=-1,o._forceStartLoad=!1,o.altAudio=!1,o.audioOnly=!1,o.fragPlaying=null,o.onvplaying=null,o.onvseeked=null,o.fragLastKbps=0,o.couldBacktrack=!1,o.backtrackFragment=null,o.audioCodecSwitch=!1,o.videoBuffer=null,o._registerListeners(),o}return Object(g.a)(n,[{key:"_registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.MANIFEST_PARSED,this.onManifestParsed,this),t.on(k.LEVEL_LOADING,this.onLevelLoading,this),t.on(k.LEVEL_LOADED,this.onLevelLoaded,this),t.on(k.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(k.ERROR,this.onError,this),t.on(k.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(k.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(k.BUFFER_CREATED,this.onBufferCreated,this),t.on(k.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(k.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(k.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_PARSED,this.onManifestParsed,this),t.off(k.LEVEL_LOADED,this.onLevelLoaded,this),t.off(k.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(k.ERROR,this.onError,this),t.off(k.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(k.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(k.BUFFER_CREATED,this.onBufferCreated,this),t.off(k.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(k.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(k.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.onMediaDetaching()}},{key:"startLoad",value:function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @".concat(e.toFixed(3))),t=e),this.state=Vn,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=qn}},{key:"stopLoad",value:function(){this._forceStartLoad=!1,Object(l.a)(Object(c.a)(n.prototype),"stopLoad",this).call(this)}},{key:"doTick",value:function(){switch(this.state){case er:var t,e=this.levels,n=this.level,r=null==e||null==(t=e[n])?void 0:t.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=Vn;break}if(this.hls.nextLoadLevel!==this.level){this.state=Vn;break}break;case Yn:var i,o=self.performance.now(),a=this.retryDate;(!a||o>=a||null!=(i=this.media)&&i.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Vn)}this.state===Vn&&this.doTickIdle(),this.onTickEnd()}},{key:"onTickEnd",value:function(){Object(l.a)(Object(c.a)(n.prototype),"onTickEnd",this).call(this),this.checkBuffer(),this.checkFragmentChanged()}},{key:"doTickIdle",value:function(){var t=this.hls,e=this.levelLastLoaded,n=this.levels,r=this.media,i=t.config,o=t.nextLoadLevel;if(null!==e&&(r||!this.startFragRequested&&i.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=n&&n[o]){var a=n[o],s=this.getMainFwdBufferInfo();if(null!==s){var u=this.getLevelDetails();if(u&&this._streamEnded(s,u)){var l={};return this.altAudio&&(l.type="video"),this.hls.trigger(k.BUFFER_EOS,l),void(this.state=Jn)}t.loadLevel!==o&&-1===t.manualLevel&&this.log("Adapting to level ".concat(o," from level ").concat(this.level)),this.level=t.nextLoadLevel=o;var c=a.details;if(!c||this.state===er||c.live&&this.levelLastLoaded!==o)return this.level=o,void(this.state=er);var f=s.len,h=this.getMaxBufferLength(a.maxBitrate);if(!(f>=h)){this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);var d=this.backtrackFragment?this.backtrackFragment.start:s.end,p=this.getNextFragment(d,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==wn){var g,v=(null!=(g=this.backtrackFragment)?g:p).sn-c.startSN,m=c.fragments[v-1];m&&p.cc===m.cc&&(p=m,this.fragmentTracker.removeFragment(m))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,d)){if(!p.gap){var y=this.audioOnly&&!this.altAudio?U:H,b=(y===H?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,y,ye)}p=this.getNextFragmentLoopLoading(p,c,s,ye,h)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,a,d))}}}}},{key:"loadFragment",value:function(t,e,r){var i=this.fragmentTracker.getState(t);this.fragCurrent=t,i===mn||i===bn?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log("Fragment ".concat(t.sn," of level ").concat(t.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,Object(l.a)(Object(c.a)(n.prototype),"loadFragment",this).call(this,t,e,r)):this.clearTrackerIfNeeded(t)}},{key:"getBufferedFrag",value:function(t){return this.fragmentTracker.getBufferedFrag(t,ye)}},{key:"followingBufferedFrag",value:function(t){return t?this.getBufferedFrag(t.end+.5):null}},{key:"immediateLevelSwitch",value:function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"nextLevelSwitch",value:function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var n,r=this.getAppendedFrag(e.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);var i=this.getLevelDetails();if(null!=i&&i.live){var o=this.getMainFwdBufferInfo();if(!o||o.len<2*i.targetduration)return}if(!e.paused&&t){var a=t[this.hls.nextLoadLevel],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*a.maxBitrate/(1e3*s)+1:0}else n=0;var u=this.getBufferedFrag(e.currentTime+n);if(u){var l=this.followingBufferedFrag(u);if(l){this.abortCurrentFrag();var c=l.maxStartPTS?l.maxStartPTS:l.start,f=l.duration,h=Math.max(u.end,c+Math.min(Math.max(f-this.config.maxFragLookUpTolerance,.5*f),.75*f));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}},{key:"abortCurrentFrag",value:function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case zn:case Wn:case Yn:case $n:case Zn:this.state=Vn}this.nextLoadPosition=this.getLoadPosition()}},{key:"flushMainBuffer",value:function(t,e){Object(l.a)(Object(c.a)(n.prototype),"flushMainBuffer",this).call(this,t,e,this.altAudio?"video":null)}},{key:"onMediaAttached",value:function(t,e){Object(l.a)(Object(c.a)(n.prototype),"onMediaAttached",this).call(this,t,e);var r=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new ci(this.config,r,this.fragmentTracker,this.hls)}},{key:"onMediaDetaching",value:function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),Object(l.a)(Object(c.a)(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onMediaPlaying",value:function(){this.tick()}},{key:"onMediaSeeked",value:function(){var t=this.media,e=t?t.currentTime:null;_(e)&&this.log("Media seeked to ".concat(e.toFixed(3)));var n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(n?n.len:"empty",")"))}},{key:"onManifestLoading",value:function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(k.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}},{key:"onManifestParsed",value:function(t,e){var n,r=!1,i=!1;e.levels.forEach((function(t){(n=t.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!function(){var t,e=rr();return"function"===typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}},{key:"onLevelLoading",value:function(t,e){var n=this.levels;if(n&&this.state===Vn){var r=n[e.level];(!r.details||r.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(r.details))&&(this.state=er)}}},{key:"onLevelLoaded",value:function(t,e){var n,r=this.levels,i=e.level,o=e.details,a=o.totalduration;if(r){this.log("Level ".concat(i," loaded [").concat(o.startSN,",").concat(o.endSN,"]").concat(o.lastPartSn?"[part-".concat(o.lastPartSn,"-").concat(o.lastPartIndex,"]"):"",", cc [").concat(o.startCC,", ").concat(o.endCC,"] duration:").concat(a));var s=r[i],u=this.fragCurrent;!u||this.state!==Wn&&this.state!==Yn||u.level===e.level&&u.urlId===s.urlId||!u.loader||this.abortCurrentFrag();var l=0;if(o.live||null!=(n=s.details)&&n.live){if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;l=this.alignPlaylists(o,s.details)}if(s.details=o,this.levelLastLoaded=i,this.hls.trigger(k.LEVEL_UPDATED,{details:o,level:i}),this.state===er){if(this.waitForCdnTuneIn(o))return;this.state=Vn}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,l),this.tick()}else this.warn("Levels were reset while loading level ".concat(i))}},{key:"_handleFragmentLoadProgress",value:function(t){var e,n=t.frag,r=t.part,i=t.payload,o=this.levels;if(o){var a=o[n.level],s=a.details;if(!s)return this.warn("Dropping fragment ".concat(n.sn," of level ").concat(n.level," after level details were reset")),void this.fragmentTracker.removeFragment(n);var u=a.videoCodec,l=s.PTSKnown||!s.live,c=null==(e=n.initSegment)?void 0:e.data,f=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new li(this.hls,ye,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),d=r?r.index:-1,p=-1!==d,g=new Dn(n.level,n.sn,n.stats.chunkCount,i.byteLength,d,p),v=this.initPTS[n.cc];h.push(i,c,f,u,n,r,s.totalduration,l,g,v)}else this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"))}},{key:"onAudioTrackSwitching",value:function(t,e){var n=this.altAudio;if(!!!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r&&(this.log("Switching to main audio track, cancel main fragment load"),r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var i=this.hls;n&&(i.trigger(k.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(k.AUDIO_TRACK_SWITCHED,e)}}},{key:"onAudioTrackSwitched",value:function(t,e){var n=e.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()}},{key:"onBufferCreated",value:function(t,e){var n,r,i=e.tracks,o=!1;for(var a in i){var s=i[a];if("main"===s.id){if(r=a,n=s,"video"===a){var u=i[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use ".concat(r,".buffered to schedule main fragment loading")),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onFragBuffered",value:function(t,e){var n=e.frag,r=e.part;if(!n||n.type===ye){if(this.fragContextChanged(n))return this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===Zn&&(this.state=Vn));var i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}}},{key:"onError",value:function(t,e){var n;if(e.fatal)this.state=Qn;else switch(e.details){case M.FRAG_GAP:case M.FRAG_PARSING_ERROR:case M.FRAG_DECRYPT_ERROR:case M.FRAG_LOAD_ERROR:case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_ERROR:case M.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ye,e);break;case M.LEVEL_LOAD_ERROR:case M.LEVEL_LOAD_TIMEOUT:case M.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==er||(null==(n=e.context)?void 0:n.type)!==ge||(this.state=Vn);break;case M.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case M.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}},{key:"checkBuffer",value:function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){if(this.loadedmetadata||!Ln.getBuffered(t).length){var n=this.state!==Vn?this.fragCurrent:null;e.poll(this.lastCurrentTime,n)}this.lastCurrentTime=t.currentTime}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=Vn,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}},{key:"onBufferFlushed",value:function(t,e){var n=e.type;if(n!==U||this.audioOnly&&!this.altAudio){var r=(n===H?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,ye)}}},{key:"onLevelsUpdated",value:function(t,e){this.levels=e.levels}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"seekToStartPos",value:function(){var t=this.media;if(t){var e=t.currentTime,n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log("could not seek to ".concat(n,", already seeking at ").concat(e));var r=Ln.getBuffered(t),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(i," to match buffer start")),n+=i,this.startPosition=n),this.log("seek to target start position ".concat(n," from current time ").concat(e)),t.currentTime=n}}}},{key:"_getAudioCodec",value:function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}},{key:"_loadBitrateTestFrag",value:function(t,e){var n=this;t.bitrateTest=!0,this._doFragLoad(t,e).then((function(r){var i=n.hls;if(r&&!n.fragContextChanged(t)){e.fragmentError=0,n.state=Vn,n.startFragRequested=!1,n.bitrateTest=!1;var o=t.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),i.trigger(k.FRAG_LOADED,r),t.bitrateTest=!1}}))}},{key:"_handleTransmuxComplete",value:function(t){var e,n="main",r=this.hls,i=t.remuxResult,o=t.chunkMeta,a=this.getCurrentContext(o);if(a){var s=a.frag,u=a.part,l=a.level,c=i.video,f=i.text,h=i.id3,d=i.initSegment,p=l.details,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=$n,d){if(null!=d&&d.tracks){var v=s.initSegment||s;this._bufferInitSegment(l,d.tracks,v,o),r.trigger(k.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:n,tracks:d.tracks})}var m=d.initPTS,y=d.timescale;_(m)&&(this.initPTS[s.cc]={baseTime:m,timescale:y},r.trigger(k.INIT_PTS_FOUND,{frag:s,id:n,initPTS:m,timescale:y}))}if(c&&p&&"initSegment"!==s.sn){var b=p.fragments[s.sn-1-p.startSN],w=s.sn===p.startSN,S=!b||s.cc>b.cc;if(!1!==i.independent){var T=c.startPTS,E=c.endPTS,x=c.startDTS,M=c.endDTS;if(u)u.elementaryStreams[c.type]={startPTS:T,endPTS:E,startDTS:x,endDTS:M};else if(c.firstKeyFrame&&c.independent&&1===o.id&&!S&&(this.couldBacktrack=!0),c.dropped&&c.independent){var A=this.getMainFwdBufferInfo(),R=(A?A.end:this.getLoadPosition())+this.config.maxBufferHole,I=c.firstKeyFramePTS?c.firstKeyFramePTS:T;if(!w&&R<I-this.config.maxBufferHole&&!S)return void this.backtrack(s);S&&(s.gap=!0),s.setElementaryStreamInfo(c.type,s.start,E,s.start,M,!0)}s.setElementaryStreamInfo(c.type,T,E,x,M),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(c,s,u,o,w||S)}else{if(!w&&!S)return void this.backtrack(s);s.gap=!0}}if(g){var C=g.startPTS,L=g.endPTS,D=g.startDTS,O=g.endDTS;u&&(u.elementaryStreams[U]={startPTS:C,endPTS:L,startDTS:D,endDTS:O}),s.setElementaryStreamInfo(U,C,L,D,O),this.bufferFragmentData(g,s,u,o)}if(p&&null!=h&&null!=(e=h.samples)&&e.length){var P={id:n,frag:s,details:p,samples:h.samples};r.trigger(k.FRAG_PARSING_METADATA,P)}if(p&&f){var N={id:n,frag:s,details:p,samples:f.samples};r.trigger(k.FRAG_PARSING_USERDATA,N)}}}else this.resetWhenMissingContext(o)}},{key:"_bufferInitSegment",value:function(t,e,n,r){var i=this;if(this.state===$n){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var o=e.audio,a=e.video,s=e.audiovideo;if(o){var u=t.audioCodec,l=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===l.indexOf("firefox")&&(u="mp4a.40.5")),-1!==l.indexOf("android")&&"audio/mpeg"!==o.container&&(u="mp4a.40.2",this.log("Android: force audio codec to ".concat(u))),t.audioCodec&&t.audioCodec!==u&&this.log('Swapping manifest audio codec "'.concat(t.audioCodec,'" for "').concat(u,'"')),o.levelCodec=u,o.id="main",this.log("Init audio buffer, container:".concat(o.container,", codecs[selected/level/parsed]=[").concat(u||"","/").concat(t.audioCodec||"","/").concat(o.codec,"]"))}a&&(a.levelCodec=t.videoCodec,a.id="main",this.log("Init video buffer, container:".concat(a.container,", codecs[level/parsed]=[").concat(t.videoCodec||"","/").concat(a.codec,"]"))),s&&this.log("Init audiovideo buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(t.attrs.CODECS||"","/").concat(s.codec,"]")),this.hls.trigger(k.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var o=e[t].initSegment;null!=o&&o.byteLength&&i.hls.trigger(k.BUFFER_APPENDING,{type:t,data:o,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}}},{key:"getMainFwdBufferInfo",value:function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ye)}},{key:"backtrack",value:function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Vn}},{key:"checkFragmentChanged",value:function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var n=t.currentTime;if(Ln.isBuffered(t,n)?e=this.getAppendedFrag(n):Ln.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;var r=this.fragPlaying,i=e.level;r&&e.sn===r.sn&&r.level===i&&e.urlId===r.urlId||(this.fragPlaying=e,this.hls.trigger(k.FRAG_CHANGED,{frag:e}),r&&r.level===i||this.hls.trigger(k.LEVEL_SWITCHED,{level:i}))}}}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}},{key:"currentProgramDateTime",get:function(){var t=this.media;if(t){var e=t.currentTime,n=this.currentFrag;if(n&&_(e)&&_(n.programDateTime)){var r=n.programDateTime+1e3*(e-n.start);return new Date(r)}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),n}(nr),hi=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(p.a)(this,t),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}return Object(g.a)(t,[{key:"sample",value:function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}]),t}(),di=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Object(p.a)(this,t),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new hi(e),this.fast_=new hi(n),this.defaultTTFB_=i,this.ttfb_=new hi(e)}return Object(g.a)(t,[{key:"update",value:function(t,e){var n=this.slow_,r=this.fast_,i=this.ttfb_;n.halfLife!==t&&(this.slow_=new hi(t,n.getEstimate(),n.getTotalWeight())),r.halfLife!==e&&(this.fast_=new hi(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==t&&(this.ttfb_=new hi(t,i.getEstimate(),i.getTotalWeight()))}},{key:"sample",value:function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}},{key:"sampleTTFB",value:function(t){var e=t/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(t,5))}},{key:"canEstimate",value:function(){return this.fast_.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"getEstimateTTFB",value:function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}},{key:"destroy",value:function(){}}]),t}(),pi=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var n=e.config;this.bwEstimator=new di(n.abrEwmaSlowVoD,n.abrEwmaFastVoD,n.abrEwmaDefaultEstimate),this.registerListeners()}return Object(g.a)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(k.FRAG_LOADING,this.onFragLoading,this),t.on(k.FRAG_LOADED,this.onFragLoaded,this),t.on(k.FRAG_BUFFERED,this.onFragBuffered,this),t.on(k.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(k.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(k.FRAG_LOADING,this.onFragLoading,this),t.off(k.FRAG_LOADED,this.onFragLoaded,this),t.off(k.FRAG_BUFFERED,this.onFragBuffered,this),t.off(k.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(k.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}},{key:"onFragLoading",value:function(t,e){var n,r=e.frag;this.ignoreFragment(r)||(this.fragCurrent=r,this.partCurrent=null!=(n=e.part)?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}},{key:"onLevelSwitching",value:function(t,e){this.clearTimer()}},{key:"getTimeToLoadFrag",value:function(t,e,n,r){return t+n/e+(r?this.lastLevelLoadSec:0)}},{key:"onLevelLoaded",value:function(t,e){var n=this.hls.config,r=e.stats,i=r.total,o=r.bwEstimate;_(i)&&_(o)&&(this.lastLevelLoadSec=8*i/o),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}},{key:"_abandonRulesCheck",value:function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,r=n.autoLevelEnabled,i=n.media;if(t&&i){var o=performance.now(),a=e?e.stats:t.stats,s=e?e.duration:t.duration,u=o-a.loading.start;if(a.aborted||a.loaded&&a.loaded===a.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!i.paused&&i.playbackRate&&i.readyState){var l=n.mainForwardBufferInfo;if(null!==l){var c=this.bwEstimator.getEstimateTTFB(),f=Math.abs(i.playbackRate);if(!(u<=Math.max(c,s/(2*f)*1e3))){var h=l.len/f;if(!(h>=2*s/f)){var d=a.loading.first?a.loading.first-a.loading.start:-1,p=a.loaded&&d>-1,g=this.bwEstimator.getEstimate(),v=n.levels,m=n.minAutoLevel,y=v[t.level],b=a.total||Math.max(a.loaded,Math.round(s*y.maxBitrate/8)),w=u-d;w<1&&p&&(w=Math.min(u,8*a.loaded/g));var S=p?1e3*a.loaded/w:0,T=S?(b-a.loaded)/S:8*b/g+c/1e3;if(!(T<=h)){var E,x=S?8*S:g,M=Number.POSITIVE_INFINITY;for(E=t.level-1;E>m;E--){var A=v[E].maxBitrate;if((M=this.getTimeToLoadFrag(c/1e3,x,s*A,!v[E].details))<h)break}M>=T||M>10*s||(n.nextLoadLevel=E,p?this.bwEstimator.sample(u-Math.min(c,d),a.loaded):this.bwEstimator.sampleTTFB(u),this.clearTimer(),D.warn("[abr] Fragment ".concat(t.sn).concat(e?" part "+e.index:""," of level ").concat(t.level," is loading too slowly;\n      Time to underbuffer: ").concat(h.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(T.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(M.toFixed(3)," s\n      TTFB estimate: ").concat(d,"\n      Current BW estimate: ").concat(_(g)?(g/1024).toFixed(3):"Unknown"," Kb/s\n      New BW estimate: ").concat((this.bwEstimator.getEstimate()/1024).toFixed(3)," Kb/s\n      Aborting and switching to level ").concat(E)),t.loader&&(this.fragCurrent=this.partCurrent=null,t.abortRequests()),n.trigger(k.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:a}))}}}}}}}},{key:"onFragLoaded",value:function(t,e){var n=e.frag,r=e.part,i=r?r.stats:n.stats;if(n.type===ye&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var o=r?r.duration:n.duration,a=this.hls.levels[n.level],s=(a.loaded?a.loaded.bytes:0)+i.loaded,u=(a.loaded?a.loaded.duration:0)+o;a.loaded={bytes:s,duration:u},a.realBitrate=Math.round(8*s/u)}if(n.bitrateTest){var l={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(k.FRAG_BUFFERED,l),n.bitrateTest=!1}}}},{key:"onFragBuffered",value:function(t,e){var n=e.frag,r=e.part,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(!i.aborted&&!this.ignoreFragment(n)){var o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}}},{key:"ignoreFragment",value:function(t){return t.type!==ye||"initSegment"===t.sn}},{key:"clearTimer",value:function(){self.clearInterval(this.timer)}},{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;var n=this.getNextABRAutoLevel();if(-1!==t){var r=this.hls.levels;if(r.length>Math.max(t,n)&&r[t].loadError<=r[n].loadError)return t}return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"getNextABRAutoLevel",value:function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,o=n.minAutoLevel,a=n.media,s=e?e.duration:t?t.duration:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,l=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,c=n.mainForwardBufferInfo,f=(c?c.len:0)/u,h=this.findBestLevel(l,o,r,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;D.trace("[abr] ".concat(f?"rebuffering expected":"buffer is empty",", finding optimal quality level"));var d=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(!f){var v=this.bitrateTestDelay;if(v)d=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-v,D.trace("[abr] bitrate test took ".concat(Math.round(1e3*v),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*d)," ms")),p=g=1}return h=this.findBestLevel(l,o,r,f+d,p,g),Math.max(h,0)}},{key:"findBestLevel",value:function(t,e,n,r,i,o){for(var a,s=this.fragCurrent,u=this.partCurrent,l=this.lastLoadedFragLevel,c=this.hls.levels,f=c[l],h=!(null==f||null==(a=f.details)||!a.live),d=null==f?void 0:f.codecSet,p=u?u.duration:s?s.duration:0,g=this.bwEstimator.getEstimateTTFB()/1e3,v=e,m=-1,y=n;y>=e;y--){var b=c[y];if(!b||d&&b.codecSet!==d)b&&(v=Math.min(y,v),m=Math.max(y,m));else{-1!==m&&D.trace("[abr] Skipped level(s) ".concat(v,"-").concat(m,' with CODECS:"').concat(c[m].attrs.CODECS,'"; not compatible with "').concat(f.attrs.CODECS,'"'));var w=b.details,S=(u?null==w?void 0:w.partTarget:null==w?void 0:w.averagetargetduration)||p,T=void 0;T=y<=l?i*t:o*t;var E=c[y].maxBitrate,k=this.getTimeToLoadFrag(g,T,E*S,void 0===w);if(D.trace("[abr] level:".concat(y," adjustedbw-bitrate:").concat(Math.round(T-E)," avgDuration:").concat(S.toFixed(1)," maxFetchDuration:").concat(r.toFixed(1)," fetchDuration:").concat(k.toFixed(1))),T>E&&(0===k||!_(k)||h&&!this.bitrateTestDelay||k<r))return y}}return-1}}]),t}(),gi=function(){function t(){Object(p.a)(this,t),this.chunks=[],this.dataLength=0}return Object(g.a)(t,[{key:"push",value:function(t){this.chunks.push(t),this.dataLength+=t.length}},{key:"flush",value:function(){var t,e=this.chunks,n=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var n=new Uint8Array(e),r=0,i=0;i<t.length;i++){var o=t[i];n.set(o,r),r+=o.length}return n}(e,n),this.reset(),t):new Uint8Array(0)}},{key:"reset",value:function(){this.chunks.length=0,this.dataLength=0}}]),t}();var vi=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(p.a)(this,n),(o=e.call(this,t,r,i,"[audio-stream-controller]",be)).videoBuffer=null,o.videoTrackCC=-1,o.waitingVideoCC=-1,o.bufferedTrack=null,o.switchingTrack=null,o.trackId=-1,o.waitingData=null,o.mainDetails=null,o.bufferFlushed=!1,o.cachedTrackLoadedData=null,o._registerListeners(),o}return Object(g.a)(n,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}},{key:"_registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.LEVEL_LOADED,this.onLevelLoaded,this),t.on(k.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(k.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(k.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(k.ERROR,this.onError,this),t.on(k.BUFFER_RESET,this.onBufferReset,this),t.on(k.BUFFER_CREATED,this.onBufferCreated,this),t.on(k.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(k.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(k.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.LEVEL_LOADED,this.onLevelLoaded,this),t.off(k.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(k.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(k.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(k.ERROR,this.onError,this),t.off(k.BUFFER_RESET,this.onBufferReset,this),t.off(k.BUFFER_CREATED,this.onBufferCreated,this),t.off(k.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(k.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(k.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onInitPtsFound",value:function(t,e){var n=e.frag,r=e.id,i=e.initPTS,o=e.timescale;if("main"===r){var a=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:o},this.log("InitPTS for cc: ".concat(a," found from main: ").concat(i)),this.videoTrackCC=a,this.state===tr&&this.tick()}}},{key:"startLoad",value:function(t){if(!this.levels)return this.startPosition=t,void(this.state=qn);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @".concat(e.toFixed(3))),t=e,this.state=Vn):(this.loadedmetadata=!1,this.state=Xn),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}},{key:"doTick",value:function(){switch(this.state){case Vn:this.doTickIdle();break;case Xn:var t,e=this.levels,r=this.trackId,i=null==e||null==(t=e[r])?void 0:t.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=tr}break;case Yn:var o,a=performance.now(),s=this.retryDate;(!s||a>=s||null!=(o=this.media)&&o.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Vn);break;case tr:var u=this.waitingData;if(u){var f=u.frag,h=u.part,d=u.cache,p=u.complete;if(void 0!==this.initPTS[f.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Wn;var g={frag:f,part:h,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(g),p&&Object(l.a)(Object(c.a)(n.prototype),"_handleFragmentLoadComplete",this).call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(f.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{var v=this.getLoadPosition(),m=Ln.bufferInfo(this.mediaBuffer,v,this.config.maxBufferHole);nn(m.end,this.config.maxFragLookUpTolerance,f)<0&&(this.log("Waiting fragment cc (".concat(f.cc,") @ ").concat(f.start," cancelled because another fragment at ").concat(m.end," is needed")),this.clearWaitingFragment())}}else this.state=Vn}this.onTickEnd()}},{key:"clearWaitingFragment",value:function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Vn)}},{key:"resetLoadingState",value:function(){this.clearWaitingFragment(),Object(l.a)(Object(c.a)(n.prototype),"resetLoadingState",this).call(this)}},{key:"onTickEnd",value:function(){var t=this.media;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}},{key:"doTickIdle",value:function(){var t=this.hls,e=this.levels,n=this.media,r=this.trackId,i=t.config;if(null!=e&&e[r]&&(n||!this.startFragRequested&&i.startFragPrefetch)){var o=e[r],a=o.details;if(!a||a.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(a))this.state=Xn;else{var s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,U,be));var u=this.getFwdBufferInfo(s,be);if(null!==u){var l=this.bufferedTrack,c=this.switchingTrack;if(!c&&this._streamEnded(u,a))return t.trigger(k.BUFFER_EOS,{type:"audio"}),void(this.state=Jn);var f=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ye),h=u.len,d=this.getMaxBufferLength(null==f?void 0:f.len);if(!(h>=d)||c){var p=a.fragments[0].start,g=u.end;if(c&&n){var v=this.getLoadPosition();l&&c.attrs!==l.attrs&&(g=v),a.PTSKnown&&v<p&&(u.end>p||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=p+.05)}var m=this.getNextFragment(g,a),y=!1;if(m&&this.isLoopLoading(m,g)&&(y=!!m.gap,m=this.getNextFragmentLoopLoading(m,a,u,ye,d)),m){var b=f&&m.start>f.end+a.targetduration;if(b||(null==f||!f.len)&&u.len){var w=this.getAppendedFrag(m.start,ye);if(null===w)return;if(y||(y=!!w.gap||!!b&&0===f.len),b&&!y||y&&u.nextStart&&u.nextStart<w.end)return}this.loadFragment(m,o,g)}else this.bufferFlushed=!0}}}}}},{key:"getMaxBufferLength",value:function(t){var e=Object(l.a)(Object(c.a)(n.prototype),"getMaxBufferLength",this).call(this);return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}},{key:"onMediaDetaching",value:function(){this.videoBuffer=null,Object(l.a)(Object(c.a)(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onAudioTracksUpdated",value:function(t,e){var n=e.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(t){return new He(t)}))}},{key:"onAudioTrackSwitching",value:function(t,e){var n=!!e.url;this.trackId=e.id;var r=this.fragCurrent;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state=Vn):(this.switchingTrack=null,this.bufferedTrack=e,this.state=qn),this.tick()}},{key:"onManifestLoading",value:function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}},{key:"onLevelLoaded",value:function(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(k.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}},{key:"onAudioTrackLoaded",value:function(t,e){var n;if(null!=this.mainDetails){var r=this.levels,i=e.details,o=e.id;if(r){this.log("Track ".concat(o," loaded [").concat(i.startSN,",").concat(i.endSN,"]").concat(i.lastPartSn?"[part-".concat(i.lastPartSn,"-").concat(i.lastPartIndex,"]"):"",",duration:").concat(i.totalduration));var a=r[o],s=0;if(i.live||null!=(n=a.details)&&n.live){this.checkLiveUpdate(i);var u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;!a.details&&i.hasProgramDateTime&&u.hasProgramDateTime?(Bn(i,u),s=i.fragments[0].start):s=this.alignPlaylists(i,a.details)}a.details=i,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(a.details,s),this.state!==Xn||this.waitForCdnTuneIn(i)||(this.state=Vn),this.tick()}else this.warn("Audio tracks were reset while loading level ".concat(o))}else this.cachedTrackLoadedData=e}},{key:"_handleFragmentLoadProgress",value:function(t){var e,n=t.frag,r=t.part,i=t.payload,o=this.config,a=this.trackId,s=this.levels;if(s){var u=s[a];if(u){var l=u.details;if(!l)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);var c=o.defaultAudioCodec||u.audioCodec||"mp4a.40.2",f=this.transmuxer;f||(f=this.transmuxer=new li(this.hls,be,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var h=this.initPTS[n.cc],d=null==(e=n.initSegment)?void 0:e.data;if(void 0!==h){var p=r?r.index:-1,g=-1!==p,v=new Dn(n.level,n.sn,n.stats.chunkCount,i.byteLength,p,g);f.push(i,d,c,"",n,r,l.totalduration,!1,v,h)}else{this.log("Unknown video PTS for cc ".concat(n.cc,", waiting for video PTS before demuxing audio frag ").concat(n.sn," of [").concat(l.startSN," ,").concat(l.endSN,"],track ").concat(a)),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new gi,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=tr}}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"))}},{key:"_handleFragmentLoadComplete",value:function(t){this.waitingData?this.waitingData.complete=!0:Object(l.a)(Object(c.a)(n.prototype),"_handleFragmentLoadComplete",this).call(this,t)}},{key:"onBufferReset",value:function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}},{key:"onBufferCreated",value:function(t,e){var n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}},{key:"onFragBuffered",value:function(t,e){var n=e.frag,r=e.part;if(n.type===be)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;var i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(k.AUDIO_TRACK_SWITCHED,S({},i)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===ye){var o=this.videoBuffer||this.media;if(o)Ln.getBuffered(o).length&&(this.loadedmetadata=!0)}}},{key:"onError",value:function(t,e){var r;if(e.fatal)this.state=Qn;else switch(e.details){case M.FRAG_GAP:case M.FRAG_PARSING_ERROR:case M.FRAG_DECRYPT_ERROR:case M.FRAG_LOAD_ERROR:case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_ERROR:case M.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(be,e);break;case M.AUDIO_TRACK_LOAD_ERROR:case M.AUDIO_TRACK_LOAD_TIMEOUT:case M.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Xn||(null==(r=e.context)?void 0:r.type)!==ve||(this.state=Vn);break;case M.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,Object(l.a)(Object(c.a)(n.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case M.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}},{key:"onBufferFlushed",value:function(t,e){e.type===U&&(this.bufferFlushed=!0,this.state===Jn&&(this.state=Vn))}},{key:"_handleTransmuxComplete",value:function(t){var e,n="audio",r=this.hls,i=t.remuxResult,o=t.chunkMeta,a=this.getCurrentContext(o);if(a){var s=a.frag,u=a.part,l=a.level.details,c=i.audio,f=i.text,h=i.id3,d=i.initSegment;if(!this.fragContextChanged(s)&&l){if(this.state=$n,this.switchingTrack&&c&&this.completeAudioSwitch(this.switchingTrack),null!=d&&d.tracks){var p=s.initSegment||s;this._bufferInitSegment(d.tracks,p,o),r.trigger(k.FRAG_PARSING_INIT_SEGMENT,{frag:p,id:n,tracks:d.tracks})}if(c){var g=c.startPTS,v=c.endPTS,m=c.startDTS,y=c.endDTS;u&&(u.elementaryStreams[U]={startPTS:g,endPTS:v,startDTS:m,endDTS:y}),s.setElementaryStreamInfo(U,g,v,m,y),this.bufferFragmentData(c,s,u,o)}if(null!=h&&null!=(e=h.samples)&&e.length){var b=E({id:n,frag:s,details:l},h);r.trigger(k.FRAG_PARSING_METADATA,b)}if(f){var w=E({id:n,frag:s,details:l},f);r.trigger(k.FRAG_PARSING_USERDATA,w)}}else this.fragmentTracker.removeFragment(s)}else this.resetWhenMissingContext(o)}},{key:"_bufferInitSegment",value:function(t,e,n){if(this.state===$n){t.video&&delete t.video;var r=t.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:".concat(r.container,", codecs[parsed]=[").concat(r.codec,"]")),this.hls.trigger(k.BUFFER_CODECS,t);var i=r.initSegment;if(null!=i&&i.byteLength){var o={type:"audio",frag:e,part:null,chunkMeta:n,parent:e.type,data:i};this.hls.trigger(k.BUFFER_APPENDING,o)}this.tick()}}}},{key:"loadFragment",value:function(t,e,r){var i,o=this.fragmentTracker.getState(t);(this.fragCurrent=t,this.switchingTrack||o===mn||o===bn)?"initSegment"===t.sn?this._loadInitSegment(t,e):null!=(i=e.details)&&i.live&&!this.initPTS[t.cc]?(this.log("Waiting for video PTS in continuity counter ".concat(t.cc," of live stream before loading audio fragment ").concat(t.sn," of level ").concat(this.trackId)),this.state=tr):(this.startFragRequested=!0,Object(l.a)(Object(c.a)(n.prototype),"loadFragment",this).call(this,t,e,r)):this.clearTrackerIfNeeded(t)}},{key:"completeAudioSwitch",value:function(t){var e=this.hls,r=this.media,i=this.bufferedTrack,o=null==i?void 0:i.attrs,a=t.attrs;r&&o&&(o.CHANNELS!==a.CHANNELS||o.NAME!==a.NAME||o.LANGUAGE!==a.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),Object(l.a)(Object(c.a)(n.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(k.AUDIO_TRACK_SWITCHED,S({},t))}}]),n}(nr),mi=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(p.a)(this,n),(r=e.call(this,t,"[audio-track-controller]")).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}return Object(g.a)(n,[{key:"registerListeners",value:function(){var t=this.hls;t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.MANIFEST_PARSED,this.onManifestParsed,this),t.on(k.LEVEL_LOADING,this.onLevelLoading,this),t.on(k.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(k.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(k.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_PARSED,this.onManifestParsed,this),t.off(k.LEVEL_LOADING,this.onLevelLoading,this),t.off(k.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(k.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(k.ERROR,this.onError,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,Object(l.a)(Object(c.a)(n.prototype),"destroy",this).call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(t,e){this.tracks=e.audioTracks||[]}},{key:"onAudioTrackLoaded",value:function(t,e){var n=e.id,r=e.groupId,i=e.details,o=this.tracksInGroup[n];if(o&&o.groupId===r){var a=o.details;o.details=e.details,this.log("audio-track ".concat(n,' "').concat(o.name,'" lang:').concat(o.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,e,a)}else this.warn("Track with id:".concat(n," and group:").concat(r," not found in active group ").concat(o.groupId))}},{key:"onLevelLoading",value:function(t,e){this.switchLevel(e.level)}},{key:"onLevelSwitching",value:function(t,e){this.switchLevel(e.level)}},{key:"switchLevel",value:function(t){var e=this.hls.levels[t];if(null!=e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];if(this.groupId!==n){this.groupId=n||null;var r=this.tracks.filter((function(t){return!n||t.groupId===n}));this.selectDefaultTrack&&!r.some((function(t){return t.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=r;var i={audioTracks:r};this.log("Updating audio tracks, ".concat(r.length," track(s) found in group:").concat(n)),this.hls.trigger(k.AUDIO_TRACKS_UPDATED,i),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}}},{key:"onError",value:function(t,e){!e.fatal&&e.context&&e.context.type===ve&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}},{key:"setAudioTrack",value:function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=this.currentTrack;e[this.trackId];var r=e[t],i=r.groupId,o=r.name;if(this.log("Switching to audio-track ".concat(t,' "').concat(o,'" lang:').concat(r.lang," group:").concat(i)),this.trackId=t,this.currentTrack=r,this.selectDefaultTrack=!1,this.hls.trigger(k.AUDIO_TRACK_SWITCHING,S({},r)),!r.details||r.details.live){var a=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(a)}}}},{key:"selectInitialTrack",value:function(){var t=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{var n=new Error("No track found for running audio group-ID: ".concat(this.groupId," track count: ").concat(t.length));this.warn(n.message),this.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}},{key:"findTrackId",value:function(t){for(var e=this.tracksInGroup,n=0;n<e.length;n++){var r=e[n];if(!this.selectDefaultTrack||r.default){if(!t||void 0!==t.attrs["STABLE-RENDITION-ID"]&&t.attrs["STABLE-RENDITION-ID"]===r.attrs["STABLE-RENDITION-ID"])return r.id;if(t.name===r.name&&t.lang===r.lang)return r.id}}return-1}},{key:"loadPlaylist",value:function(t){Object(l.a)(Object(c.a)(n.prototype),"loadPlaylist",this).call(this);var e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){var r=e.id,i=e.groupId,o=e.url;if(t)try{o=t.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(a))}this.log("loading audio-track playlist ".concat(r,' "').concat(e.name,'" lang:').concat(e.lang," group:").concat(i)),this.clearTimer(),this.hls.trigger(k.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:t||null})}}}]),n}(dn);function yi(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!bi(t[n].attrs,e[n].attrs))return!1;return!0}function bi(t,e){var n=t["STABLE-RENDITION-ID"];return n?n===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(n){return t[n]!==e[n]}))}var wi=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(p.a)(this,n),(o=e.call(this,t,r,i,"[subtitle-stream-controller]",we)).levels=[],o.currentTrackId=-1,o.tracksBuffered=[],o.mainDetails=null,o._registerListeners(),o}return Object(g.a)(n,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null}},{key:"_registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.LEVEL_LOADED,this.onLevelLoaded,this),t.on(k.ERROR,this.onError,this),t.on(k.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(k.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(k.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(k.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(k.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(k.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.LEVEL_LOADED,this.onLevelLoaded,this),t.off(k.ERROR,this.onError,this),t.off(k.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(k.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(k.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(k.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(k.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(k.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"startLoad",value:function(t){this.stopLoad(),this.state=Vn,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}},{key:"onManifestLoading",value:function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}},{key:"onMediaDetaching",value:function(){this.tracksBuffered=[],Object(l.a)(Object(c.a)(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onLevelLoaded",value:function(t,e){this.mainDetails=e.details}},{key:"onSubtitleFragProcessed",value:function(t,e){var n=e.frag,r=e.success;if(this.fragPrevious=n,this.state=Vn,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var o,a=n.start,s=0;s<i.length;s++)if(a>=i[s].start&&a<=i[s].end){o=i[s];break}var u=n.start+n.duration;o?o.end=u:(o={start:a,end:u},i.push(o)),this.fragmentTracker.fragBuffered(n)}}}},{key:"onBufferFlushing",value:function(t,e){var n=e.startOffset,r=e.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=r-1;if(i<=0)return;e.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach((function(t){for(var e=0;e<t.length;)if(t[e].end<=i)t.shift();else{if(!(t[e].start<i))break;t[e].start=i,e++}})),this.fragmentTracker.removeFragmentsInRange(n,i,we)}}},{key:"onFragBuffered",value:function(t,e){var n;this.loadedmetadata||e.frag.type!==ye||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(t,e){var n=e.frag;(null==n?void 0:n.type)===we&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==qn&&(this.state=Vn))}},{key:"onSubtitleTracksUpdated",value:function(t,e){var n=this,r=e.subtitleTracks;yi(this.levels,r)?this.levels=r.map((function(t){return new He(t)})):(this.tracksBuffered=[],this.levels=r.map((function(t){var e=new He(t);return n.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,we),this.fragPrevious=null,this.mediaBuffer=null)}},{key:"onSubtitleTrackSwitch",value:function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!=n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}else this.clearInterval()}},{key:"onSubtitleTrackLoaded",value:function(t,e){var n,r=e.details,i=e.id,o=this.currentTrackId,a=this.levels;if(a.length){var s=a[o];if(!(i>=a.length||i!==o)&&s){this.mediaBuffer=this.mediaBufferTimeRanges;var u=0;if(r.live||null!=(n=s.details)&&n.live){var l=this.mainDetails;if(r.deltaUpdateFailed||!l)return;var c=l.fragments[0];s.details?0===(u=this.alignPlaylists(r,s.details))&&c&&ze(r,u=c.start):r.hasProgramDateTime&&l.hasProgramDateTime?(Bn(r,l),u=r.fragments[0].start):c&&ze(r,u=c.start)}if(s.details=r,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(s.details,u),this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===Vn)en(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}}},{key:"_handleFragmentLoadComplete",value:function(t){var e=this,n=t.frag,r=t.payload,i=n.decryptdata,o=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var a=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((function(t){throw o.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:n}),t})).then((function(t){var e=performance.now();o.trigger(k.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:a,tdecrypt:e}})})).catch((function(t){e.warn("".concat(t.name,": ").concat(t.message)),e.state=Vn}))}}},{key:"doTick",value:function(){if(this.media){if(this.state===Vn){var t=this.currentTrackId,e=this.levels,n=e[t];if(!e.length||!n||!n.details)return;var r=this.config,i=this.getLoadPosition(),o=Ln.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),a=o.end,s=o.len,u=this.getFwdBufferInfo(this.media,ye),l=n.details;if(s>this.getMaxBufferLength(null==u?void 0:u.len)+l.levelTargetDuration)return;var c=l.fragments,f=c.length,h=l.edge,d=null,p=this.fragPrevious;if(a<h){var g=r.maxFragLookUpTolerance,v=a>h-g?0:g;!(d=en(p,c,Math.max(c[0].start,a),v))&&p&&p.start<c[0].start&&(d=c[0])}else d=c[f-1];if(!d)return;if("initSegment"!==(d=this.mapToInitFragWhenRequired(d)).sn){var m=c[d.sn-l.startSN-1];m&&m.cc===d.cc&&this.fragmentTracker.getState(m)===mn&&(d=m)}this.fragmentTracker.getState(d)===mn&&this.loadFragment(d,n,a)}}else this.state=Vn}},{key:"getMaxBufferLength",value:function(t){var e=Object(l.a)(Object(c.a)(n.prototype),"getMaxBufferLength",this).call(this);return t?Math.max(e,t):e}},{key:"loadFragment",value:function(t,e,r){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,Object(l.a)(Object(c.a)(n.prototype),"loadFragment",this).call(this,t,e,r))}},{key:"mediaBufferTimeRanges",get:function(){return new Si(this.tracksBuffered[this.currentTrackId]||[])}}]),n}(nr),Si=function t(e){Object(p.a)(this,t),this.buffered=void 0;var n=function(t,n,r){if((n>>>=0)>r-1)throw new DOMException("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(n,") is greater than the maximum bound (").concat(r,")"));return e[n][t]};this.buffered={get length(){return e.length},end:function(t){return n("end",t,e.length)},start:function(t){return n("start",t,e.length)}}},Ti=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(p.a)(this,n),(r=e.call(this,t,"[subtitle-track-controller]")).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}return Object(g.a)(n,[{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,Object(l.a)(Object(c.a)(n.prototype),"destroy",this).call(this)}},{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.MANIFEST_PARSED,this.onManifestParsed,this),t.on(k.LEVEL_LOADING,this.onLevelLoading,this),t.on(k.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(k.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(k.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_PARSED,this.onManifestParsed,this),t.off(k.LEVEL_LOADING,this.onLevelLoading,this),t.off(k.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(k.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(k.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}},{key:"pollTrackChange",value:function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)}},{key:"onMediaDetaching",value:function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Ei(this.media.textTracks).forEach((function(t){xe(t)})),this.subtitleTrack=-1,this.media=null)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(t,e){this.tracks=e.subtitleTracks}},{key:"onSubtitleTrackLoaded",value:function(t,e){var n=e.id,r=e.details,i=this.trackId,o=this.tracksInGroup[i];if(o){var a=o.details;o.details=e.details,this.log("subtitle track ".concat(n," loaded [").concat(r.startSN,"-").concat(r.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,e,a)}else this.warn("Invalid subtitle track id ".concat(n))}},{key:"onLevelLoading",value:function(t,e){this.switchLevel(e.level)}},{key:"onLevelSwitching",value:function(t,e){this.switchLevel(e.level)}},{key:"switchLevel",value:function(t){var e=this.hls.levels[t];if(null!=e&&e.textGroupIds){var n=e.textGroupIds[e.urlId],r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){var i=this.tracks.filter((function(t){return!n||t.groupId===n}));this.tracksInGroup=i;var o=this.findTrackId(null==r?void 0:r.name)||this.findTrackId();this.groupId=n||null;var a={subtitleTracks:i};this.log("Updating subtitle tracks, ".concat(i.length,' track(s) found in "').concat(n,'" group-id')),this.hls.trigger(k.SUBTITLE_TRACKS_UPDATED,a),-1!==o&&this.setSubtitleTrack(o,r)}else this.shouldReloadPlaylist(r)&&this.setSubtitleTrack(this.trackId,r)}}},{key:"findTrackId",value:function(t){for(var e=this.tracksInGroup,n=0;n<e.length;n++){var r=e[n];if((!this.selectDefaultTrack||r.default)&&(!t||t===r.name))return r.id}return-1}},{key:"onError",value:function(t,e){!e.fatal&&e.context&&e.context.type===me&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}},{key:"loadPlaylist",value:function(t){Object(l.a)(Object(c.a)(n.prototype),"loadPlaylist",this).call(this);var e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){var r=e.id,i=e.groupId,o=e.url;if(t)try{o=t.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(a))}this.log("Loading subtitle playlist for id ".concat(r)),this.hls.trigger(k.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:t||null})}}},{key:"toggleTrackModes",value:function(t){var e=this,n=this.media,r=this.trackId;if(n){var i=Ei(n.textTracks),o=i.filter((function(t){return t.groupId===e.groupId}));if(-1===t)[].slice.call(i).forEach((function(t){t.mode="disabled"}));else{var a=o[r];a&&(a.mode="disabled")}var s=o[t];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}}},{key:"setSubtitleTrack",value:function(t,e){var n,r=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!=(n=r[t])&&n.details)||t<-1||t>=r.length)){this.clearTimer();var i=r[t];if(this.log("Switching to subtitle-track ".concat(t)+(i?' "'.concat(i.name,'" lang:').concat(i.lang," group:").concat(i.groupId):"")),this.trackId=t,i){var o=i.id,a=i.groupId,s=void 0===a?"":a,u=i.name,l=i.type,c=i.url;this.hls.trigger(k.SUBTITLE_TRACK_SWITCH,{id:o,groupId:s,name:u,type:l,url:c});var f=this.switchParams(i.url,null==e?void 0:e.details);this.loadPlaylist(f)}else this.hls.trigger(k.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t}},{key:"onTextTracksChanged",value:function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=Ei(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}}}]),n}(dn);function Ei(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||e.push(t[n])}return e}var _i=function(){function t(e){Object(p.a)(this,t),this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}return Object(g.a)(t,[{key:"append",value:function(t,e){var n=this.queues[e];n.push(t),1===n.length&&this.buffers[e]&&this.executeNext(e)}},{key:"insertAbort",value:function(t,e){this.queues[e].unshift(t),this.executeNext(e)}},{key:"appendBlocker",value:function(t){var e,n=new Promise((function(t){e=t})),r={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,t),n}},{key:"executeNext",value:function(t){var e=this.buffers,n=this.queues,r=e[t],i=n[t];if(i.length){var o=i[0];try{o.execute()}catch(a){D.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(a),null!=r&&r.updating||(i.shift(),this.executeNext(t))}}}},{key:"shiftAndExecuteNext",value:function(t){this.queues[t].shift(),this.executeNext(t)}},{key:"current",value:function(t){return this.queues[t][0]}}]),t}(),ki=Zt(),xi=/([ha]vc.)(?:\.[^.,]+)+/,Mi=function(){function t(e){var n=this;Object(p.a)(this,t),this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=n.media,e=n.mediaSource;D.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",n._onMediaEmptied),n.updateMediaElementDuration(),n.hls.trigger(k.MEDIA_ATTACHED,{media:t})),e&&e.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},this._onMediaSourceClose=function(){D.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){D.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var t=n.media,e=n._objectUrl;t&&t.src!==e&&D.error("Media element src was set while attaching MediaSource (".concat(e," > ").concat(t.src,")"))},this.hls=e,this._initSourceBuffer(),this.registerListeners()}return Object(g.a)(t,[{key:"hasSourceTypes",value:function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}},{key:"destroy",value:function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}},{key:"registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.MANIFEST_PARSED,this.onManifestParsed,this),t.on(k.BUFFER_RESET,this.onBufferReset,this),t.on(k.BUFFER_APPENDING,this.onBufferAppending,this),t.on(k.BUFFER_CODECS,this.onBufferCodecs,this),t.on(k.BUFFER_EOS,this.onBufferEos,this),t.on(k.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(k.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(k.FRAG_PARSED,this.onFragParsed,this),t.on(k.FRAG_CHANGED,this.onFragChanged,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_PARSED,this.onManifestParsed,this),t.off(k.BUFFER_RESET,this.onBufferReset,this),t.off(k.BUFFER_APPENDING,this.onBufferAppending,this),t.off(k.BUFFER_CODECS,this.onBufferCodecs,this),t.off(k.BUFFER_EOS,this.onBufferEos,this),t.off(k.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(k.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(k.FRAG_PARSED,this.onFragParsed,this),t.off(k.FRAG_CHANGED,this.onFragChanged,this)}},{key:"_initSourceBuffer",value:function(){this.sourceBuffer={},this.operationQueue=new _i(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}},{key:"onManifestLoading",value:function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}},{key:"onManifestParsed",value:function(t,e){var n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,D.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}},{key:"onMediaAttaching",value:function(t,e){var n=this.media=e.media;if(n&&ki){var r=this.mediaSource=new ki;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}},{key:"onMediaDetaching",value:function(){var t=this.media,e=this.mediaSource,n=this._objectUrl;if(e){if(D.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(Vo){D.warn("[buffer-controller]: onMediaDetaching: ".concat(Vo.message," while calling endOfStream"))}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(t.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),t.src===n?(t.removeAttribute("src"),t.load()):D.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(k.MEDIA_DETACHED,void 0)}},{key:"onBufferReset",value:function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var n=t.sourceBuffer[e];try{n&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(n),t.sourceBuffer[e]=void 0)}catch(Vo){D.warn("[buffer-controller]: Failed to reset the ".concat(e," buffer"),Vo)}})),this._initSourceBuffer()}},{key:"onBufferCodecs",value:function(t,e){var n=this,r=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(r){var i=n.tracks[t];if(i&&"function"===typeof i.buffer.changeType){var o=e[t],a=o.id,s=o.codec,u=o.levelCodec,l=o.container,c=o.metadata,f=(i.levelCodec||i.codec).replace(xi,"$1"),h=(u||s).replace(xi,"$1");if(f!==h){var d="".concat(l,";codecs=").concat(u||s);n.appendChangeType(t,d),D.log("[buffer-controller]: switching codec ".concat(f," to ").concat(h)),n.tracks[t]={buffer:i.buffer,codec:s,container:l,levelCodec:u,metadata:c,id:a}}}}else n.pendingTracks[t]=e[t]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}},{key:"appendChangeType",value:function(t,e){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[t];i&&(D.log("[buffer-controller]: changing ".concat(t," sourceBuffer type to ").concat(e)),i.changeType(e)),r.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){D.warn("[buffer-controller]: Failed to change ".concat(t," SourceBuffer type"),e)}};r.append(i,t)}},{key:"onBufferAppending",value:function(t,e){var n=this,r=this.hls,i=this.operationQueue,o=this.tracks,a=e.data,s=e.type,u=e.frag,l=e.part,c=e.chunkMeta,f=c.buffering[s],h=self.performance.now();f.start=h;var d=u.stats.buffering,p=l?l.stats.buffering:null;0===d.start&&(d.start=h),p&&0===p.start&&(p.start=h);var g=o.audio,v=!1;"audio"===s&&"audio/mpeg"===(null==g?void 0:g.container)&&(v=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);var m=u.start,y={execute:function(){if(f.executeStart=self.performance.now(),v){var t=n.sourceBuffer[s];if(t){var e=m-t.timestampOffset;Math.abs(e)>=.1&&(D.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to ".concat(m," (delta: ").concat(e,") sn: ").concat(u.sn,")")),t.timestampOffset=m)}}n.appendExecutor(a,s)},onStart:function(){},onComplete:function(){var t=self.performance.now();f.executeEnd=f.end=t,0===d.first&&(d.first=t),p&&0===p.first&&(p.first=t);var e=n.sourceBuffer,r={};for(var i in e)r[i]=Ln.getBuffered(e[i]);n.appendError=0,n.hls.trigger(k.BUFFER_APPENDED,{type:s,frag:u,part:l,chunkMeta:c,parent:u.type,timeRanges:r})},onError:function(t){D.error("[buffer-controller]: Error encountered while trying to append to the ".concat(s," SourceBuffer"),t);var e={type:x.MEDIA_ERROR,parent:u.type,details:M.BUFFER_APPEND_ERROR,frag:u,part:l,chunkMeta:c,error:t,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=M.BUFFER_FULL_ERROR:(n.appendError++,e.details=M.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(D.error("[buffer-controller]: Failed ".concat(r.config.appendErrorMaxRetry," times to append segment in sourceBuffer")),e.fatal=!0)),r.trigger(k.ERROR,e)}};i.append(y,s)}},{key:"onBufferFlushing",value:function(t,e){var n=this,r=this.operationQueue,i=function(t){return{execute:n.removeExecutor.bind(n,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(k.BUFFER_FLUSHED,{type:t})},onError:function(e){D.warn("[buffer-controller]: Failed to remove from ".concat(t," SourceBuffer"),e)}}};e.type?r.append(i(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){r.append(i(t),t)}))}},{key:"onFragParsed",value:function(t,e){var n=this,r=e.frag,i=e.part,o=[],a=i?i.elementaryStreams:r.elementaryStreams;a[K]?o.push("audiovideo"):(a[U]&&o.push("audio"),a[H]&&o.push("video"));0===o.length&&D.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(r.type," level: ").concat(r.level," sn: ").concat(r.sn)),this.blockBuffers((function(){var t=self.performance.now();r.stats.buffering.end=t,i&&(i.stats.buffering.end=t);var e=i?i.stats:r.stats;n.hls.trigger(k.FRAG_BUFFERED,{frag:r,part:i,stats:e,id:r.type})}),o)}},{key:"onFragChanged",value:function(t,e){this.flushBackBuffer()}},{key:"onBufferEos",value:function(t,e){var n=this;this.getSourceBufferTypes().reduce((function(t,r){var i=n.sourceBuffer[r];return!i||e.type&&e.type!==r||(i.ending=!0,i.ended||(i.ended=!0,D.log("[buffer-controller]: ".concat(r," sourceBuffer now EOS")))),t&&!(i&&!i.ended)}),!0)&&(D.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){n.getSourceBufferTypes().forEach((function(t){var e=n.sourceBuffer[t];e&&(e.ending=!1)}));var t=n.mediaSource;t&&"open"===t.readyState?(D.log("[buffer-controller]: Calling mediaSource.endOfStream()"),t.endOfStream()):t&&D.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(t.readyState))})))}},{key:"onLevelUpdated",value:function(t,e){var n=e.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}},{key:"flushBackBuffer",value:function(){var t=this.hls,e=this.details,n=this.media,r=this.sourceBuffer;if(n&&null!==e){var i=this.getSourceBufferTypes();if(i.length){var o=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(_(o)&&!(o<0)){var a=n.currentTime,s=e.levelTargetDuration,u=Math.max(o,s),l=Math.floor(a/s)*s-u;i.forEach((function(n){var i=r[n];if(i){var o=Ln.getBuffered(i);if(o.length>0&&l>o.start(0)){if(t.trigger(k.BACK_BUFFER_REACHED,{bufferEnd:l}),e.live)t.trigger(k.LIVE_BACK_BUFFER_REACHED,{bufferEnd:l});else if(i.ended&&o.end(o.length-1)-a<2*s)return void D.info("[buffer-controller]: Cannot flush ".concat(n," back buffer while SourceBuffer is in ended state"));t.trigger(k.BUFFER_FLUSHING,{startOffset:0,endOffset:l,type:n})}}}))}}}}},{key:"updateMediaElementDuration",value:function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,n=this.media,r=this.mediaSource,i=t.fragments[0].start+t.totalduration,o=n.duration,a=_(r.duration)?r.duration:0;t.live&&e.config.liveDurationInfinity?(D.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(t)):(i>a&&i>o||!_(o))&&(D.log("[buffer-controller]: Updating Media Source duration to ".concat(i.toFixed(3))),r.duration=i)}}},{key:"updateSeekableRange",value:function(t){var e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+t.totalduration);e.setLiveSeekableRange(r,i)}}},{key:"checkPendingTracks",value:function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!t||2===r){this.createSourceBuffers(n),this.pendingTracks={};var i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(k.BUFFER_CREATED,{tracks:this.tracks}),i.forEach((function(t){e.executeNext(t)}));else{var o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}},{key:"createSourceBuffers",value:function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var r in t)if(!e[r]){var i=t[r];if(!i)throw Error("source buffer exists for track ".concat(r,", however track does not"));var o=i.levelCodec||i.codec,a="".concat(i.container,";codecs=").concat(o);D.log("[buffer-controller]: creating sourceBuffer(".concat(a,")"));try{var s=e[r]=n.addSourceBuffer(a),u=r;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.tracks[r]={buffer:s,codec:o,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(Vo){D.error("[buffer-controller]: error while trying to add sourceBuffer: ".concat(Vo.message)),this.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:Vo,mimeType:a})}}}},{key:"_onSBUpdateStart",value:function(t){this.operationQueue.current(t).onStart()}},{key:"_onSBUpdateEnd",value:function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)}},{key:"_onSBUpdateError",value:function(t,e){var n=new Error("".concat(t," SourceBuffer error"));D.error("[buffer-controller]: ".concat(n),e),this.hls.trigger(k.ERROR,{type:x.MEDIA_ERROR,details:M.BUFFER_APPENDING_ERROR,error:n,fatal:!1});var r=this.operationQueue.current(t);r&&r.onError(e)}},{key:"removeExecutor",value:function(t,e,n){var r=this.media,i=this.mediaSource,o=this.operationQueue,a=this.sourceBuffer[t];if(!r||!i||!a)return D.warn("[buffer-controller]: Attempting to remove from the ".concat(t," SourceBuffer, but it does not exist")),void o.shiftAndExecuteNext(t);var s=_(r.duration)?r.duration:1/0,u=_(i.duration)?i.duration:1/0,l=Math.max(0,e),c=Math.min(n,s,u);c>l&&!a.ending?(a.ended=!1,D.log("[buffer-controller]: Removing [".concat(l,",").concat(c,"] from the ").concat(t," SourceBuffer")),a.remove(l,c)):o.shiftAndExecuteNext(t)}},{key:"appendExecutor",value:function(t,e){var n=this.operationQueue,r=this.sourceBuffer[e];if(!r)return D.warn("[buffer-controller]: Attempting to append to the ".concat(e," SourceBuffer, but it does not exist")),void n.shiftAndExecuteNext(e);r.ended=!1,r.appendBuffer(t)}},{key:"blockBuffers",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!n.length)return D.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);var r=this.operationQueue,i=n.map((function(t){return r.appendBlocker(t)}));Promise.all(i).then((function(){t(),n.forEach((function(t){var n=e.sourceBuffer[t];null!=n&&n.updating||r.shiftAndExecuteNext(t)}))}))}},{key:"getSourceBufferTypes",value:function(){return Object.keys(this.sourceBuffer)}},{key:"addBufferListener",value:function(t,e,n){var r=this.sourceBuffer[t];if(r){var i=n.bind(this,t);this.listeners[t].push({event:e,listener:i}),r.addEventListener(e,i)}}},{key:"removeBufferListeners",value:function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))}}]),t}(),Ai={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ri=function(t){var e=t;return Ai.hasOwnProperty(t)&&(e=Ai[t]),String.fromCharCode(e)},Ii={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ci={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Li={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Di={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Oi=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Pi=function(){function t(){Object(p.a)(this,t),this.time=null,this.verboseLevel=0}return Object(g.a)(t,[{key:"log",value:function(t,e){if(this.verboseLevel>=t){var n="function"===typeof e?e():e;D.log("".concat(this.time," [").concat(t,"] ").concat(n))}}}]),t}(),Ni=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},ji=function(){function t(e,n,r,i,o){Object(p.a)(this,t),this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=n||!1,this.italics=r||!1,this.background=i||"black",this.flash=o||!1}return Object(g.a)(t,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}},{key:"copy",value:function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),t}(),Bi=function(){function t(e,n,r,i,o,a){Object(p.a)(this,t),this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new ji(n,r,i,o,a)}return Object(g.a)(t,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(t,e){this.uchar=t,this.penState.copy(e)}},{key:"setPenState",value:function(t){this.penState.copy(t)}},{key:"equals",value:function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}},{key:"copy",value:function(t){this.uchar=t.uchar,this.penState.copy(t.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),t}(),Fi=function(){function t(e){Object(p.a)(this,t),this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var n=0;n<100;n++)this.chars.push(new Bi);this.logger=e,this.pos=0,this.currPenState=new ji}return Object(g.a)(t,[{key:"equals",value:function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e}},{key:"copy",value:function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])}},{key:"isEmpty",value:function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}},{key:"setCursor",value:function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=100)}},{key:"moveCursor",value:function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(t){var e=this;t>=144&&this.backSpace();var n=Ri(t);this.pos>=100?this.logger.log(0,(function(){return"Cannot insert "+t.toString(16)+" ("+n+") at position "+e.pos+". Skipping it!"})):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var t=[],e=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")}},{key:"setPenStyles",value:function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)}}]),t}(),Ui=function(){function t(e){Object(p.a)(this,t),this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var n=0;n<15;n++)this.rows.push(new Fi(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}return Object(g.a)(t,[{key:"reset",value:function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14}},{key:"equals",value:function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}},{key:"copy",value:function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])}},{key:"isEmpty",value:function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(t){this.rows[this.currRow].insertChar(t)}},{key:"setPen",value:function(t){this.rows[this.currRow].setPenStyles(t)}},{key:"moveCursor",value:function(t){this.rows[this.currRow].moveCursor(t)}},{key:"setCursor",value:function(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t)}},{key:"setPAC",value:function(t){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(t)}));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime,a=this.logger.time;if(o&&null!==a&&o<a)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(i.rows[r+s])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);u.setCursor(t.indent),t.color=u.chars[c].penState.foreground}var f={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(f)}},{key:"setBkgData",value:function(t){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(t)})),this.backSpace(),this.setPen(t),this.insertChar(32)}},{key:"setRollUpRows",value:function(t){this.nrRollUpRows=t}},{key:"rollUp",value:function(){var t=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return t.getDisplayText()}));var e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(t){t=t||!1;for(var e=[],n="",r=-1,i=0;i<15;i++){var o=this.rows[i].getTextString();o&&(r=i+1,t?e.push("Row "+r+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),t}(),Hi=function(){function t(e,n,r){Object(p.a)(this,t),this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Ui(r),this.nonDisplayedMemory=new Ui(r),this.lastOutputScreen=new Ui(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}return Object(g.a)(t,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(t){this.outputFilter=t}},{key:"setPAC",value:function(t){this.writeScreen.setPAC(t)}},{key:"setBkgData",value:function(t){this.writeScreen.setBkgData(t)}},{key:"setMode",value:function(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(function(){return"MODE="+t})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}},{key:"insertChars",value:function(t){for(var e=this,n=0;n<t.length;n++)this.writeScreen.insertChar(t[n]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return r+": "+e.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+e.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())}},{key:"ccRCL",value:function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}},{key:"ccFON",value:function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}},{key:"ccCR",value:function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}},{key:"ccENM",value:function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){var t=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+t.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)}},{key:"ccTO",value:function(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}},{key:"ccMIDROW",value:function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}},{key:"outputDataUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}]),t}(),Ki=function(){function t(e,n,r){Object(p.a)(this,t),this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new Pi;this.channels=[null,new Hi(e,n,i),new Hi(e+1,r,i)],this.cmdHistory={a:null,b:null},this.logger=i}return Object(g.a)(t,[{key:"getHandler",value:function(t){return this.channels[t].getHandler()}},{key:"setHandler",value:function(t,e){this.channels[t].setHandler(e)}},{key:"addData",value:function(t,e){var n,r,i,o=!1;this.logger.time=t;for(var a=0;a<e.length;a+=2)if(r=127&e[a],i=127&e[a+1],0!==r||0!==i){if(this.logger.log(3,"["+Ni([e[a],e[a+1]])+"] -> ("+Ni([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i))){var s=this.currentChannel;if(s&&s>0)this.channels[s].insertChars(o);else this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(2,"Couldn't parse cleaned data "+Ni([r,i])+" orig: "+Ni([e[a],e[a+1]]))}}},{key:"parseCmd",value:function(t,e){var n=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(qi(t,e,n))return Gi(null,null,n),this.logger.log(3,"Repeated command ("+Ni([t,e])+") is dropped"),!0;var r=20===t||21===t||23===t?1:2,i=this.channels[r];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),Gi(t,e,n),this.currentChannel=r,!0}},{key:"parseMidrow",value:function(t,e){var n=0;if((17===t||25===t)&&e>=32&&e<=47){if((n=17===t?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var r=this.channels[n];return!!r&&(r.ccMIDROW(e),this.logger.log(3,"MIDROW ("+Ni([t,e])+")"),!0)}return!1}},{key:"parsePAC",value:function(t,e){var n,r=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(qi(t,e,r))return Gi(null,null,r),!0;var i=t<=23?1:2;n=e>=64&&e<=95?1===i?Ii[t]:Li[t]:1===i?Ci[t]:Di[t];var o=this.channels[i];return!!o&&(o.setPAC(this.interpretPAC(n,e)),Gi(t,e,r),this.currentChannel=i,!0)}},{key:"interpretPAC",value:function(t,e){var n,r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(t,e){var n,r,i=null,o=null;(t>=25?(n=2,o=t-8):(n=1,o=t),o>=17&&o<=19)?(r=17===o?e+80:18===o?e+112:e+144,this.logger.log(2,"Special char '"+Ri(r)+"' in channel "+n),i=[r]):t>=32&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var a=Ni(i);this.logger.log(3,"Char codes =  "+a.join(",")),Gi(t,e,this.cmdHistory)}return i}},{key:"parseBackgroundAttributes",value:function(t,e){var n;if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;var r={};16===t||24===t?(n=Math.floor((e-32)/2),r.background=Oi[n],e%2===1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0));var i=t<=23?1:2;return this.channels[i].setBkgData(r),Gi(t,e,this.cmdHistory),!0}},{key:"reset",value:function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}}},{key:"cueSplitAtTime",value:function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}}}]),t}();function Gi(t,e,n){n.a=t,n.b=e}function qi(t,e,n){return n.a===t&&n.b===e}var Vi=function(){function t(e,n){Object(p.a)(this,t),this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}return Object(g.a)(t,[{key:"dispatchCue",value:function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}},{key:"newCue",value:function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}},{key:"reset",value:function(){this.cueRanges=[],this.startTime=null}}]),t}(),zi=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!==typeof e)return!1;if(!Array.isArray(t))return!1;var n=e.toLowerCase();return!!~t.indexOf(n)&&n}function r(t){return n(e,t)}function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)t[a]=o[a]}return t}function o(e,o,a){var s=this,u={enumerable:!0};s.hasBeenReset=!1;var l="",c=!1,f=e,h=o,d=a,p=null,g="",v=!0,m="auto",y="start",b=50,w="middle",S=50,T="middle";Object.defineProperty(s,"id",i({},u,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return d},set:function(t){d=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(e){var r=function(e){return n(t,e)}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return m},set:function(t){if("number"!==typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return y},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return w},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return T},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}(),Wi=function(){function t(){Object(p.a)(this,t)}return Object(g.a)(t,[{key:"decode",value:function(t,e){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}]),t}();function Yi(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(r||0)}var n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}var Xi=function(){function t(){Object(p.a)(this,t),this.values=Object.create(null)}return Object(g.a)(t,[{key:"set",value:function(t,e){this.get(t)||""===e||(this.values[t]=e)}},{key:"get",value:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e}},{key:"has",value:function(t){return t in this.values}},{key:"alt",value:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}}},{key:"integer",value:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}},{key:"percent",value:function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1}}]),t}();function $i(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(n);if(2===a.length)e(a[0],a[1])}}var Zi=new zi(0,0,""),Ji="middle"===Zi.align?"middle":"center";function Qi(t,e,n){var r=t;function i(){var e=Yi(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),function(t,e){var r=new Xi;$i(t,(function(t,e){var i;switch(t){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===e){r.set(t,n[o].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":i=e.split(","),r.integer(t,i[0]),r.percent(t,i[0])&&r.set("snapToLines",!1),r.alt(t,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",Ji,"end"]);break;case"position":i=e.split(","),r.percent(t,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",Ji,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",Ji,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===Zi.line&&(i=-1),e.line=i,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",Ji);var o=r.get("position","auto");"auto"===o&&50===Zi.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function to(t){return t.replace(/<br(?: \/)?>/gi,"\n")}var eo=function(){function t(){Object(p.a)(this,t),this.state="INITIAL",this.buffer="",this.decoder=new Wi,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}return Object(g.a)(t,[{key:"parse",value:function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=to(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var r=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var i=(r=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:r=n(),e.state){case"HEADER":/:/.test(r)?$i(r,(function(t,e){}),/:/):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;if(e.cue=new zi(0,0,""),e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{Qi(r,e.cue,e.regionList)}catch(s){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==r.indexOf("--\x3e");if(!r||a&&(o=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r;continue;case"BADCUE":r||(e.state="ID")}}}catch(s){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}},{key:"flush",value:function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){this.onparsingerror&&this.onparsingerror(t)}return this.onflush&&this.onflush(),this}}]),t}(),no=/\r\n|\n\r|\n|\r/g,ro=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.slice(n,n+e.length)===e},io=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function oo(t,e,n){return io(t.toString())+io(e.toString())+io(n)}function ao(t,e,n,r,i,o,a){var s,u=new eo,l=St(new Uint8Array(t)).trim().replace(no,"\n").split("\n"),c=[],f=e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Hr(t,9e4,1/e)}(e.baseTime,e.timescale):0,h="00:00.000",d=0,p=0,g=!0;u.oncue=function(t){var o=n[r],a=n.ccOffset,u=(d-f)/9e4;if(null!=o&&o.new&&(void 0!==p?a=n.ccOffset=o.start:function(t,e,n){var r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;null!=(o=i)&&o.new;){var o;t.ccOffset+=r.start-i.start,r.new=!1,i=t[(r=i).prevCC]}t.presentationOffset=n}(n,r,u)),u){if(!e)return void(s=new Error("Missing initPTS for VTT MPEGTS"));a=u-n.presentationOffset}var l=t.endTime-t.startTime,h=zr(9e4*(t.startTime+a-p),9e4*i)/9e4;t.startTime=Math.max(h,0),t.endTime=Math.max(h+l,0);var g=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(g)),t.id||(t.id=oo(t.startTime,t.endTime,g)),t.endTime>0&&c.push(t)},u.onparsingerror=function(t){s=t},u.onflush=function(){s?a(s):o(c)},l.forEach((function(t){if(g){if(ro(t,"X-TIMESTAMP-MAP=")){g=!1,t.slice(16).split(",").forEach((function(t){ro(t,"LOCAL:")?h=t.slice(6):ro(t,"MPEGTS:")&&(d=parseInt(t.slice(7)))}));try{p=function(t){var e=parseInt(t.slice(-3)),n=parseInt(t.slice(-6,-4)),r=parseInt(t.slice(-9,-7)),i=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!_(e)||!_(n)||!_(r)||!_(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(t));return e+=1e3*n,e+=6e4*r,e+=36e5*i}(h)/1e3}catch(e){s=e}return}""===t&&(g=!1)}u.parse(t+"\n")})),u.flush()}var so=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,uo=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,lo={left:"start",center:"center",right:"end",start:"start",end:"end"};function co(t,e,n,r){var i=Lt(new Uint8Array(t),["mdat"]);if(0!==i.length){var o=i.map((function(t){return St(t)})),a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Hr(t,e,1/n,r)}(e.baseTime,1,e.timescale);try{o.forEach((function(t){return n(function(t,e){var n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(r).reduce((function(t,e){return t[e]=n.getAttribute("ttp:".concat(e))||r[e],t}),{}),o="preserve"!==n.getAttribute("xml:space"),a=ho(fo(n,"styling","style")),s=ho(fo(n,"layout","region")),u=fo(n,"body","[begin]");return[].map.call(u,(function(t){var n=function t(e,n){return[].slice.call(e.childNodes).reduce((function(e,r,i){var o;return"br"===r.nodeName&&i?e+"\n":null!=(o=r.childNodes)&&o.length?t(r,n):n?e+r.textContent.trim().replace(/\s+/g," "):e+r.textContent}),"")}(t,o);if(!n||!t.hasAttribute("begin"))return null;var r=vo(t.getAttribute("begin"),i),u=vo(t.getAttribute("dur"),i),l=vo(t.getAttribute("end"),i);if(null===r)throw go(t);if(null===l){if(null===u)throw go(t);l=r+u}var c=new zi(r-e,l-e,n);c.id=oo(c.startTime,c.endTime,c.text);var f=function(t,e,n){var r="http://www.w3.org/ns/ttml#styling",i=null,o=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;o&&n.hasOwnProperty(o)&&(i=n[o]);return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(n,o){var a=po(e,r,o)||po(t,r,o)||po(i,r,o);return a&&(n[o]=a),n}),{})}(s[t.getAttribute("region")],a[t.getAttribute("style")],a),h=f.textAlign;if(h){var d=lo[h];d&&(c.lineAlign=d),c.align=h}return E(c,f),c})).filter((function(t){return null!==t}))}(t,a))}))}catch(s){r(s)}}else r(new Error("Could not parse IMSC1 mdat"))}function fo(t,e,n){var r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function ho(t){return t.reduce((function(t,e){var n=e.getAttribute("xml:id");return n&&(t[n]=e),t}),{})}function po(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function go(t){return new Error("Could not parse ttml timestamp ".concat(t))}function vo(t,e){if(!t)return null;var n=Yi(t);return null===n&&(so.test(t)?n=function(t,e){var n=so.exec(t),r=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/e.frameRate}(t,e):uo.test(t)&&(n=function(t,e){var n=uo.exec(t),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}(t,e))),n}var mo=function(){function t(e){if(Object(p.a)(this,t),this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var n=new Vi(this,"textTrack1"),r=new Vi(this,"textTrack2"),i=new Vi(this,"textTrack3"),o=new Vi(this,"textTrack4");this.cea608Parser1=new Ki(1,n,r),this.cea608Parser2=new Ki(3,i,o)}e.on(k.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(k.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(k.MANIFEST_LOADING,this.onManifestLoading,this),e.on(k.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(k.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(k.FRAG_LOADING,this.onFragLoading,this),e.on(k.FRAG_LOADED,this.onFragLoaded,this),e.on(k.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(k.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(k.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(k.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(k.BUFFER_FLUSHING,this.onBufferFlushing,this)}return Object(g.a)(t,[{key:"destroy",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(k.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(k.FRAG_LOADING,this.onFragLoading,this),t.off(k.FRAG_LOADED,this.onFragLoaded,this),t.off(k.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(k.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(k.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(k.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(k.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}},{key:"addCues",value:function(t,e,n,r,i){for(var o,a,s,u,l=!1,c=i.length;c--;){var f=i[c],h=(o=f[0],a=f[1],s=e,u=n,Math.min(a,u)-Math.max(o,s));if(h>=0&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],n),l=!0,h/(n-e)>.5))return}if(l||i.push([e,n]),this.config.renderTextTracksNatively){var d=this.captionsTracks[t];this.Cues.newCue(d,e,n,r)}else{var p=this.Cues.newCue(null,e,n,r);this.hls.trigger(k.CUES_PARSED,{type:"captions",cues:p,track:t})}}},{key:"onInitPtsFound",value:function(t,e){var n=this,r=e.frag,i=e.id,o=e.initPTS,a=e.timescale,s=this.unparsedVttFrags;"main"===i&&(this.initPTS[r.cc]={baseTime:o,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach((function(t){n.onFragLoaded(k.FRAG_LOADED,t)})))}},{key:"getExistingTrack",value:function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(r[t])return r}return null}},{key:"createCaptionsTrack",value:function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}},{key:"createNativeTrack",value:function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,n=this.captionsTracks,r=this.media,i=e[t],o=i.label,a=i.languageCode,s=this.getExistingTrack(t);if(s)n[t]=s,xe(n[t]),_e(n[t],r);else{var u=this.createTextTrack("captions",o,a);u&&(u[t]=!0,n[t]=u)}}}},{key:"createNonNativeTrack",value:function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(k.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}}},{key:"createTextTrack",value:function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)}},{key:"onMediaAttaching",value:function(t,e){this.media=e.media,this._cleanTracks()}},{key:"onMediaDetaching",value:function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){xe(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}},{key:"_cleanTracks",value:function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)xe(e[n])}}},{key:"onSubtitleTracksUpdated",value:function(t,e){var n=this,r=e.subtitleTracks||[],i=r.some((function(t){return"stpp.ttml.im1t"===t.textCodec}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(yi(this.tracks,r))return void(this.tracks=r);if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){var o=this.media?this.media.textTracks:null;this.tracks.forEach((function(t,e){var r;if(o&&e<o.length){for(var i=null,a=0;a<o.length;a++)if(yo(o[a],t)){i=o[a];break}i&&(r=i)}if(r)xe(r);else{var s=n._captionsOrSubtitlesFromCharacteristics(t);(r=n.createTextTrack(s,t.name,t.lang))&&(r.mode="disabled")}r&&(r.groupId=t.groupId,n.textTracks.push(r))}))}else if(this.tracks.length){var a=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(k.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}},{key:"_captionsOrSubtitlesFromCharacteristics",value:function(t){if(t.attrs.CHARACTERISTICS){var e=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(e&&n)return"captions"}return"subtitles"}},{key:"onManifestLoaded",value:function(t,e){var n=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var r="textTrack".concat(e[1]),i=n.captionsProperties[r];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}}))}},{key:"closedCaptionsForLevel",value:function(t){var e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}},{key:"onFragLoading",value:function(t,e){var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastSn,o=this.lastPartIndex;if(this.enabled&&n&&r&&e.frag.type===ye){var a,s,u=e.frag.sn,l=null!=(a=null==e||null==(s=e.part)?void 0:s.index)?a:-1;u===i+1||u===i&&l===o+1||(n.reset(),r.reset()),this.lastSn=u,this.lastPartIndex=l}}},{key:"onFragLoaded",value:function(t,e){var n=e.frag,r=e.payload;if(n.type===we)if(r.byteLength){var i=n.decryptdata,o="stats"in e;if(null==i||!i.encrypted||o){var a=this.tracks[n.level],s=this.vttCCs;s[n.cc]||(s[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),a&&"stpp.ttml.im1t"===a.textCodec?this._parseIMSC1(n,r):this._parseVTTs(e)}}else this.hls.trigger(k.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}},{key:"_parseIMSC1",value:function(t,e){var n=this,r=this.hls;co(e,this.initPTS[t.cc],(function(e){n._appendCues(e,t.level),r.trigger(k.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){D.log("Failed to parse IMSC1: ".concat(e)),r.trigger(k.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}},{key:"_parseVTTs",value:function(t){var e,n=this,r=t.frag,i=t.payload,o=this.initPTS,a=this.unparsedVttFrags,s=o.length-1;if(o[r.cc]||-1!==s){var u=this.hls;ao(null!=(e=r.initSegment)&&e.data?jt(r.initSegment.data,new Uint8Array(i)):i,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,(function(t){n._appendCues(t,r.level),u.trigger(k.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})}),(function(e){var o="Missing initPTS for VTT MPEGTS"===e.message;o?a.push(t):n._fallbackToIMSC1(r,i),D.log("Failed to parse VTT cue: ".concat(e)),o&&s>r.cc||u.trigger(k.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:e})}))}else a.push(t)}},{key:"_fallbackToIMSC1",value:function(t,e){var n=this,r=this.tracks[t.level];r.textCodec||co(e,this.initPTS[t.cc],(function(){r.textCodec="stpp.ttml.im1t",n._parseIMSC1(t,e)}),(function(){r.textCodec="wvtt"}))}},{key:"_appendCues",value:function(t,e){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[e];if(!r||"disabled"===r.mode)return;t.forEach((function(t){return ke(r,t)}))}else{var i=this.tracks[e];if(!i)return;var o=i.default?"default":"subtitles"+e;n.trigger(k.CUES_PARSED,{type:"subtitles",cues:t,track:o})}}},{key:"onFragDecrypted",value:function(t,e){e.frag.type===we&&this.onFragLoaded(k.FRAG_LOADED,e)}},{key:"onSubtitleTracksCleared",value:function(){this.tracks=[],this.captionsTracks={}}},{key:"onFragParsingUserdata",value:function(t,e){var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r){var i=e.frag,o=e.samples;if(i.type!==ye||"NONE"!==this.closedCaptionsForLevel(i))for(var a=0;a<o.length;a++){var s=o[a].bytes;if(s){var u=this.extractCea608Data(s);n.addData(o[a].pts,u[0]),r.addData(o[a].pts,u[1])}}}}},{key:"onBufferFlushing",value:function(t,e){var n=e.startOffset,r=e.endOffset,i=e.endOffsetSubtitles,o=e.type,a=this.media;if(a&&!(a.currentTime<r)){if(!o||"video"===o){var s=this.captionsTracks;Object.keys(s).forEach((function(t){return Me(s[t],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var u=this.textTracks;Object.keys(u).forEach((function(t){return Me(u[t],n,i)}))}}}},{key:"extractCea608Data",value:function(t){for(var e=[[],[]],n=31&t[0],r=2,i=0;i<n;i++){var o=t[r++],a=127&t[r++],s=127&t[r++];if(0!==a||0!==s)if(0!==(4&o)){var u=3&o;0!==u&&1!==u||(e[u].push(a),e[u].push(s))}}return e}}]),t}();function yo(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var bo=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}return Object(g.a)(t,[{key:"setStreamController",value:function(t){this.streamController=t}},{key:"destroy",value:function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}},{key:"registerListeners",value:function(){var t=this.hls;t.on(k.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(k.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(k.MANIFEST_PARSED,this.onManifestParsed,this),t.on(k.BUFFER_CODECS,this.onBufferCodecs,this),t.on(k.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"unregisterListener",value:function(){var t=this.hls;t.off(k.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(k.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(k.MANIFEST_PARSED,this.onManifestParsed,this),t.off(k.BUFFER_CODECS,this.onBufferCodecs,this),t.off(k.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"onFpsDropLevelCapping",value:function(t,e){var n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}},{key:"onMediaAttaching",value:function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}},{key:"onManifestParsed",value:function(t,e){var n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}},{key:"onBufferCodecs",value:function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}},{key:"onMediaDetaching",value:function(){this.stopCapping()}},{key:"detectPlayerSize",value:function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(t,r){return n.isLevelAllowed(t)&&r<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}},{key:"startCapping",value:function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"stopCapping",value:function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}},{key:"getDimensions",value:function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e}},{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(e){}return t}},{key:"isLevelAllowed",value:function(t){return!this.restrictedLevels.some((function(e){return t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height}))}}],[{key:"getMaxLevelByMediaSize",value:function(t,e,n){if(null==t||!t.length)return-1;for(var r,i,o=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=n)&&(r=s,!(i=t[a+1])||r.width!==i.width||r.height!==i.height)){o=a;break}}return o}}]),t}(),wo=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}return Object(g.a)(t,[{key:"setStreamController",value:function(t){this.streamController=t}},{key:"registerListeners",value:function(){this.hls.on(k.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"unregisterListeners",value:function(){this.hls.off(k.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}},{key:"onMediaAttaching",value:function(t,e){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=r,r&&"function"===typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(t,e,n){var r=performance.now();if(e){if(this.lastTime){var i=r-this.lastTime,o=n-this.lastDroppedFrames,a=e-this.lastDecodedFrames,s=1e3*o/i,u=this.hls;if(u.trigger(k.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:n}),s>0&&o>u.config.fpsDroppedMonitoringThreshold*a){var l=u.currentLevel;D.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=l)&&(l-=1,u.trigger(k.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:u.currentLevel}),u.autoLevelCapping=l,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}},{key:"checkFPSInterval",value:function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}}]),t}(),So=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=t.CDMCleanupPromise?[t.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=D.debug.bind(D,"[eme]"),this.log=D.log.bind(D,"[eme]"),this.warn=D.warn.bind(D,"[eme]"),this.error=D.error.bind(D,"[eme]"),this.hls=e,this.config=e.config,this.registerListeners()}return Object(g.a)(t,[{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached();var t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}},{key:"registerListeners",value:function(){this.hls.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(k.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(k.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(k.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"unregisterListeners",value:function(){this.hls.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(k.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(k.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(k.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"getLicenseServerUrl",value:function(t){var e=this.config,n=e.drmSystems,r=e.widevineLicenseUrl,i=n[t];if(i)return i.licenseUrl;if(t===$.WIDEVINE&&r)return r;throw new Error('no license server URL configured for key-system "'.concat(t,'"'))}},{key:"getServerCertificateUrl",value:function(t){var e=this.config.drmSystems[t];if(e)return e.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(t,'"]'))}},{key:"attemptKeySystemAccess",value:function(t){var e=this,n=this.hls.levels,r=function(t,e,n){return!!t&&n.indexOf(t)===e},i=n.map((function(t){return t.audioCodec})).filter(r),o=n.map((function(t){return t.videoCodec})).filter(r);return i.length+o.length===0&&o.push("avc1.42e01e"),new Promise((function(n,r){!function t(a){var s=a.shift();e.getMediaKeysPromise(s,i,o).then((function(t){return n({keySystem:s,mediaKeys:t})})).catch((function(e){a.length?t(a):r(e instanceof To?e:new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))}(t)}))}},{key:"requestMediaKeySystemAccess",value:function(t,e){var n=this.config.requestMediaKeySystemAccessFunc;if("function"!==typeof n){var r="Configured requestMediaKeySystemAccess is not a function ".concat(n);return null===ot&&"http:"===self.location.protocol&&(r="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(r))}return n(t,e)}},{key:"getMediaKeysPromise",value:function(t,e,n){var r=this,i=function(t,e,n,r){var i;switch(t){case $.FAIRPLAY:i=["cenc","sinf"];break;case $.WIDEVINE:case $.PLAYREADY:i=["cenc"];break;case $.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(t))}return function(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"not-allowed",distinctiveIdentifier:r.distinctiveIdentifier||"not-allowed",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map((function(t){return{contentType:'audio/mp4; codecs="'.concat(t,'"'),robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}})),videoCapabilities:n.map((function(t){return{contentType:'video/mp4; codecs="'.concat(t,'"'),robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}}))}]}(i,e,n,r)}(t,e,n,this.config.drmSystemOptions),o=this.keySystemAccessPromises[t],a=null==o?void 0:o.keySystemAccess;if(!a){this.log('Requesting encrypted media "'.concat(t,'" key-system access with config: ').concat(JSON.stringify(i))),a=this.requestMediaKeySystemAccess(t,i);var s=this.keySystemAccessPromises[t]={keySystemAccess:a};return a.catch((function(e){r.log('Failed to obtain access to key-system "'.concat(t,'": ').concat(e))})),a.then((function(e){r.log('Access for key-system "'.concat(e.keySystem,'" obtained'));var n=r.fetchServerCertificate(t);return r.log('Create media-keys for "'.concat(t,'"')),s.mediaKeys=e.createMediaKeys().then((function(e){return r.log('Media-keys created for "'.concat(t,'"')),n.then((function(n){return n?r.setMediaKeysServerCertificate(e,t,n):e}))})),s.mediaKeys.catch((function(e){r.error('Failed to create media-keys for "'.concat(t,'"}: ').concat(e))})),s.mediaKeys}))}return a.then((function(){return o.mediaKeys}))}},{key:"createMediaKeySessionContext",value:function(t){var e=t.decryptdata,n=t.keySystem,r=t.mediaKeys;this.log('Creating key-system session "'.concat(n,'" keyId: ').concat(Et(e.keyId||[])));var i=r.createSession(),o={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}},{key:"renewKeySession",value:function(t){var e=t.decryptdata;if(e.pssh){var n=this.createMediaKeySessionContext(t),r=this.getKeyIdString(e);this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,"cenc",e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}},{key:"getKeyIdString",value:function(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return Et(t.keyId)}},{key:"updateKeySession",value:function(t,e){var n,r=t.mediaKeysSession;return this.log('Updating key-session "'.concat(r.sessionId,'" for keyID ').concat(Et((null==(n=t.decryptdata)?void 0:n.keyId)||[]),"\n      } (data length: ").concat(e?e.byteLength:e,")")),r.update(e)}},{key:"selectKeySystemFormat",value:function(t){var e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(t.sn," ").concat(t.type,": ").concat(t.level,") key formats ").concat(e.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}},{key:"getKeyFormatPromise",value:function(t){var e=this;return new Promise((function(n,r){var i=it(e.config),o=t.map(et).filter((function(t){return!!t&&-1!==i.indexOf(t)}));return e.getKeySystemSelectionPromise(o).then((function(t){var e=t.keySystem,i=rt(e);i?n(i):r(new Error('Unable to find format for key-system "'.concat(e,'"')))})).catch(r)}))}},{key:"loadKey",value:function(t){var e=this,n=t.keyInfo.decryptdata,r=this.getKeyIdString(n),i="(keyId: ".concat(r,' format: "').concat(n.keyFormat,'" method: ').concat(n.method," uri: ").concat(n.uri,")");this.log("Starting session for key ".concat(i));var o=this.keyIdToKeySessionPromise[r];return o||(o=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then((function(r){var o=r.keySystem,a=r.mediaKeys;return e.throwIfDestroyed(),e.log("Handle encrypted media sn: ".concat(t.frag.sn," ").concat(t.frag.type,": ").concat(t.frag.level," using key ").concat(i)),e.attemptSetMediaKeys(o,a).then((function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n});return e.generateRequestWithPreferredKeySession(t,"cenc",n.pssh,"playlist-key")}))}))).catch((function(t){return e.handleError(t)})),o}},{key:"throwIfDestroyed",value:function(){if(!this.hls)throw new Error("invalid state")}},{key:"handleError",value:function(t){this.hls&&(this.error(t.message),t instanceof To?this.hls.trigger(k.ERROR,t.data):this.hls.trigger(k.ERROR,{type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}},{key:"getKeySystemForKeyPromise",value:function(t){var e=this.getKeyIdString(t),n=this.keyIdToKeySessionPromise[e];if(!n){var r=et(t.keyFormat),i=r?[r]:it(this.config);return this.attemptKeySystemAccess(i)}return n}},{key:"getKeySystemSelectionPromise",value:function(t){if(t.length||(t=it(this.config)),0===t.length)throw new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(t)}},{key:"_onMediaEncrypted",value:function(t){var e=this,n=t.initDataType,r=t.initData;if(this.debug('"'.concat(t.type,'" event: init data type: "').concat(n,'"')),null!==r){var i,o;if("sinf"===n&&this.config.drmSystems[$.FAIRPLAY]){var a=Mt(new Uint8Array(r));try{var s=W(JSON.parse(a).sinf),u=Pt(new Uint8Array(s));if(!u)return;i=u.subarray(8,24),o=$.FAIRPLAY}catch(m){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var l=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;var e={version:0,systemId:"",kids:null,data:null},n=new DataView(t),r=n.getUint32(0);if(t.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(e.version=n.getUint32(8)>>>24,e.version>1)return null;e.systemId=Et(new Uint8Array(t,12,16));var i=n.getUint32(28);if(0===e.version){if(r-32<i)return null;e.data=new Uint8Array(t,32,i)}else if(1===e.version){e.kids=[];for(var o=0;o<i;o++)e.kids.push(new Uint8Array(t,32+16*o,16))}return e}(r);if(null===l)return;0===l.version&&l.systemId===nt&&l.data&&(i=l.data.subarray(8,24)),o=function(t){if(t===nt)return $.WIDEVINE}(l.systemId)}if(o&&i){for(var c=Et(i),f=this.keyIdToKeySessionPromise,h=this.mediaKeySessions,d=f[c],p=function(t){var o=h[t],a=o.decryptdata;if(a.pssh||!a.keyId)return"continue";var s=Et(a.keyId);return c===s||-1!==a.uri.replace(/-/g,"").indexOf(c)?(d=f[s],delete f[s],a.pssh=new Uint8Array(r),a.keyId=i,d=f[c]=d.then((function(){return e.generateRequestWithPreferredKeySession(o,n,r,"encrypted-event-key-match")})),"break"):void 0},g=0;g<h.length;g++){var v=p(g);if("continue"!==v&&"break"===v)break}d||(d=f[c]=this.getKeySystemSelectionPromise([o]).then((function(t){var o,a=t.keySystem,s=t.mediaKeys;e.throwIfDestroyed();var u=new qt("ISO-23001-7",c,null!=(o=rt(a))?o:"");return u.pssh=new Uint8Array(r),u.keyId=i,e.attemptSetMediaKeys(a,s).then((function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({decryptdata:u,keySystem:a,mediaKeys:s});return e.generateRequestWithPreferredKeySession(t,n,r,"encrypted-event-no-match")}))}))),d.catch((function(t){return e.handleError(t)}))}}}},{key:"_onWaitingForKey",value:function(t){this.log('"'.concat(t.type,'" event'))}},{key:"attemptSetMediaKeys",value:function(t,e){var n=this,r=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(t,'"'));var i=Promise.all(r).then((function(){if(!n.media)throw new Error("Attempted to set mediaKeys without media element attached");return n.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(i),i.then((function(){n.log('Media-keys set for "'.concat(t,'"')),r.push(i),n.setMediaKeysQueue=n.setMediaKeysQueue.filter((function(t){return-1===r.indexOf(t)}))}))}},{key:"generateRequestWithPreferredKeySession",value:function(t,e,n,r){var i,o,a=this,s=null==(i=this.config.drmSystems)||null==(o=i[t.keySystem])?void 0:o.generateRequest;if(s)try{var u=s.call(this.hls,e,n,t);if(!u)throw new Error("Invalid response from configured generateRequest filter");e=u.initDataType,n=t.decryptdata.pssh=u.initData?new Uint8Array(u.initData):null}catch(d){var l;if(this.warn(d.message),null!=(l=this.hls)&&l.config.debug)throw d}if(null===n)return this.log('Skipping key-session request for "'.concat(r,'" (no initData)')),Promise.resolve(t);var c=this.getKeyIdString(t.decryptdata);this.log('Generating key-session request for "'.concat(r,'": ').concat(c," (init data type: ").concat(e," length: ").concat(n?n.byteLength:null,")"));var f=new si;t.mediaKeysSession.onmessage=function(e){var n=t.mediaKeysSession;if(n){var r=e.messageType,i=e.message;a.log('"'.concat(r,'" message event for session "').concat(n.sessionId,'" message size: ').concat(i.byteLength)),"license-request"===r||"license-renewal"===r?a.renewLicense(t,i).catch((function(t){a.handleError(t),f.emit("error",t)})):"license-release"===r?t.keySystem===$.FAIRPLAY&&(a.updateKeySession(t,X("acknowledged")),a.removeSession(t)):a.warn('unhandled media key message type "'.concat(r,'"'))}else f.emit("error",new Error("invalid state"))},t.mediaKeysSession.onkeystatuseschange=function(e){if(t.mediaKeysSession){a.onKeyStatusChange(t);var n=t.keyStatus;f.emit("keyStatus",n),"expired"===n&&(a.warn("".concat(t.keySystem," expired for key ").concat(c)),a.renewKeySession(t))}else f.emit("error",new Error("invalid state"))};var h=new Promise((function(t,e){f.on("error",e),f.on("keyStatus",(function(n){n.startsWith("usable")?t():"output-restricted"===n?e(new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?e(new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(n,'"'))):"expired"===n?e(new Error("key expired while generating request")):a.warn('unhandled key status change "'.concat(n,'"'))}))}));return t.mediaKeysSession.generateRequest(e,n).then((function(){var e;a.log('Request generated for key-session "'.concat(null==(e=t.mediaKeysSession)?void 0:e.sessionId,'" keyId: ').concat(c))})).catch((function(t){throw new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},"Error generating key-session request: ".concat(t))})).then((function(){return h})).catch((function(e){throw f.removeAllListeners(),a.removeSession(t),e})).then((function(){return f.removeAllListeners(),t}))}},{key:"onKeyStatusChange",value:function(t){var e=this;t.mediaKeysSession.keyStatuses.forEach((function(n,r){e.log('key status change "'.concat(n,'" for keyStatuses keyId: ').concat(Et("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))," session keyId: ").concat(Et(new Uint8Array(t.decryptdata.keyId||[]))," uri: ").concat(t.decryptdata.uri)),t.keyStatus=n}))}},{key:"fetchServerCertificate",value:function(t){var e=this.config,n=new(0,e.loader)(e),r=this.getServerCertificateUrl(t);return r?(this.log('Fetching serverCertificate for "'.concat(t,'"')),new Promise((function(i,o){var a={responseType:"arraybuffer",url:r},s=e.certLoadPolicy.default,u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:function(t,e,n,r){i(t.data)},onError:function(e,n,i,s){o(new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:S({url:a.url,data:void 0},e)},'"'.concat(t,'" certificate request failed (').concat(r,"). Status: ").concat(e.code," (").concat(e.text,")")))},onTimeout:function(e,n,i){o(new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:a.url,data:void 0}},'"'.concat(t,'" certificate request timed out (').concat(r,")")))},onAbort:function(t,e,n){o(new Error("aborted"))}};n.load(a,u,l)}))):Promise.resolve()}},{key:"setMediaKeysServerCertificate",value:function(t,e,n){var r=this;return new Promise((function(i,o){t.setServerCertificate(n).then((function(o){r.log("setServerCertificate ".concat(o?"success":"not supported by CDM"," (").concat(null==n?void 0:n.byteLength,') on "').concat(e,'"')),i(t)})).catch((function(t){o(new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}},{key:"renewLicense",value:function(t,e){var n=this;return this.requestLicense(t,new Uint8Array(e)).then((function(e){return n.updateKeySession(t,new Uint8Array(e)).catch((function(t){throw new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))}))}},{key:"setupLicenseXHR",value:function(t,e,n,r){var i=this,o=this.config.licenseXhrSetup;return o?Promise.resolve().then((function(){if(!n.decryptdata)throw new Error("Key removed");return o.call(i.hls,t,e,n,r)})).catch((function(a){if(!n.decryptdata)throw a;return t.open("POST",e,!0),o.call(i.hls,t,e,n,r)})).then((function(n){return t.readyState||t.open("POST",e,!0),{xhr:t,licenseChallenge:n||r}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:r}))}},{key:"requestLicense",value:function(t,e){var n=this,r=this.config.keyLoadPolicy.default;return new Promise((function(i,o){var a=n.getLicenseServerUrl(t.keySystem);n.log("Sending license request to URL: ".concat(a));var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!n.hls||!t.mediaKeysSession)return o(new Error("invalid state"));if(4===s.readyState)if(200===s.status){n._requestLicenseFailureCount=0;var u=s.response;n.log("License received ".concat(u instanceof ArrayBuffer?u.byteLength:u));var l=n.config.licenseResponseCallback;if(l)try{u=l.call(n.hls,s,a,t)}catch(d){n.error(d)}i(u)}else{var c=r.errorRetry,f=c?c.maxNumRetry:0;if(n._requestLicenseFailureCount++,n._requestLicenseFailureCount>f||s.status>=400&&s.status<500)o(new To({type:x.KEY_SYSTEM_ERROR,details:M.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:a,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed (".concat(a,"). Status: ").concat(s.status," (").concat(s.statusText,")")));else{var h=f-n._requestLicenseFailureCount+1;n.warn("Retrying license request, ".concat(h," attempts left")),n.requestLicense(t,e).then(i,o)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=s,n.setupLicenseXHR(s,a,t,e).then((function(t){var e=t.xhr,n=t.licenseChallenge;e.send(n)}))}))}},{key:"onMediaAttached",value:function(t,e){if(this.config.emeEnabled){var n=e.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}}},{key:"onMediaDetached",value:function(){var e=this,n=this.media,r=this.mediaKeySessions;n&&(n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},qt.clearKeyUriToKeyIdMap();var i=r.length;t.CDMCleanupPromise=Promise.all(r.map((function(t){return e.removeSession(t)})).concat(null==n?void 0:n.setMediaKeys(null).catch((function(t){e.log("Could not clear media keys: ".concat(t,". media.src: ").concat(null==n?void 0:n.src))})))).then((function(){i&&(e.log("finished closing key sessions and clearing media keys"),r.length=0)})).catch((function(t){e.log("Could not close sessions and clear media keys: ".concat(t,". media.src: ").concat(null==n?void 0:n.src))}))}},{key:"onManifestLoading",value:function(){this.keyFormatPromise=null}},{key:"onManifestLoaded",value:function(t,e){var n=e.sessionKeys;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){var r=n.reduce((function(t,e){return-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t}),[]);this.log("Selecting key-system from session-keys ".concat(r.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(r)}}},{key:"removeSession",value:function(t){var e=this,n=t.mediaKeysSession,r=t.licenseXhr;if(n){this.log("Remove licenses and keys and close session ".concat(n.sessionId)),n.onmessage=null,n.onkeystatuseschange=null,r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(t);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch((function(t){e.log("Could not remove session: ".concat(t))})).then((function(){return n.close()})).catch((function(t){e.log("Could not close session: ".concat(t))}))}}}]),t}();So.CDMCleanupPromise=void 0;var To=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r){var i;return Object(p.a)(this,n),(i=e.call(this,r)).data=void 0,t.error||(t.error=new Error(r)),i.data=t,t.err=t.error,i}return n}(Object(u.a)(Error)),Eo="m",_o="a",ko="v",xo="av",Mo="i",Ao="tt",Ro=function(){function t(e){var n=this;Object(p.a)(this,t),this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(t){try{n.apply(t,{ot:Eo,su:!n.initialized})}catch(e){D.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(t){try{var e=t.frag,r=n.hls.levels[e.level],i=n.getObjectType(e),o={d:1e3*e.duration,ot:i};i!==ko&&i!==_o&&i!=xo||(o.br=r.bitrate/1e3,o.tb=n.getTopBandwidth(i)/1e3,o.bl=n.getBufferLength(i)),n.apply(t,o)}catch(a){D.warn("Could not generate segment CMCD data.",a)}},this.hls=e;var r=this.config=e.config,i=r.cmcd;null!=i&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||t.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}return Object(g.a)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(k.MEDIA_DETACHED,this.onMediaDetached,this),t.on(k.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(k.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(k.MEDIA_DETACHED,this.onMediaDetached,this),t.off(k.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}},{key:"onMediaAttached",value:function(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}},{key:"onMediaDetached",value:function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}},{key:"onBufferCreated",value:function(t,e){var n,r;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=e.tracks.video)?void 0:r.buffer}},{key:"createData",value:function(){var t;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}},{key:"apply",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E(n,this.createData());var r=n.ot===Mo||n.ot===ko||n.ot===xo;if(this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),null==n.su&&(n.su=this.buffering),this.useHeaders){var i=t.toHeaders(n);if(!Object.keys(i).length)return;e.headers||(e.headers={}),E(e.headers,i)}else{var o=t.toQuery(n);if(!o)return;e.url=t.appendQueryToUri(e.url,o)}}},{key:"getObjectType",value:function(t){var e=t.type;return"subtitle"===e?Ao:"initSegment"===t.sn?Mo:"audio"===e?_o:"main"===e?this.hls.audioTracks.length?ko:xo:void 0}},{key:"getTopBandwidth",value:function(t){var e,n=0,r=this.hls;if(t===_o)e=r.audioTracks;else{var o=r.maxAutoLevel,a=o>-1?o+1:r.levels.length;e=r.levels.slice(0,a)}var s,u=Object(i.a)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.bitrate>n&&(n=l.bitrate)}}catch(Vo){u.e(Vo)}finally{u.f()}return n>0?n:NaN}},{key:"getBufferLength",value:function(t){var e=this.hls.media,n=t===_o?this.audioBuffer:this.videoBuffer;return n&&e?1e3*Ln.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len:NaN}},{key:"createPlaylistLoader",value:function(){var t=this.config.pLoader,e=this.applyPlaylistData,n=t||this.config.loader;return function(){function t(e){Object(p.a)(this,t),this.loader=void 0,this.loader=new n(e)}return Object(g.a)(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(t,n,r){e(t),this.loader.load(t,n,r)}}]),t}()}},{key:"createFragmentLoader",value:function(){var t=this.config.fLoader,e=this.applyFragmentData,n=t||this.config.loader;return function(){function t(e){Object(p.a)(this,t),this.loader=void 0,this.loader=new n(e)}return Object(g.a)(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(t,n,r){e(t),this.loader.load(t,n,r)}}]),t}()}}],[{key:"uuid",value:function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}},{key:"serialize",value:function(t){var e,n=[],r=function(t){return!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t},o=function(t){return Math.round(t)},a=function(t){return 100*o(t/100)},s={br:o,d:o,bl:a,dl:a,mtp:a,nor:function(t){return encodeURIComponent(t)},rtp:a,tb:o},u=Object.keys(t||{}).sort(),l=Object(i.a)(u);try{for(l.s();!(e=l.n()).done;){var c=e.value,f=t[c];if(r(f)&&(("v"!==c||1!==f)&&("pr"!=c||1!==f))){var h=s[c];h&&(f=h(f));var d=typeof f,p=void 0;p="ot"===c||"sf"===c||"st"===c?"".concat(c,"=").concat(f):"boolean"===d?c:"number"===d?"".concat(c,"=").concat(f):"".concat(c,"=").concat(JSON.stringify(f)),n.push(p)}}}catch(Vo){l.e(Vo)}finally{l.f()}return n.join(",")}},{key:"toHeaders",value:function(e){for(var n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];i[null!=o[u]?o[u]:1][u]=e[u]}for(var l=0;l<i.length;l++){var c=t.serialize(i[l]);c&&(n["CMCD-".concat(r[l])]=c)}return n}},{key:"toQuery",value:function(e){return"CMCD=".concat(encodeURIComponent(t.serialize(e)))}},{key:"appendQueryToUri",value:function(t,e){if(!e)return t;var n=t.includes("?")?"&":"?";return"".concat(t).concat(n).concat(e)}}]),t}(),Io=function(){function t(e){Object(p.a)(this,t),this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=D.log.bind(D,"[content-steering]:"),this.registerListeners()}return Object(g.a)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(k.MANIFEST_LOADING,this.onManifestLoading,this),t.on(k.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(k.MANIFEST_PARSED,this.onManifestParsed,this),t.on(k.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t&&(t.off(k.MANIFEST_LOADING,this.onManifestLoading,this),t.off(k.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(k.MANIFEST_PARSED,this.onManifestParsed,this),t.off(k.ERROR,this.onError,this))}},{key:"startLoad",value:function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var t=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,t)}else this.loadSteeringManifest(this.uri)}},{key:"stopLoad",value:function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}},{key:"destroy",value:function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"removeLevel",value:function(t){var e=this.levels;e&&(this.levels=e.filter((function(e){return e!==t})))}},{key:"onManifestLoading",value:function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"onManifestLoaded",value:function(t,e){var n=e.contentSteering;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}},{key:"onManifestParsed",value:function(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}},{key:"onError",value:function(t,e){var n=e.errorAction;if((null==n?void 0:n.action)===an&&n.flags===ln){var r=this.pathwayPriority,i=this.pathwayId;this.penalizedPathways[i]||(this.penalizedPathways[i]=performance.now()),!r&&this.levels&&(r=this.levels.reduce((function(t,e){return-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t}),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i)}}},{key:"filterParsedLevels",value:function(t){this.levels=t;var e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){var n=t[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(n,'"')),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length?(this.log("Found ".concat(e.length,"/").concat(t.length,' levels in Pathway "').concat(this.pathwayId,'"')),e):t}},{key:"getLevelsForPathway",value:function(t){return null===this.levels?[]:this.levels.filter((function(e){return t===e.pathwayId}))}},{key:"updatePathwayPriority",value:function(t){var e;this.pathwayPriority=t;var n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((function(t){r-n[t]>3e5&&delete n[t]}));for(var i=0;i<t.length;i++){var o=t[i];if(!n[o]){if(o===this.pathwayId)return;var a=this.hls.nextLoadLevel,s=this.hls.levels[a];if((e=this.getLevelsForPathway(o)).length>0){this.log('Setting Pathway to "'.concat(o,'"')),this.pathwayId=o,this.hls.trigger(k.LEVELS_UPDATED,{levels:e});var u=this.hls.levels[a];s&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(s.bitrate," to ").concat(u.bitrate)),this.hls.nextLoadLevel=a);break}}}}},{key:"clonePathways",value:function(t){var e=this,n=this.levels;if(n){var i={},o={};t.forEach((function(t){var a=t.ID,s=t["BASE-ID"],u=t["URI-REPLACEMENT"];if(!n.some((function(t){return t.pathwayId===a}))){var l=e.getLevelsForPathway(s).map((function(t){var e=E({},t);e.details=void 0,e.url=Lo(t.uri,t.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u);var n=new N(t.attrs);n["PATHWAY-ID"]=a;var r=n.AUDIO&&"".concat(n.AUDIO,"_clone_").concat(a),s=n.SUBTITLES&&"".concat(n.SUBTITLES,"_clone_").concat(a);r&&(i[n.AUDIO]=r,n.AUDIO=r),s&&(o[n.SUBTITLES]=s,n.SUBTITLES=s),e.attrs=n;var l=new He(e);return gn(l,"audio",r),gn(l,"text",s),l}));n.push.apply(n,Object(r.a)(l)),Co(e.audioTracks,i,u,a),Co(e.subtitleTracks,o,u,a)}}))}}},{key:"loadSteeringManifest",value:function(t){var e,n=this,r=this.hls.config,i=r.loader;this.loader&&this.loader.destroy(),this.loader=new i(r);try{e=new self.URL(t)}catch(f){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(t))}if("data:"!==e.protocol){var o=0|(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate);e.searchParams.set("_HLS_pathway",this.pathwayId),e.searchParams.set("_HLS_throughput",""+o)}var a={responseType:"json",url:e.href},s=r.steeringManifestLoadPolicy.default,u=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:u.maxNumRetry||0,retryDelay:u.retryDelayMs||0,maxRetryDelay:u.maxRetryDelayMs||0},c={onSuccess:function(t,r,i,o){n.log('Loaded steering manifest: "'.concat(e,'"'));var a=t.data;if(1===a.VERSION){n.updated=performance.now(),n.timeToLoad=a.TTL;var s=a["RELOAD-URI"],u=a["PATHWAY-CLONES"],l=a["PATHWAY-PRIORITY"];if(s)try{n.uri=new self.URL(s,e).href}catch(f){return n.enabled=!1,void n.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(s))}n.scheduleRefresh(n.uri||i.url),u&&n.clonePathways(u),l&&n.updatePathwayPriority(l)}else n.log("Steering VERSION ".concat(a.VERSION," not supported!"))},onError:function(t,e,r,i){if(n.log("Error loading steering manifest: ".concat(t.code," ").concat(t.text," (").concat(e.url,")")),n.stopLoad(),410===t.code)return n.enabled=!1,void n.log("Steering manifest ".concat(e.url," no longer available"));var o=1e3*n.timeToLoad;if(429!==t.code)n.scheduleRefresh(n.uri||e.url,o);else{var a=n.loader;if("function"===typeof(null==a?void 0:a.getResponseHeader)){var s=a.getResponseHeader("Retry-After");s&&(o=1e3*parseFloat(s))}n.log("Steering manifest ".concat(e.url," rate limited"))}},onTimeout:function(t,e,r){n.log("Timeout loading steering manifest (".concat(e.url,")")),n.scheduleRefresh(n.uri||e.url)}};this.log("Requesting steering manifest: ".concat(e)),this.loader.load(a,l,c)}},{key:"scheduleRefresh",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){e.loadSteeringManifest(t)}),n)}}]),t}();function Co(t,e,n,i){t&&Object.keys(e).forEach((function(o){var a=t.filter((function(t){return t.groupId===o})).map((function(t){var r=E({},t);return r.details=void 0,r.attrs=new N(r.attrs),r.url=r.attrs.URI=Lo(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),r.groupId=r.attrs["GROUP-ID"]=e[o],r.attrs["PATHWAY-ID"]=i,r}));t.push.apply(t,Object(r.a)(a))}))}function Lo(t,e,n,r){var i,o=r.HOST,a=r.PARAMS,s=r[n];e&&(i=null==s?void 0:s[e])&&(t=i);var u=new self.URL(t);return o&&!i&&(u.host=o),a&&Object.keys(a).sort().forEach((function(t){t&&u.searchParams.set(t,a[t])})),u.href}var Do=/^age:\s*[\d.]+\s*$/im,Oo=function(){function t(e){Object(p.a)(this,t),this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new F,this.retryDelay=0}return Object(g.a)(t,[{key:"destroy",value:function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}},{key:"abortInternal",value:function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}},{key:"abort",value:function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}},{key:"load",value:function(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.loadInternal()}},{key:"loadInternal",value:function(){var t=this,e=this.config,n=this.context;if(e){var r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;var o=this.xhrSetup;o?Promise.resolve().then((function(){if(!t.stats.aborted)return o(r,n.url)})).catch((function(t){return r.open("GET",n.url,!0),o(r,n.url)})).then((function(){t.stats.aborted||t.openAndSendXhr(r,n,e)})).catch((function(e){t.callbacks.onError({code:r.status,text:e.message},n,r,i)})):this.openAndSendXhr(r,n,e)}}},{key:"openAndSendXhr",value:function(t,e,n){t.readyState||t.open("GET",e.url,!0);var r=this.context.headers,i=n.loadPolicy,o=i.maxTimeToFirstByteMs,a=i.maxLoadTimeMs;if(r)for(var s in r)t.setRequestHeader(s,r[s]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=o&&_(o)?o:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),t.send()}},{key:"readystatechange",value:function(){var t=this.context,e=this.loader,n=this.stats;if(t&&e){var r=e.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;var o=e.status,a="text"!==e.responseType;if(o>=200&&o<300&&(a&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);var s=a?e.response:e.responseText,u="arraybuffer"===e.responseType?s.byteLength:s.length;if(n.loaded=n.total=u,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;var l=this.callbacks.onProgress;if(l&&l(n,t,s,e),!this.callbacks)return;var c={url:e.responseURL,data:s,code:o};this.callbacks.onSuccess(c,n,t,e)}else{var f=i.loadPolicy.errorRetry;Qe(f,n.retry,!1,o)?this.retry(f):(D.error("".concat(o," while loading ").concat(t.url)),this.callbacks.onError({code:o,text:e.statusText},t,e,n))}}}}},{key:"loadtimeout",value:function(){var t,e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(Qe(e,this.stats.retry,!0))this.retry(e);else{D.warn("timeout while loading ".concat(this.context.url));var n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))}}},{key:"retry",value:function(t){var e=this.context,n=this.stats;this.retryDelay=Ze(t,n.retry),n.retry++,D.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(e.url,", retrying ").concat(n.retry,"/").concat(t.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}},{key:"loadprogress",value:function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}},{key:"getCacheAge",value:function(){var t=null;if(this.loader&&Do.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}},{key:"getResponseHeader",value:function(t){return this.loader&&new RegExp("^".concat(t,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}]),t}();var Po=/(\d+)-(\d+)\/(\d+)/,No=function(){function t(e){Object(p.a)(this,t),this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||jo,this.controller=new self.AbortController,this.stats=new F}return Object(g.a)(t,[{key:"destroy",value:function(){this.loader=this.callbacks=null,this.abortInternal()}},{key:"abortInternal",value:function(){var t=this.response;null!=t&&t.ok||(this.stats.aborted=!0,this.controller.abort())}},{key:"abort",value:function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}},{key:"load",value:function(t,e,n){var r=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var o=function(t,e){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(E({},t.headers))};t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return n}(t,this.controller.signal),a=n.onProgress,s="arraybuffer"===t.responseType,u=s?"byteLength":"length",l=e.loadPolicy,c=l.maxTimeToFirstByteMs,f=l.maxLoadTimeMs;this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,o),self.clearTimeout(this.requestTimeout),e.timeout=c&&_(c)?c:f,this.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,t,r.response)}),e.timeout),self.fetch(this.request).then((function(o){r.response=r.loader=o;var u=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(r.requestTimeout),e.timeout=f,r.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,t,r.response)}),f-(u-i.loading.start)),!o.ok){var l=o.status,c=o.statusText;throw new Bo(c||"fetch, bad network response",l,o)}return i.loading.first=u,i.total=function(t){var e=t.get("Content-Range");if(e){var n=function(t){var e=Po.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(_(n))return n}var r=t.get("Content-Length");if(r)return parseInt(r)}(o.headers)||i.total,a&&_(e.highWaterMark)?r.loadProgressively(o,i,t,e.highWaterMark,a):s?o.arrayBuffer():"json"===t.responseType?o.json():o.text()})).then((function(o){var s=r.response;self.clearTimeout(r.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var l=o[u];l&&(i.loaded=i.total=l);var c={url:s.url,data:o,code:s.status};a&&!_(e.highWaterMark)&&a(i,t,o,s),n.onSuccess(c,i,t,s)})).catch((function(e){if(self.clearTimeout(r.requestTimeout),!i.aborted){var o=e&&e.code||0,a=e?e.message:null;n.onError({code:o,text:a},t,e?e.details:null,i)}}))}},{key:"getCacheAge",value:function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}},{key:"getResponseHeader",value:function(t){return this.response?this.response.headers.get(t):null}},{key:"loadProgressively",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=new gi,a=t.body.getReader(),s=function s(){return a.read().then((function(a){if(a.done)return o.dataLength&&i(e,n,o.flush(),t),Promise.resolve(new ArrayBuffer(0));var u=a.value,l=u.length;return e.loaded+=l,l<r||o.dataLength?(o.push(u),o.dataLength>=r&&i(e,n,o.flush(),t)):i(e,n,u,t),s()})).catch((function(){return Promise.reject()}))};return s()}}]),t}();function jo(t,e){return new self.Request(t.url,e)}var Bo=function(t){Object(f.a)(n,t);var e=Object(h.a)(n);function n(t,r,i){var o;return Object(p.a)(this,n),(o=e.call(this,t)).code=void 0,o.details=void 0,o.code=r,o.details=i,o}return n}(Object(u.a)(Error)),Fo=/\s/,Uo=S(S({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Oo,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:pi,bufferController:Mi,capLevelController:bo,errorController:fn,fpsController:wo,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ot,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(t,e,n,r){for(var i,o,a,s,u,l=[],c=self.VTTCue||self.TextTrackCue,f=0;f<r.rows.length;f++)if(a=!0,s=0,u="",!(i=r.rows[f]).isEmpty()){for(var h,d=0;d<i.chars.length;d++)Fo.test(i.chars[d].uchar)&&a?s++:(u+=i.chars[d].uchar,a=!1);i.cueStartTime=e,e===n&&(n+=1e-4),s>=16?s--:s++;var p=to(u.trim()),g=oo(e,n,p);null!=t&&null!=(h=t.cues)&&h.getCueById(g)||((o=new c(e,n,p)).id=g,o.line=f+1,o.align="left",o.position=10+Math.min(80,10*Math.floor(8*s/32)),l.push(o))}return t&&l.length&&(l.sort((function(t,e){return"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line})),l.forEach((function(e){return ke(t,e)}))),l}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:wi,subtitleTrackController:Ti,timelineController:mo,audioStreamController:vi,audioTrackController:mi,emeController:So,cmcdController:Ro,contentSteeringController:Io});function Ho(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var n=Ko(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(t){var i="".concat("level"===t?"playlist":t,"LoadPolicy"),o=void 0===e[i],a=[];r.forEach((function(r){var s="".concat(t,"Loading").concat(r),u=e[s];if(void 0!==u&&o){a.push(s);var l=n[i].default;switch(e[i]={default:l},r){case"TimeOut":l.maxLoadTimeMs=u,l.maxTimeToFirstByteMs=u;break;case"MaxRetry":l.errorRetry.maxNumRetry=u,l.timeoutRetry.maxNumRetry=u;break;case"RetryDelay":l.errorRetry.retryDelayMs=u,l.timeoutRetry.retryDelayMs=u;break;case"MaxRetryTimeout":l.errorRetry.maxRetryDelayMs=u,l.timeoutRetry.maxRetryDelayMs=u}}})),a.length&&D.warn('hls.js config: "'.concat(a.join('", "'),'" setting(s) are deprecated, use "').concat(i,'": ').concat(JSON.stringify(e[i])))})),S(S({},n),e)}function Ko(t){return t&&"object"===typeof t?Array.isArray(t)?t.map(Ko):Object.keys(t).reduce((function(e,n){return e[n]=Ko(t[n]),e}),{}):t}function Go(t){var e=t.loader;e!==No&&e!==Oo?(D.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}()&&(t.loader=No,t.progressive=!0,t.enableSoftwareAES=!0,D.log("[config]: Progressive streaming enabled, using FetchLoader"))}var qo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(p.a)(this,t),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new si,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,L(e.debug||!1,"Hls instance");var n=this.config=Ho(t.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,n.progressive&&Go(n);var r=n.abrController,i=n.bufferController,o=n.capLevelController,a=n.errorController,s=n.fpsController,u=new a(this),l=this.abrController=new r(this),c=this.bufferController=new i(this),f=this.capLevelController=new o(this),h=new s(this),d=new Ee(this),g=new Oe(this),v=n.contentSteeringController,m=v?new v(this):null,y=this.levelController=new pn(this,m),b=new Sn(this),w=new Rn(this.config),S=this.streamController=new fi(this,b,w);f.setStreamController(S),h.setStreamController(S);var T=[d,y,S];m&&T.splice(1,0,m),this.networkControllers=T;var E=[l,c,f,h,g,b];this.audioTrackController=this.createController(n.audioTrackController,T);var _=n.audioStreamController;_&&T.push(new _(this,b,w)),this.subtitleTrackController=this.createController(n.subtitleTrackController,T);var x=n.subtitleStreamController;x&&T.push(new x(this,b,w)),this.createController(n.timelineController,E),w.emeController=this.emeController=this.createController(n.emeController,E),this.cmcdController=this.createController(n.cmcdController,E),this.latencyController=this.createController(Pe,E),this.coreComponents=E,T.push(u);var M=u.onErrorOut;"function"===typeof M&&this.on(k.ERROR,M,u)}return Object(g.a)(t,[{key:"createController",value:function(t,e){if(t){var n=new t(this);return e&&e.push(n),n}return null}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(t,e,n)}},{key:"once",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(t,e,n)}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"off",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(t,e,n,r)}},{key:"listeners",value:function(t){return this._emitter.listeners(t)}},{key:"emit",value:function(t,e,n){return this._emitter.emit(t,e,n)}},{key:"trigger",value:function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(n){D.error("An internal error happened while handling event "+t+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.trigger(k.ERROR,{type:x.OTHER_ERROR,details:M.INTERNAL_EXCEPTION,fatal:!1,event:t,error:n})}return!1}},{key:"listenerCount",value:function(t){return this._emitter.listenerCount(t)}},{key:"destroy",value:function(){D.log("destroy"),this.trigger(k.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0;var t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}},{key:"attachMedia",value:function(t){D.log("attachMedia"),this._media=t,this.trigger(k.MEDIA_ATTACHING,{media:t})}},{key:"detachMedia",value:function(){D.log("detachMedia"),this.trigger(k.MEDIA_DETACHING,void 0),this._media=null}},{key:"loadSource",value:function(t){this.stopLoad();var e=this.media,n=this.url,r=this.url=b.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});D.log("loadSource:".concat(r)),e&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(k.MANIFEST_LOADING,{url:t})}},{key:"startLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;D.log("startLoad(".concat(t,")")),this.networkControllers.forEach((function(e){e.startLoad(t)}))}},{key:"stopLoad",value:function(){D.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))}},{key:"swapAudioCodec",value:function(){D.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){D.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)}},{key:"removeLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.levelController.removeLevel(t,e)}},{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){D.log("set currentLevel:".concat(t)),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){D.log("set nextLevel:".concat(t)),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){D.log("set loadLevel:".concat(t)),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){D.log("set firstLevel:".concat(t)),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){D.log("set startLevel:".concat(t)),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(D.log("set autoLevelCapping:".concat(t)),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(t){Ne.indexOf(t)>-1&&(this._maxHdcpLevel=t)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var n=t.length,r=0;r<n;r++)if(t[r].maxBitrate>=e)return r;return 0}},{key:"maxAutoLevel",get:function(){var t,e=this.levels,n=this.autoLevelCapping,r=this.maxHdcpLevel;if(t=-1===n&&e&&e.length?e.length-1:n,r)for(var i=t;i--;){var o=e[i].attrs["HDCP-LEVEL"];if(o&&o<=r)return i}return t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.12"}},{key:"isSupported",value:function(){return function(){var t=Zt();if(!t)return!1;var e=rr(),n=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!n&&!!r}()}},{key:"Events",get:function(){return k}},{key:"ErrorTypes",get:function(){return x}},{key:"ErrorDetails",get:function(){return M}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Uo},set:function(e){t.defaultConfig=e}}]),t}();qo.defaultConfig=void 0},,,function(t,e,n){var r=n(28),i=n(52),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=Function.prototype,r=n.bind,i=n.call,o=r&&r.bind(i);t.exports=r?function(t){return t&&o(i,t)}:function(t){return t&&function(){return i.apply(t,arguments)}}},function(t,e,n){var r;"undefined"!==typeof window&&(r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},"./node_modules/node-libs-browser/node_modules/events/events.js":function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"===typeof t}function i(t){return"object"===typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,n){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,f=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(f)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},"./node_modules/webworkify-webpack/index.js":function(t,e,n){function r(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,r){var o={};o[r]=[];var a=e.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var u,l=s[1],c=new RegExp("(\\\\n|\\W)"+i(l)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=c.exec(a);)"dll-reference"!==u[3]&&o[r].push(u[3]);for(c=new RegExp("\\("+i(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=c.exec(a);)t[u[2]]||(o[r].push(u[1]),t[u[2]]=n(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var f,h=Object.keys(o),d=0;d<h.length;d++)for(var p=0;p<o[h[d]].length;p++)f=o[h[d]][p],isNaN(1*f)||(o[h[d]][p]=1*o[h[d]][p]);return o}function a(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}t.exports=function(t,e){e=e||{};var i={main:n.m},s=e.all?{main:Object.keys(i.main)}:function(t,e){for(var n={main:[e]},r={main:[]},i={main:{}};a(n);)for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u],c=n[l].pop();if(i[l]=i[l]||{},!i[l][c]&&t[l][c]){i[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var f=o(t,t[l][c],l),h=Object.keys(f),d=0;d<h.length;d++)n[h[d]]=n[h[d]]||[],n[h[d]]=n[h[d]].concat(f[h[d]])}}return r}(i,t),u="";Object.keys(s).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;s[t][e];)e++;s[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map((function(e){return JSON.stringify(e)+": "+i[t][e].toString()})).join(",")+"});\n"})),u=u+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map((function(t){return JSON.stringify(t)+": "+i.main[t].toString()})).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(e.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),f=new window.Worker(c);return f.objectURL=c,f}},"./src/config.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/controller/abr-controller.js"),i=n("./src/controller/buffer-controller.js"),o=n("./src/controller/cap-level-controller.js"),a=n("./src/controller/fps-controller.js"),s=n("./src/utils/xhr-loader.js"),u=n("./src/controller/audio-track-controller.js"),l=n("./src/controller/audio-stream-controller.js"),c=n("./src/utils/cues.js"),f=n("./src/controller/timeline-controller.js"),h=n("./src/controller/subtitle-track-controller.js"),d=n("./src/controller/subtitle-stream-controller.js"),p=n("./src/controller/eme-controller.js"),g=n("./src/utils/mediakeys-helper.js");e.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:i.default,capLevelController:o.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},e.hlsDefaultConfig.subtitleStreamController=d.SubtitleStreamController,e.hlsDefaultConfig.subtitleTrackController=h.default,e.hlsDefaultConfig.timelineController=f.default,e.hlsDefaultConfig.cueHandler=c,e.hlsDefaultConfig.enableCEA708Captions=!0,e.hlsDefaultConfig.enableWebVTT=!0,e.hlsDefaultConfig.captionsTextTrack1Label="English",e.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",e.hlsDefaultConfig.captionsTextTrack2Label="Spanish",e.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",e.hlsDefaultConfig.audioStreamController=l.default,e.hlsDefaultConfig.audioTrackController=u.default,e.hlsDefaultConfig.emeController=p.default},"./src/controller/abr-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/buffer-helper.js"),s=n("./src/errors.js"),u=n("./src/utils/logger.js"),l=n("./src/utils/ewma-bandwidth-estimator.js"),c=window.performance,f=function(e){function n(t){var n=e.call(this,t,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=t,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return r(n,e),n.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},n.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,i=e.level,o=void 0,a=void 0;n.levels[i].details.live?(o=r.abrEwmaFastLive,a=r.abrEwmaSlowLive):(o=r.abrEwmaFastVoD,a=r.abrEwmaSlowVoD),this._bwEstimator=new l.default(n,a,o,r.abrEwmaDefaultEstimate)}},n.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var r=n.loader,o=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=r.stats;if(e&&s&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var l=c.now()-s.trequest,f=Math.abs(e.playbackRate);if(l>500*n.duration/f){var h=t.levels,d=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/l),p=h[n.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,v=s.total?s.total:Math.max(s.loaded,Math.round(n.duration*g/8)),m=e.currentTime,y=(v-s.loaded)/d,b=(a.BufferHelper.bufferInfo(e,m,t.config.maxBufferHole).end-m)/f;if(b<2*n.duration/f&&y>b){var w=void 0,S=void 0;for(S=n.level-1;S>o;S--){var T=h[S].realBitrate?Math.max(h[S].realBitrate,h[S].bitrate):h[S].bitrate;if((w=n.duration*T/(6.4*d))<b)break}w<y&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+S+":fragLoadedDelay["+S+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+w.toFixed(1)+"<"+y.toFixed(1)+":"+b.toFixed(1)),t.nextLoadLevel=S,this._bwEstimator.sample(l,s.loaded),r.abort(),this.clearTimer(),t.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:s}))}}}}},n.prototype.onFragLoaded=function(e){var n=e.frag;if("main"===n.type&&t.isFinite(n.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[n.level],i=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,o=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:i,duration:o},r.realBitrate=Math.round(8*i/o)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},n.prototype.onFragBuffered=function(e){var n=e.stats,r=e.frag;if(!0!==n.aborted&&"main"===r.type&&t.isFinite(r.sn)&&(!r.bitrateTest||n.tload===n.tbuffered)){var i=n.tparsed-n.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(i,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},n.prototype.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(n.prototype,"nextAutoLevel",{get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_nextABRAutoLevel",{get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,r=t.config,i=t.minAutoLevel,o=t.media,s=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=o?o.currentTime:0,f=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,h=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,d=(a.BufferHelper.bufferInfo(o,c,r.maxBufferHole).end-c)/f,p=this._findBestLevel(s,l,h,i,e,d,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,v=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(0===d){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=m=1)}return p=this._findBestLevel(s,l,h,i,e,d+g,v,m,n),Math.max(p,0)},enumerable:!0,configurable:!0}),n.prototype._findBestLevel=function(t,e,n,r,i,o,a,s,l){for(var c=i;c>=r;c--){var f=l[c];if(f){var h=f.details,d=h?h.totalduration/h.fragments.length:e,p=!!h&&h.live,g=void 0;g=c<=t?a*n:s*n;var v=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,m=v*d/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+v+"/"+d+"/"+o+"/"+m),g>v&&(!m||p&&!this.bitrateTestDelay||m<o))return c}}return-1},n}(o.default);e.default=f}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/binary-search.js"),o=n("./src/utils/buffer-helper.js"),a=n("./src/demux/demuxer.js"),s=n("./src/events.js"),u=n("./src/controller/level-helper.js"),l=n("./src/utils/time-ranges.js"),c=n("./src/errors.js"),f=n("./src/utils/logger.js"),h=n("./src/utils/discontinuities.js"),d=n("./src/controller/fragment-tracker.js"),p=n("./src/loader/fragment.js"),g=n("./src/controller/base-stream-controller.js"),v=window.performance,m=function(e){function n(t,n){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_RESET,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND)||this;return r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=g.State.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return r(n,e),n.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,r=t.initPTS;"main"===e&&(this.initPTS[n]=r,this.videoTrackCC=n,f.logger.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===g.State.WAITING_INIT_PTS&&this.tick())},n.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(f.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=g.State.STOPPED},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,f.logger.log("audio stream:"+e+"->"+t)}},enumerable:!0,configurable:!0}),n.prototype.doTick=function(){var e,n,r,a=this.hls,u=a.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!u.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,p=this.videoBuffer?this.videoBuffer:this.media,m=o.BufferHelper.bufferInfo(c,e,u.maxBufferHole),y=o.BufferHelper.bufferInfo(p,e,u.maxBufferHole),b=m.len,w=m.end,S=this.fragPrevious,T=Math.min(u.maxBufferLength,u.maxMaxBufferLength),E=Math.max(T,y.len),_=this.audioSwitch,k=this.trackId;if((b<E||_)&&k<l.length){if("undefined"===typeof(r=l[k].details)){this.state=g.State.WAITING_TRACK;break}if(!_&&this._streamEnded(m,r))return this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),void(this.state=g.State.ENDED);var x=r.fragments,M=x.length,A=x[0].start,R=x[M-1].start+x[M-1].duration,I=void 0;if(_)if(r.live&&!r.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),w=0;else if(w=e,r.PTSKnown&&e<A){if(!(m.end>A||m.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=A+.05}if(r.initSegment&&!r.initSegment.data)I=r.initSegment;else if(w<=A){if(I=x[0],null!==this.videoTrackCC&&I.cc!==this.videoTrackCC&&(I=h.findFragWithCC(x,this.videoTrackCC)),r.live&&I.loadIdx&&I.loadIdx===this.fragLoadIdx){var C=m.nextStart?m.nextStart:A;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(C+.05)),void(this.media.currentTime=C+.05)}}else{var L=void 0,D=u.maxFragLookUpTolerance,O=S?x[S.sn-x[0].sn+1]:void 0,P=function(t){var e=Math.min(D,t.duration);return t.start+t.duration-e<=w?1:t.start-e>w&&t.start?-1:0};w<R?(w>R-D&&(D=0),L=O&&!P(O)?O:i.default.search(x,P)):L=x[M-1],L&&(I=L,A=L.start,S&&I.level===S.level&&I.sn===S.sn&&(I.sn<r.endSN?(I=x[I.sn+1-r.startSN],f.logger.log("SN just loaded, load next one: "+I.sn)):I=null))}I&&(I.encrypted?(f.logger.log("Loading key for "+I.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+k),this.state=g.State.KEY_LOADING,a.trigger(s.default.KEY_LOADING,{frag:I})):(f.logger.log("Loading "+I.sn+", cc: "+I.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+k+", currentTime:"+e+",bufferEnd:"+w.toFixed(3)),this.fragCurrent=I,(_||this.fragmentTracker.getState(I)===d.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,t.isFinite(I.sn)&&(this.nextLoadPosition=I.start+I.duration),a.trigger(s.default.FRAG_LOADING,{frag:I}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(n=this.tracks[this.trackId])&&n.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var N=v.now(),j=this.retryDate,B=(c=this.media)&&c.seeking;(!j||N>=j||B)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var F=this.videoTrackCC;if(void 0===this.initPTS[F])break;var U=this.waitingFragment;if(U){var H=U.frag.cc;F!==H?(n=this.tracks[this.trackId]).details&&n.details.live&&(f.logger.warn("Waiting fragment CC ("+H+") does not match video track CC ("+F+")"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},n.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onAudioTracksUpdated=function(t){f.logger.log("audio tracks updated"),this.tracks=t.audioTracks},n.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},n.prototype.onAudioTrackLoaded=function(e){var n=e.details,r=e.id,i=this.tracks[r],o=n.totalduration,a=0;if(f.logger.log("track "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+o),n.live){var s=i.details;s&&n.fragments.length>0?(u.mergeDetails(s,n),a=n.fragments[0].start,n.PTSKnown?f.logger.log("live audio playlist sliding:"+a.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(n.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else n.PTSKnown=!1;if(i.details=n,!this.startFragRequested){if(-1===this.startPosition){var l=n.startTimeOffset;t.isFinite(l)?(f.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===g.State.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var r=this.tracks[this.trackId],i=r.details,o=i.totalduration,u=e.level,l=e.sn,c=e.cc,h=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===l)this.state=g.State.IDLE,d.tparsed=d.tbuffered=v.now(),i.initSegment.data=t.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new a.default(this.hls,"audio"));var p=this.initPTS[c],m=i.initSegment?i.initSegment.data:[];i.initSegment||void 0!==p?(this.pendingBuffering=!0,f.logger.log("Demuxing "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+u),this.demuxer.push(t.payload,m,h,null,e,o,!1,p)):(f.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+u),this.waitingFragment=t,this.state=g.State.WAITING_INIT_PTS)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===g.State.PARSING){var r=t.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(s.default.BUFFER_CODECS,r),f.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var o=i.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,a))}this.tick()}}},n.prototype.onFragParsingData=function(e){var n=this,r=this.fragCurrent,i=e.frag;if(r&&"audio"===e.id&&"audio"===e.type&&i.sn===r.sn&&i.level===r.level&&this.state===g.State.PARSING){var o=this.trackId,a=this.tracks[o],l=this.hls;t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),r.addElementaryStream(p.default.ElementaryStreamTypes.AUDIO),f.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),u.updateFragPTSDTS(a.details,r,e.startPTS,e.endPTS);var h=this.audioSwitch,d=this.media,v=!1;if(h&&d)if(d.readyState){var m=d.currentTime;f.logger.log("switching audio track : currentTime:"+m),m>=e.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=g.State.BUFFER_FLUSHING,l.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),v=!0,this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,l.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o});var y=this.pendingData;if(!y)return f.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void l.trigger(s.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&y.push({type:e.type,data:t,parent:"audio",content:"data"})})),!v&&y.length&&(y.forEach((function(t){n.state===g.State.PARSING&&(n.pendingBuffering=!0,n.hls.trigger(s.default.BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},n.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===g.State.PARSING&&(this.stats.tparsed=v.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},n.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},n.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==g.State.PARSING&&e!==g.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(this.state===g.State.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=v.now(),n.trigger(s.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+l.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},n.prototype.onError=function(e){var n=e.frag;if(!n||"audio"===n.type)switch(e.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var r=e.frag;if(r&&"audio"!==r.type)break;if(!e.fatal){var i=this.fragLoadError;if(i?i++:i=1,i<=(u=this.config).fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*u.fragLoadingRetryDelay,u.fragLoadingMaxRetryTimeout);f.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=v.now()+a,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=g.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=e.fatal?g.State.ERROR:g.State.IDLE,f.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var u,l=this.mediaBuffer,h=this.media.currentTime;l&&o.BufferHelper.isBuffered(l,h)&&o.BufferHelper.isBuffered(l,h+.5)?((u=this.config).maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,f.logger.warn("AudioStreamController: reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=g.State.IDLE):(f.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}))}}},n.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(f.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach((function(e){t.hls.trigger(s.default.BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},n}(g.default);e.default=m}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/task-loop.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),u=function(t){function e(e){var n=t.call(this,e,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return r(e,t),e.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},e.prototype.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:e})},e.prototype.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)a.logger.warn("Invalid audio track id:",t.id);else{if(a.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},e.prototype.onLevelLoaded=function(t){var e=this.hls.levels[t.level];if(e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},e.prototype.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(a.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},Object.defineProperty(e.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),e.prototype._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)a.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)a.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];a.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,r=e.type,o=e.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:o,type:r,url:n}),this._loadTrackDetailsIfNeeded(e)}},e.prototype.doTick=function(){this._updateTrack(this._trackId)},e.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var o=e.filter((function(t){return t.default}));o.length?e=o:a.logger.warn("No default audio tracks defined")}var u=!1,l=function(){e.forEach((function(e){u||t.audioGroupId&&e.groupId!==t.audioGroupId||r&&r!==e.name||(t._setAudioTrack(e.id),u=!0)}))};l(),u||(r=null,l()),u||(a.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},e.prototype._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live)&&!!n},e.prototype._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;a.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:e,id:n})}},e.prototype._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,a.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},e.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,r=e.language,i=e.groupId;a.logger.warn("Loading failed on audio track id: "+t+", group-id: "+i+', name/language: "'+n+'" / "'+r+'"');for(var o=t,s=0;s<this.tracks.length;s++)if(!this.trackIdBlacklist[s]&&this.tracks[s].name===n){o=s;break}o!==t?(a.logger.log("Attempting audio-track fallback id:",o,"group-id:",this.tracks[o].groupId),this._setAudioTrack(o)):a.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},e}(o.default);e.default=u},"./src/controller/base-stream-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/task-loop.js"),o=n("./src/controller/fragment-tracker.js"),a=n("./src/utils/buffer-helper.js"),s=n("./src/utils/logger.js");e.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return r(i,n),i.prototype.doTick=function(){},i.prototype.startLoad=function(){},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=e.State.STOPPED},i.prototype._streamEnded=function(t,e){var n=this.fragCurrent,r=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var i=r.getState(n);return i===o.FragmentState.PARTIAL||i===o.FragmentState.OK}return!1},i.prototype.onMediaSeeking=function(){var n=this.config,r=this.media,i=this.mediaBuffer,o=this.state,u=r?r.currentTime:null,l=a.BufferHelper.bufferInfo(i||r,u,this.config.maxBufferHole);if(t.isFinite(u)&&s.logger.log("media seeking to "+u.toFixed(3)),o===e.State.FRAG_LOADING){var c=this.fragCurrent;if(0===l.len&&c){var f=n.maxFragLookUpTolerance,h=c.start-f,d=c.start+c.duration+f;u<h||u>d?(c.loader&&(s.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=e.State.IDLE):s.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else o===e.State.ENDED&&(0===l.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=e.State.IDLE);r&&(this.lastCurrentTime=u),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=u),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},i.prototype.onHandlerDestroyed=function(){this.state=e.State.STOPPED,this.fragmentTracker=null},i}(i.default);e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),u=n("./src/utils/mediasource-helper.js").getMediaSource(),l=function(e){function n(t){var n=e.call(this,t,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n.bufferCodecEventsExpected=0,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return r(n,e),n.prototype.destroy=function(){o.default.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-t.start)>.1){var i=r.updating;try{r.abort()}catch(o){a.logger.warn("can not abort audio buffer: "+o)}i?this.audioTimestampOffset=t.start:(a.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+t.start),r.timestampOffset=t.start)}}},n.prototype.onManifestParsed=function(t){this.bufferCodecEventsExpected=t.altAudio?2:1,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},n.prototype.onMediaDetaching=function(){a.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(e){a.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):a.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){a.logger.log("media source opened"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){a.logger.log("media source closed")},n.prototype.onMediaSourceEnded=function(){a.logger.log("media source ended")},n.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;a.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce((function(t,n){return n.parent===e?t+1:t}),0),r={},o=this.sourceBuffer;for(var s in o)r[s]=o[s].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:e,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===n&&this.flushLiveBackBuffer()},n.prototype.onSBUpdateError=function(t){a.logger.error("sourceBuffer error:",t),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(t){var e=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach((function(n){e.pendingTracks[n]=t[n]}));var n=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var r in t)if(!e[r]){var o=t[r],u=o.levelCodec||o.codec,l=o.container+";codecs="+u;a.logger.log("creating sourceBuffer("+l+")");try{var c=e[r]=n.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:u,container:o.container},o.buffer=c}catch(f){a.logger.error("error while trying to add sourceBuffer:"+f.message),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:f,mimeType:l})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:t})},n.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},n.prototype.onBufferAppendFail=function(t){a.logger.error("sourceBuffer error:",t.event),this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var r in e)n&&r!==n||e[r].ended||(e[r].ended=!0,a.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var r=t[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}a.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(i){a.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.flushLiveBackBuffer=function(){if(this._live){var t=this.hls.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))for(var e=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),i=e-Math.max(t,this._levelTargetDuration),o=r.length-1;o>=0;o--){var a=r[o],s=n[a].buffered;s.length>0&&i>s.start(0)&&this.removeBufferRange(a,n[a],0,i)}}},n.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var e,n=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===n.liveDurationInfinity?(a.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!t.isFinite(e))&&(a.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(o){a.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(i.default.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var t=this.hls,e=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(this.media.error)return this.segments=[],void a.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(e&&e.length){var r=e.shift();try{var o=n[r.type];o?o.updating?e.unshift(r):(o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(l){a.logger.error("error while trying to append buffer:"+l.message),e.unshift(r);var u={type:s.ErrorTypes.MEDIA_ERROR,parent:r.parent};22!==l.code?(this.appendError?this.appendError++:this.appendError=1,u.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(a.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],u.fatal=!0,t.trigger(i.default.ERROR,u)):(u.fatal=!1,t.trigger(i.default.ERROR,u))):(this.segments=[],u.details=s.ErrorDetails.BUFFER_FULL_ERROR,u.fatal=!1,t.trigger(i.default.ERROR,u))}}}},n.prototype.flushBuffer=function(t,e,n){var r,i=this.sourceBuffer;if(Object.keys(i).length){if(a.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var o in i)if(!n||o===n){if((r=i[o]).ended=!1,r.updating)return a.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(o,r,t,e))return this.flushBufferCounter++,!1}}else a.logger.warn("abort flushing too many retries");a.logger.log("buffer flushed")}return!0},n.prototype.removeBufferRange=function(t,e,n,r){try{for(var i=0;i<e.buffered.length;i++){var o=e.buffered.start(i),s=e.buffered.end(i),u=Math.max(o,n),l=Math.min(s,r);if(Math.min(l,s)-u>.5)return a.logger.log("sb remove "+t+" ["+u+","+l+"], of ["+o+","+s+"], pos:"+this.media.currentTime),e.remove(u,l),!0}}catch(c){a.logger.warn("removeBufferRange failed",c)}return!1},n}(o.default);e.default=l}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=function(e){function n(n){var r=e.call(this,n,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return r.autoLevelCapping=t.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return r(n,e),n.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},n.prototype.onFpsDropLevelCapping=function(t){n.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},n.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},n.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this._startCapping()},n.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},n.prototype.onLevelsUpdated=function(t){this.levels=t.levels},n.prototype.onMediaDetaching=function(){this._stopCapping()},n.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},n.prototype.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return n.isLevelAllowed(i,e.restrictedLevels)&&i<=t}));return n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},n.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=t.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=t.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(n.prototype,"mediaWidth",{get:function(){var t,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=n.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaHeight",{get:function(){var t,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=n.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"contentScaleFactor",{get:function(){var t=1;try{t=window.devicePixelRatio}catch(e){}return t},enumerable:!0,configurable:!0}),n.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},n.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var r,i,o=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=n)&&(r=s,!(i=t[a+1])||r.width!==i.width||r.height!==i.height)){o=a;break}}return o},n}(n("./src/event-handler.js").default);e.default=o}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/event-handler.js"),o=n("./src/events.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=window.XMLHttpRequest,l="com.widevine.alpha",c="com.microsoft.playready",f=function(t){function e(e){var n=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return n._widevineLicenseUrl=e.config.widevineLicenseUrl,n._licenseXhrSetup=e.config.licenseXhrSetup,n._emeEnabled=e.config.emeEnabled,n._requestMediaKeySystemAccess=e.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return r(e,t),e.prototype.getLicenseServerUrl=function(t){var e;switch(t){case l:e=this._widevineLicenseUrl;break;default:e=null}return e||(s.logger.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,n){var r=this,i=function(t,e,n){switch(t){case l:return function(t,e,n){var r={videoCapabilities:[]};return e.forEach((function(t){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[r]}(0,n);default:throw Error("Unknown key-system: "+t)}}(t,0,n);i?(s.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,i).then((function(e){r._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){s.logger.error('Failed to obtain key-system "'+t+'" access:',e)}))):s.logger.warn("Can not create config for key-system (maybe because platform is not supported):",t)},Object.defineProperty(e.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),e.prototype._onMediaKeySystemAccessObtained=function(t,e){var n=this;s.logger.log('Access for key-system "'+t+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(r),e.createMediaKeys().then((function(e){r.mediaKeys=e,s.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated()})).catch((function(t){s.logger.error("Failed to create media-keys:",t)}))},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},e.prototype._onNewMediaKeySession=function(t){var e=this;s.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(n){e._onKeySessionMessage(t,n.message)}),!1)},e.prototype._onKeySessionMessage=function(t,e){s.logger.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){s.logger.log("Received license data, updating key-session"),t.update(e)}))},e.prototype._onMediaEncrypted=function(t,e){s.logger.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return s.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});s.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return s.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)s.logger.warn("Key-Session already initialized but requested again");else{var n=e.mediaKeysSession;n||(s.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,i=this._mediaEncryptionInitData;s.logger.log('Generating key-session request for "'+r+'" init data type'),e.mediaKeysSessionInitialized=!0,n.generateRequest(r,i).then((function(){s.logger.debug("Key-session generation succeeded")})).catch((function(e){s.logger.error("Error generating key-session request:",e),t.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},e.prototype._createLicenseXhr=function(t,e,n){var r=new u,i=this._licenseXhrSetup;try{if(i)try{i(r,t)}catch(l){r.open("POST",t,!0),i(r,t)}r.readyState||r.open("POST",t,!0)}catch(l){return s.logger.error("Error setting up key-system license XHR",l),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,n),r},e.prototype._onLicenseRequestReadyStageChange=function(t,e,n,r){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,s.logger.log("License request succeeded"),r(t.response);else{if(s.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var i=3-this._requestLicenseFailureCount+1;return s.logger.warn("Retrying license request, "+i+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var n;return t.mediaKeySystemDomain===c?s.logger.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===l?n=e:s.logger.error("Unsupported key-system:",t.mediaKeySystemDomain),n},e.prototype._requestLicense=function(t,e){s.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return s.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),i=this._createLicenseXhr(r,t,e);s.logger.log("Sending license request to URL: "+r),i.send(this._generateLicenseRequestChallenge(n,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",(function(t){e._onMediaEncrypted(t.initDataType,t.initData)}))}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),n=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(l,e,n)}},e}(i.default);e.default=f},"./src/controller/fps-controller.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/logger.js"),s=window.performance,u=function(t){function e(e){return t.call(this,e,i.default.MEDIA_ATTACHING)||this}return r(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"===typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,n){var r=s.now();if(e){if(this.lastTime){var o=r-this.lastTime,u=n-this.lastDroppedFrames,l=e-this.lastDecodedFrames,c=1e3*u/o,f=this.hls;if(f.trigger(i.default.FPS_DROP,{currentDropped:u,currentDecoded:l,totalDroppedFrames:n}),c>0&&u>f.config.fpsDroppedMonitoringThreshold*l){var h=f.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=h)&&(h-=1,f.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:f.currentLevel}),f.autoLevelCapping=h,f.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(o.default);e.default=u},"./src/controller/fragment-finders.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/binary-search.js");function i(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function o(t,e,n){var r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-r>t}e.findFragmentByPDT=function(e,n,r){if(!Array.isArray(e)||!e.length||!t.isFinite(n))return null;if(n<e[0].programDateTime)return null;if(n>=e[e.length-1].endProgramDateTime)return null;r=r||0;for(var i=0;i<e.length;++i){var a=e[i];if(o(n,r,a))return a}return null},e.findFragmentByPTS=function(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var a=t?e[t.sn-e[0].sn+1]:null;return a&&!i(n,o,a)?a:r.default.search(e,i.bind(null,n,o))},e.fragmentWithinToleranceTest=i,e.pdtWithinToleranceTest=o}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/event-handler.js"),o=n("./src/events.js");e.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var a=function(n){function a(t){var e=n.call(this,t,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return e.bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}return r(a,n),a.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),n.prototype.destroy.call(this)},a.prototype.getBufferedFrag=function(t,e){var n=this.fragments,r=Object.keys(n).filter((function(r){var i=n[r];if(i.body.type!==e)return!1;if(!i.buffered)return!1;var o=i.body;return o.startPTS<=t&&t<=o.endPTS}));if(0===r.length)return null;var i=r.pop();return n[i].body},a.prototype.detectEvictedFragments=function(t,e){var n,r,i=this;Object.keys(this.fragments).forEach((function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){n=s.time;for(var u=0;u<n.length;u++)if(r=n[u],!1===i.isTimeBuffered(r.startPTS,r.endPTS,e)){i.removeFragment(a.body);break}}}}))},a.prototype.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(t.hasElementaryStream(n)){var i=e.timeRanges[n];r.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,i)}})))},a.prototype.getBufferedTimes=function(t,e,n){for(var r,i,o=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,i=n.end(s)+this.bufferPadding,t>=r&&e<=i){o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<i&&e>r)o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),a=!0;else if(e<=r)break}return{time:o,partial:a}},a.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},a.prototype.getPartialFragment=function(t){var e,n,r,i=this,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=i.fragments[s];i.isPartial(u)&&(n=u.body.startPTS-i.bufferPadding,r=u.body.endPTS+i.bufferPadding,t>=n&&t<=r&&(e=Math.min(t-n,r-t),a<=e&&(o=u.body,a=e)))})),o},a.prototype.getState=function(t){var n=this.getFragmentKey(t),r=this.fragments[n],i=e.FragmentState.NOT_LOADED;return void 0!==r&&(i=r.buffered?!0===this.isPartial(r)?e.FragmentState.PARTIAL:e.FragmentState.OK:e.FragmentState.APPENDING),i},a.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},a.prototype.isTimeBuffered=function(t,e,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1},a.prototype.onFragLoaded=function(e){var n=e.frag;t.isFinite(n.sn)&&!n.bitrateTest&&(this.fragments[this.getFragmentKey(n)]={body:n,range:Object.create(null),buffered:!1})},a.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)}))},a.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},a.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},a.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},a.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},a}(i.default);e.FragmentTracker=a}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/buffer-helper.js"),i=n("./src/errors.js"),o=n("./src/events.js"),a=n("./src/utils/logger.js"),s=function(){function t(t,e,n,r){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}return t.prototype.poll=function(t,e){var n=this.config,i=this.media,o=i.currentTime,s=window.performance.now();if(o!==t)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(i.ended||!i.buffered.length||i.readyState>2)&&(!i.seeking||!r.BufferHelper.isBuffered(i,o))){var u=s-this.stalled,l=r.BufferHelper.bufferInfo(i,o,n.maxBufferHole);this.stalled?(u>=1e3&&this._reportStall(l.len),this._tryFixBufferStall(l,u)):this.stalled=s}},t.prototype._tryFixBufferStall=function(t,e){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,o=r.getPartialFragment(i);o&&this._trySkipBufferHole(o),t.len>.5&&e>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},t.prototype._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},t.prototype._trySkipBufferHole=function(t){for(var e=this.hls,n=this.media,r=n.currentTime,s=0,u=0;u<n.buffered.length;u++){var l=n.buffered.start(u);if(r>=s&&r<l)return n.currentTime=Math.max(l,n.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:t});s=n.buffered.end(u)}},t.prototype._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<t.nudgeMaxRetry){var u=r+s*t.nudgeOffset;a.logger.log("adjust currentTime from "+r+" to "+u),n.currentTime=u,e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+r+" after "+t.nudgeMaxRetry+", raise fatal error"),e.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();e.default=s},"./src/controller/id3-track-controller.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/demux/id3.js"),s=n("./src/utils/texttrack-utils.js"),u=function(t){function e(e){var n=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return n.id3Track=void 0,n.media=void 0,n}return r(e,t),e.prototype.destroy=function(){o.default.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){s.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return s.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=a.default.getID3Frames(n[i].data);if(o){var s=n[i].pts,u=i<n.length-1?n[i+1].pts:e.endPTS;s===u&&(u+=1e-4);for(var l=0;l<o.length;l++){var c=o[l];if(!a.default.isTimeStampFrame(c)){var f=new r(s,u,"");f.value=c,this.id3Track.addCue(f)}}}}},e}(o.default);e.default=u},"./src/controller/level-controller.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/utils/logger.js"),u=n("./src/errors.js"),l=n("./src/utils/codecs.js"),c=n("./src/controller/level-helper.js"),f=(window.performance,function(t){function e(e){var n=t.call(this,e,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}return r(e,t),e.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},e.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e,n=[],r=[],a={},f=null,h=!1,d=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,h=h||!!t.videoCodec,d=d||!!t.audioCodec,i&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(f=a[t.bitrate])?f.url.push(t.url):(t.url=[t.url],t.urlId=0,a[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&(d=!0,c.addGroupId(f||t,"audio",e.AUDIO)),e.SUBTITLES&&c.addGroupId(f||t,"text",e.SUBTITLES))})),h&&d&&(n=n.filter((function(t){return!!t.videoCodec}))),n=n.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||l.isCodecSupportedInMp4(e,"audio"))&&(!n||l.isCodecSupportedInMp4(n,"video"))})),t.audioTracks&&(r=t.audioTracks.filter((function(t){return!t.audioCodec||l.isCodecSupportedInMp4(t.audioCodec,"audio")}))).forEach((function(t,e){t.id=e})),n.length>0){e=n[0].bitrate,n.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=n;for(var p=0;p<n.length;p++)if(n[p].bitrate===e){this._firstLevel=p,s.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:t.stats,audio:d,video:h,altAudio:r.some((function(t){return!!t.url}))})}else this.hls.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(e.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))},enumerable:!0,configurable:!0}),e.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){s.logger.log("switching to level "+t),this.currentLevelIndex=t;var r=e[t];r.level=t,n.trigger(o.default.LEVEL_SWITCHING,r)}var i=e[t],a=i.details;if(!a||a.live){var l=i.urlId;n.trigger(o.default.LEVEL_LOADING,{url:i.url[l],level:t,id:l})}}else n.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(t){this._firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t},enumerable:!0,configurable:!0}),e.prototype.onError=function(t){if(t.fatal)t.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,r=!1;switch(t.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,r=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,r)}},e.prototype.recoverLevel=function(t,e,n,r){var i,o,a,u=this,l=this.hls.config,c=t.details,f=this._levels[e];if(f.loadError++,f.fragmentError=r,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return s.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return u.loadLevel()}),o),t.levelRetry=!0,this.levelRetryCount++,s.logger.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&((i=f.url.length)>1&&f.loadError<i?(f.urlId=(f.urlId+1)%i,f.details=void 0,s.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,s.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(s.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,n=t.level,r=t.details;if(n===this.currentLevelIndex){var i=this._levels[n];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),r.live){var o=c.computeReloadInterval(i.details,r,t.stats.trequest);s.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),o)}else this.clearTimer()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=0;i<n.audioGroupIds.length;i++)if(n.audioGroupIds[i]===e){r=i;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},e.prototype.loadLevel=function(){if(s.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"===typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,r=t.url[n];s.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(o.default.LEVEL_LOADING,{url:r,level:e,id:n})}}},Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)},enumerable:!0,configurable:!0}),e}(a.default));e.default=f},"./src/controller/level-helper.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js");function i(e,n,i){var o=e[n],a=e[i],s=a.startPTS;t.isFinite(s)?i>n?(o.duration=s-o.start,o.duration<0&&r.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):(a.duration=o.start-s,a.duration<0&&r.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=i>n?o.start+o.duration:Math.max(o.start-a.duration,0)}function o(e,n,r,o,a,s){var u=r;if(t.isFinite(n.startPTS)){var l=Math.abs(n.startPTS-r);t.isFinite(n.deltaPTS)?n.deltaPTS=Math.max(l,n.deltaPTS):n.deltaPTS=l,u=Math.max(r,n.startPTS),r=Math.min(r,n.startPTS),o=Math.max(o,n.endPTS),a=Math.min(a,n.startDTS),s=Math.max(s,n.endDTS)}var c=r-n.start;n.start=n.startPTS=r,n.maxStartPTS=u,n.endPTS=o,n.startDTS=a,n.endDTS=s,n.duration=o-r;var f,h,d,p=n.sn;if(!e||p<e.startSN||p>e.endSN)return 0;for(f=p-e.startSN,(h=e.fragments)[f]=n,d=f;d>0;d--)i(h,d,d-1);for(d=f;d<h.length-1;d++)i(h,d,d+1);return e.PTSKnown=!0,c}function a(t,e,n){if(t&&e)for(var r=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=r;a<=i;a++){var s=t.fragments[o+a],u=e.fragments[a];if(!s||!u)break;n(s,u,a)}}function s(t,e){var n=e.startSN-t.startSN,r=t.fragments,i=e.fragments;if(!(n<0||n>r.length))for(var o=0;o<i.length;o++)i[o].start+=r[n].start}e.addGroupId=function(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}},e.updatePTS=i,e.updateFragPTSDTS=o,e.mergeDetails=function(e,n){n.initSegment&&e.initSegment&&(n.initSegment=e.initSegment);var i,u=0;if(a(e,n,(function(e,r){u=e.cc-r.cc,t.isFinite(e.startPTS)&&(r.start=r.startPTS=e.startPTS,r.endPTS=e.endPTS,r.duration=e.duration,r.backtracked=e.backtracked,r.dropped=e.dropped,i=r),n.PTSKnown=!0})),n.PTSKnown){if(u){r.logger.log("discontinuity sliding from playlist, take drift into account");for(var l=n.fragments,c=0;c<l.length;c++)l[c].cc+=u}i?o(n,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):s(e,n),n.PTSKnown=e.PTSKnown}},e.mergeSubtitlePlaylists=function(t,e,n){void 0===n&&(n=0);var r=-1;a(t,e,(function(t,e,n){e.start=t.start,r=n}));var i=e.fragments;if(r<0)i.forEach((function(t){t.start+=n}));else for(var o=r+1;o<i.length;o++)i[o].start=i[o-1].start+i[o-1].duration},e.mapFragmentIntersection=a,e.adjustSliding=s,e.computeReloadInterval=function(t,e,n){var r=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),i=r/2;return t&&e.endSN===t.endSN&&(r=i),n&&(r=Math.max(i,r-(window.performance.now()-n))),Math.round(r)}}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/binary-search.js"),o=n("./src/utils/buffer-helper.js"),a=n("./src/demux/demuxer.js"),s=n("./src/events.js"),u=n("./src/controller/fragment-tracker.js"),l=n("./src/loader/fragment.js"),c=n("./src/loader/playlist-loader.js"),f=n("./src/controller/level-helper.js"),h=n("./src/utils/time-ranges.js"),d=n("./src/errors.js"),p=n("./src/utils/logger.js"),g=n("./src/utils/discontinuities.js"),v=n("./src/controller/fragment-finders.js"),m=n("./src/controller/gap-controller.js"),y=n("./src/controller/base-stream-controller.js"),b=function(e){function n(t,n){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED)||this;return r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=y.State.STOPPED,r.stallReported=!1,r.gapController=null,r}return r(n,e),n.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(p.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=y.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=y.State.STOPPED},n.prototype.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},n.prototype.doTick=function(){switch(this.state){case y.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case y.State.IDLE:this._doTickIdle();break;case y.State.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=y.State.IDLE);break;case y.State.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=y.State.IDLE);break;case y.State.ERROR:case y.State.STOPPED:case y.State.FRAG_LOADING:case y.State.PARSING:case y.State.PARSED:case y.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},n.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=t.nextLoadLevel,a=this.levels[i];if(a){var u,l=a.bitrate;u=l?Math.max(8*e.maxBufferSize/l,e.maxBufferLength):e.maxBufferLength,u=Math.min(u,e.maxMaxBufferLength);var c=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,e.maxBufferHole),f=c.len;if(!(f>=u)){p.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;var h=a.details;if(!h||h.live&&this.levelLastLoaded!==i)this.state=y.State.WAITING_LEVEL;else{if(this._streamEnded(c,h)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(s.default.BUFFER_EOS,d),void(this.state=y.State.ENDED)}this._fetchPayloadOrEos(r,c,h)}}}}},n.prototype._fetchPayloadOrEos=function(t,e,n){var r=this.fragPrevious,i=this.level,o=n.fragments,a=o.length;if(0!==a){var s,u=o[0].start,l=o[a-1].start+o[a-1].duration,c=e.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(a<f)return void p.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(null===(s=this._ensureFragmentAtLivePoint(n,c,u,l,r,o,a)))return}else c<u&&(s=o[0]);s||(s=this._findFragment(u,r,a,o,c,l,n)),s&&(s.encrypted?(p.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i),this._loadKey(s)):(p.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i+", currentTime:"+t.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},n.prototype._ensureFragmentAtLivePoint=function(t,e,n,r,o,a,s){var u,l=this.hls.config,c=this.media,f=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-l.maxFragLookUpTolerance,r-f)){var h=this.liveSyncPosition=this.computeLivePosition(n,t);p.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),e=h,c&&c.readyState&&c.duration>h&&(c.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>r&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.hasProgramDateTime)p.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),u=v.findFragmentByPDT(a,o.endProgramDateTime,l.maxFragLookUpTolerance);else{var d=o.sn+1;if(d>=t.startSN&&d<=t.endSN){var g=a[d-t.startSN];o.cc===g.cc&&(u=g,p.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=i.default.search(a,(function(t){return o.cc-t.cc})))&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=a[Math.min(s-1,Math.round(s/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},n.prototype._findFragment=function(t,e,n,r,i,o,a){var s,u=this.hls.config;if(i<o){var l=i>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance;s=v.findFragmentByPTS(e,r,i,l)}else s=r[n-1];if(s){var c=s.sn-a.startSN,f=e&&s.level===e.level,h=r[c-1],d=r[c+1];if(e&&s.sn===e.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var g=e.deltaPTS;g&&g>u.maxBufferHole&&e.dropped&&c?(s=h,p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=d,p.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(d&&d.backtracked?(p.logger.warn("Already backtracked from fragment "+d.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+d.sn),s=d):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,h?(s=h).backtracked=!0:c&&(s=null)))}return s},n.prototype._loadKey=function(t){this.state=y.State.KEY_LOADING,this.hls.trigger(s.default.KEY_LOADING,{frag:t})},n.prototype._loadFragment=function(e){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,t.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||n===u.FragmentState.NOT_LOADED||n===u.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new a.default(this.hls,"main")),this.state=y.State.FRAG_LOADING):n===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,p.logger.log("main stream:"+e+"->"+t),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},enumerable:!0,configurable:!0}),n.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.default.LevelType.MAIN)},Object.defineProperty(n.prototype,"currentLevel",{get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextBufferedFrag",{get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null},enumerable:!0,configurable:!0}),n.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},Object.defineProperty(n.prototype,"nextLevel",{get:function(){var t=this.nextBufferedFrag;return t?t.level:-1},enumerable:!0,configurable:!0}),n.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),o.BufferHelper.isBuffered(n,e)?t=this.getBufferedFrag(e):o.BufferHelper.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var r=t;if(r!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}},n.prototype.immediateLevelSwitch=function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,n=void 0;e?(n=e.paused,e.pause()):n=!0,this.previouslyPaused=n}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)},n.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},n.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var n,r=void 0,i=void 0;if((n=this.getBufferedFrag(e.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)r=0;else{var o=this.hls.nextLoadLevel,a=this.levels[o],s=this.fragLastKbps;r=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(e.currentTime+r))&&(i=this.followingBufferedFrag(i))){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,t.POSITIVE_INFINITY)}}},n.prototype.flushMainBuffer=function(t,e){this.state=y.State.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,n)},n.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new m.default(n,e,this.fragmentTracker,this.hls)},n.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onMediaSeeked=function(){var e=this.media,n=e?e.currentTime:void 0;t.isFinite(n)&&p.logger.log("media seeked to "+n.toFixed(3)),this.tick()},n.prototype.onManifestLoading=function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.prototype.onManifestParsed=function(t){var e,n=!1,r=!1;t.levels.forEach((function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},n.prototype.onLevelLoaded=function(e){var n=e.details,r=e.level,i=this.levels[this.levelLastLoaded],o=this.levels[r],a=n.totalduration,u=0;if(p.logger.log("level "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live){var l=o.details;l&&n.fragments.length>0?(f.mergeDetails(l,n),u=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(u,l),n.PTSKnown&&t.isFinite(u)?p.logger.log("live playlist sliding:"+u.toFixed(3)):(p.logger.log("live playlist - outdated PTS, unknown sliding"),g.alignStream(this.fragPrevious,i,n))):(p.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,g.alignStream(this.fragPrevious,i,n))}else n.PTSKnown=!1;if(o.details=n,this.levelLastLoaded=r,this.hls.trigger(s.default.LEVEL_UPDATED,{details:n,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=n.startTimeOffset;t.isFinite(c)?(c<0&&(p.logger.log("negative start time offset "+c+", count from end of last fragment"),c=u+a+c),p.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):n.live?(this.startPosition=this.computeLivePosition(u,n),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===y.State.WAITING_LEVEL&&(this.state=y.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===y.State.KEY_LOADING&&(this.state=y.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,r=this.levels,i=this.media,o=t.frag;if(this.state===y.State.FRAG_LOADING&&e&&"main"===o.type&&o.level===e.level&&o.sn===e.sn){var u=t.stats,l=r[e.level],c=l.details;if(this.bitrateTest=!1,this.stats=u,p.logger.log("Loaded "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level),o.bitrateTest&&n.nextLoadLevel)this.state=y.State.IDLE,this.startFragRequested=!1,u.tparsed=u.tbuffered=window.performance.now(),n.trigger(s.default.FRAG_BUFFERED,{stats:u,frag:e,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=y.State.IDLE,u.tparsed=u.tbuffered=window.performance.now(),c.initSegment.data=t.payload,n.trigger(s.default.FRAG_BUFFERED,{stats:u,frag:e,id:"main"}),this.tick();else{p.logger.log("Parsing "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level+", cc "+e.cc),this.state=y.State.PARSING,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var f=!(i&&i.seeking)&&(c.PTSKnown||!c.live),h=c.initSegment?c.initSegment.data:[],d=this._getAudioCodec(l);(this.demuxer=this.demuxer||new a.default(this.hls,"main")).push(t.payload,h,d,l.videoCodec,e,c.totalduration,f)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===y.State.PARSING){var r=t.tracks,i=void 0,o=void 0;if(r.audio&&this.altAudio&&delete r.audio,o=r.audio){var a=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===u.indexOf("firefox")&&(a="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==o.container&&(a="mp4a.40.2",p.logger.log("Android: force audio codec to "+a)),o.levelCodec=a,o.id=t.id}for(i in(o=r.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(s.default.BUFFER_CODECS,r),r){o=r[i],p.logger.log("main track:"+i+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},n.prototype.onFragParsingData=function(e){var n=this,r=this.fragCurrent,i=e.frag;if(r&&"main"===e.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===y.State.PARSING){var o=this.levels[this.level],a=r;if(t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&a.addElementaryStream(l.default.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(l.default.ElementaryStreamTypes.VIDEO),p.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)p.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var u=o.details;if(!u||a.sn!==u.startSN)return p.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=y.State.IDLE,this.fragPrevious=a,void this.tick();p.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var c=f.updateFragPTSDTS(o.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),h=this.hls;h.trigger(s.default.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(t){t&&t.length&&n.state===y.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,h.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))})),this.tick()}},n.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===y.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=y.State.PARSED,this._checkAppendedParsed())},n.prototype.onAudioTrackSwitching=function(e){var n=!!e.url,r=e.id;if(!n){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y.State.IDLE}var o=this.hls;o.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),o.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},n.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},n.prototype.onBufferCreated=function(t){var e,n,r=t.tracks,i=!1;for(var o in r){var a=r[o];"main"===a.id?(n=o,e=a,"video"===o&&(this.videoBuffer=r[o].buffer)):i=!0}i&&e?(p.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},n.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==y.State.PARSING&&e!==y.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(this.state===y.State.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+h.default.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=y.State.IDLE}this.tick()}},n.prototype.onError=function(e){var n=e.frag||this.fragCurrent;if(!n||"main"===n.type){var r=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=y.State.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=y.State.ERROR;break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==y.State.ERROR&&(e.fatal?(this.state=y.State.ERROR,p.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==y.State.WAITING_LEVEL||(this.state=y.State.IDLE));break;case d.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==y.State.PARSING&&this.state!==y.State.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=y.State.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)))}}},n.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},n.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},n.prototype.onFragLoadEmergencyAborted=function(){this.state=y.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(l.default.ElementaryStreamTypes.VIDEO,t.buffered),this.state=y.State.IDLE,this.fragPrevious=null},n.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},n.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=t.seeking?e:this.startPosition;e!==n&&(p.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+e+" "),t.currentTime=n)},n.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Object.defineProperty(n.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t},enumerable:!0,configurable:!0}),n}(y.default);e.default=b}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/utils/logger.js"),a=n("./src/crypt/decrypter.js"),s=n("./src/utils/buffer-helper.js"),u=n("./src/controller/fragment-finders.js"),l=n("./src/controller/fragment-tracker.js"),c=n("./src/controller/base-stream-controller.js"),f=n("./src/controller/level-helper.js"),h=window.performance,d=function(t){function e(e,n){var r=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return r.fragmentTracker=n,r.config=e.config,r.state=c.State.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new a.default(e,e.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(r),r}return r(e,t),e.prototype.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=c.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var i,o=e.start,a=0;a<r.length;a++)if(o>=r[a].start&&o<=r[a].end){i=r[a];break}var s=e.start+e.duration;i?i.end=s:(i={start:o,end:s},r.push(i))}}},e.prototype.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=c.State.IDLE},e.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=c.State.STOPPED},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=c.State.IDLE)},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]}))},e.prototype.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},e.prototype.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,r=this.currentTrackId,i=this.tracks,o=i[r];e>=i.length||e!==r||!o||(n.live&&f.mergeSubtitlePlaylists(o.details,n,this.lastAVStart),o.details=n,this.setInterval(500))},e.prototype.onKeyLoaded=function(){this.state===c.State.KEY_LOADING&&(this.state=c.State.IDLE)},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,r=t.frag,o=this.hls;if(this.state===c.State.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=h.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,(function(t){var e=h.now();o.trigger(i.default.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},e.prototype.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},e.prototype.doTick=function(){if(this.media)switch(this.state){case c.State.IDLE:var t=this,e=t.config,n=t.currentTrackId,r=t.fragmentTracker,a=t.media,f=t.tracks;if(!f||!f[n]||!f[n].details)break;var h=e.maxBufferHole,d=e.maxFragLookUpTolerance,p=Math.min(e.maxBufferLength,e.maxMaxBufferLength),g=s.BufferHelper.bufferedInfo(this._getBuffered(),a.currentTime,h),v=g.end,m=g.len,y=f[n].details,b=y.fragments,w=b.length,S=b[w-1].start+b[w-1].duration;if(m>p)return;var T=void 0,E=this.fragPrevious;v<S?(E&&y.hasProgramDateTime&&(T=u.findFragmentByPDT(b,E.endProgramDateTime,d)),T||(T=u.findFragmentByPTS(E,b,v,d))):T=b[w-1],T&&T.encrypted?(o.logger.log("Loading key for "+T.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:T})):T&&r.getState(T)===l.FragmentState.NOT_LOADED&&(this.fragCurrent=T,this.state=c.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:T}))}else this.state=c.State.IDLE},e.prototype.stopLoad=function(){this.lastAVStart=0,t.prototype.stopLoad.call(this)},e.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},e.prototype.onMediaSeeking=function(){this.fragPrevious=null},e}(c.default);e.SubtitleStreamController=d},"./src/controller/subtitle-track-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/logger.js"),s=n("./src/controller/level-helper.js"),u=function(e){function n(t){var n=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n}return r(n,e),n.prototype.destroy=function(){o.default.prototype.destroy.call(this)},n.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},n.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},n.prototype.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,r=t.details,i=this.trackId,o=this.tracks,u=o[i];if(n>=o.length||n!==i||!u||this.stopped)this._clearReloadTimer();else if(a.logger.log("subtitle track "+n+" loaded"),r.live){var l=s.computeReloadInterval(u.details,r,t.stats.trequest);a.logger.log("Reloading live subtitle playlist in "+l+"ms"),this.timer=setTimeout((function(){e._loadCurrentTrack()}),l)}else this._clearReloadTimer()},n.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(n.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))},enumerable:!0,configurable:!0}),n.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,n=this.hls,r=e[t];t<0||!r||r.details&&!r.details.live||(a.logger.log("Loading subtitle track "+t),n.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:r.url,id:t}))},n.prototype._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,r=this.trackId;if(e){var i=l(e.textTracks);if(-1===t)[].slice.call(i).forEach((function(t){t.mode="disabled"}));else{var o=i[r];o&&(o.mode="disabled")}var a=i[t];a&&(a.mode=n?"showing":"hidden")}},n.prototype._setSubtitleTrackInternal=function(e){var n=this.hls,r=this.tracks;!t.isFinite(e)||e<-1||e>=r.length||(this.trackId=e,a.logger.log("Switching to subtitle track "+e),n.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},n.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=l(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},n}(o.default);function l(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"subtitles"===r.kind&&r.label&&e.push(t[n])}return e}e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/utils/cea-608-parser.js"),s=n("./src/utils/output-filter.js"),u=n("./src/utils/webvtt-parser.js"),l=n("./src/utils/logger.js"),c=n("./src/utils/texttrack-utils.js");function f(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var h=function(e){function n(t){var n=e.call(this,t,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.FRAG_DECRYPTED,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND)||this;if(n.hls=t,n.config=t.config,n.enabled=!0,n.Cues=t.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new s.default(n,"textTrack1"),o=new s.default(n,"textTrack2");n.cea608Parser=new a.default(0,r,o)}return n}return r(n,e),n.prototype.addCues=function(t,e,n,r){for(var i,o,a,s,u=this.cueRanges,l=!1,c=u.length;c--;){var f=u[c],h=(i=f[0],o=f[1],a=e,s=n,Math.min(o,s)-Math.max(i,a));if(h>=0&&(f[0]=Math.min(f[0],e),f[1]=Math.max(f[1],n),l=!0,h/(n-e)>.5))return}l||u.push([e,n]),this.Cues.newCue(this.captionsTracks[t],e,n,r)},n.prototype.onInitPtsFound=function(t){var e=this;if("main"===t.id&&(this.initPTS[t.frag.cc]=t.initPTS),this.unparsedVttFrags.length){var n=this.unparsedVttFrags;this.unparsedVttFrags=[],n.forEach((function(t){e.onFragLoaded(t)}))}},n.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(r[t])return r}return null},n.prototype.createCaptionsTrack=function(t){var e=this.captionsProperties[t],n=e.label,r=e.languageCode,i=this.captionsTracks;if(!i[t]){var o=this.getExistingTrack(t);if(o)i[t]=o,c.clearCurrentCues(i[t]),c.sendAddTrackEvent(i[t],this.media);else{var a=this.createTextTrack("captions",n,r);a&&(a[t]=!0,i[t]=a)}}},n.prototype.createTextTrack=function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)},n.prototype.destroy=function(){o.default.prototype.destroy.call(this)},n.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},n.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){c.clearCurrentCues(t[e]),delete t[e]}))},n.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},n.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)c.clearCurrentCues(e[n])}},n.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,r){var i;if(r<n.length){for(var o=null,a=0;a<n.length;a++)if(f(n[a],t)){o=n[a];break}o&&(i=o)}i||(i=e.createTextTrack("subtitles",t.name,t.lang)),t.default?i.mode=e.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",e.textTracks.push(i)}))}},n.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},n.prototype.onFragLoaded=function(e){var n=e.frag,r=e.payload;if("main"===n.type){var o=n.sn;if(o!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=o}else if("subtitle"===n.type)if(r.byteLength){if(!t.isFinite(this.initPTS[n.cc]))return this.unparsedVttFrags.push(e),void(this.initPTS.length&&this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n}));var s=n.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(n,r)}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})},n.prototype._parseVTTs=function(t,e){var n=this.vttCCs;n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var r=this.textTracks,o=this.hls;u.default.parse(e,this.initPTS[t.cc],n,t.cc,(function(e){var n=r[t.level];"disabled"!==n.mode?(e.forEach((function(t){if(!n.cues.getCueById(t.id))try{n.addCue(t)}catch(r){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,n.addCue(e)}})),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}),(function(e){l.logger.log("Failed to parse VTT cue: "+e),o.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},n.prototype.onFragDecrypted=function(e){var n=e.payload,r=e.frag;if("subtitle"===r.type){if(!t.isFinite(this.initPTS[r.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(r,n)}},n.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},n.prototype.extractCea608Data=function(t){for(var e,n,r,i=31&t[0],o=2,a=[],s=0;s<i;s++)e=t[o++],n=127&t[o++],r=127&t[o++],0===n&&0===r||0!==(4&e)&&0===(3&e)&&(a.push(n),a.push(r));return a},n}(o.default);e.default=h}).call(this,n("./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();e.default=r},"./src/crypt/aes-decryptor.js":function(t,e,n){"use strict";function r(t){var e=t.byteLength,n=e&&new DataView(t).getUint8(e-1);return n?t.slice(0,e-n):t}Object.defineProperty(e,"__esModule",{value:!0}),e.removePadding=r;var i=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],h=new Uint32Array(256),d=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[d]=v,e[v]=d;var m=h[d],y=h[m],b=h[y],w=257*h[v]^16843008*v;r[d]=w<<24|w>>>8,i[d]=w<<16|w>>>16,o[d]=w<<8|w>>>24,a[d]=w,w=16843009*b^65537*y^257*m^16843008*d,u[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,c[v]=w<<8|w>>>24,f[v]=w,d?(d=m^h[h[h[b^m]]],p^=h[h[p]]):d=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),h=this.sBox,d=this.rcon,p=this.invSubMix,g=p[0],v=p[1],m=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=e[o]:(u=s,o%i===0?(u=h[(u=u<<8|u>>>24)>>>24]<<24|h[u>>>16&255]<<16|h[u>>>8&255]<<8|h[255&u],u^=d[o/i|0]<<24):i>6&&o%i===4&&(u=h[u>>>24]<<24|h[u>>>16&255]<<16|h[u>>>8&255]<<8|h[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:g[h[u>>>24]]^v[h[u>>>16&255]]^m[h[u>>>8&255]]^y[h[255&u]],f[a]=f[a]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,n,i){for(var o,a,s,u,l,c,f,h,d,p,g,v,m,y,b=this.keySize+6,w=this.invKeySchedule,S=this.invSBox,T=this.invSubMix,E=T[0],_=T[1],k=T[2],x=T[3],M=this.uint8ArrayToUint32Array_(n),A=M[0],R=M[1],I=M[2],C=M[3],L=new Int32Array(t),D=new Int32Array(L.length),O=this.networkToHostOrderSwap;e<L.length;){for(d=O(L[e]),p=O(L[e+1]),g=O(L[e+2]),v=O(L[e+3]),l=d^w[0],c=v^w[1],f=g^w[2],h=p^w[3],m=4,y=1;y<b;y++)o=E[l>>>24]^_[c>>16&255]^k[f>>8&255]^x[255&h]^w[m],a=E[c>>>24]^_[f>>16&255]^k[h>>8&255]^x[255&l]^w[m+1],s=E[f>>>24]^_[h>>16&255]^k[l>>8&255]^x[255&c]^w[m+2],u=E[h>>>24]^_[l>>16&255]^k[c>>8&255]^x[255&f]^w[m+3],l=o,c=a,f=s,h=u,m+=4;o=S[l>>>24]<<24^S[c>>16&255]<<16^S[f>>8&255]<<8^S[255&h]^w[m],a=S[c>>>24]<<24^S[f>>16&255]<<16^S[h>>8&255]<<8^S[255&l]^w[m+1],s=S[f>>>24]<<24^S[h>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^w[m+2],u=S[h>>>24]<<24^S[l>>16&255]<<16^S[c>>8&255]<<8^S[255&f]^w[m+3],m+=3,D[e]=O(o^A),D[e+1]=O(u^R),D[e+2]=O(s^I),D[e+3]=O(a^C),A=d,R=p,I=g,C=v,e+=4}return i?r(D.buffer):D.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}();e.default=i},"./src/crypt/decrypter.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/crypt/aes-crypto.js"),i=n("./src/crypt/fast-aes-key.js"),o=n("./src/crypt/aes-decryptor.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=n("./src/events.js"),l=n("./src/utils/get-self-scope.js").getSelfScope(),c=function(){function t(t,e,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=i,i)try{var o=l.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,n,a){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new o.default),l.expandKey(e),a(l.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new i.default(c,e)),this.fastAesKey.expandKey().then((function(i){new r.default(c,n).decrypt(t,i).catch((function(r){u.onWebCryptoError(r,t,e,n,a)})).then((function(t){a(t)}))})).catch((function(r){u.onWebCryptoError(r,t,e,n,a)}))}},t.prototype.onWebCryptoError=function(t,e,n,r,i){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,r,i)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.default=c},"./src/crypt/fast-aes-key.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();e.default=r},"./src/demux/aacdemuxer.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/adts.js"),i=n("./src/utils/logger.js"),o=n("./src/demux/id3.js"),a=function(){function e(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return e.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(t){if(!t)return!1;for(var e=(o.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(r.probe(t,e))return i.logger.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,n,a,s){for(var u=this._audioTrack,l=o.default.getID3Data(e,0)||[],c=o.default.getTimeStamp(l),f=t.isFinite(c)?90*c:9e4*n,h=0,d=f,p=e.length,g=l.length,v=[{pts:d,dts:d,data:l}];g<p-1;)if(r.isHeader(e,g)&&g+5<p){r.initTrackConfig(u,this.observer,e,g,u.manifestCodec);var m=r.appendFrame(u,e,g,f,h);if(!m){i.logger.log("Unable to parse AAC frame");break}g+=m.length,d=m.sample.pts,h++}else o.default.isHeader(e,g)?(l=o.default.getID3Data(e,g),v.push({pts:d,dts:d,data:l}),g+=l.length):g++;this.remuxer.remux(u,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},n,a,s)},e.prototype.destroy=function(){},e}();e.default=a}).call(this,n("./src/polyfills/number.js").Number)},"./src/demux/adts.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=n("./src/errors.js"),o=n("./src/events.js");function a(t,e,n,a){var s,u,l,c,f,h=navigator.userAgent.toLowerCase(),d=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&e[n+2])>>>6),!((u=(60&e[n+2])>>>2)>p.length-1))return c=(1&e[n+2])<<2,c|=(192&e[n+3])>>>6,r.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+u+"["+p[u]+"Hz],channelConfig:"+c),/firefox/i.test(h)?u>=6?(s=5,f=new Array(4),l=u-3):(s=2,f=new Array(2),l=u):-1!==h.indexOf("android")?(s=2,f=new Array(2),l=u):(s=5,f=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&u>=6?l=u-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(u>=6&&1===c||/vivaldi/i.test(h))||!a&&1===c)&&(s=2,f=new Array(2)),l=u)),f[0]=s<<3,f[0]|=(14&u)>>1,f[1]|=(1&u)<<7,f[1]|=c<<3,5===s&&(f[1]|=(14&l)>>1,f[2]=(1&l)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:p[u],channelCount:c,codec:"mp4a.40."+s,manifestCodec:d};t.trigger(o.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u})}function s(t,e){return 255===t[e]&&240===(246&t[e+1])}function u(t,e){return 1&t[e+1]?7:9}function l(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function c(t){return 9216e4/t}function f(t,e,n,r,i){var o,a,s=t.length;if(o=u(t,e),a=l(t,e),(a-=o)>0&&e+o+a<=s)return{headerLength:o,frameLength:a,stamp:n+r*i}}e.getAudioConfig=a,e.isHeaderPattern=s,e.getHeaderLength=u,e.getFullFrameLength=l,e.isHeader=function(t,e){return!!(e+1<t.length&&s(t,e))},e.probe=function(t,e){if(e+1<t.length&&s(t,e)){var n=u(t,e);e+5<t.length&&(n=l(t,e));var r=e+n;if(r===t.length||r+1<t.length&&s(t,r))return!0}return!1},e.initTrackConfig=function(t,e,n,i,o){if(!t.samplerate){var s=a(e,n,i,o);t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+t.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},e.getFrameDuration=c,e.parseFrameHeader=f,e.appendFrame=function(t,e,n,r,i){var o=f(e,n,r,i,c(t.samplerate));if(o){var a=o.stamp,s=o.headerLength,u=o.frameLength,l={unit:e.subarray(n+s,n+s+u),pts:a,dts:a};return t.samples.push(l),t.len+=u,{sample:l,length:u+s}}}},"./src/demux/demuxer-inline.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("./src/events.js"),o=n("./src/errors.js"),a=n("./src/crypt/decrypter.js"),s=n("./src/demux/aacdemuxer.js"),u=n("./src/demux/mp4demuxer.js"),l=n("./src/demux/tsdemuxer.js"),c=n("./src/demux/mp3demuxer.js"),f=n("./src/remux/mp4-remuxer.js"),h=n("./src/remux/passthrough-remuxer.js"),d=n("./src/utils/get-self-scope.js"),p=n("./src/utils/logger.js"),g=d.getSelfScope();try{r=g.performance.now.bind(g.performance)}catch(m){p.logger.debug("Unable to use Performance API on this environment"),r=g.Date.now}var v=function(){function t(t,e,n,r){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,n,o,s,u,l,c,f,h,d,p){var g=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var v=this.decrypter;null==v&&(v=this.decrypter=new a.default(this.observer,this.config));var m=r();v.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var a=r();g.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),o,s,u,l,c,f,h,d,p)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),o,s,u,l,c,f,h,d,p)},t.prototype.pushDecrypted=function(t,e,n,r,a,d,p,g,v,m,y,b){var w=this.demuxer;if(!w||(p||g)&&!this.probe(t)){for(var S=this.observer,T=this.typeSupported,E=this.config,_=[{demux:l.default,remux:f.default},{demux:u.default,remux:h.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],k=0,x=_.length;k<x;k++){var M=_[k],A=M.demux.probe;if(A(t)){var R=this.remuxer=new M.remux(S,E,T,this.vendor);w=new M.demux(S,R,E,T),this.probe=A;break}}if(!w)return void S.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=w}var I=this.remuxer;(p||g)&&(w.resetInitSegment(n,r,a,m),I.resetInitSegment()),p&&(w.resetTimeStamp(b),I.resetTimeStamp(b)),"function"===typeof w.setDecryptData&&w.setDecryptData(e),w.append(t,d,v,y)},t}();e.default=v},"./src/demux/demuxer-worker.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/demuxer-inline.js"),i=n("./src/events.js"),o=n("./src/utils/logger.js"),a=n("./node_modules/node-libs-browser/node_modules/events/events.js");e.default=function(t){var e=new a.EventEmitter;e.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new r.default(e,a.typeSupported,s,a.vendor),o.enableLogs(s.debug),n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(i.default.FRAG_DECRYPTED,n),e.on(i.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(i.default.FRAG_PARSED,n),e.on(i.default.ERROR,n),e.on(i.default.FRAG_PARSING_METADATA,n),e.on(i.default.FRAG_PARSING_USERDATA,n),e.on(i.default.INIT_PTS_FOUND,n),e.on(i.default.FRAG_PARSING_DATA,(function(e,n){var r=[],i={event:e,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),t.postMessage(i,r)}))}},"./src/demux/demuxer.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.js"),o=n("./src/demux/demuxer-inline.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),u=n("./src/utils/mediasource-helper.js"),l=n("./src/utils/get-self-scope.js"),c=n("./src/observer.js"),f=l.getSelfScope(),h=u.getMediaSource(),d=function(){function e(t,e){var n=this;this.hls=t,this.id=e;var u=this.observer=new c.Observer,l=t.config,d=function(e,r){(r=r||{}).frag=n.frag,r.id=n.id,t.trigger(e,r)};u.on(i.default.FRAG_DECRYPTED,d),u.on(i.default.FRAG_PARSING_INIT_SEGMENT,d),u.on(i.default.FRAG_PARSING_DATA,d),u.on(i.default.FRAG_PARSED,d),u.on(i.default.ERROR,d),u.on(i.default.FRAG_PARSING_METADATA,d),u.on(i.default.FRAG_PARSING_USERDATA,d),u.on(i.default.INIT_PTS_FOUND,d);var p={mp4:h.isTypeSupported("video/mp4"),mpeg:h.isTypeSupported("audio/mpeg"),mp3:h.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(l.enableWorker&&"undefined"!==typeof Worker){a.logger.log("demuxing in webworker");var v=void 0;try{v=this.w=r("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(e){t.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},v.postMessage({cmd:"init",typeSupported:p,vendor:g,id:e,config:JSON.stringify(l)})}catch(m){a.logger.warn("Error in worker:",m),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),v&&f.URL.revokeObjectURL(v.objectURL),this.demuxer=new o.default(u,p,l,g),this.w=void 0}}else this.demuxer=new o.default(u,p,l,g)}return e.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,n,r,i,o,s,u,l){var c=this.w,f=t.isFinite(o.startPTS)?o.startPTS:o.start,h=o.decryptdata,d=this.frag,p=!(d&&o.cc===d.cc),g=!(d&&o.level===d.level),v=d&&o.sn===d.sn+1,m=!g&&v;if(p&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=o,c)c.postMessage({cmd:"demux",data:e,decryptdata:h,initSegment:n,audioCodec:r,videoCodec:i,timeOffset:f,discontinuity:p,trackSwitch:g,contiguous:m,duration:s,accurateTimeOffset:u,defaultInitPTS:l},e instanceof ArrayBuffer?[e]:[]);else{var y=this.demuxer;y&&y.push(e,h,n,r,i,f,p,g,m,s,u,l)}},e.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},e}();e.default=d}).call(this,n("./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,n=8,r=8;for(e=0;e<t;e++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},t.prototype.readSPS=function(){var t,e,n,r,i,o,a,s=0,u=0,l=0,c=0,f=this.readUByte.bind(this),h=this.readBits.bind(this),d=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(f(),t=f(),h(5),g(3),f(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=d();if(3===b&&g(1),m(),m(),g(1),p())for(o=3!==b?8:12,a=0;a<o;a++)p()&&y(a<6?16:64)}m();var w=d();if(0===w)d();else if(1===w)for(g(1),v(),v(),e=d(),a=0;a<e;a++)v();m(),g(1),n=d(),r=d(),0===(i=h(1))&&g(1),g(1),p()&&(s=d(),u=d(),l=d(),c=d());var S=[1,1];if(p()&&p())switch(f()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(l+c),pixelRatio:S}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.default=i},"./src/demux/id3.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var r=n,i=0;t.isHeader(e,n);)i+=10,i+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(i+=10),n+=i;if(i>0)return e.subarray(r,r+i)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),r=0;r<n.length;r++){var i=n[r];if(t.isTimeStampFrame(i))return t._readTimeStamp(i)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),r=t._readSize(e,4);return{type:n,size:r,data:e.subarray(10,10+r)}},t.getID3Frames=function(e){for(var n=0,r=[];t.isHeader(e,n);){for(var i=t._readSize(e,n+6),o=(n+=10)+i;n+8<o;){var a=t._getFrameData(e.subarray(n)),s=t._decodeFrame(a);s&&r.push(s),n+=a.size+10}t.isFooter(e,n)&&(n+=10)}return r},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),r=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:r.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,r=t._utf8ArrayToStr(e.data.subarray(n));n+=r.length+1;var i=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:r,data:i}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,r=t._utf8ArrayToStr(e.data.subarray(n));n+=r.length+1;var i=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:r,data:i}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);for(var n,r,i,o=t.length,a="",s=0;s<o;){if(0===(n=t[s++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[s++],i=t[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&i)<<0)}}return a},t}(),i=r._utf8ArrayToStr;e.utf8ArrayToStr=i,e.default=r},"./src/demux/mp3demuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/id3.js"),i=n("./src/utils/logger.js"),o=n("./src/demux/mpegaudio.js"),a=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return t.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,n,a=r.default.getID3Data(t,0);if(a&&void 0!==r.default.getTimeStamp(a))for(e=a.length,n=Math.min(t.length-1,e+100);e<n;e++)if(o.default.probe(t,e))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,i){for(var a=r.default.getID3Data(t,0),s=r.default.getTimeStamp(a),u=s?90*s:9e4*e,l=a.length,c=t.length,f=0,h=0,d=this._audioTrack,p=[{pts:u,dts:u,data:a}];l<c;)if(o.default.isHeader(t,l)){var g=o.default.appendFrame(d,t,l,u,f);if(!g)break;l+=g.length,h=g.sample.pts,f++}else r.default.isHeader(t,l)?(a=r.default.getID3Data(t,l),p.push({pts:h,dts:h,data:a}),l+=a.length):l++;this.remuxer.remux(d,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,n,i)},t.prototype.destroy=function(){},t}();e.default=a},"./src/demux/mp4demuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=n("./src/events.js"),o=Math.pow(2,32)-1,a=function(){function t(t,e){this.observer=t,this.remuxer=e}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,n,r,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:o?e:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var r,i,o,a,s,u,l=[];if(e.data?(s=e.start,o=e.end,e=e.data):(s=0,o=e.byteLength),!n.length)return null;for(r=s;r<o;)u=(i=t.readUint32(e,r))>1?r+i:o,t.bin2str(e.subarray(r+4,r+8))===n[0]&&(1===n.length?l.push({data:e,start:r+8,end:u}):(a=t.findBox({data:e,start:r+8,end:u},n.slice(1))).length&&(l=l.concat(a))),r=u;return l},t.parseSegmentIndex=function(e){var n,r=t.findBox(e,["moov"])[0],i=r?r.end:null,o=0,a=t.findBox(e,["sidx"]);if(!a||!a[0])return null;n=[];var s=(a=a[0]).data[0];o=0===s?8:16;var u=t.readUint32(a,o);o+=4,o+=0===s?8:16,o+=2;var l=a.end+0,c=t.readUint16(a,o);o+=2;for(var f=0;f<c;f++){var h=o,d=t.readUint32(a,h);h+=4;var p=2147483647&d;if(1===(2147483648&d)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(a,h);h+=4,n.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/u,start:l,end:l+p-1}}),l+=p,o=h+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:n,moovEndOffset:i}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach((function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var o=i.data[i.start],a=0===o?12:20,s=t.readUint32(i,a),u=t.findBox(e,["mdia","mdhd"])[0];if(u){a=0===(o=u.data[u.start])?12:20;var l=t.readUint32(u,a),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var f={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(f){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var d=t.bin2str(h.data.subarray(h.start+12,h.start+16));r.logger.log("MP4Demuxer:"+f+":"+d+" found")}n[s]={timescale:l,type:f},n[f]={timescale:l,id:s}}}}}})),n},t.getStartDTS=function(e,n){var r,i,o;return r=t.findBox(n,["moof","traf"]),i=[].concat.apply([],r.map((function(n){return t.findBox(n,["tfhd"]).map((function(r){var i,o;return i=t.readUint32(r,4),o=e[i].timescale||9e4,t.findBox(n,["tfdt"]).map((function(e){var n,r;return n=e.data[e.start],r=t.readUint32(e,4),1===n&&(r*=Math.pow(2,32),r+=t.readUint32(e,8)),r}))[0]/o}))}))),o=Math.min.apply(null,i),isFinite(o)?o:0},t.offsetStartDTS=function(e,n,r){t.findBox(n,["moof","traf"]).map((function(n){return t.findBox(n,["tfhd"]).map((function(i){var a=t.readUint32(i,4),s=e[a].timescale||9e4;t.findBox(n,["tfdt"]).map((function(e){var n=e.data[e.start],i=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,i-r*s);else{i*=Math.pow(2,32),i+=t.readUint32(e,8),i-=r*s,i=Math.max(i,0);var a=Math.floor(i/(o+1)),u=Math.floor(i%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,u)}}))}))}))},t.prototype.append=function(e,n,r,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=t.getStartDTS(a,e);this.initPTS=u=l-n,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:u})}t.offsetStartDTS(a,e,u),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,r,o,e)},t.prototype.destroy=function(){},t}();e.default=a},"./src/demux/mpegaudio.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,r,i){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,o=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==n&&0!==o&&15!==o&&3!==a){var u=3===n?3-i:3===i?3:4,l=1e3*r.BitratesMap[14*u+o-1],c=3===n?0:2===n?1:2,f=r.SamplingRateMap[3*c+a],h=t[e+3]>>6===3?1:2,d=r.SamplesCoefficients[n][i],p=r.BytesInSlot[i],g=8*d*p;return{sampleRate:f,channelCount:h,frameLength:parseInt(d*l/f+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),r=4;n&&n.frameLength&&(r=n.frameLength);var i=e+r;if(i===t.length||i+1<t.length&&this.isHeaderPattern(t,i))return!0}return!1}};e.default=r},"./src/demux/sample-aes.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/crypt/decrypter.js"),i=function(){function t(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new r.default(t,e,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,n,r){var i=t[e].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),i.set(o,16),r||s.decryptAacSamples(t,e+1,n)}))},t.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,r=32;r<=t.length-16;r+=160,n+=16)t.set(e.subarray(n,n+16),r);return t},t.prototype.decryptAvcSample=function(t,e,n,r,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,n+1,r)}))},t.prototype.decryptAvcSamples=function(t,e,n,r){for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,o,a),!a)return}}}},t}();e.default=i},"./src/demux/tsdemuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/demux/adts.js"),i=n("./src/demux/mpegaudio.js"),o=n("./src/events.js"),a=n("./src/demux/exp-golomb.js"),s=n("./src/demux/sample-aes.js"),u=n("./src/utils/logger.js"),l=n("./src/errors.js"),c={video:1,audio:2,id3:3,text:4},f=function(){function t(t,e,n,r){this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=e,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.default(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0)&&(n&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",i),this._audioTrack=t.createTrack("audio",i),this._id3Track=t.createTrack("id3",i),this._txtTrack=t.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=i},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,n,r,i){var a,s,c,f,h,d=e.length,p=!1;this.contiguous=r;var g=this.pmtParsed,v=this._avcTrack,m=this._audioTrack,y=this._id3Track,b=v.pid,w=m.pid,S=y.pid,T=this._pmtId,E=v.pesData,_=m.pesData,k=y.pesData,x=this._parsePAT,M=this._parsePMT,A=this._parsePES,R=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),C=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),D=t._syncOffset(e);for(d-=(d+D)%188,a=D;a<d;a+=188)if(71===e[a]){if(s=!!(64&e[a+1]),c=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((f=a+5+e[a+4])===a+188)continue}else f=a+4;switch(c){case b:s&&(E&&(h=A(E))&&void 0!==h.pts&&R(h,!1),E={data:[],size:0}),E&&(E.data.push(e.subarray(f,a+188)),E.size+=a+188-f);break;case w:s&&(_&&(h=A(_))&&void 0!==h.pts&&(m.isAAC?I(h):C(h)),_={data:[],size:0}),_&&(_.data.push(e.subarray(f,a+188)),_.size+=a+188-f);break;case S:s&&(k&&(h=A(k))&&void 0!==h.pts&&L(h),k={data:[],size:0}),k&&(k.data.push(e.subarray(f,a+188)),k.size+=a+188-f);break;case 0:s&&(f+=e[f]+1),T=this._pmtId=x(e,f);break;case T:s&&(f+=e[f]+1);var O=M(e,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=O.avc)>0&&(v.pid=b),(w=O.audio)>0&&(m.pid=w,m.isAAC=O.isAAC),(S=O.id3)>0&&(y.pid=S),p&&!g&&(u.logger.log("reparse from beginning"),p=!1,a=D-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(h=A(E))&&void 0!==h.pts?(R(h,!0),v.pesData=null):v.pesData=E,_&&(h=A(_))&&void 0!==h.pts?(m.isAAC?I(h):C(h),m.pesData=null):(_&&_.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=_),k&&(h=A(k))&&void 0!==h.pts?(L(h),y.pesData=null):y.pesData=k,null==this.sampleAes?this.remuxer.remux(m,v,y,this._txtTrack,n,r,i):this.decryptAndRemux(m,v,y,this._txtTrack,n,r,i)},t.prototype.decryptAndRemux=function(t,e,n,r,i,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,n,r,i,o,a)}))}else this.decryptAndRemuxAvc(t,e,n,r,i,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,n,r,i,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,n,r,i,o,a)}))}else this.remuxer.remux(t,e,n,r,i,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,n,r){var i,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){u.logger.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!r){u.logger.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:n?-1===a.audio&&(a.audio=o,a.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},t.prototype._parsePES=function(t){var e,n,r,i,o,a,s,l,c=0,f=t.data;if(!t||0===t.size)return null;for(;f[0].length<19&&f.length>1;){var h=new Uint8Array(f[0].length+f[1].length);h.set(f[0]),h.set(f[1],f[0].length),f[0]=h,f.splice(1,1)}if(1===((e=f[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;192&(n=e[7])&&((a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)>4294967295&&(a-=8589934592),64&n?((s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(u.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),l=(i=e[8])+9,t.size-=l,o=new Uint8Array(t.size);for(var d=0,p=f.length;d<p;d++){var g=(e=f[d]).byteLength;if(l){if(l>g){l-=g;continue}e=e.subarray(l),g-=l,l=0}o.set(e,c),c+=g}return r&&(r-=i+3),{data:o,pts:a,dts:s,len:r}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,n.push(t)):e.dropped++}t.debug.length&&u.logger.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var n,r,i,o=this,s=this._avcTrack,u=this._parseAVCNALu(t.data),l=this.avcSample,c=!1,f=this.pushAccesUnit.bind(this),h=function(t,e,n,r){return{key:t,pts:e,dts:n,units:[],debug:r}};t.data=null,l&&u.length&&!s.audFound&&(f(l,s),l=this.avcSample=h(!1,t.pts,t.dts,"")),u.forEach((function(e){switch(e.type){case 1:r=!0,l||(l=o.avcSample=h(!0,t.pts,t.dts,"")),l.frame=!0;var u=e.data;if(c&&u.length>4){var d=new a.default(u).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(l.key=!0)}break;case 5:r=!0,l||(l=o.avcSample=h(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0,(n=new a.default(o.discardEPB(e.data))).readUByte();for(var p=0,g=0,v=!1,m=0;!v&&n.bytesAvailable>1;){p=0;do{p+=m=n.readUByte()}while(255===m);g=0;do{g+=m=n.readUByte()}while(255===m);if(4===p&&0!==n.bytesAvailable){if(v=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var y=n.readUByte(),b=31&y,w=[y,n.readUByte()];for(i=0;i<b;i++)w.push(n.readUByte()),w.push(n.readUByte()),w.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:w})}}else if(g<n.bytesAvailable)for(i=0;i<g;i++)n.readUByte()}break;case 7:if(r=!0,c=!0,!s.sps){var S=(n=new a.default(e.data)).readSPS();s.width=S.width,s.height=S.height,s.pixelRatio=S.pixelRatio,s.sps=[e.data],s.duration=o._duration;var T=e.data.subarray(1,4),E="avc1.";for(i=0;i<3;i++){var _=T[i].toString(16);_.length<2&&(_="0"+_),E+=_}s.codec=E}break;case 8:r=!0,s.pps||(s.pps=[e.data]);break;case 9:r=!1,s.audFound=!0,l&&f(l,s),l=o.avcSample=h(!1,t.pts,t.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&r&&l.units.push(e)})),e&&l&&(f(l,s),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;r>=0;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},t.prototype._parseAVCNALu=function(t){var e,n,r,i,o=0,a=t.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],f=-1;for(-1===u&&(f=0,i=31&t[0],u=0,o=1);o<a;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){var h,d;f>=0?(r={data:t.subarray(f,o-u-1),type:i},c.push(r)):(h=this._getLastNalUnit())&&(l&&o<=4-l&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-l)),(n=o-u-1)>0&&((d=new Uint8Array(h.data.byteLength+n)).set(h.data,0),d.set(t.subarray(0,n),h.data.byteLength),h.data=d)),o<a?(f=o,i=31&t[o],u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;return f>=0&&u>=0&&(r={data:t.subarray(f,a),type:i,state:u},c.push(r)),0===c.length&&(h=this._getLastNalUnit())&&((d=new Uint8Array(h.data.byteLength+t.byteLength)).set(h.data,0),d.set(t,h.data.byteLength),h.data=d),s.naluState=u,c},t.prototype.discardEPB=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},t.prototype._parseAACPES=function(t){var e,n,i,a,s,c=this._audioTrack,f=t.data,h=t.pts,d=this.aacOverFlow,p=this.aacLastPTS;if(d){var g=new Uint8Array(d.byteLength+f.byteLength);g.set(d,0),g.set(f,d.byteLength),f=g}for(i=0,s=f.length;i<s-1&&!r.isHeader(f,i);i++);if(i){var v=void 0,m=void 0;if(i<s-1?(v="AAC PES did not start with ADTS header,offset:"+i,m=!1):(v="no ADTS header found in AAC PES",m=!0),u.logger.warn("parsing error:"+v),this.observer.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:m,reason:v}),m)return}if(r.initTrackConfig(c,this.observer,f,i,this.audioCodec),n=0,e=r.getFrameDuration(c.samplerate),d&&p){var y=p+e;Math.abs(y-h)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((y-h)/90)),h=y)}for(;i<s;)if(r.isHeader(f,i)&&i+5<s){var b=r.appendFrame(c,f,i,h,n);if(!b)break;i+=b.length,a=b.sample.pts,n++}else i++;d=i<s?f.subarray(i,s):null,this.aacOverFlow=d,this.aacLastPTS=a},t.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,r=0,o=0,a=t.pts;o<n;)if(i.default.isHeader(e,o)){var s=i.default.appendFrame(this._audioTrack,e,o,a,r);if(!s)break;o+=s.length,r++}else o++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();e.default=f},"./src/errors.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},e.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=n("./src/errors.js"),o=n("./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.hls=t,this.onEvent=this.onEvent.bind(this),this.handledEvents=e,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(a[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!==typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(n){r.logger.error("An internal error happened while handling event "+t+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.hls.trigger(o.default.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:n})}},t}();e.default=s},"./src/events.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/errors.js"),a=n("./src/loader/playlist-loader.js"),s=n("./src/loader/fragment-loader.js"),u=n("./src/loader/key-loader.js"),l=n("./src/controller/fragment-tracker.js"),c=n("./src/controller/stream-controller.js"),f=n("./src/controller/level-controller.js"),h=n("./src/controller/id3-track-controller.js"),d=n("./src/is-supported.js"),p=n("./src/utils/logger.js"),g=n("./src/config.js"),v=n("./src/events.js"),m=function(t){function e(n){void 0===n&&(n={});var r=t.call(this)||this,i=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in i)o in n||(n[o]=i[o]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');p.enableLogs(n.debug),r.config=n,r._autoLevelCapping=-1;var d=r.abrController=new n.abrController(r),g=new n.bufferController(r),v=new n.capLevelController(r),m=new n.fpsController(r),y=new a.default(r),b=new s.default(r),w=new u.default(r),S=new h.default(r),T=r.levelController=new f.default(r),E=new l.FragmentTracker(r),_=[T,r.streamController=new c.default(r,E)],k=n.audioStreamController;k&&_.push(new k(r,E)),r.networkControllers=_;var x=[y,b,w,d,g,v,m,S,E];if(k=n.audioTrackController){var M=new k(r);r.audioTrackController=M,x.push(M)}if(k=n.subtitleTrackController){var A=new k(r);r.subtitleTrackController=A,_.push(A)}if(k=n.emeController){var R=new k(r);r.emeController=R,x.push(R)}return(k=n.subtitleStreamController)&&_.push(new k(r,E)),(k=n.timelineController)&&x.push(new k(r)),r.coreComponents=x,r}return r(e,t),Object.defineProperty(e,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),e.isSupported=function(){return d.isSupported()},Object.defineProperty(e,"Events",{get:function(){return v.default},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorTypes",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorDetails",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DefaultConfig",{get:function(){return e.defaultConfig?e.defaultConfig:g.hlsDefaultConfig},set:function(t){e.defaultConfig=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){p.logger.log("destroy"),this.trigger(v.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(t){p.logger.log("attachMedia"),this.media=t,this.trigger(v.default.MEDIA_ATTACHING,{media:t})},e.prototype.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(v.default.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(t){t=i.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),p.logger.log("loadSource:"+t),this.url=t,this.trigger(v.default.MANIFEST_LOADING,{url:t})},e.prototype.startLoad=function(t){void 0===t&&(t=-1),p.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},e.prototype.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},e.prototype.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){p.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Object.defineProperty(e.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(t){p.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(t){p.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(t){p.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){p.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(t){p.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(t){p.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minAutoLevel",{get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++)if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>e)return r;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAutoLevel",{get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTracks",{get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTracks",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTrack",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleDisplay",{get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)},enumerable:!0,configurable:!0}),e}(n("./src/observer.js").Observer);e.default=m},"./src/is-supported.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/mediasource-helper.js");e.isSupported=function(){var t=r.getMediaSource(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!n&&!!i}},"./src/loader/fragment-loader.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=function(e){function n(t){var n=e.call(this,t,i.default.FRAG_LOADING)||this;return n.loaders={},n}return r(n,e),n.prototype.destroy=function(){var t=this.loaders;for(var n in t){var r=t[n];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.prototype.onFragLoading=function(e){var n=e.frag,r=n.type,i=this.loaders,o=this.hls.config,a=o.fLoader,u=o.loader;n.loaded=0;var l,c,f,h=i[r];h&&(s.logger.warn("abort previous fragment loader for type: "+r),h.abort()),h=i[r]=n.loader=o.fLoader?new a(o):new u(o),l={url:n.url,frag:n,responseType:"arraybuffer",progressData:!1};var d=n.byteRangeStartOffset,p=n.byteRangeEndOffset;t.isFinite(d)&&t.isFinite(p)&&(l.rangeStart=d,l.rangeEnd=p),c={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},h.load(l,c,f)},n.prototype.loadsuccess=function(t,e,n,r){void 0===r&&(r=null);var o=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:r})},n.prototype.loaderror=function(t,e,n){void 0===n&&(n=null);var r=e.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},n.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null);var r=e.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},n.prototype.loadprogress=function(t,e,n,r){void 0===r&&(r=null);var o=e.frag;o.loaded=t.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:r})},n}(o.default);e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/fragment.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/level-key.js"),o=function(){function e(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return Object.defineProperty(e,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=r.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endProgramDateTime",{get:function(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),e.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},e.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},e.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},e.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new i.default).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},e}();e.default=o}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=function(t){function e(e){var n=t.call(this,e,i.default.KEY_LOADING)||this;return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return r(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],o=e.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var u,l,c,f=this.hls.config;r&&(s.logger.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new f.loader(f),this.decrypturl=a,this.decryptkey=null,u={url:a,frag:e,responseType:"arraybuffer"},l={timeout:f.fragLoadingTimeOut,maxRetry:0,retryDelay:f.fragLoadingRetryDelay,maxRetryDelay:f.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(u,l,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:r})},e.prototype.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.prototype.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(o.default);e.default=u},"./src/loader/level-key.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=function(){function t(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(t.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),t}();e.default=i},"./src/loader/level.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return Object.defineProperty(e.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!t.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),e}();e.default=n}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/fragment.js"),o=n("./src/loader/level.js"),a=n("./src/loader/level-key.js"),s=n("./src/utils/attr-list.js"),u=n("./src/utils/logger.js"),l=n("./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),d=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function e(){}return e.findGroup=function(t,e){if(!t)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];i.id===e&&(n=i)}return n},e.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},e.resolve=function(t,e){return r.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[];function o(t,e){["video","audio"].forEach((function(n){var r=t.filter((function(t){return l.isCodecType(t,n)}));if(r.length){var i=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=i.length>0?i[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.unknownCodecs=t}for(c.lastIndex=0;null!=(r=c.exec(t));){var a={},u=a.attrs=new s.default(r[1]);a.url=e.resolve(r[2],n);var f=u.decimalResolution("RESOLUTION");f&&(a.width=f.width,a.height=f.height),a.bitrate=u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),a.name=u.NAME,o([].concat((u.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),i.push(a)}return i},e.parseMasterPlaylistMedia=function(t,n,r,i){var o;void 0===i&&(i=[]);var a=[],u=0;for(f.lastIndex=0;null!==(o=f.exec(t));){var l={},c=new s.default(o[1]);if(c.TYPE===r){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=r,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=e.resolve(c.URI,n)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),i.length){var h=e.findGroup(i,l.groupId);l.audioCodec=h?h.codec:i[0].codec}l.id=u++,a.push(l)}}return a},e.parseLevelPlaylist=function(e,n,r,l,c){var f,g,m=0,y=0,b=new o.default(n),w=new a.default,S=0,T=null,E=new i.default,_=null;for(h.lastIndex=0;null!==(f=h.exec(e));){var k=f[1];if(k){E.duration=parseFloat(k);var x=(" "+f[2]).slice(1);E.title=x||null,E.tagList.push(x?["INF",k,x]:["INF",k])}else if(f[3]){if(t.isFinite(E.duration)){var M=m++;E.type=l,E.start=y,E.levelkey=w,E.sn=M,E.level=r,E.cc=S,E.urlId=c,E.baseurl=n,E.relurl=(" "+f[3]).slice(1),v(E,T),b.fragments.push(E),T=E,y+=E.duration,E=new i.default}}else if(f[4]){if(E.rawByteRange=(" "+f[4]).slice(1),T){var A=T.byteRangeEndOffset;A&&(E.lastByteRangeEndOffset=A)}}else if(f[5])E.rawProgramDateTime=(" "+f[5]).slice(1),E.tagList.push(["PROGRAM-DATE-TIME",E.rawProgramDateTime]),null===_&&(_=b.fragments.length);else{for(f=f[0].match(d),g=1;g<f.length&&void 0===f[g];g++);var R=(" "+f[g+1]).slice(1),I=(" "+f[g+2]).slice(1);switch(f[g]){case"#":E.tagList.push(I?[R,I]:[R]);break;case"PLAYLIST-TYPE":b.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":m=b.startSN=parseInt(R);break;case"TARGETDURATION":b.targetduration=parseFloat(R);break;case"VERSION":b.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"DIS":S++,E.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":S=parseInt(R);break;case"KEY":var C=R,L=new s.default(C),D=L.enumeratedString("METHOD"),O=L.URI,P=L.hexadecimalInteger("IV");D&&(w=new a.default,O&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(w.method=D,w.baseuri=n,w.reluri=O,w.key=null,w.iv=P));break;case"START":var N=R,j=new s.default(N).decimalFloatingPoint("TIME-OFFSET");t.isFinite(j)&&(b.startTimeOffset=j);break;case"MAP":var B=new s.default(R);E.relurl=B.URI,E.rawByteRange=B.BYTERANGE,E.baseurl=n,E.level=r,E.type=l,E.sn="initSegment",b.initSegment=E,(E=new i.default).rawProgramDateTime=b.initSegment.rawProgramDateTime;break;default:u.logger.warn("line parsed but not handled: "+f)}}}return(E=T)&&!E.relurl&&(b.fragments.pop(),y-=E.duration),b.totalduration=y,b.averagetargetduration=y/b.fragments.length,b.endSN=m-1,b.startCC=b.fragments[0]?b.fragments[0].cc:0,b.endCC=S,!b.initSegment&&b.fragments.length&&b.fragments.every((function(t){return p.test(t.relurl)}))&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(E=new i.default).relurl=b.fragments[0].relurl,E.baseurl=n,E.level=r,E.type=l,E.sn="initSegment",b.initSegment=E,b.needSidxRanges=!0),_&&function(t,e){for(var n=t[e],r=e-1;r>=0;r--){var i=t[r];i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(b.fragments,_),b},e}();function v(e,n){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):n&&n.programDateTime&&(e.programDateTime=n.endProgramDateTime),t.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}e.default=g}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=n("./src/event-handler.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=n("./src/demux/mp4demuxer.js"),l=n("./src/loader/m3u8-parser.js"),c=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},d=function(e){function n(t){var n=e.call(this,t,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return n.loaders={},n}return r(n,e),Object.defineProperty(n,"ContextType",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(n,"LevelType",{get:function(){return h},enumerable:!0,configurable:!0}),n.canHaveQualityLevels=function(t){return t!==f.AUDIO_TRACK&&t!==f.SUBTITLE_TRACK},n.mapContextToLevelType=function(t){switch(t.type){case f.AUDIO_TRACK:return h.AUDIO;case f.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},n.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n},n.prototype.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return t.loader=i,this.loaders[t.type]=i,i},n.prototype.getInternalLoader=function(t){return this.loaders[t.type]},n.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},n.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},n.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(t){this.load(t.url,{type:f.MANIFEST,level:0,id:null})},n.prototype.onLevelLoading=function(t){this.load(t.url,{type:f.LEVEL,level:t.level,id:t.id})},n.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:f.AUDIO_TRACK,level:null,id:t.id})},n.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:f.SUBTITLE_TRACK,level:null,id:t.id})},n.prototype.load=function(t,e){var n=this.hls.config;s.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,i,o,a,u=this.getInternalLoader(e);if(u){var l=u.context;if(l&&l.url===t)return s.logger.trace("playlist request ongoing"),!1;s.logger.warn("aborting previous loader for type: "+e.type),u.abort()}switch(e.type){case f.MANIFEST:r=n.manifestLoadingMaxRetry,i=n.manifestLoadingTimeOut,o=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:r=0,i=n.levelLoadingTimeOut;break;default:r=n.levelLoadingMaxRetry,i=n.levelLoadingTimeOut,o=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}u=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var c={timeout:i,maxRetry:r,retryDelay:o,maxRetryDelay:a},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return s.logger.debug("Calling internal loader delegate for URL: "+t),u.load(e,c,h),!0},n.prototype.loadsuccess=function(t,e,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,r);this.resetInternalLoader(n.type);var i=t.data;e.tload=c.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,r):this._handleMasterPlaylist(t,e,n,r):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",r)},n.prototype.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},n.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},n.prototype._handleMasterPlaylist=function(t,e,r,o){var a=this.hls,u=t.data,c=n.getResponseUrl(t,r),f=l.default.parseMasterPlaylist(u,c);if(f.length){var h=f.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),d=l.default.parseMasterPlaylistMedia(u,c,"AUDIO",h),p=l.default.parseMasterPlaylistMedia(u,c,"SUBTITLES");if(d.length){var g=!1;d.forEach((function(t){t.url||(g=!0)})),!1===g&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(s.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),d.unshift({type:"main",name:"main"}))}a.trigger(i.default.MANIFEST_LOADED,{levels:f,audioTracks:d,subtitles:p,url:c,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,r,"no level found in manifest",o)},n.prototype._handleTrackOrLevelPlaylist=function(e,r,o,a){var s=this.hls,u=o.id,h=o.level,d=o.type,p=n.getResponseUrl(e,o),g=t.isFinite(u)?u:0,v=t.isFinite(h)?h:g,m=n.mapContextToLevelType(o),y=l.default.parseLevelPlaylist(e.data,p,v,m,g);if(y.tload=r.tload,d===f.MANIFEST){var b={url:p,details:y};s.trigger(i.default.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:p,stats:r,networkDetails:a})}if(r.tparsed=c.now(),y.needSidxRanges){var w=y.initSegment.url;this.load(w,{isSidxRequest:!0,type:d,level:h,levelDetails:y,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else o.levelDetails=y,this._handlePlaylistLoaded(e,r,o,a)},n.prototype._handleSidxRequest=function(t,e){var n=u.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var r=n.references,i=e.levelDetails;r.forEach((function(t,e){var n=t.info,r=i.fragments[e];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),i.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},n.prototype._handleManifestParsingError=function(t,e,n,r){this.hls.trigger(i.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:r})},n.prototype._handleNetworkError=function(t,e,n,r){var o,u;void 0===n&&(n=!1),void 0===r&&(r=null),s.logger.info("A network error occured while loading a "+t.type+"-type playlist");var l=this.getInternalLoader(t);switch(t.type){case f.MANIFEST:o=n?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case f.LEVEL:o=n?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case f.AUDIO_TRACK:o=n?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;default:u=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var c={type:a.ErrorTypes.NETWORK_ERROR,details:o,fatal:u,url:l.url,loader:l,context:t,networkDetails:e};r&&(c.response=r),this.hls.trigger(i.default.ERROR,c)},n.prototype._handlePlaylistLoaded=function(t,e,r,o){var a=r.type,s=r.level,u=r.id,l=r.levelDetails;if(l.targetduration)if(n.canHaveQualityLevels(r.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:l,level:s||0,id:u||0,stats:e,networkDetails:o});else switch(a){case f.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:l,id:u,stats:e,networkDetails:o});break;case f.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:l,id:u,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,r,"invalid target duration",o)},n}(o.default);e.default=d}).call(this,n("./src/polyfills/number.js").Number)},"./src/observer.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.emit.apply(this,[t,t].concat(e))},e}(n("./node_modules/eventemitter3/index.js").EventEmitter);e.Observer=i},"./src/polyfills/number.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/get-self-scope.js").getSelfScope().Number;e.Number=r,r.isFinite=r.isFinite||function(t){return"number"===typeof t&&isFinite(t)}},"./src/remux/aac-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();e.default=r},"./src/remux/mp4-generator.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.pow(2,32)-1,i=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),i=0,r=8;i<o;i++)e.set(n[i],r),r+=n[i].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,n))},t.moov=function(e){for(var n=e.length,r=[];n--;)r[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,r=[];n--;)r[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(r))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,r,i,o=[],a=[];for(n=0;n<e.sps.length;n++)i=(r=e.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<e.pps.length;n++)i=(r=e.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),u=e.width,l=e.height,c=e.pixelRatio[0],f=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,o=e.width,a=e.height,s=Math.floor(i/(r+1)),u=Math.floor(i%(r+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),o=e.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var r,i,o,a,s,u,l=e.samples||[],c=l.length,f=12+16*c,h=new Uint8Array(f);for(n+=8+f,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var n,r=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+r.byteLength)).set(t.FTYP),n.set(r,t.FTYP.byteLength),n},t}();e.default=i},"./src/remux/mp4-remuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/remux/aac-helper.js"),i=n("./src/remux/mp4-generator.js"),o=n("./src/events.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),u=function(){function t(t,e,n,r){this.observer=t,this.config=e,this.typeSupported=n;var i=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,n,r,i,a,u){if(this.ISGenerated||this.generateIS(t,e,i),this.ISGenerated){var l=t.samples.length,c=e.samples.length,f=i,h=i;if(l&&c){var d=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;f+=Math.max(0,d),h+=Math.max(0,-d)}if(l){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,i));var p=this.remuxAudio(t,f,a,u);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,i)),this.remuxVideo(e,h,a,g,u)}}else if(c){var v=this.remuxVideo(e,h,a,0,u);v&&t.codec&&this.remuxEmptyAudio(t,f,a,v)}}n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(o.default.FRAG_PARSED)},t.prototype.generateIS=function(t,e,n){var r,u,l=this.observer,c=t.samples,f=e.samples,h=this.typeSupported,d="audio/mp4",p={},g={tracks:p},v=void 0===this._initPTS;if(v&&(r=u=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(h.mpeg?(d="audio/mpeg",t.codec=""):h.mp3&&(t.codec="mp3")),p.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&h.mpeg?new Uint8Array:i.default.initSegment([t]),metadata:{channelCount:t.channelCount}},v&&(r=u=c[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&f.length){var m=e.inputTimeScale;e.timescale=m,p.video={container:"video/mp4",codec:e.codec,initSegment:i.default.initSegment([e]),metadata:{width:e.width,height:e.height}},v&&(r=Math.min(r,f[0].pts-m*n),u=Math.min(u,f[0].dts-m*n),this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(p).length?(l.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,v&&(this._initPTS=r,this._initDTS=u)):l.trigger(o.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,n,r,u){var l,c,f,h,d,p,g,v=8,m=t.timescale,y=t.samples,b=[],w=y.length,S=this._PTSNormalize,T=this._initPTS,E=this.nextAvcDts,_=this.isSafari;if(0!==w){_&&(n|=y.length&&E&&(u&&Math.abs(e-E/m)<.1||Math.abs(y[0].pts-E-T)<m/5)),n||(E=e*m),y.forEach((function(t){t.pts=S(t.pts-T,E),t.dts=S(t.dts-T,E)})),y.sort((function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r||t.id-e.id}));var k=y.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(k<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(k/90)+" ms to overcome this issue");for(var x=0;x<y.length;x++)y[x].dts+=k}var M=y[0];d=Math.max(M.dts,0),h=Math.max(M.pts,0);var A=Math.round((d-E)/90);n&&A&&(A>1?s.logger.log("AVC:"+A+" ms hole between fragments detected,filling it"):A<-1&&s.logger.log("AVC:"+-A+" ms overlapping between fragments detected"),d=E,y[0].dts=d,h=Math.max(h-A,E),y[0].pts=h,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(h/90)+"/"+Math.round(d/90)+",delta:"+A+" ms")),M=y[y.length-1],g=Math.max(M.dts,0),p=Math.max(M.pts,0,g),_&&(l=Math.round((g-d)/(y.length-1)));var R=0,I=0;for(x=0;x<w;x++){for(var C=y[x],L=C.units,D=L.length,O=0,P=0;P<D;P++)O+=L[P].data.length;I+=O,R+=D,C.length=O,C.dts=_?d+x*l:Math.max(C.dts,d),C.pts=Math.max(C.pts,C.dts)}var N=I+4*R+8;try{c=new Uint8Array(N)}catch(Q){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var j=new DataView(c.buffer);for(j.setUint32(0,N),c.set(i.default.types.mdat,4),x=0;x<w;x++){var B=y[x],F=B.units,U=0,H=void 0;for(P=0,D=F.length;P<D;P++){var K=F[P],G=K.data,q=K.data.byteLength;j.setUint32(v,q),v+=4,c.set(G,v),v+=q,U+=4+q}if(_)H=Math.max(0,l*Math.round((B.pts-B.dts)/l));else{if(x<w-1)l=y[x+1].dts-B.dts;else{var V=this.config,z=B.dts-y[x>0?x-1:x].dts;if(V.stretchShortVideoTrack){var W=V.maxBufferHole,Y=Math.floor(W*m),X=(r?h+r*m:this.nextAudioPts)-B.pts;X>Y?((l=X-z)<0&&(l=z),s.logger.log("It is approximately "+X/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=z}else l=z}H=Math.round(B.pts-B.dts)}b.push({size:U,duration:l,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=g+l;var $=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Z=b[0].flags;Z.dependsOn=2,Z.isNonSync=0}t.samples=b,f=i.default.moof(t.sequenceNumber++,d,t),t.samples=[];var J={data1:f,data2:c,startPTS:h/m,endPTS:(p+l)/m,startDTS:d/m,endDTS:this.nextAvcDts/m,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:$};return this.observer.trigger(o.default.FRAG_PARSING_DATA,J),J}},t.prototype.remuxAudio=function(t,e,n,u){var l,c,f,h,d,p,g,v=t.inputTimeScale,m=t.timescale,y=v/m,b=(t.isAAC?1024:1152)*y,w=this._PTSNormalize,S=this._initPTS,T=!t.isAAC&&this.typeSupported.mpeg,E=t.samples,_=[],k=this.nextAudioPts;if(n|=E.length&&k&&(u&&Math.abs(e-k/v)<.1||Math.abs(E[0].pts-k-S)<20*b),E.forEach((function(t){t.pts=t.dts=w(t.pts-S,e*v)})),0!==(E=E.filter((function(t){return t.pts>=0}))).length){if(n||(k=u?e*v:E[0].pts),t.isAAC)for(var x=this.config.maxAudioFramesDrift,M=0,A=k;M<E.length;){var R,I=E[M];R=(B=I.pts)-A;var C=Math.abs(1e3*R/v);if(R<=-x*b)s.logger.warn("Dropping 1 audio frame @ "+(A/v).toFixed(3)+"s due to "+Math.round(C)+" ms overlap."),E.splice(M,1),t.len-=I.unit.length;else if(R>=x*b&&C<1e4&&A){var L=Math.round(R/b);s.logger.warn("Injecting "+L+" audio frame @ "+(A/v).toFixed(3)+"s due to "+Math.round(1e3*R/v)+" ms gap.");for(var D=0;D<L;D++){var O=Math.max(A,0);(f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=I.unit.subarray()),E.splice(M,0,{unit:f,pts:O,dts:O}),t.len+=f.length,A+=b,M++}I.pts=I.dts=A,A+=b,M++}else Math.abs(R),I.pts=I.dts=A,A+=b,M++}D=0;for(var P=E.length;D<P;D++){var N=E[D],j=N.unit,B=N.pts;if(void 0!==g)c.duration=Math.round((B-g)/y);else{var F=Math.round(1e3*(B-k)/v),U=0;if(n&&t.isAAC&&F){if(F>0&&F<1e4)U=Math.round((B-k)/b),s.logger.log(F+" ms hole between AAC samples detected,filling it"),U>0&&((f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(f=j.subarray()),t.len+=U*f.length);else if(F<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(k/v).toFixed(3)+"s/"+(B/v).toFixed(3)+"s/"+-F+"ms"),t.len-=j.byteLength;continue}B=k}if(p=B,!(t.len>0))return;var H=T?t.len:t.len+8;l=T?0:8;try{h=new Uint8Array(H)}catch(Y){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}for(T||(new DataView(h.buffer).setUint32(0,H),h.set(i.default.types.mdat,4)),M=0;M<U;M++)(f=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=j.subarray()),h.set(f,l),l+=f.byteLength,c={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(c)}h.set(j,l);var K=j.byteLength;l+=K,c={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(c),g=B}var G=0,q=_.length;if(q>=2&&(G=_[q-2].duration,c.duration=G),q){this.nextAudioPts=k=g+y*G,t.len=0,t.samples=_,d=T?new Uint8Array:i.default.moof(t.sequenceNumber++,p/y,t),t.samples=[];var V=p/v,z=k/v,W={data1:d,data2:h,startPTS:V,endPTS:z,startDTS:V,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:q};return this.observer.trigger(o.default.FRAG_PARSING_DATA,W),W}return null}},t.prototype.remuxEmptyAudio=function(t,e,n,i){var o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),u=this.nextAudioPts,l=(void 0!==u?u:i.startDTS*o)+this._initDTS,c=i.endDTS*o+this._initDTS,f=1024*a,h=Math.ceil((c-l)/f),d=r.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),d){for(var p=[],g=0;g<h;g++){var v=l+g*f;p.push({unit:d,pts:v,dts:v}),t.len+=d.length}t.samples=p,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t){var e,n=t.samples.length,r=t.inputTimeScale,i=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)(e=t.samples[s]).pts=(e.pts-i)/r,e.dts=(e.dts-a)/r;this.observer.trigger(o.default.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},t.prototype.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,n=t.samples.length,r=t.inputTimeScale,i=this._initPTS;if(n){for(var a=0;a<n;a++)(e=t.samples[a]).pts=(e.pts-i)/r;this.observer.trigger(o.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t},t}();e.default=u},"./src/remux/passthrough-remuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),i=function(){function t(t){this.observer=t}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,n,i,o,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(r.default.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(r.default.FRAG_PARSED)},t}();e.default=i},"./src/task-loop.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t.apply(this,[e].concat(n))||this;return i._tickInterval=null,i._tickTimer=null,i._tickCallCount=0,i._boundTick=i.tick.bind(i),i}return r(e,t),e.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.prototype.hasInterval=function(){return!!this._tickInterval},e.prototype.hasNextTick=function(){return!!this._tickTimer},e.prototype.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)},e.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},e.prototype.doTick=function(){},e}(n("./src/event-handler.js").default);e.default=i},"./src/utils/attr-list.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function e(t){for(var n in"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}return e.prototype.decimalInteger=function(e){var n=parseInt(this[e],10);return n>t.MAX_SAFE_INTEGER?1/0:n},e.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var n=parseInt(this[e],16);return n>t.MAX_SAFE_INTEGER?1/0:n},e.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.prototype.enumeratedString=function(t){return this[t]},e.prototype.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},e.parseAttrList=function(t){var e,n={};for(r.lastIndex=0;null!==(e=r.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},e}();e.default=i}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={search:function(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var a=e(o=t[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},"./src/utils/buffer-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0}catch(i){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var r=t.buffered,i=[],o=void 0;for(o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,e,n)}}catch(a){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){var r,i,o,a,s,u=[];for(t.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end})),s=0;s<t.length;s++){var l=u.length;if(l){var c=u[l-1].end;t[s].start-c<n?t[s].end>c&&(u[l-1].end=t[s].end):u.push(t[s])}else u.push(t[s])}for(s=0,r=0,i=o=e;s<u.length;s++){var f=u[s].start,h=u[s].end;if(e+n>=f&&e<h)i=f,r=(o=h)-e;else if(e+n<f){a=f;break}}return{len:r,start:i,end:o,nextStart:a}},t}();e.BufferHelper=r},"./src/utils/cea-608-parser.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i=function(t){var e=t;return r.hasOwnProperty(t)&&(e=r[t]),String.fromCharCode(e)},o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){this.verboseFilter[t],this.verboseLevel}},f=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},h=function(){function t(t,e,n,r,i){this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),d=function(){function t(t,e,n,r,i,o){this.uchar=t||" ",this.penState=new h(e,n,r,i,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),p=function(){function t(){this.chars=[];for(var t=0;t<100;t++)this.chars.push(new d);this.pos=0,this.currPenState=new h}return t.prototype.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=i(t);this.pos>=100?c.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),g=function(){function t(){this.rows=[];for(var t=0;t<15;t++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},t.prototype.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){c.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){c.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime;if(o&&o<c.time)for(n=0;n<this.nrRollUpRows;n++)this.rows[e-this.nrRollUpRows+n+1].copy(i.rows[r+n])}}this.currRow=e;var a=this.rows[this.currRow];if(null!==t.indent){var s=t.indent,u=Math.max(s-1,0);a.setCursor(t.indent),t.color=a.chars[u].penState.foreground}var l={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(l)},t.prototype.setBkgData=function(t){c.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",r=-1,i=0;i<15;i++){var o=this.rows[i].getTextString();o&&(r=i+1,t?e.push("Row "+r+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},t.prototype.getTextAndFormat=function(){return this.rows},t}(),v=function(){function t(t,e){this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,c.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){c.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){c.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}c.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=c.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),m=function(){function t(t,e,n){this.field=t||1,this.outputs=[e,n],this.channels=[new v(1,e),new v(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var n,r,i,o=!1;this.lastTime=t,c.setTime(t);for(var a=0;a<e.length;a+=2)r=127&e[a],i=127&e[a+1],0!==r||0!==i?(c.log("DATA","["+f([e[a],e[a+1]])+"] -> ("+f([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),n||(o=this.parseChars(r,i))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):c.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([r,i])+" orig: "+f([e[a],e[a+1]])))):this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var n=null;if(!((20===t||28===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var r=this.channels[n-1];return 20===t||28===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&e>=32&&e<=47&&((n=17===t?1:2)!==this.currChNr?(c.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),c.log("DEBUG","MIDROW ("+f([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var n,r=null;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2,r=e>=64&&e<=95?1===n?o[t]:s[t]:1===n?a[t]:u[t];var i=this.interpretPAC(r,e);return this.channels[n-1].setPAC(i),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.interpretPAC=function(t,e){var n=e,r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.prototype.parseChars=function(t,e){var n=null,r=null,o=null;if(t>=25?(n=2,o=t-8):(n=1,o=t),o>=17&&o<=19){var a=e;a=17===o?e+80:18===o?e+112:e+144,c.log("INFO","Special char '"+i(a)+"' in channel "+n),r=[a]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){var s=f(r);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},t.prototype.parseBackgroundAttributes=function(t,e){var n,r,i;return((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47)&&(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=l[r],e%2===1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),i=t<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();e.default=m},"./src/utils/codecs.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};e.isCodecType=function(t,e){var n=r[e];return!!n&&!0===n[t.slice(0,4)]},e.isCodecSupportedInMp4=function(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/cues.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/vttparser.js");e.newCue=function(t,e,n,i){for(var o,a,s,u,l,c=window.VTTCue||window.TextTrackCue,f=0;f<i.rows.length;f++)if(s=!0,u=0,l="",!(o=i.rows[f]).isEmpty()){for(var h=0;h<o.chars.length;h++)o.chars[h].uchar.match(/\s/)&&s?u++:(l+=o.chars[h].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),a=new c(e,n,r.fixLineBreaks(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=f+1:a.line=f>7?f-2:f+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}},"./src/utils/discontinuities.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/binary-search.js"),i=n("./src/utils/logger.js");function o(t,e){for(var n=null,r=0;r<t.length;r+=1){var i=t[r];if(i&&i.cc===e){n=i;break}}return n}function a(t,e,n){var r=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(r=!0),r}function s(t,e){var n=t.fragments,r=e.fragments;if(r.length&&n.length){var a=o(n,r[0].cc);if(a&&(!a||a.startPTS))return a;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function u(t,e){e.fragments.forEach((function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}})),e.PTSKnown=!0}function l(t,e,n){if(a(t,n,e)){var r=s(n.details,e);r&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level"),u(r.start,e))}}function c(e,n){if(n&&n.fragments.length){if(!e.hasProgramDateTime||!n.hasProgramDateTime)return;var r=n.fragments[0].programDateTime,o=(e.fragments[0].programDateTime-r)/1e3+n.fragments[0].start;t.isFinite(o)&&(i.logger.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),u(o,e))}}e.findFirstFragWithCC=o,e.findFragWithCC=function(t,e){return r.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.shouldAlignOnDiscontinuities=a,e.findDiscontinuousReferenceFrag=s,e.adjustPts=u,e.alignStream=function(t,e,n){l(t,n,e),!n.PTSKnown&&e&&c(n,e.details)},e.alignDiscontinuities=l,e.alignPDT=c}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/ewma.js"),i=function(){function t(t,e,n,i){this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(n)}return t.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),r=t/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}();e.default=i},"./src/utils/ewma.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();e.default=r},"./src/utils/get-self-scope.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelfScope=function(){return"undefined"===typeof window?self:window}},"./src/utils/logger.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/get-self-scope.js");function i(){}var o={trace:i,debug:i,log:i,warn:i,info:i,error:i},a=o;function s(t,e){return e="["+t+"] > "+e}var u=r.getSelfScope();function l(t){var e=u.console[t];return e?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n[0]&&(n[0]=s(t,n[0])),e.apply(u.console,n)}:i}e.enableLogs=function(t){if(!0===t||"object"===typeof t){!function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach((function(e){a[e]=t[e]?t[e].bind(t):l(e)}))}(t,"debug","log","info","warn","error");try{a.log()}catch(e){a=o}}else a=o},e.logger=a},"./src/utils/mediakeys-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;e.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMediaSource=function(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.timelineController=t,this.trackName=e,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t}();e.default=r},"./src/utils/texttrack-utils.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},e.clearCurrentCues=function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},"./src/utils/time-ranges.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={toString:function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e}}},"./src/utils/vttcue.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var t={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(t){return"string"===typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function i(e,i,o){var a=this,s=function(){if("undefined"!==typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};s?a=document.createElement("custom"):u.enumerable=!0,a.hasBeenReset=!1;var l="",c=!1,f=e,h=i,d=o,p=null,g="",v=!0,m="auto",y="start",b=50,w="middle",S=50,T="middle";if(Object.defineProperty(a,"id",r({},u,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(a,"pauseOnExit",r({},u,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(a,"startTime",r({},u,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},u,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},u,{get:function(){return d},set:function(t){d=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},u,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},u,{get:function(){return g},set:function(e){var n=function(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},u,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},u,{get:function(){return m},set:function(t){if("number"!==typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},u,{get:function(){return y},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},u,{get:function(){return w},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},u,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},u,{get:function(){return T},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),a.displayState=void 0,s)return a}return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}()},"./src/utils/vttparser.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/vttcue.js"),i=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[]}function a(){this.values=Object.create(null)}function s(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(n);2===a.length&&e(a[0],a[1])}}a.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var u=new r.default(0,0,0),l="middle"===u.align?"middle":"center";function c(t,e,n){var r=t;function i(){var e=function(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),o(),e.endTime=i(),o(),function(t,e){var r=new a;s(t,(function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];r.integer(t,a),r.percent(t,a)&&r.set("snapToLines",!1),r.alt(t,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",l,"end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",l,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===u.line&&(i=-1),e.line=i,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",l);var o=r.get("position","auto");"auto"===o&&50===u.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function f(t){return t.replace(/<br(?: \/)?>/gi,"\n")}e.fixLineBreaks=f,o.prototype={parse:function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=f(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var r=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i=void 0;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(i=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:i=n(),e.state){case"HEADER":/:/.test(i)?s(i,(function(t,e){}),/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new r.default(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{c(i,e.cue,e.regionList)}catch(l){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=-1!==i.indexOf("--\x3e");if(!i||u&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(l){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}},e.default=o},"./src/utils/webvtt-parser.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/vttparser.js"),i=n("./src/demux/id3.js"),o=function(t,e,n){return t.substr(n||0,e.length)===e},a=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},s={parse:function(e,n,s,u,l,c){var f,h=i.utf8ArrayToStr(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),d="00:00.000",p=0,g=0,v=0,m=[],y=!0,b=new r.default;b.oncue=function(t){var e=s[u],n=s.ccOffset;e&&e.new&&(void 0!==g?n=s.ccOffset=e.start:function(t,e,n){var r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;i&&i.new;)t.ccOffset+=r.start-i.start,r.new=!1,i=t[(r=i).prevCC];t.presentationOffset=n}(s,u,v)),v&&(n=v-s.presentationOffset),t.startTime+=n-g,t.endTime+=n-g,t.id=a(t.startTime.toString())+a(t.endTime.toString())+a(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&m.push(t)},b.onparsingerror=function(t){f=t},b.onflush=function(){f&&c?c(f):l(m)},h.forEach((function(e){if(y){if(o(e,"X-TIMESTAMP-MAP=")){y=!1,e.substr(16).split(",").forEach((function(t){o(t,"LOCAL:")?d=t.substr(6):o(t,"MPEGTS:")&&(p=parseInt(t.substr(7)))}));try{n+(9e4*s[u].start||0)<0&&(n+=8589934592),p-=n,g=function(e){var n=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return t.isFinite(n)&&t.isFinite(r)&&t.isFinite(i)&&t.isFinite(o)?(n+=1e3*r,n+=6e4*i,n+=36e5*o):-1}(d)/1e3,v=p/9e4,-1===g&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(r){f=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(y=!1)}b.parse(e+"\n")})),b.flush()}};e.default=s}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),i=window.performance,o=window.XMLHttpRequest,a=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:i.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new o;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(t,e.url)}catch(i){t.open("GET",e.url,!0),r(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,o=this.stats,a=this.context,s=this.config;if(!o.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===o.tfirst&&(o.tfirst=Math.max(i.now(),o.trequest)),4===n){var u=e.status;if(u>=200&&u<300){o.tload=Math.max(o.tfirst,i.now());var l=void 0,c=void 0;c="arraybuffer"===a.responseType?(l=e.response).byteLength:(l=e.responseText).length,o.loaded=o.total=c;var f={url:e.responseURL,data:l};this.callbacks.onSuccess(f,o,a,e)}else o.retry>=s.maxRetry||u>=400&&u<499?(r.logger.error(u+" while loading "+a.url),this.callbacks.onError({code:u,text:e.statusText},a,e)):(r.logger.warn(u+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),o.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},t.prototype.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,e)},t}();e.default=a}}).default},t.exports=r())},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},,function(t,e,n){t.exports=n(496)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(36);function i(t,e,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},function(t,e){t.exports=!1},,function(t,e,n){var r=n(74),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},,,function(t,e,n){var r=n(28),i=n(57),o=n(311),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},function(t,e,n){(function(e){t.exports=function(){var t=t||function(t,r){var i;if("undefined"!==typeof window&&window.crypto&&(i=window.crypto),"undefined"!==typeof self&&self.crypto&&(i=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!==typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!==typeof e&&e.crypto&&(i=e.crypto),!i)try{i=n(1276)}catch(m){}var o=function(){if(i){if("function"===typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},u=s.lib={},l=u.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=u.WordArray=l.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=l.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new c.init(e,t)}}),f=s.enc={},h=f.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},d=f.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},g=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,l=t.min(4*u,o);if(u){for(var f=0;f<u;f+=a)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var t=l.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(u.Hasher=g.extend({cfg:l.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new v.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math);return t}()}).call(this,n(60))},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(28),i=n(69),o=n(37),a=n(32),s=n(311),u=n(477),l=n(82),c=n(147),f=n(260),h=n(318),d=n(584),p=r.TypeError,g=function(t,e){this.stopped=t,this.result=e},v=g.prototype;t.exports=function(t,e,n){var r,m,y,b,w,S,T,E=n&&n.that,_=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),M=i(e,E),A=function(t){return r&&d(r,"normal",t),new g(!0,t)},R=function(t){return _?(a(t),x?M(t[0],t[1],A):M(t[0],t[1])):x?M(t,A):M(t)};if(k)r=t;else{if(!(m=h(t)))throw p(s(t)+" is not iterable");if(u(m)){for(y=0,b=l(t);b>y;y++)if((w=R(t[y]))&&c(v,w))return w;return new g(!1)}r=f(t,m)}for(S=r.next;!(T=o(S,r)).done;){try{w=R(T.value)}catch(I){d(r,"throw",I)}if("object"==typeof w&&w&&c(v,w))return w}return new g(!1)}},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(406),n(1277),n(1278),n(265),n(1279),n(266),n(505),n(657),n(1280),n(658),n(1281),n(1282),n(1283),n(506),n(1284),n(226),n(86),n(1285),n(1286),n(1287),n(1288),n(1289),n(1290),n(1291),n(1292),n(1293),n(1294),n(1295),n(1296),n(1297),n(1298),n(1299),n(1300),o)}()},,function(t,e,n){var r=n(57);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},,,function(t,e,n){var r=n(28),i=n(379),o=n(65),a=n(309),s=n(469),u=n(571),l=i("wks"),c=r.Symbol,f=c&&c.for,h=u?c:c&&c.withoutSetter||a;t.exports=function(t){if(!o(l,t)||!s&&"string"!=typeof l[t]){var e="Symbol."+t;s&&o(c,t)?l[t]=c[t]:l[t]=u&&f?f(e):h(e)}return l[t]}},function(t,e,n){"use strict";var r,i,o,a=n(619),s=n(58),u=n(28),l=n(57),c=n(52),f=n(65),h=n(222),d=n(311),p=n(137),g=n(84),v=n(67).f,m=n(147),y=n(138),b=n(197),w=n(55),S=n(309),T=u.Int8Array,E=T&&T.prototype,_=u.Uint8ClampedArray,k=_&&_.prototype,x=T&&y(T),M=E&&y(E),A=Object.prototype,R=u.TypeError,I=w("toStringTag"),C=S("TYPED_ARRAY_TAG"),L=S("TYPED_ARRAY_CONSTRUCTOR"),D=a&&!!b&&"Opera"!==h(u.opera),O=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!c(t))return!1;var e=h(t);return f(P,e)||f(N,e)};for(r in P)(o=(i=u[r])&&i.prototype)?p(o,L,i):D=!1;for(r in N)(o=(i=u[r])&&i.prototype)&&p(o,L,i);if((!D||!l(x)||x===Function.prototype)&&(x=function(){throw R("Incorrect invocation")},D))for(r in P)u[r]&&b(u[r],x);if((!D||!M||M===A)&&(M=x.prototype,D))for(r in P)u[r]&&b(u[r].prototype,M);if(D&&y(k)!==M&&b(k,M),s&&!f(M,I))for(r in O=!0,v(M,I,{get:function(){return c(this)?this[C]:void 0}}),P)u[r]&&p(u[r],C,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_CONSTRUCTOR:L,TYPED_ARRAY_TAG:O&&C,aTypedArray:function(t){if(j(t))return t;throw R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(l(t)&&(!b||m(x,t)))return t;throw R(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(s){if(n)for(var r in P){var i=u[r];if(i&&f(i.prototype,t))try{delete i.prototype[t]}catch(o){}}M[t]&&!n||g(M,t,n?e:D&&E[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(s){if(b){if(n)for(r in P)if((i=u[r])&&f(i,t))try{delete i[t]}catch(o){}if(x[t]&&!n)return;try{return g(x,t,n?e:D&&x[t]||e)}catch(o){}}for(r in P)!(i=u[r])||i[t]&&!n||g(i,t,e)}},isView:function(t){if(!c(t))return!1;var e=h(t);return"DataView"===e||f(P,e)||f(N,e)},isTypedArray:j,TypedArray:x,TypedArrayPrototype:M}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(33);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(1254)()},,function(t,e,n){"use strict";function r(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}e.a=function(t,e){var n;void 0===e&&(e=r);var i,o=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&e(r,o)||(i=t.apply(this,r),a=!0,n=this,o=r),i}}},function(t,e,n){var r=n(28),i=n(222),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},function(t,e,n){var r=n(34),i=n(66),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},function(t,e,n){var r=n(28),i=n(106),o=r.Object;t.exports=function(t){return o(i(t))}},function(t,e,n){var r=n(28),i=n(58),o=n(573),a=n(32),s=n(194),u=r.TypeError,l=Object.defineProperty;e.f=i?l:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){var r=n(34),i=n(46),o=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?o(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(28),i=n(57),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"addTrackers",(function(){return z})),n.d(r,"initialize",(function(){return W})),n.d(r,"ga",(function(){return Y})),n.d(r,"set",(function(){return X})),n.d(r,"send",(function(){return $})),n.d(r,"pageview",(function(){return Z})),n.d(r,"modalview",(function(){return J})),n.d(r,"timing",(function(){return Q})),n.d(r,"event",(function(){return tt})),n.d(r,"exception",(function(){return et})),n.d(r,"plugin",(function(){return nt})),n.d(r,"outboundLink",(function(){return rt})),n.d(r,"testModeAPI",(function(){return it})),n.d(r,"default",(function(){return ot}));var i=n(2),o=n.n(i),a=n(61),s=n.n(a);function u(t){console.warn("[react-ga]",t)}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(a,t);var e,n,r,i=v(a);function a(){var t;d(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(y(t=i.call.apply(i,[this].concat(n))),"handleClick",(function(e){var n=t.props,r=n.target,i=n.eventLabel,o=n.to,s=n.onClick,u=n.trackerNames,l={label:i},c="_blank"!==r,f=!(e.ctrlKey||e.shiftKey||e.metaKey||1===e.button);c&&f?(e.preventDefault(),a.trackLink(l,(function(){window.location.href=o}),u)):a.trackLink(l,(function(){}),u),s&&s(e)})),t}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.to,n=t.target,r=f(f({},h(t,["to","target"])),{},{target:n,href:e,onClick:this.handleClick});return"_blank"===n&&(r.rel="".concat(r.rel?r.rel:""," noopener noreferrer").trim()),delete r.eventLabel,delete r.trackerNames,o.a.createElement("a",r)}}])&&p(e.prototype,n),r&&p(e,r),a}(i.Component);w(S,"trackLink",(function(){u("ga tracking not enabled")})),S.propTypes={eventLabel:s.a.string.isRequired,target:s.a.string,to:s.a.string,onClick:s.a.func,trackerNames:s.a.arrayOf(s.a.string)},S.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function T(t){return"string"===typeof(e=t)&&-1!==e.indexOf("@")?(u("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):t;var e}function E(t){return t&&t.toString().replace(/^\s+|\s+$/g,"")}var _=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function k(t){return E(t).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(t,e,n){return e>0&&e+t.length!==n.length&&t.search(_)>-1&&":"!==n.charAt(e-2)&&("-"!==n.charAt(e+t.length)||"-"===n.charAt(e-1))&&n.charAt(e-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)}))}var x=!1;function M(t){console.info("[react-ga]",t)}var A=[],R={calls:A,ga:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];A.push([].concat(e))},resetCalls:function(){A.length=0}};function I(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N="undefined"===typeof window||"undefined"===typeof document,j=!1,B=!0,F=!1,U=!0,H=!0,K=function(){var t;return F?R.ga.apply(R,arguments):!N&&(window.ga?(t=window).ga.apply(t,arguments):u("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function G(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t||"";return e&&(r=k(t)),n&&(r=T(r)),r}(t,B,H)}function q(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0];"string"===typeof i?(!U&&Array.isArray(t)||K.apply(void 0,n),Array.isArray(t)&&t.forEach((function(t){K.apply(void 0,O(["".concat(t,".").concat(i)].concat(n.slice(1))))}))):u("ga command must be a string")}function V(t,e){t?e&&(e.debug&&!0===e.debug&&(j=!0),!1===e.titleCase&&(B=!1),!1===e.redactEmail&&(H=!1),e.useExistingGa)||(e&&e.gaOptions?K("create",t,e.gaOptions):K("create",t,"auto")):u("gaTrackingID is required in initialize()")}function z(t,e){return Array.isArray(t)?t.forEach((function(t){"object"===D(t)?V(t.trackingId,t):u("All configs must be an object")})):V(t,e),!0}function W(t,e){if(e&&!0===e.testMode)F=!0;else{if(N)return;e&&!0===e.standardImplementation||function(t){if(!x){x=!0;var e="https://www.google-analytics.com/analytics.js";t&&t.gaAddress?e=t.gaAddress:t&&t.debug&&(e="https://www.google-analytics.com/analytics_debug.js");var n,r,i,o,a,s,u,l=t&&t.onerror;n=window,r=document,i="script",o=e,a="ga",n.GoogleAnalyticsObject=a,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,s=r.createElement(i),u=r.getElementsByTagName(i)[0],s.async=1,s.src=o,s.onerror=l,u.parentNode.insertBefore(s,u)}}(e)}U=!e||"boolean"!==typeof e.alwaysSendToDefaultTracker||e.alwaysSendToDefaultTracker,z(t,e)}function Y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length>0&&(K.apply(void 0,e),j&&(M("called ga('arguments');"),M("with arguments: ".concat(JSON.stringify(e))))),window.ga}function X(t,e){t?"object"===D(t)?(0===Object.keys(t).length&&u("empty `fieldsObject` given to .set()"),q(e,"set",t),j&&(M("called ga('set', fieldsObject);"),M("with fieldsObject: ".concat(JSON.stringify(t))))):u("Expected `fieldsObject` arg to be an Object"):u("`fieldsObject` is required in .set()")}function $(t,e){q(e,"send",t),j&&(M("called ga('send', fieldObject);"),M("with fieldObject: ".concat(JSON.stringify(t))),M("with trackers: ".concat(JSON.stringify(e))))}function Z(t,e,n){if(t){var r=E(t);if(""!==r){var i={};if(n&&(i.title=n),q(e,"send",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({hitType:"pageview",page:r},i)),j){M("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),M("with path: ".concat(r).concat(o))}}else u("path cannot be an empty string in .pageview()")}else u("path is required in .pageview()")}function J(t,e){if(t){var n,r="/"===(n=E(t)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);q(e,"send","pageview",i),j&&(M("called ga('send', 'pageview', path);"),M("with path: ".concat(i)))}else u("modalName cannot be an empty string or a single / in .modalview()")}else u("modalName is required in .modalview(modalName)")}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.category,n=t.variable,r=t.value,i=t.label,o=arguments.length>1?arguments[1]:void 0;if(e&&n&&"number"===typeof r){var a={hitType:"timing",timingCategory:G(e),timingVar:G(n),timingValue:r};i&&(a.timingLabel=G(i)),$(a,o)}else u("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function tt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.category,n=t.action,r=t.label,i=t.value,o=t.nonInteraction,a=t.transport,s=I(t,["category","action","label","value","nonInteraction","transport"]),l=arguments.length>1?arguments[1]:void 0;if(e&&n){var c={hitType:"event",eventCategory:G(e),eventAction:G(n)};r&&(c.eventLabel=G(r)),"undefined"!==typeof i&&("number"!==typeof i?u("Expected `args.value` arg to be a Number."):c.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?u("`args.nonInteraction` must be a boolean."):c.nonInteraction=o),"undefined"!==typeof a&&("string"!==typeof a?u("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(a)&&u("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=a)),Object.keys(s).filter((function(t){return"dimension"===t.substr(0,"dimension".length)})).forEach((function(t){c[t]=s[t]})),Object.keys(s).filter((function(t){return"metric"===t.substr(0,"metric".length)})).forEach((function(t){c[t]=s[t]})),$(c,l)}else u("args.category AND args.action are required in event()")}function et(t,e){var n=t.description,r=t.fatal,i={hitType:"exception"};n&&(i.exDescription=G(n)),"undefined"!==typeof r&&("boolean"!==typeof r?u("`args.fatal` must be a boolean."):i.exFatal=r),$(i,e)}var nt={require:function(t,e,n){if(t){var r=E(t);if(""!==r){var i=n?"".concat(n,".require"):"require";if(e){if("object"!==D(e))return void u("Expected `options` arg to be an Object");0===Object.keys(e).length&&u("Empty `options` given to .require()"),Y(i,r,e),j&&M("called ga('require', '".concat(r,"', ").concat(JSON.stringify(e)))}else Y(i,r),j&&M("called ga('require', '".concat(r,"');"))}else u("`name` cannot be an empty string in .require()")}else u("`name` is required in .require()")},execute:function(t,e){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(1===o.length?n=o[0]:(r=o[0],n=o[1]),"string"!==typeof t)u("Expected `pluginName` arg to be a String.");else if("string"!==typeof e)u("Expected `action` arg to be a String.");else{var s="".concat(t,":").concat(e);n=n||null,r&&n?(Y(s,r,n),j&&(M("called ga('".concat(s,"');")),M('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(Y(s,n),j&&(M("called ga('".concat(s,"');")),M("with payload: ".concat(JSON.stringify(n))))):(Y(s),j&&M("called ga('".concat(s,"');")))}}};function rt(t,e,n){if("function"===typeof e)if(t&&t.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:G(t.label)},i=!1,o=setTimeout((function(){i=!0,e()}),250);r.hitCallback=function(){clearTimeout(o),i||e()},$(r,n)}else u("args.label is required in outboundLink()");else u("hitCallback function is required")}var it=R,ot={initialize:W,ga:Y,set:X,send:$,pageview:Z,modalview:J,timing:Q,event:tt,exception:et,plugin:nt,outboundLink:rt,testModeAPI:R};function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}S.origTrackLink=S.trackLink,S.trackLink=rt;var lt=S;st(st({},r),{},{OutboundLink:lt})},,,function(t,e,n){"use strict";(function(t){var r=n(1274),i=n(1275),o=n(656);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){f=!1;break}if(f)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return K(U(e,t.length-n),t,n,r)}function S(t,e,n,r){return K(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return S(t,e,n,r)}function E(t,e,n,r){return K(H(e),t,n,r)}function _(t,e,n,r){return K(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function O(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function P(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||P(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return o||P(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:U(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function K(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(60))},,,function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){!function(e){"use strict";function n(t){return parseInt(t)===t}function r(t){if(!n(t.length))return!1;for(var e=0;e<t.length;e++)if(!n(t[e])||t[e]<0||t[e]>255)return!1;return!0}function i(t,e){if(t.buffer&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!r(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(n(t.length)&&r(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function o(t){return new Uint8Array(t)}function a(t,e,n,r,i){null==r&&null==i||(t=t.slice?t.slice(r,i):Array.prototype.slice.call(t,r,i)),e.set(t,n)}var s={toBytes:function(t){var e=[],n=0;for(t=encodeURI(t);n<t.length;){var r=t.charCodeAt(n++);37===r?(e.push(parseInt(t.substr(n,2),16)),n+=2):e.push(r)}return i(e)},fromBytes:function(t){for(var e=[],n=0;n<t.length;){var r=t[n];r<128?(e.push(String.fromCharCode(r)),n++):r>191&&r<224?(e.push(String.fromCharCode((31&r)<<6|63&t[n+1])),n+=2):(e.push(String.fromCharCode((15&r)<<12|(63&t[n+1])<<6|63&t[n+2])),n+=3)}return e.join("")}},u=function(){var t="0123456789abcdef";return{toBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},fromBytes:function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(t[(240&i)>>4]+t[15&i])}return n.join("")}}}(),l={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],b=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],S=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],T=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],_=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(t){for(var e=[],n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}var x=function t(e){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};x.prototype._prepare=function(){var t=l[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(t+1),i=this.key.length/4,o=k(this.key);for(e=0;e<i;e++)n=e>>2,this._Ke[n][e%4]=o[e],this._Kd[t-n][e%4]=o[e];for(var a,s=0,u=i;u<r;){if(a=o[i-1],o[0]^=f[a>>16&255]<<24^f[a>>8&255]<<16^f[255&a]<<8^f[a>>24&255]^c[s]<<24,s+=1,8!=i)for(e=1;e<i;e++)o[e]^=o[e-1];else{for(e=1;e<i/2;e++)o[e]^=o[e-1];a=o[i/2-1],o[i/2]^=f[255&a]^f[a>>8&255]<<8^f[a>>16&255]<<16^f[a>>24&255]<<24;for(e=i/2+1;e<i;e++)o[e]^=o[e-1]}for(e=0;e<i&&u<r;)h=u>>2,d=u%4,this._Ke[h][d]=o[e],this._Kd[t-h][d]=o[e++],u++}for(var h=1;h<t;h++)for(var d=0;d<4;d++)a=this._Kd[h][d],this._Kd[h][d]=S[a>>24&255]^T[a>>16&255]^E[a>>8&255]^_[255&a]},x.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,n=[0,0,0,0],r=k(t),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var a=1;a<e;a++){for(i=0;i<4;i++)n[i]=d[r[i]>>24&255]^p[r[(i+1)%4]>>16&255]^g[r[(i+2)%4]>>8&255]^v[255&r[(i+3)%4]]^this._Ke[a][i];r=n.slice()}var s,u=o(16);for(i=0;i<4;i++)s=this._Ke[e][i],u[4*i]=255&(f[r[i]>>24&255]^s>>24),u[4*i+1]=255&(f[r[(i+1)%4]>>16&255]^s>>16),u[4*i+2]=255&(f[r[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(f[255&r[(i+3)%4]]^s);return u},x.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,n=[0,0,0,0],r=k(t),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var a=1;a<e;a++){for(i=0;i<4;i++)n[i]=m[r[i]>>24&255]^y[r[(i+3)%4]>>16&255]^b[r[(i+2)%4]>>8&255]^w[255&r[(i+1)%4]]^this._Kd[a][i];r=n.slice()}var s,u=o(16);for(i=0;i<4;i++)s=this._Kd[e][i],u[4*i]=255&(h[r[i]>>24&255]^s>>24),u[4*i+1]=255&(h[r[(i+3)%4]>>16&255]^s>>16),u[4*i+2]=255&(h[r[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(h[255&r[(i+1)%4]]^s);return u};var M=function t(e){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(e)};M.prototype.encrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),r=0;r<t.length;r+=16)a(t,n,0,r,r+16),a(n=this._aes.encrypt(n),e,r);return e},M.prototype.decrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),r=0;r<t.length;r+=16)a(t,n,0,r,r+16),a(n=this._aes.decrypt(n),e,r);return e};var A=function t(e,n){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",n){if(16!=n.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else n=o(16);this._lastCipherblock=i(n,!0),this._aes=new x(e)};A.prototype.encrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),r=0;r<t.length;r+=16){a(t,n,0,r,r+16);for(var s=0;s<16;s++)n[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(n),a(this._lastCipherblock,e,r)}return e},A.prototype.decrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),r=0;r<t.length;r+=16){a(t,n,0,r,r+16),n=this._aes.decrypt(n);for(var s=0;s<16;s++)e[r+s]=n[s]^this._lastCipherblock[s];a(t,this._lastCipherblock,0,r,r+16)}return e};var R=function t(e,n,r){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",n){if(16!=n.length)throw new Error("invalid initialation vector size (must be 16 size)")}else n=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(n,!0),this._aes=new x(e)};R.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,n=i(t,!0),r=0;r<n.length;r+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[r+o]^=e[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},R.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,n=i(t,!0),r=0;r<n.length;r+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[r+o]^=e[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(t,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var I=function t(e,n){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",n){if(16!=n.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else n=o(16);this._lastPrecipher=i(n,!0),this._lastPrecipherIndex=16,this._aes=new x(e)};I.prototype.encrypt=function(t){for(var e=i(t,!0),n=0;n<e.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},I.prototype.decrypt=I.prototype.encrypt;var C=function t(e){if(!(this instanceof t))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"===typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};C.prototype.setValue=function(t){if("number"!==typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");if(t>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var e=15;e>=0;--e)this._counter[e]=t%256,t=parseInt(t/256)},C.prototype.setBytes=function(t){if(16!=(t=i(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},C.prototype.increment=function(){for(var t=15;t>=0;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var L=function t(e,n){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",n instanceof C||(n=new C(n)),this._counter=n,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(e)};L.prototype.encrypt=function(t){for(var e=i(t,!0),n=0;n<e.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[n]^=this._remainingCounter[this._remainingCounterIndex++];return e},L.prototype.decrypt=L.prototype.encrypt;var D={AES:x,Counter:C,ModeOfOperation:{ecb:M,cbc:A,cfb:R,ofb:I,ctr:L},utils:{hex:u,utf8:s},padding:{pkcs7:{pad:function(t){var e=16-(t=i(t,!0)).length%16,n=o(t.length+e);a(t,n);for(var r=t.length;r<n.length;r++)n[r]=e;return n},strip:function(t){if((t=i(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var n=t.length-e,r=0;r<e;r++)if(t[n+r]!==e)throw new Error("PKCS#7 invalid padding byte");var s=o(n);return a(t,s,0,0,n),s}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:a}};t.exports=D}()},,,function(t,e,n){"use strict";var r=n(351);r.domToReact,r.htmlToDOM,r.attributesToProps;e.a=r},function(t,e,n){var r=n(136);t.exports=function(t){return r(t.length)}},,function(t,e,n){var r=n(28),i=n(57),o=n(65),a=n(137),s=n(468),u=n(382),l=n(107),c=n(220).CONFIGURABLE,f=l.get,h=l.enforce,d=String(String).split("String");(t.exports=function(t,e,n,u){var l,f=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,g=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:e;i(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||c&&n.name!==v)&&a(n,"name",v),(l=h(n)).source||(l.source=d.join("string"==typeof v?v:""))),t!==r?(f?!g&&t[e]&&(p=!0):delete t[e],p?t[e]=n:a(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||u(this)}))},function(t,e,n){var r=n(123),i=n(400);t.exports=function(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return i(n)?e:r((function(e){return t(n,e)}));default:return i(n)&&i(o)?e:i(n)?r((function(e){return t(e,o)})):i(o)?r((function(e){return t(n,e)})):t(n,o)}}}},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(226),void(o.lib.Cipher||function(t){var e=o,n=e.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=e.enc,u=(s.Utf8,s.Base64),l=e.algo.EvpKDF,c=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:m}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),f=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),h=n.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=f.CBC=function(){var t=h.extend();function e(t,e,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var u=i.create(a,r);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:d,padding:p}),reset:function(){var t;c.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(e):e).toString(u)},parse:function(t){var e,n=u.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:e})}},m=n.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return g.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=i.random(8));var o=l.create({keySize:e+n}).compute(t,r),a=i.create(o.words.slice(e),4*n);return o.sigBytes=4*e,g.create({key:o,iv:a,salt:r})}},b=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,m.decrypt.call(this,t,e,i.key,r)}})}()))}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(276);function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(r.a)(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}},,,,function(t,e,n){var r=n(58),i=n(37),o=n(383),a=n(195),s=n(105),u=n(194),l=n(65),c=n(573),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),c)try{return f(t,e)}catch(n){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},function(t,e,n){var r=n(1021),i=n(65),o=n(593),a=n(67).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){"use strict";function r(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function i(t,e){return t&e}function o(t,e){return t|e}function a(t,e){return t^e}function s(t,e){return t&~e}function u(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function l(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=f.charAt(n>>6)+f.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=f.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=f.charAt(n>>2)+f.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function d(t){var e,n="",i=0,o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var a=f.indexOf(t.charAt(e));a<0||(0==i?(n+=r(a>>2),o=3&a,i=1):1==i?(n+=r(o<<2|a>>4),o=15&a,i=2):2==i?(n+=r(o),n+=r(a>>2),o=3&a,i=3):(n+=r(o<<2|a>>4),n+=r(15&a),i=0))}return 1==i&&(n+=r(o<<2)),n}var p,g=function(t){var e;if(void 0===c){var n="0123456789ABCDEF";for(c={},e=0;e<16;++e)c[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)c[n.charAt(e)]=e;for(e=0;e<" \f\n\r\t\xa0\u2028\u2029".length;++e)c[" \f\n\r\t\xa0\u2028\u2029".charAt(e)]=-1}var r=[],i=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=c[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);i|=a,++o>=2?(r[r.length]=i,i=0,o=0):i<<=4}}if(o)throw new Error("Hex encoding incomplete: 4 bits missing");return r},v={decode:function(t){var e;if(void 0===p){for(p=Object.create(null),e=0;e<64;++e)p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(p["-"]=62,p._=63,e=0;e<"= \f\n\r\t\xa0\u2028\u2029".length;++e)p["= \f\n\r\t\xa0\u2028\u2029".charAt(e)]=-1}var n=[],r=0,i=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(-1!=(o=p[o])){if(void 0===o)throw new Error("Illegal character at offset "+e);r|=o,++i>=4?(n[n.length]=r>>16,n[n.length]=r>>8&255,n[n.length]=255&r,r=0,i=0):r<<=6}}switch(i){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=r>>10;break;case 3:n[n.length]=r>>16,n[n.length]=r>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=v.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return v.decode(t)}},m=1e13,y=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,r,i=this.buf,o=i.length;for(n=0;n<o;++n)(r=i[n]*t+e)<m?e=0:r-=(e=0|r/m)*m,i[n]=r;e>0&&(i[n]=e)},t.prototype.sub=function(t){var e,n,r=this.buf,i=r.length;for(e=0;e<i;++e)(n=r[e]-t)<0?(n+=m,t=1):t=0,r[e]=n;for(;0===r[r.length-1];)r.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),r=e.length-2;r>=0;--r)n+=(m+e[r]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=e*m+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),b=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,w=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function S(t,e){return t.length>e&&(t=t.substring(0,e)+"\u2026"),t}var T,E=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var r="",i=t;i<e;++i)if(r+=this.hexByte(this.get(i)),!0!==n)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",r=t;r<e;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",r=t;r<e;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,r,i="",o=t;o<e;)n=this.get(o++),r=this.get(o++),i+=String.fromCharCode(n<<8|r);return i},t.prototype.parseTime=function(t,e,n){var r=this.parseStringISO(t,e),i=(n?b:w).exec(r);return i?(n&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC","Z"!=i[8]&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){for(var n,r=this.get(t),i=r>127,o=i?255:0,a="";r==o&&++t<e;)r=this.get(t);if(0===(n=e-t))return i?-1:0;if(n>4){for(a=r,n<<=3;0==(128&(+a^o));)a=+a<<1,--n;a="("+n+" bit)\n"}i&&(r-=256);for(var s=new y(r),u=t+1;u<e;++u)s.mulAdd(256,this.get(u));return a+s.toString()},t.prototype.parseBitString=function(t,e,n){for(var r=this.get(t),i="("+((e-t-1<<3)-r)+" bit)\n",o="",a=t+1;a<e;++a){for(var s=this.get(a),u=a==e-1?r:0,l=7;l>=u;--l)o+=s>>l&1?"1":"0";if(o.length>n)return i+S(o,n)}return i+o},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return S(this.parseStringISO(t,e),n);var r=e-t,i="("+r+" byte)\n";r>(n/=2)&&(e=t+n);for(var o=t;o<e;++o)i+=this.hexByte(this.get(o));return r>n&&(i+="\u2026"),i},t.prototype.parseOID=function(t,e,n){for(var r="",i=new y,o=0,a=t;a<e;++a){var s=this.get(a);if(i.mulAdd(128,127&s),o+=7,!(128&s)){if(""===r)if((i=i.simplify())instanceof y)i.sub(80),r="2."+i.toString();else{var u=i<80?i<40?0:1:2;r=u+"."+(i-40*u)}else r+="."+i.toString();if(r.length>n)return S(r,n);i=new y,o=0}}return o>0&&(r+=".incomplete"),r},t}(),_=function(){function t(t,e,n,r,i){if(!(r instanceof k))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=r,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return S(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return S(this.stream.parseStringISO(e,e+n),t);case 30:return S(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;n<r;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var r=0;r<n;++r)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof E?e:new E(e,0);var r=new E(n),i=new k(n),o=t.decodeLength(n),a=n.pos,s=a-r.pos,u=null,l=function(){var e=[];if(null!==o){for(var r=a+o;n.pos<r;)e[e.length]=t.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var i=t.decode(n);if(i.tag.isEOC())break;e[e.length]=i}o=a-n.pos}catch(s){throw new Error("Exception while decoding undefined length content: "+s)}return e};if(i.tagConstructed)u=l();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");u=l();for(var c=0;c<u.length;++c)if(u[c].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(f){u=null}if(null===u){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(o)}return new t(r,s,o,i,u)},t}(),k=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!==(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new y;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),x=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],M=(1<<26)/x[x.length-1],A=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,o=!1,a="",s=this.t,u=this.DB-s*this.DB%e;if(s-- >0)for(u<this.DB&&(n=this[s]>>u)>0&&(o=!0,a=r(n));s>=0;)u<e?(n=(this[s]&(1<<u)-1)<<e-u,n|=this[--s]>>(u+=this.DB-e)):(n=this[s]>>(u-=e)&i,u<=0&&(u+=this.DB,--s)),n>0&&(o=!0),o&&(a+=r(n));return o?a:"0"},t.prototype.negate=function(){var e=D();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+H(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=D();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new I(e):new C(e),this.exp(t,n)},t.prototype.clone=function(){var t=D();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=D();return this.bitwiseTo(t,i,e),e},t.prototype.or=function(t){var e=D();return this.bitwiseTo(t,o,e),e},t.prototype.xor=function(t){var e=D();return this.bitwiseTo(t,a,e),e},t.prototype.andNot=function(t){var e=D();return this.bitwiseTo(t,s,e),e},t.prototype.not=function(){for(var t=D(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=D();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=D();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+u(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=l(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,o)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,a)},t.prototype.add=function(t){var e=D();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=D();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=D();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=D();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=D();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=D(),n=D();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=U(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new I(e):e.isEven()?new L(e):new C(e);var a=[],s=3,u=n-1,l=(1<<n)-1;if(a[1]=r.convert(this),n>1){var c=D();for(r.sqrTo(a[1],c);s<=l;)a[s]=D(),r.mulTo(c,a[s-2],a[s]),s+=2}var f,h,d=t.t-1,p=!0,g=D();for(i=H(t[d])-1;d>=0;){for(i>=u?f=t[d]>>i-u&l:(f=(t[d]&(1<<i+1)-1)<<u-i,d>0&&(f|=t[d-1]>>this.DB+i-u)),s=n;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),p)a[f].copyTo(o),p=!1;else{for(;s>1;)r.sqrTo(o,g),r.sqrTo(g,o),s-=2;s>0?r.sqrTo(o,g):(h=o,o=g,g=h),r.mulTo(g,a[f],o)}for(;d>=0&&0==(t[d]&1<<i);)r.sqrTo(o,g),h=o,o=g,g=h,--i<0&&(i=this.DB-1,--d)}return r.revert(o)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var r=e.clone(),i=this.clone(),o=U(1),a=U(0),s=U(0),u=U(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),n&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(r,i),n&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(t.ONE)?t.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(t){return this.exp(t,new R)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=x[x.length-1]){for(e=0;e<x.length;++e)if(n[0]==x[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<x.length;){for(var r=x[e],i=e+1;i<x.length&&r<M;)r*=x[i++];for(r=n.modInt(r);e<i;)if(r%x[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==r?255&+e[i]:F(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&+e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)e[s+o+1]=this[s]>>r|a,a=(this[s]&i)<<n;for(s=o-1;s>=0;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var r=this.abs(),i=e.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,r){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=D());var a=D(),s=this.s,u=e.s,l=this.DB-H(i[i.t-1]);l>0?(i.lShiftTo(l,a),o.lShiftTo(l,r)):(i.copyTo(a),o.copyTo(r));var c=a.t,f=a[c-1];if(0!=f){var h=f*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,g=1<<this.F2,v=r.t,m=v-c,y=null==n?D():n;for(a.dlShiftTo(m,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),t.ONE.dlShiftTo(c,y),y.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--m>=0;){var b=r[--v]==f?this.DM:Math.floor(r[v]*d+(r[v-1]+g)*p);if((r[v]+=a.am(0,b,r,m,0,c))<b)for(a.dlShiftTo(m,y),r.subTo(y,r);r[v]<--b;)r.subTo(y,r)}null!=n&&(r.drShiftTo(c,n),s!=u&&t.ZERO.subTo(n,n)),r.t=c,r.clamp(),l>0&&r.rShiftTo(l,r),s<0&&t.ZERO.subTo(r,r)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var r=D(),i=D(),o=n.convert(this),a=H(e)-1;for(o.copyTo(r);--a>=0;)if(n.sqrTo(r,i),(e&1<<a)>0)n.mulTo(i,o,r);else{var s=r;r=i,i=s}return n.revert(r)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=U(n),i=D(),o=D(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),o=!1,a=0,s=0,u=0;u<e.length;++u){var l=F(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(s=n*s+l,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(s,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,r){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),o,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var i=[],a=7&e;i.length=1+(e>>3),n.nextBytes(i),a>0?i[0]&=(1<<a)-1:i[0]=0,this.fromString(i,256)}},t.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r},t.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);(e=e+1>>1)>x.length&&(e=x.length);for(var o=D(),a=0;a<e;++a){o.fromInt(x[Math.floor(Math.random()*x.length)]);var s=o.modPow(i,this);if(0!=s.compareTo(t.ONE)&&0!=s.compareTo(n)){for(var u=1;u++<r&&0!=s.compareTo(n);)if(0==(s=s.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=s.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=D();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var o=n.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)e(n);else{o<a&&(a=o),a>0&&(n.rShiftTo(a,n),r.rShiftTo(a,r));setTimeout((function t(){(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(t,0):(a>0&&r.lShiftTo(a,r),setTimeout((function(){e(r)}),0))}),10)}},t.prototype.fromNumberAsync=function(e,n,r,i){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),o,this),this.isEven()&&this.dAddOffset(1,0);var a=this;setTimeout((function r(){a.dAddOffset(2,0),a.bitLength()>e&&a.subTo(t.ONE.shiftLeft(e-1),a),a.isProbablePrime(n)?setTimeout((function(){i()}),0):setTimeout(r,0)}),0)}else{var s=[],u=7&e;s.length=1+(e>>3),n.nextBytes(s),u>0?s[0]&=(1<<u)-1:s[0]=0,this.fromString(s,256)}},t}(),R=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),I=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),C=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=D();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(A.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=D();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),L=function(){function t(t){this.m=t,this.r2=D(),this.q3=D(),A.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=D();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function D(){return new A(null)}function O(t,e){return new A(t,e)}var P="undefined"!==typeof navigator;P&&"Microsoft Internet Explorer"==navigator.appName?(A.prototype.am=function(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},T=30):P&&"Netscape"!=navigator.appName?(A.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},T=26):(A.prototype.am=function(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+s*l,n[r++]=268435455&u}return i},T=28),A.prototype.DB=T,A.prototype.DM=(1<<T)-1,A.prototype.DV=1<<T;A.prototype.FV=Math.pow(2,52),A.prototype.F1=52-T,A.prototype.F2=2*T-52;var N,j,B=[];for(N="0".charCodeAt(0),j=0;j<=9;++j)B[N++]=j;for(N="a".charCodeAt(0),j=10;j<36;++j)B[N++]=j;for(N="A".charCodeAt(0),j=10;j<36;++j)B[N++]=j;function F(t,e){var n=B[t.charCodeAt(e)];return null==n?-1:n}function U(t){var e=D();return e.fromInt(t),e}function H(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}A.ZERO=U(0),A.ONE=U(1);var K=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();var G,q,V=null;if(null==V){V=[],q=0;var z=void 0;if(window.crypto&&window.crypto.getRandomValues){var W=new Uint32Array(256);for(window.crypto.getRandomValues(W),z=0;z<W.length;++z)V[q++]=255&W[z]}var Y=0,X=function t(e){if((Y=Y||0)>=256||q>=256)window.removeEventListener?window.removeEventListener("mousemove",t,!1):window.detachEvent&&window.detachEvent("onmousemove",t);else try{var n=e.x+e.y;V[q++]=255&n,Y+=1}catch(r){}};window.addEventListener?window.addEventListener("mousemove",X,!1):window.attachEvent&&window.attachEvent("onmousemove",X)}function $(){if(null==G){for(G=new K;q<256;){var t=Math.floor(65536*Math.random());V[q++]=255&t}for(G.init(V),q=0;q<V.length;++q)V[q]=0;q=0}return G.next()}var Z=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=$()},t}();var J=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=O(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,n=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var o=new Z,a=[];e>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new A(n)}(t,e);if(null==n)return null;var r=this.doPublic(n);if(null==r)return null;for(var i=r.toString(16),o=i.length,a=0;a<2*e-o;a++)i="0"+i;return i},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=O(t,16),this.e=parseInt(e,16),this.d=O(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,r,i,o,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=O(t,16),this.e=parseInt(e,16),this.d=O(n,16),this.p=O(r,16),this.q=O(i,16),this.dmp1=O(o,16),this.dmq1=O(a,16),this.coeff=O(s,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new Z,r=t>>1;this.e=parseInt(e,16);for(var i=new A(e,16);;){for(;this.p=new A(t-r,1,n),0!=this.p.subtract(A.ONE).gcd(i).compareTo(A.ONE)||!this.p.isProbablePrime(10););for(;this.q=new A(r,1,n),0!=this.q.subtract(A.ONE).gcd(i).compareTo(A.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(A.ONE),s=this.q.subtract(A.ONE),u=a.multiply(s);if(0==u.gcd(i).compareTo(A.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(u),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=O(t,16),n=this.doPrivate(e);return null==n?null:function(t,e){var n=t.toByteArray(),r=0;for(;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;++r;for(;0!=n[r];)if(++r>=n.length)return null;var i="";for(;++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var r=new Z,i=t>>1;this.e=parseInt(e,16);var o=new A(e,16),a=this;setTimeout((function e(){var s=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var r=a.p.subtract(A.ONE),i=a.q.subtract(A.ONE),s=r.multiply(i);0==s.gcd(o).compareTo(A.ONE)?(a.n=a.p.multiply(a.q),a.d=o.modInverse(s),a.dmp1=a.d.mod(r),a.dmq1=a.d.mod(i),a.coeff=a.q.modInverse(a.p),setTimeout((function(){n()}),0)):setTimeout(e,0)},u=function t(){a.q=D(),a.q.fromNumberAsync(i,1,r,(function(){a.q.subtract(A.ONE).gcda(o,(function(e){0==e.compareTo(A.ONE)&&a.q.isProbablePrime(10)?setTimeout(s,0):setTimeout(t,0)}))}))};setTimeout((function e(){a.p=D(),a.p.fromNumberAsync(t-i,1,r,(function(){a.p.subtract(A.ONE).gcda(o,(function(t){0==t.compareTo(A.ONE)&&a.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(e,0)}))}))}),0)}),0)},t.prototype.sign=function(t,e,n){var r=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,r="",i=0;i<n;i+=2)r+="ff";return O("0001"+r+"00"+t,16)}((Q[n]||"")+e(t).toString(),this.n.bitLength()/4);if(null==r)return null;var i=this.doPrivate(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},t.prototype.verify=function(t,e,n){var r=O(e,16),i=this.doPublic(r);return null==i?null:function(t){for(var e in Q)if(Q.hasOwnProperty(e)){var n=Q[e],r=n.length;if(t.substr(0,r)==n)return t.substr(r)}return t}(i.toString(16).replace(/^1f+00/,""))==n(t).toString()},t}();var Q={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var tt={};tt.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var i;for(i in n)t.prototype[i]=n[i];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(t,e){for(i=0;i<a.length;i+=1){var n=a[i],r=e[n];"function"===typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(s){}o(t.prototype,n)}}};var et={};"undefined"!=typeof et.asn1&&et.asn1||(et.asn1={}),et.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new A(r,16).xor(t).add(A.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=et.asn1,n=e.DERBoolean,r=e.DERInteger,i=e.DERBitString,o=e.DEROctetString,a=e.DERNull,s=e.DERObjectIdentifier,u=e.DEREnumerated,l=e.DERUTF8String,c=e.DERNumericString,f=e.DERPrintableString,h=e.DERTeletexString,d=e.DERIA5String,p=e.DERUTCTime,g=e.DERGeneralizedTime,v=e.DERSequence,m=e.DERSet,y=e.DERTaggedObject,b=e.ASN1Util.newObject,w=Object.keys(t);if(1!=w.length)throw"key of param shall be only one.";var S=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+S+":"))throw"undefined key: "+S;if("bool"==S)return new n(t[S]);if("int"==S)return new r(t[S]);if("bitstr"==S)return new i(t[S]);if("octstr"==S)return new o(t[S]);if("null"==S)return new a(t[S]);if("oid"==S)return new s(t[S]);if("enum"==S)return new u(t[S]);if("utf8str"==S)return new l(t[S]);if("numstr"==S)return new c(t[S]);if("prnstr"==S)return new f(t[S]);if("telstr"==S)return new h(t[S]);if("ia5str"==S)return new d(t[S]);if("utctime"==S)return new p(t[S]);if("gentime"==S)return new g(t[S]);if("seq"==S){for(var T=t[S],E=[],_=0;_<T.length;_++){var k=b(T[_]);E.push(k)}return new v({array:E})}if("set"==S){for(T=t[S],E=[],_=0;_<T.length;_++){k=b(T[_]);E.push(k)}return new m({array:E})}if("tag"==S){var x=t[S];if("[object Array]"===Object.prototype.toString.call(x)&&3==x.length){var M=b(x[2]);return new y({tag:x[0],explicit:x[1],obj:M})}var A={};if(void 0!==x.explicit&&(A.explicit=x.explicit),void 0!==x.tag&&(A.tag=x.tag),void 0===x.obj)throw"obj shall be specified for 'tag'.";return A.obj=b(x.obj),new y(A)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},et.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=(e=Math.floor(n/40)+"."+n%40,""),i=2;i<t.length;i+=2){var o=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);if(r+=o.substr(1,7),"0"==o.substr(0,1))e=e+"."+new A(r,2).toString(10),r=""}return e},et.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new A(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";r=o+r;for(a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=e(parseInt(s,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},et.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},et.asn1.DERAbstractString=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t?this.setString(t):"undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex&&this.setStringHex(t.hex))},tt.lang.extend(et.asn1.DERAbstractString,et.asn1.ASN1Object),et.asn1.DERAbstractTime=function(t){et.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var u=r(String(s),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,r,i,o){var a=new Date(Date.UTC(t,e-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},tt.lang.extend(et.asn1.DERAbstractTime,et.asn1.ASN1Object),et.asn1.DERAbstractStructured=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.array&&(this.asn1Array=t.array)},tt.lang.extend(et.asn1.DERAbstractStructured,et.asn1.ASN1Object),et.asn1.DERBoolean=function(){et.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},tt.lang.extend(et.asn1.DERBoolean,et.asn1.ASN1Object),et.asn1.DERInteger=function(t){et.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new A(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.setByBigInteger(t.bigint):"undefined"!=typeof t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},tt.lang.extend(et.asn1.DERInteger,et.asn1.ASN1Object),et.asn1.DERBitString=function(t){if(void 0!==t&&"undefined"!==typeof t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}et.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):"undefined"!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):"undefined"!=typeof t.bin?this.setByBinaryString(t.bin):"undefined"!=typeof t.array&&this.setByBooleanArray(t.array))},tt.lang.extend(et.asn1.DERBitString,et.asn1.ASN1Object),et.asn1.DEROctetString=function(t){if(void 0!==t&&"undefined"!==typeof t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}et.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},tt.lang.extend(et.asn1.DEROctetString,et.asn1.DERAbstractString),et.asn1.DERNull=function(){et.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},tt.lang.extend(et.asn1.DERNull,et.asn1.ASN1Object),et.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new A(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";r=o+r;for(a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=e(parseInt(s,2))}return n};et.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=et.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"===typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},tt.lang.extend(et.asn1.DERObjectIdentifier,et.asn1.ASN1Object),et.asn1.DEREnumerated=function(t){et.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new A(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},tt.lang.extend(et.asn1.DEREnumerated,et.asn1.ASN1Object),et.asn1.DERUTF8String=function(t){et.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},tt.lang.extend(et.asn1.DERUTF8String,et.asn1.DERAbstractString),et.asn1.DERNumericString=function(t){et.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},tt.lang.extend(et.asn1.DERNumericString,et.asn1.DERAbstractString),et.asn1.DERPrintableString=function(t){et.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},tt.lang.extend(et.asn1.DERPrintableString,et.asn1.DERAbstractString),et.asn1.DERTeletexString=function(t){et.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},tt.lang.extend(et.asn1.DERTeletexString,et.asn1.DERAbstractString),et.asn1.DERIA5String=function(t){et.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},tt.lang.extend(et.asn1.DERIA5String,et.asn1.DERAbstractString),et.asn1.DERUTCTime=function(t){et.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},tt.lang.extend(et.asn1.DERUTCTime,et.asn1.DERAbstractTime),et.asn1.DERGeneralizedTime=function(t){et.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},tt.lang.extend(et.asn1.DERGeneralizedTime,et.asn1.DERAbstractTime),et.asn1.DERSequence=function(t){et.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},tt.lang.extend(et.asn1.DERSequence,et.asn1.DERAbstractStructured),et.asn1.DERSet=function(t){et.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},tt.lang.extend(et.asn1.DERSet,et.asn1.DERAbstractStructured),et.asn1.DERTaggedObject=function(t){et.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.hT=t.tag),"undefined"!=typeof t.explicit&&(this.isExplicit=t.explicit),"undefined"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},tt.lang.extend(et.asn1.DERTaggedObject,et.asn1.ASN1Object);var nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(t){function e(n){var r=t.call(this)||this;return n&&("string"===typeof n?r.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return nt(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?g(t):v.unarmor(t),i=_.decode(r);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){e=i.sub[1].getHexStringValue(),this.n=O(e,16),n=i.sub[2].getHexStringValue(),this.e=parseInt(n,16);var o=i.sub[3].getHexStringValue();this.d=O(o,16);var a=i.sub[4].getHexStringValue();this.p=O(a,16);var s=i.sub[5].getHexStringValue();this.q=O(s,16);var u=i.sub[6].getHexStringValue();this.dmp1=O(u,16);var l=i.sub[7].getHexStringValue();this.dmq1=O(l,16);var c=i.sub[8].getHexStringValue();this.coeff=O(c,16)}else{if(2!==i.sub.length)return!1;var f=i.sub[1].sub[0];e=f.sub[0].getHexStringValue(),this.n=O(e,16),n=f.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(h){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new et.asn1.DERInteger({int:0}),new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e}),new et.asn1.DERInteger({bigint:this.d}),new et.asn1.DERInteger({bigint:this.p}),new et.asn1.DERInteger({bigint:this.q}),new et.asn1.DERInteger({bigint:this.dmp1}),new et.asn1.DERInteger({bigint:this.dmq1}),new et.asn1.DERInteger({bigint:this.coeff})]};return new et.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return h(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new et.asn1.DERSequence({array:[new et.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new et.asn1.DERNull]}),e=new et.asn1.DERSequence({array:[new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e})]}),n=new et.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new et.asn1.DERSequence({array:[t,n]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return h(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(J),it=n(832),ot=function(){function t(t){void 0===t&&(t={}),t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new rt(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(d(t))}catch(e){return!1}},t.prototype.encrypt=function(t){try{return h(this.getKey().encrypt(t))}catch(e){return!1}},t.prototype.sign=function(t,e,n){try{return h(this.getKey().sign(t,e,n))}catch(r){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,d(e),n)}catch(r){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new rt,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version=it.version,t}();e.a=ot},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},,,,,,function(t,e,n){var r=n(69),i=n(34),o=n(308),a=n(66),s=n(82),u=n(321),l=i([].push),c=function(t){var e=1==t,n=2==t,i=3==t,c=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,g,v,m){for(var y,b,w=a(p),S=o(w),T=r(g,v),E=s(S),_=0,k=m||u,x=e?k(p,E):n||h?k(p,0):void 0;E>_;_++)if((d||_ in S)&&(b=T(y=S[_],_,w),t))if(e)x[_]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return _;case 2:l(x,y)}else switch(t){case 4:return!1;case 7:l(x,y)}return f?-1:i||c?c:x}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(94),i="function"===typeof Promise&&"function"===typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},o=r.a.WebSocket||r.a.MozWebSocket,a=!0,s="arraybuffer"},,,,function(t,e,n){var r=n(308),i=n(106);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(28).TypeError;t.exports=function(t){if(void 0==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r,i,o,a=n(578),s=n(28),u=n(34),l=n(52),c=n(137),f=n(65),h=n(467),d=n(381),p=n(314),g=s.TypeError,v=s.WeakMap;if(a||h.state){var m=h.state||(h.state=new v),y=u(m.get),b=u(m.has),w=u(m.set);r=function(t,e){if(b(m,t))throw new g("Object already initialized");return e.facade=t,w(m,t,e),e},i=function(t){return y(m,t)||{}},o=function(t){return b(m,t)}}else{var S=d("state");p[S]=!0,r=function(t,e){if(f(t,S))throw new g("Object already initialized");return e.facade=t,c(t,S,e),e},i=function(t){return f(t,S)?t[S]:{}},o=function(t){return f(t,S)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}}}},,,,,,function(t,e,n){var r=n(32),i=n(390),o=n(55)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(34),i=n(106),o=n(64),a=/"/g,s=r("".replace);t.exports=function(t,e,n,r){var u=o(i(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+s(o(r),a,"&quot;")+'"'),l+">"+u+"</"+e+">"}},function(t,e,n){var r=n(33);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){"use strict";var r=n(660),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&"object"===typeof t}function u(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){"object"===typeof e[r]&&"object"===typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"===typeof e[r]&&"object"===typeof n?e[r]=t(e[r],n):e[r]="object"===typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return M})),n.d(e,"g",(function(){return A})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return T})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return E}));var r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";var i=Object.create(null);Object.keys(r).forEach((function(t){i[r[t]]=t}));var o,a={type:"error",data:"parser error"},s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),u="function"===typeof ArrayBuffer,l=function(t){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},c=function(t,e,n){var i=t.type,o=t.data;return s&&o instanceof Blob?e?n(o):f(o,n):u&&(o instanceof ArrayBuffer||l(o))?e?n(o):f(new Blob([o]),n):n(r[i]+(o||""))},f=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function h(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<d.length;g++)p[d.charCodeAt(g)]=g;var v,m="function"===typeof ArrayBuffer,y=function(t,e){if("string"!==typeof t)return{type:"message",data:w(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:b(t.substring(1),e)}:i[n]?t.length>1?{type:i[n],data:t.substring(1)}:{type:i[n]}:a},b=function(t,e){if(m){var n=function(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)n=p[t.charCodeAt(e)],r=p[t.charCodeAt(e+1)],i=p[t.charCodeAt(e+2)],o=p[t.charCodeAt(e+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}(t);return w(n,e)}return{base64:!0,data:t}},w=function(t,e){switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},S=String.fromCharCode(30),T=function(t,e){var n=t.length,r=new Array(n),i=0;t.forEach((function(t,o){c(t,!1,(function(t){r[o]=t,++i===n&&e(r.join(S))}))}))},E=function(t,e){for(var n=t.split(S),r=[],i=0;i<n.length;i++){var o=y(n[i],e);if(r.push(o),"error"===o.type)break}return r};function _(){return new TransformStream({transform:function(t,e){!function(t,e){s&&t.data instanceof Blob?t.data.arrayBuffer().then(h).then(e):u&&(t.data instanceof ArrayBuffer||l(t.data))?e(h(t.data)):c(t,!1,(function(t){o||(o=new TextEncoder),e(o.encode(t))}))}(t,(function(n){var r,i=n.length;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);var o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);var a=new DataView(r.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(i))}t.data&&"string"!==typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)}))}})}function k(t){return t.reduce((function(t,e){return t+e.length}),0)}function x(t,e){if(t[0].length===e)return t.shift();for(var n=new Uint8Array(e),r=0,i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function M(t,e){v||(v=new TextDecoder);var n=[],r=0,i=-1,o=!1;return new TransformStream({transform:function(s,u){for(n.push(s);;){if(0===r){if(k(n)<1)break;var l=x(n,1);o=128===(128&l[0]),i=127&l[0],r=i<126?3:126===i?1:2}else if(1===r){if(k(n)<2)break;var c=x(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(2===r){if(k(n)<8)break;var f=x(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){u.enqueue(a);break}i=d*Math.pow(2,32)+h.getUint32(4),r=3}else{if(k(n)<i)break;var p=x(n,i);u.enqueue(y(o?p:v.decode(p),e)),r=0}if(0===i||i>t){u.enqueue(a);break}}}})}var A=4},,,,function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!==e||0===e?0:(e>0?r:n)(e)}},function(t,e,n){var r=n(34);t.exports=r([].slice)},function(t,e,n){var r=n(400);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var r=e,i=n(169),o=n(124),a=n(723);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<r.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0===(1&u)?0:3!==(r=t.andln(7)+i&7)&&5!==r||2!==l?u:-u,n[0].push(a),s=0===(1&l)?0:3!==(r=e.andln(7)+o&7)&&5!==r||2!==u?l:-l,n[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,n){"use strict";function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}n.d(e,"a",(function(){return r})),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n(94);function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var o=r.a.setTimeout,a=r.a.clearTimeout;function s(t,e){e.useNativeTimers?(t.setTimeoutFn=o.bind(r.a),t.clearTimeoutFn=a.bind(r.a)):(t.setTimeoutFn=r.a.setTimeout.bind(r.a),t.clearTimeoutFn=r.a.clearTimeout.bind(r.a))}function u(t){return"string"===typeof t?function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))}},,,,,,,,,function(t,e,n){var r=n(121),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(58),i=n(67),o=n(195);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(28),i=n(65),o=n(57),a=n(66),s=n(381),u=n(474),l=s("IE_PROTO"),c=r.Object,f=c.prototype;t.exports=u?c.getPrototypeOf:function(t){var e=a(t);if(i(e,l))return e[l];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof c?f:null}},function(t,e,n){t.exports=n(1301)},,,,,,,function(t,e,n){var r=n(34),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},function(t,e,n){var r=n(34);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(67).f,i=n(65),o=n(55)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(37);t.exports=function(t){return r(Map.prototype.entries,t)}},function(t,e,n){"use strict";var r=n(124),i=n(48);function o(t,e){return 55296===(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1)))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"===typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(t,i)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},e.htonl=a,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=a(i)),n+=u(i.toString(16))}return n},e.zero2=s,e.zero8=u,e.join32=function(t,e,n,i){var o=n-e;r(o%4===0);for(var a=new Array(o/4),s=0,u=e;s<a.length;s++,u+=4){var l;l="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],a[s]=l>>>0}return a},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,a,s){var u=0,l=e;return u+=(l=l+r>>>0)<e?1:0,u+=(l=l+o>>>0)<o?1:0,t+n+i+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,a,s){return e+r+o+s>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,a,s,u,l){var c=0,f=e;return c+=(f=f+r>>>0)<e?1:0,c+=(f=f+o>>>0)<o?1:0,c+=(f=f+s>>>0)<s?1:0,t+n+i+a+u+(c+=(f=f+l>>>0)<l?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,a,s,u,l){return e+r+o+s+l>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},,,,,,,,,,,,,,,,function(t,e,n){var r,i=n(32),o=n(572),a=n(470),s=n(314),u=n(577),l=n(380),c=n(381),f=c("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}g="undefined"!=typeof document?document.domain&&r?p(r):function(){var t,e=l("iframe");return e.style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F}():p(r);for(var t=a.length;t--;)delete g.prototype[a[t]];return g()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[f]=t):n=g(),void 0===e?n:o(n,e)}},function(t,e){var n=Function.prototype,r=n.apply,i=n.bind,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(37),a=n(58),s=n(495),u=n(56),l=n(618),c=n(198),f=n(195),h=n(137),d=n(486),p=n(136),g=n(620),v=n(639),m=n(194),y=n(65),b=n(222),w=n(52),S=n(310),T=n(166),E=n(147),_=n(197),k=n(196).f,x=n(640),M=n(100).forEach,A=n(262),R=n(67),I=n(91),C=n(107),L=n(387),D=C.get,O=C.set,P=R.f,N=I.f,j=Math.round,B=i.RangeError,F=l.ArrayBuffer,U=F.prototype,H=l.DataView,K=u.NATIVE_ARRAY_BUFFER_VIEWS,G=u.TYPED_ARRAY_CONSTRUCTOR,q=u.TYPED_ARRAY_TAG,V=u.TypedArray,z=u.TypedArrayPrototype,W=u.aTypedArrayConstructor,Y=u.isTypedArray,X=function(t,e){W(t);for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i},$=function(t,e){P(t,e,{get:function(){return D(this)[e]}})},Z=function(t){var e;return E(U,t)||"ArrayBuffer"==(e=b(t))||"SharedArrayBuffer"==e},J=function(t,e){return Y(t)&&!S(e)&&e in t&&d(+e)&&e>=0},Q=function(t,e){return e=m(e),J(t,e)?f(2,t[e]):N(t,e)},tt=function(t,e,n){return e=m(e),!(J(t,e)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?P(t,e,n):(t[e]=n.value,t)};a?(K||(I.f=Q,R.f=tt,$(z,"buffer"),$(z,"byteOffset"),$(z,"byteLength"),$(z,"length")),r({target:"Object",stat:!0,forced:!K},{getOwnPropertyDescriptor:Q,defineProperty:tt}),t.exports=function(t,e,n){var a=t.match(/\d+$/)[0]/8,u=t+(n?"Clamped":"")+"Array",l="get"+t,f="set"+t,d=i[u],m=d,y=m&&m.prototype,b={},S=function(t,e){P(t,e,{get:function(){return function(t,e){var n=D(t);return n.view[l](e*a+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=D(t);n&&(r=(r=j(r))<0?0:r>255?255:255&r),i.view[f](e*a+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};K?s&&(m=e((function(t,e,n,r){return c(t,y),L(w(e)?Z(e)?void 0!==r?new d(e,v(n,a),r):void 0!==n?new d(e,v(n,a)):new d(e):Y(e)?X(m,e):o(x,m,e):new d(g(e)),t,m)})),_&&_(m,V),M(k(d),(function(t){t in m||h(m,t,d[t])})),m.prototype=y):(m=e((function(t,e,n,r){c(t,y);var i,s,u,l=0,f=0;if(w(e)){if(!Z(e))return Y(e)?X(m,e):o(x,m,e);i=e,f=v(n,a);var h=e.byteLength;if(void 0===r){if(h%a)throw B("Wrong length");if((s=h-f)<0)throw B("Wrong length")}else if((s=p(r)*a)+f>h)throw B("Wrong length");u=s/a}else u=g(e),i=new F(s=u*a);for(O(t,{buffer:i,byteOffset:f,byteLength:s,length:u,view:new H(i)});l<u;)S(t,l++)})),_&&_(m,V),y=m.prototype=T(z)),y.constructor!==m&&h(y,"constructor",m),h(y,G,m),q&&h(y,q,u),b[u]=m,r({global:!0,forced:m!=d,sham:!K},b),"BYTES_PER_ELEMENT"in m||h(m,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in y||h(y,"BYTES_PER_ELEMENT",a),A(u)}):t.exports=function(){}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1381).Buffer}catch(k){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:c[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function g(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(S,y),i(T,y),T.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return m[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(8),i=n(16),o=n(40),a=n(36),s=n(6),u=n(9),l=n(10),c=n(285),f=n(117),h=n(126),d=n(127),p=n(427),g=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,r,i){var o;return Object(s.a)(this,n),(o=e.call(this,t)).description=r,o.context=i,o.type="TransportError",o}return n}(Object(c.a)(Error)),v=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).writable=!1,Object(d.b)(Object(i.a)(r),t),r.opts=t,r.query=t.query,r.socket=t.socket,r}return Object(r.a)(n,[{key:"onError",value:function(t,e,r){return Object(o.a)(Object(a.a)(n.prototype),"emitReserved",this).call(this,"error",new g(t,e,r)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,Object(o.a)(Object(a.a)(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(t){var e=Object(f.c)(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){Object(o.a)(Object(a.a)(n.prototype),"emitReserved",this).call(this,"packet",t)}},{key:"onClose",value:function(t){this.readyState="closed",Object(o.a)(Object(a.a)(n.prototype),"emitReserved",this).call(this,"close",t)}},{key:"pause",value:function(t){}},{key:"createUri",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}},{key:"_hostname",value:function(){var t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(t){var e=Object(p.b)(t);return e.length?"?"+e:""}}]),n}(h.a)},,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(55),i=n(166),o=n(67),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r,i,o=n(28),a=n(193),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},function(t,e,n){var r=n(70);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(574),i=n(310);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(576),i=n(470).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(34),i=n(32),o=n(582);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(28),i=n(147),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},function(t,e,n){var r=n(43).Buffer,i=n(1333).Transform,o=n(228).StringDecoder;function a(t){i.call(this),this.hashMode="string"===typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(48)(a,i),a.prototype.update=function(t,e,n){"string"===typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){r=i}finally{n(r)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(n){e=n}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},a.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=a},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,function(t,e){var n,r=function(){var t=Object.prototype.toString,e=Object.prototype.hasOwnProperty;return{Class:function(e){return t.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(t,e){return e in t},HasOwnProperty:function(t,n){return e.call(t,n)},IsCallable:function(t){return"function"===typeof t},ToInt32:function(t){return t>>0},ToUint32:function(t){return t>>>0}}}(),i=Math.LN2,o=Math.abs,a=Math.floor,s=Math.log,u=Math.min,l=Math.pow,c=Math.round;function f(t){if(h&&n){var e,r=h(t);for(e=0;e<r.length;e+=1)n(t,r[e],{value:t[r[e]],writable:!1,enumerable:!1,configurable:!1})}}n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()?Object.defineProperty:function(t,e,n){if(!t===Object(t))throw new TypeError("Object.defineProperty called on non-object");return r.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(t,e,n.get),r.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(t,e,n.set),r.HasProperty(n,"value")&&(t[e]=n.value),t};var h=Object.getOwnPropertyNames||function(t){if(t!==Object(t))throw new TypeError("Object.getOwnPropertyNames called on non-object");var e,n=[];for(e in t)r.HasOwnProperty(t,e)&&n.push(e);return n};function d(t){if(n){if(t.length>1e5)throw new RangeError("Array too large for polyfill");var e;for(e=0;e<t.length;e+=1)r(e)}function r(e){n(t,e,{get:function(){return t._getter(e)},set:function(n){t._setter(e,n)},enumerable:!0,configurable:!1})}}function p(t,e){var n=32-e;return t<<n>>n}function g(t,e){var n=32-e;return t<<n>>>n}function v(t){return[255&t]}function m(t){return p(t[0],8)}function y(t){return[255&t]}function b(t){return g(t[0],8)}function w(t){return[(t=c(Number(t)))<0?0:t>255?255:255&t]}function S(t){return[t>>8&255,255&t]}function T(t){return p(t[0]<<8|t[1],16)}function E(t){return[t>>8&255,255&t]}function _(t){return g(t[0]<<8|t[1],16)}function k(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function x(t){return p(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function M(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function A(t){return g(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function R(t,e,n){var r,c,f,h,d,p,g,v=(1<<e-1)-1;function m(t){var e=a(t),n=t-e;return n<.5?e:n>.5||e%2?e+1:e}for(t!==t?(c=(1<<e)-1,f=l(2,n-1),r=0):t===1/0||t===-1/0?(c=(1<<e)-1,f=0,r=t<0?1:0):0===t?(c=0,f=0,r=1/t===-1/0?1:0):(r=t<0,(t=o(t))>=l(2,1-v)?(c=u(a(s(t)/i),1023),(f=m(t/l(2,c)*l(2,n)))/l(2,n)>=2&&(c+=1,f=1),c>v?(c=(1<<e)-1,f=0):(c+=v,f-=l(2,n))):(c=0,f=m(t/l(2,1-v-n)))),d=[],h=n;h;h-=1)d.push(f%2?1:0),f=a(f/2);for(h=e;h;h-=1)d.push(c%2?1:0),c=a(c/2);for(d.push(r?1:0),d.reverse(),p=d.join(""),g=[];p.length;)g.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return g}function I(t,e,n){var r,i,o,a,s,u,c,f,h=[];for(r=t.length;r;r-=1)for(o=t[r-1],i=8;i;i-=1)h.push(o%2?1:0),o>>=1;return h.reverse(),a=h.join(""),s=(1<<e-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,c=parseInt(a.substring(1,1+e),2),f=parseInt(a.substring(1+e),2),c===(1<<e)-1?0!==f?NaN:u*(1/0):c>0?u*l(2,c-s)*(1+f/l(2,n)):0!==f?u*l(2,-(s-1))*(f/l(2,n)):u<0?-0:0}function C(t){return I(t,11,52)}function L(t){return R(t,11,52)}function D(t){return I(t,8,23)}function O(t){return R(t,8,23)}!function(){var t=function(t){if((t=r.ToInt32(t))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var e;for(this.byteLength=t,this._bytes=[],this._bytes.length=t,e=0;e<this.byteLength;e+=1)this._bytes[e]=0;f(this)};e.ArrayBuffer=e.ArrayBuffer||t;var n=function(){};function i(e,i,o){var a;return(a=function(e,n,i){var o,s,u,l;if(arguments.length&&"number"!==typeof arguments[0])if("object"===typeof arguments[0]&&arguments[0].constructor===a)for(o=arguments[0],this.length=o.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)this._setter(u,o._getter(u));else if("object"!==typeof arguments[0]||(arguments[0]instanceof t||"ArrayBuffer"===r.Class(arguments[0]))){if("object"!==typeof arguments[0]||!(arguments[0]instanceof t||"ArrayBuffer"===r.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=e,this.byteOffset=r.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=r.ToUint32(i),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(s=arguments[0],this.length=r.ToUint32(s.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)l=s[u],this._setter(u,Number(l));else{if(this.length=r.ToInt32(arguments[0]),i<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0}this.constructor=a,f(this),d(this)}).prototype=new n,a.prototype.BYTES_PER_ELEMENT=e,a.prototype._pack=i,a.prototype._unpack=o,a.BYTES_PER_ELEMENT=e,a.prototype._getter=function(t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(!((t=r.ToUint32(t))>=this.length)){var e,n,i=[];for(e=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,n+=1)i.push(this.buffer._bytes[n]);return this._unpack(i)}},a.prototype.get=a.prototype._getter,a.prototype._setter=function(t,e){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(!((t=r.ToUint32(t))>=this.length)){var n,i,o=this._pack(e);for(n=0,i=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,i+=1)this.buffer._bytes[i]=o[n]}},a.prototype.set=function(t,e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,i,o,a,s,u,l,c,f,h;if("object"===typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],(o=r.ToUint32(arguments[1]))+n.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(c=this.byteOffset+o*this.BYTES_PER_ELEMENT,f=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(h=[],s=0,u=n.byteOffset;s<f;s+=1,u+=1)h[s]=n.buffer._bytes[u];for(s=0,l=c;s<f;s+=1,l+=1)this.buffer._bytes[l]=h[s]}else for(s=0,u=n.byteOffset,l=c;s<f;s+=1,u+=1,l+=1)this.buffer._bytes[l]=n.buffer._bytes[u]}else{if("object"!==typeof arguments[0]||"undefined"===typeof arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(i=arguments[0],a=r.ToUint32(i.length),(o=r.ToUint32(arguments[1]))+a>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<a;s+=1)u=i[s],this._setter(o+s,Number(u))}},a.prototype.subarray=function(t,e){function n(t,e,n){return t<e?e:t>n?n:t}t=r.ToInt32(t),e=r.ToInt32(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var i=(e=n(e,0,this.length))-t;return i<0&&(i=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,i)},a}var o=i(1,v,m),a=i(1,y,b),s=i(1,w,b),u=i(2,S,T),l=i(2,E,_),c=i(4,k,x),h=i(4,M,A),p=i(4,O,D),g=i(8,L,C);e.Int8Array=e.Int8Array||o,e.Uint8Array=e.Uint8Array||a,e.Uint8ClampedArray=e.Uint8ClampedArray||s,e.Int16Array=e.Int16Array||u,e.Uint16Array=e.Uint16Array||l,e.Int32Array=e.Int32Array||c,e.Uint32Array=e.Uint32Array||h,e.Float32Array=e.Float32Array||p,e.Float64Array=e.Float64Array||g}(),function(){function t(t,e){return r.IsCallable(t.get)?t.get(e):t[e]}var n=function(){var n=new e.Uint16Array([4660]);return 18===t(new e.Uint8Array(n.buffer),0)}(),i=function(t,n,i){if(0===arguments.length)t=new e.ArrayBuffer(0);else if(!(t instanceof e.ArrayBuffer||"ArrayBuffer"===r.Class(t)))throw new TypeError("TypeError");if(this.buffer=t||new e.ArrayBuffer(0),this.byteOffset=r.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:r.ToUint32(i),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");f(this)};function o(i){return function(o,a){if((o=r.ToUint32(o))+i.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");o+=this.byteOffset;var s,u=new e.Uint8Array(this.buffer,o,i.BYTES_PER_ELEMENT),l=[];for(s=0;s<i.BYTES_PER_ELEMENT;s+=1)l.push(t(u,s));return Boolean(a)===Boolean(n)&&l.reverse(),t(new i(new e.Uint8Array(l).buffer),0)}}function a(i){return function(o,a,s){if((o=r.ToUint32(o))+i.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var u,l=new i([a]),c=new e.Uint8Array(l.buffer),f=[];for(u=0;u<i.BYTES_PER_ELEMENT;u+=1)f.push(t(c,u));Boolean(s)===Boolean(n)&&f.reverse(),new e.Uint8Array(this.buffer,o,i.BYTES_PER_ELEMENT).set(f)}}i.prototype.getUint8=o(e.Uint8Array),i.prototype.getInt8=o(e.Int8Array),i.prototype.getUint16=o(e.Uint16Array),i.prototype.getInt16=o(e.Int16Array),i.prototype.getUint32=o(e.Uint32Array),i.prototype.getInt32=o(e.Int32Array),i.prototype.getFloat32=o(e.Float32Array),i.prototype.getFloat64=o(e.Float64Array),i.prototype.setUint8=a(e.Uint8Array),i.prototype.setInt8=a(e.Int8Array),i.prototype.setUint16=a(e.Uint16Array),i.prototype.setInt16=a(e.Int16Array),i.prototype.setUint32=a(e.Uint32Array),i.prototype.setInt32=a(e.Int32Array),i.prototype.setFloat32=a(e.Float32Array),i.prototype.setFloat64=a(e.Float64Array),e.DataView=e.DataView||i}()},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},,,,,,,,,,,,,,function(t,e,n){var r=n(46);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){var r=n(121),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(58),i=n(65),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},function(t,e,n){var r=n(24),i=n(34),o=n(314),a=n(52),s=n(65),u=n(67).f,l=n(196),c=n(475),f=n(385),h=n(309),d=n(317),p=!1,g=h("meta"),v=0,m=function(t){u(t,g,{value:{objectID:"O"+v++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=l.f,e=i([].splice),n={};n[g]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===g){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,g)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[g].objectID},getWeakData:function(t,e){if(!s(t,g)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[g].weakData},onFreeze:function(t){return d&&p&&f(t)&&!s(t,g)&&m(t),t}};o[g]=!0},function(t,e,n){var r=n(28),i=n(478),o=n(57),a=n(146),s=n(55)("toStringTag"),u=r.Object,l="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=u(t),s))?n:l?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},function(t,e,n){var r=n(37);t.exports=function(t){return r(Set.prototype.values,t)}},function(t,e,n){"use strict";var r=n(194),i=n(67),o=n(195);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){"use strict";var r=n(33);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(505),n(506),function(){var t=o,e=t.lib,n=e.Base,r=e.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,i=this.cfg,o=i.hasher.create(),a=r.create(),s=a.words,u=i.keySize,l=i.iterations;s.length<u;){n&&o.update(n),n=o.update(t).finalize(e),o.reset();for(var c=1;c<l;c++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*u,a}});t.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),o.EvpKDF)}()},function(t,e,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"===typeof t.on&&m(t,"error",e,n)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,a,s;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"===typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"===typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var l=u.length,c=v(u,l);for(n=0;n<l;++n)o(c[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(43).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!==typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var r=n(407),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=Object.create(n(326));o.inherits=n(48);var a=n(695),s=n(513);o.inherits(f,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){"use strict";n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return M})),n.d(e,"b",(function(){return R})),n.d(e,"a",(function(){return L}));var r=n(753),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=o?o.toStringTag:void 0;var c=function(t){var e=s.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(o){}var i=u.call(t);return r&&(e?t[l]=n:delete t[l]),i},f=Object.prototype.toString;var h=function(t){return f.call(t)},d=o?o.toStringTag:void 0;var p=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?c(t):h(t)};var g=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object);var v=function(t){return null!=t&&"object"==typeof t},m=Function.prototype,y=Object.prototype,b=m.toString,w=y.hasOwnProperty,S=b.call(Object);var T=function(t){if(!v(t)||"[object Object]"!=p(t))return!1;var e=g(t);if(null===e)return!0;var n=w.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==S},E=n(532),_="@@redux/INIT";function k(t,e,n){var r;if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(k)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){return o}function f(t){if("function"!==typeof t)throw new Error("Expected listener to be a function.");var e=!0;return l(),s.push(t),function(){if(e){e=!1,l();var n=s.indexOf(t);s.splice(n,1)}}}function h(t){if(!T(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,t)}finally{u=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}return h({type:_}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:function(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,h({type:_})}})[E.a]=function(){var t,e=f;return(t={subscribe:function(t){if("object"!==typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[E.a]=function(){return this},t},r}function x(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function M(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var o=Object.keys(n);var a=void 0;try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:_}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+_+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){a=s}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=t[u],f=l(c,e);if("undefined"===typeof f){var h=x(u,e);throw new Error(h)}i[u]=f,r=r||f!==c}return r?i:t}}function A(t,e){return function(){return e(t.apply(void 0,arguments))}}function R(t,e){if("function"===typeof t)return A(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"===typeof a&&(r[o]=A(a,e))}return r}function I(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function L(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,i){var o,a=t(n,r,i),s=a.dispatch,u={getState:a.getState,dispatch:function(t){return s(t)}};return o=e.map((function(t){return t(u)})),s=I.apply(void 0,o)(a.dispatch),C({},a,{dispatch:s})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(28),i=n(37),o=n(46),a=n(32),s=n(311),u=n(318),l=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(o(n))return a(i(n,t));throw l(s(t)+" is not iterable")}},function(t,e,n){var r=n(84);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(70),i=n(67),o=n(55),a=n(58),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(146),i=n(28);t.exports="process"==r(i.process)},function(t,e,n){var r=n(34),i=n(106),o=n(64),a=n(393),s=r("".replace),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,l,"")),2&t&&(n=s(n,c,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(){var t=i,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var n=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(n=s)}return function(t,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,u=r[t.charCodeAt(a)]>>>6-a%4*2,l=s|u;i[o>>>2]|=l<<24-o%4*8,o++}return e.create(i,o)}(t,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(t){var e=i,n=e.lib,r=n.WordArray,o=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],g=t[e+4],v=t[e+5],m=t[e+6],y=t[e+7],b=t[e+8],w=t[e+9],S=t[e+10],T=t[e+11],E=t[e+12],_=t[e+13],k=t[e+14],x=t[e+15],M=o[0],A=o[1],R=o[2],I=o[3];M=l(M,A,R,I,a,7,s[0]),I=l(I,M,A,R,u,12,s[1]),R=l(R,I,M,A,d,17,s[2]),A=l(A,R,I,M,p,22,s[3]),M=l(M,A,R,I,g,7,s[4]),I=l(I,M,A,R,v,12,s[5]),R=l(R,I,M,A,m,17,s[6]),A=l(A,R,I,M,y,22,s[7]),M=l(M,A,R,I,b,7,s[8]),I=l(I,M,A,R,w,12,s[9]),R=l(R,I,M,A,S,17,s[10]),A=l(A,R,I,M,T,22,s[11]),M=l(M,A,R,I,E,7,s[12]),I=l(I,M,A,R,_,12,s[13]),R=l(R,I,M,A,k,17,s[14]),M=c(M,A=l(A,R,I,M,x,22,s[15]),R,I,u,5,s[16]),I=c(I,M,A,R,m,9,s[17]),R=c(R,I,M,A,T,14,s[18]),A=c(A,R,I,M,a,20,s[19]),M=c(M,A,R,I,v,5,s[20]),I=c(I,M,A,R,S,9,s[21]),R=c(R,I,M,A,x,14,s[22]),A=c(A,R,I,M,g,20,s[23]),M=c(M,A,R,I,w,5,s[24]),I=c(I,M,A,R,k,9,s[25]),R=c(R,I,M,A,p,14,s[26]),A=c(A,R,I,M,b,20,s[27]),M=c(M,A,R,I,_,5,s[28]),I=c(I,M,A,R,d,9,s[29]),R=c(R,I,M,A,y,14,s[30]),M=f(M,A=c(A,R,I,M,E,20,s[31]),R,I,v,4,s[32]),I=f(I,M,A,R,b,11,s[33]),R=f(R,I,M,A,T,16,s[34]),A=f(A,R,I,M,k,23,s[35]),M=f(M,A,R,I,u,4,s[36]),I=f(I,M,A,R,g,11,s[37]),R=f(R,I,M,A,y,16,s[38]),A=f(A,R,I,M,S,23,s[39]),M=f(M,A,R,I,_,4,s[40]),I=f(I,M,A,R,a,11,s[41]),R=f(R,I,M,A,p,16,s[42]),A=f(A,R,I,M,m,23,s[43]),M=f(M,A,R,I,w,4,s[44]),I=f(I,M,A,R,E,11,s[45]),R=f(R,I,M,A,x,16,s[46]),M=h(M,A=f(A,R,I,M,d,23,s[47]),R,I,a,6,s[48]),I=h(I,M,A,R,y,10,s[49]),R=h(R,I,M,A,k,15,s[50]),A=h(A,R,I,M,v,21,s[51]),M=h(M,A,R,I,E,6,s[52]),I=h(I,M,A,R,p,10,s[53]),R=h(R,I,M,A,S,15,s[54]),A=h(A,R,I,M,u,21,s[55]),M=h(M,A,R,I,b,6,s[56]),I=h(I,M,A,R,x,10,s[57]),R=h(R,I,M,A,m,15,s[58]),A=h(A,R,I,M,_,21,s[59]),M=h(M,A,R,I,g,6,s[60]),I=h(I,M,A,R,T,10,s[61]),R=h(R,I,M,A,d,15,s[62]),A=h(A,R,I,M,w,21,s[63]),o[0]=o[0]+M|0,o[1]=o[1]+A|0,o[2]=o[2]+R|0,o[3]=o[3]+I|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,l=0;l<4;l++){var c=u[l];u[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function c(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),i.MD5)}()},function(t,e,n){"use strict";(function(e,r){var i=n(43).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(t);if(t>0)if(t>65536)for(var a=0;a<t;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);if("function"===typeof e)return r.nextTick((function(){e(null,n)}));return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(60),n(77))},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"===typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,a,s;if("string"===typeof e&&(i="not ",e.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var u=function(t,e,n){return"number"!==typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(u," ").concat(r," ").concat(o(e,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var i=n(687),o=n(691);n(269)(l,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||e.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(77))},function(t,e,n){var r=n(43).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"===typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var u=a%i,l=Math.min(o-s,i-u),c=0;c<l;c++)n[u+c]=t[s+c];s+=l,(a+=l)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"===typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,a,s;if("string"===typeof e&&(i="not ",e.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var u=function(t,e,n){return"number"!==typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(u," ").concat(r," ").concat(o(e,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var i=n(717),o=n(721);n(273)(l,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||e.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(77))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(331);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){(function(t,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",S="[object Symbol]",T="[object WeakMap]",E="[object ArrayBuffer]",_="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",R="[object Int32Array]",I="[object Uint8Array]",C="[object Uint16Array]",L="[object Uint32Array]",D=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,B=RegExp(N.source),F=RegExp(j.source),U=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,W=RegExp(z.source),Y=/^\s+/,X=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",gt="["+dt+"]",vt="["+ht+"]",mt="\\d+",yt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",wt="[^\\ud800-\\udfff"+dt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",St="\\ud83c[\\udffb-\\udfff]",Tt="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",xt="(?:"+bt+"|"+wt+")",Mt="(?:"+kt+"|"+wt+")",At="(?:"+vt+"|"+St+")"+"?",Rt="[\\ufe0e\\ufe0f]?"+At+("(?:\\u200d(?:"+[Tt,Et,_t].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*"),It="(?:"+[yt,Et,_t].join("|")+")"+Rt,Ct="(?:"+[Tt+vt+"?",vt,Et,_t,pt].join("|")+")",Lt=RegExp("['\u2019]","g"),Dt=RegExp(vt,"g"),Ot=RegExp(St+"(?="+St+")|"+Ct+Rt,"g"),Pt=RegExp([kt+"?"+bt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[gt,kt,"$"].join("|")+")",Mt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[gt,kt+xt,"$"].join("|")+")",kt+"?"+xt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,It].join("|"),"g"),Nt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,Ut={};Ut[k]=Ut[x]=Ut[M]=Ut[A]=Ut[R]=Ut[I]=Ut["[object Uint8ClampedArray]"]=Ut[C]=Ut[L]=!0,Ut[u]=Ut[l]=Ut[E]=Ut[c]=Ut[_]=Ut[f]=Ut[h]=Ut[d]=Ut[g]=Ut[v]=Ut[m]=Ut[y]=Ut[b]=Ut[w]=Ut[T]=!1;var Ht={};Ht[u]=Ht[l]=Ht[E]=Ht[_]=Ht[c]=Ht[f]=Ht[k]=Ht[x]=Ht[M]=Ht[A]=Ht[R]=Ht[g]=Ht[v]=Ht[m]=Ht[y]=Ht[b]=Ht[w]=Ht[S]=Ht[I]=Ht["[object Uint8ClampedArray]"]=Ht[C]=Ht[L]=!0,Ht[h]=Ht[d]=Ht[T]=!1;var Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gt=parseFloat,qt=parseInt,Vt="object"==typeof t&&t&&t.Object===Object&&t,zt="object"==typeof self&&self&&self.Object===Object&&self,Wt=Vt||zt||Function("return this")(),Yt=e&&!e.nodeType&&e,Xt=Yt&&"object"==typeof r&&r&&!r.nodeType&&r,$t=Xt&&Xt.exports===Yt,Zt=$t&&Vt.process,Jt=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(e){}}(),Qt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function fe(t,e){return!!(null==t?0:t.length)&&Se(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function de(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ge(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ve(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=ke("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function we(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Se(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):we(t,Ee,n)}function Te(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ee(t){return t!==t}function _e(t,e){var n=null==t?0:t.length;return n?Ae(t,e)/n:NaN}function ke(t){return function(e){return null==e?void 0:e[t]}}function xe(t){return function(e){return null==t?void 0:t[e]}}function Me(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ae(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Re(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ie(t){return t?t.slice(0,Ye(t)+1).replace(Y,""):t}function Ce(t){return function(e){return t(e)}}function Le(t,e){return de(e,(function(e){return t[e]}))}function De(t,e){return t.has(e)}function Oe(t,e){for(var n=-1,r=t.length;++n<r&&Se(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length;n--&&Se(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var je=xe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Be=xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+Kt[t]}function Ue(t){return Nt.test(t)}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ke(t,e){return function(n){return t(e(n))}}function Ge(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ze(t){return Ue(t)?function(t){var e=Ot.lastIndex=0;for(;Ot.test(t);)++e;return e}(t):ye(t)}function We(t){return Ue(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}function Ye(t){for(var e=t.length;e--&&X.test(t.charAt(e)););return e}var Xe=xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $e=function t(e){var n=(e=null==e?Wt:$e.defaults(Wt.Object(),e,$e.pick(Wt,Bt))).Array,r=e.Date,i=e.Error,X=e.Function,ht=e.Math,dt=e.Object,pt=e.RegExp,gt=e.String,vt=e.TypeError,mt=n.prototype,yt=X.prototype,bt=dt.prototype,wt=e["__core-js_shared__"],St=yt.toString,Tt=bt.hasOwnProperty,Et=0,_t=function(){var t=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),kt=bt.toString,xt=St.call(dt),Mt=Wt._,At=pt("^"+St.call(Tt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=$t?e.Buffer:void 0,It=e.Symbol,Ct=e.Uint8Array,Ot=Rt?Rt.allocUnsafe:void 0,Nt=Ke(dt.getPrototypeOf,dt),Kt=dt.create,Vt=bt.propertyIsEnumerable,zt=mt.splice,Yt=It?It.isConcatSpreadable:void 0,Xt=It?It.iterator:void 0,Zt=It?It.toStringTag:void 0,Jt=function(){try{var t=Qi(dt,"defineProperty");return t({},"",{}),t}catch(e){}}(),ye=e.clearTimeout!==Wt.clearTimeout&&e.clearTimeout,xe=r&&r.now!==Wt.Date.now&&r.now,Ze=e.setTimeout!==Wt.setTimeout&&e.setTimeout,Je=ht.ceil,Qe=ht.floor,tn=dt.getOwnPropertySymbols,en=Rt?Rt.isBuffer:void 0,nn=e.isFinite,rn=mt.join,on=Ke(dt.keys,dt),an=ht.max,sn=ht.min,un=r.now,ln=e.parseInt,cn=ht.random,fn=mt.reverse,hn=Qi(e,"DataView"),dn=Qi(e,"Map"),pn=Qi(e,"Promise"),gn=Qi(e,"Set"),vn=Qi(e,"WeakMap"),mn=Qi(dt,"create"),yn=vn&&new vn,bn={},wn=Mo(hn),Sn=Mo(dn),Tn=Mo(pn),En=Mo(gn),_n=Mo(vn),kn=It?It.prototype:void 0,xn=kn?kn.valueOf:void 0,Mn=kn?kn.toString:void 0;function An(t){if(qa(t)&&!Da(t)&&!(t instanceof Ln)){if(t instanceof Cn)return t;if(Tt.call(t,"__wrapped__"))return Ao(t)}return new Cn(t)}var Rn=function(){function t(){}return function(e){if(!Ga(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function In(){}function Cn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Ln(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Pn;++e<n;)this.add(t[e])}function jn(t){var e=this.__data__=new On(t);this.size=e.size}function Bn(t,e){var n=Da(t),r=!n&&La(t),i=!n&&!r&&ja(t),o=!n&&!r&&!i&&Ja(t),a=n||r||i||o,s=a?Re(t.length,gt):[],u=s.length;for(var l in t)!e&&!Tt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,u))||s.push(l);return s}function Fn(t){var e=t.length;return e?t[Nr(0,e-1)]:void 0}function Un(t,e){return _o(mi(t),Xn(e,0,t.length))}function Hn(t){return _o(mi(t))}function Kn(t,e,n){(void 0!==n&&!Ra(t[e],n)||void 0===n&&!(e in t))&&Wn(t,e,n)}function Gn(t,e,n){var r=t[e];Tt.call(t,e)&&Ra(r,n)&&(void 0!==n||e in t)||Wn(t,e,n)}function qn(t,e){for(var n=t.length;n--;)if(Ra(t[n][0],e))return n;return-1}function Vn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function zn(t,e){return t&&yi(e,ws(e),t)}function Wn(t,e,n){"__proto__"==e&&Jt?Jt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var r=-1,i=e.length,o=n(i),a=null==t;++r<i;)o[r]=a?void 0:gs(t,e[r]);return o}function Xn(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function $n(t,e,n,r,i,o){var a,s=1&e,l=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ga(t))return t;var T=Da(t);if(T){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Tt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return mi(t,a)}else{var D=no(t),O=D==d||D==p;if(ja(t))return fi(t,s);if(D==m||D==u||O&&!i){if(a=l||O?{}:io(t),!s)return l?function(t,e){return yi(t,eo(t),e)}(t,function(t,e){return t&&yi(e,Ss(e),t)}(a,t)):function(t,e){return yi(t,to(t),e)}(t,zn(a,t))}else{if(!Ht[D])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case E:return hi(t);case c:case f:return new r(+t);case _:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case k:case x:case M:case A:case R:case I:case"[object Uint8ClampedArray]":case C:case L:return di(t,n);case g:return new r;case v:case w:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case S:return i=t,xn?dt(xn.call(i)):{}}var i}(t,D,s)}}o||(o=new jn);var P=o.get(t);if(P)return P;o.set(t,a),Xa(t)?t.forEach((function(r){a.add($n(r,e,n,r,t,o))})):Va(t)&&t.forEach((function(r,i){a.set(i,$n(r,e,n,i,t,o))}));var N=T?void 0:(h?l?zi:Vi:l?Ss:ws)(t);return se(N||t,(function(r,i){N&&(r=t[i=r]),Gn(a,i,$n(r,e,n,i,t,o))})),a}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=dt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new vt(o);return wo((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=fe,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=de(e,Ce(n))),r?(o=he,a=!1):e.length>=200&&(o=De,a=!1,e=new Nn(e));t:for(;++i<s;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var h=l;h--;)if(e[h]===f)continue t;u.push(c)}else o(e,f,r)||u.push(c)}return u}An.templateSettings={escape:U,evaluate:H,interpolate:K,variable:"",imports:{_:An}},An.prototype=In.prototype,An.prototype.constructor=An,Cn.prototype=Rn(In.prototype),Cn.prototype.constructor=Cn,Ln.prototype=Rn(In.prototype),Ln.prototype.constructor=Ln,Dn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Dn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Tt.call(e,t)?e[t]:void 0},Dn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Tt.call(e,t)},Dn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},On.prototype.clear=function(){this.__data__=[],this.size=0},On.prototype.delete=function(t){var e=this.__data__,n=qn(e,t);return!(n<0)&&(n==e.length-1?e.pop():zt.call(e,n,1),--this.size,!0)},On.prototype.get=function(t){var e=this.__data__,n=qn(e,t);return n<0?void 0:e[n][1]},On.prototype.has=function(t){return qn(this.__data__,t)>-1},On.prototype.set=function(t,e){var n=this.__data__,r=qn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(dn||On),string:new Dn}},Pn.prototype.delete=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Pn.prototype.get=function(t){return Zi(this,t).get(t)},Pn.prototype.has=function(t){return Zi(this,t).has(t)},Pn.prototype.set=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.clear=function(){this.__data__=new On,this.size=0},jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jn.prototype.get=function(t){return this.__data__.get(t)},jn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof On){var r=n.__data__;if(!dn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(t,e),this.size=n.size,this};var tr=Si(ur),er=Si(lr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a===a&&!Za(a):n(a,s)))var s=a,u=o}return u}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):pe(i,s):r||(i[i.length]=s)}return i}var ar=Ti(),sr=Ti(!0);function ur(t,e){return t&&ar(t,e,ws)}function lr(t,e){return t&&sr(t,e,ws)}function cr(t,e){return ce(e,(function(e){return Ua(t[e])}))}function fr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[xo(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Da(t)?r:pe(r,n(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Zt&&Zt in dt(t)?function(t){var e=Tt.call(t,Zt),n=t[Zt];try{t[Zt]=void 0;var r=!0}catch(o){}var i=kt.call(t);r&&(e?t[Zt]=n:delete t[Zt]);return i}(t):function(t){return kt.call(t)}(t)}function pr(t,e){return t>e}function gr(t,e){return null!=t&&Tt.call(t,e)}function vr(t,e){return null!=t&&e in dt(t)}function mr(t,e,r){for(var i=r?he:fe,o=t[0].length,a=t.length,s=a,u=n(a),l=1/0,c=[];s--;){var f=t[s];s&&e&&(f=de(f,Ce(e))),l=sn(f.length,l),u[s]=!r&&(e||o>=120&&f.length>=120)?new Nn(s&&f):void 0}f=t[0];var h=-1,d=u[0];t:for(;++h<o&&c.length<l;){var p=f[h],g=e?e(p):p;if(p=r||0!==p?p:0,!(d?De(d,g):i(c,g,r))){for(s=a;--s;){var v=u[s];if(!(v?De(v,g):i(t[s],g,r)))continue t}d&&d.push(g),c.push(p)}}return c}function yr(t,e,n){var r=null==(t=vo(t,e=si(e,t)))?t:t[xo(Fo(e))];return null==r?void 0:oe(r,t,n)}function br(t){return qa(t)&&dr(t)==u}function wr(t,e,n,r,i){return t===e||(null==t||null==e||!qa(t)&&!qa(e)?t!==t&&e!==e:function(t,e,n,r,i,o){var a=Da(t),s=Da(e),d=a?l:no(t),p=s?l:no(e),T=(d=d==u?m:d)==m,k=(p=p==u?m:p)==m,x=d==p;if(x&&ja(t)){if(!ja(e))return!1;a=!0,T=!1}if(x&&!T)return o||(o=new jn),a||Ja(t)?Gi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new Ct(t),new Ct(e)));case c:case f:case v:return Ra(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case w:return t==e+"";case g:var s=He;case b:var u=1&r;if(s||(s=qe),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var d=Gi(s(t),s(e),r,i,o,a);return a.delete(t),d;case S:if(xn)return xn.call(t)==xn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var M=T&&Tt.call(t,"__wrapped__"),A=k&&Tt.call(e,"__wrapped__");if(M||A){var R=M?t.value():t,I=A?e.value():e;return o||(o=new jn),i(R,I,n,r,o)}}if(!x)return!1;return o||(o=new jn),function(t,e,n,r,i,o){var a=1&n,s=Vi(t),u=s.length,l=Vi(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var f=s[c];if(!(a?f in e:Tt.call(e,f)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);var g=a;for(;++c<u;){f=s[c];var v=t[f],m=e[f];if(r)var y=a?r(m,v,f,e,t,o):r(v,m,f,t,e,o);if(!(void 0===y?v===m||i(v,m,n,r,o):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,wr,i))}function Sr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=dt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var f=new jn;if(r)var h=r(l,c,u,t,e,f);if(!(void 0===h?wr(c,l,3,r,f):h))return!1}}return!0}function Tr(t){return!(!Ga(t)||(e=t,_t&&_t in e))&&(Ua(t)?At:at).test(Mo(t));var e}function Er(t){return"function"==typeof t?t:null==t?zs:"object"==typeof t?Da(t)?Rr(t[0],t[1]):Ar(t):eu(t)}function _r(t){if(!fo(t))return on(t);var e=[];for(var n in dt(t))Tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function kr(t){if(!Ga(t))return function(t){var e=[];if(null!=t)for(var n in dt(t))e.push(n);return e}(t);var e=fo(t),n=[];for(var r in t)("constructor"!=r||!e&&Tt.call(t,r))&&n.push(r);return n}function xr(t,e){return t<e}function Mr(t,e){var r=-1,i=Pa(t)?n(t.length):[];return tr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Ar(t){var e=Ji(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||Sr(n,t,e)}}function Rr(t,e){return uo(t)&&ho(e)?po(xo(t),e):function(n){var r=gs(n,t);return void 0===r&&r===e?vs(n,t):wr(e,r,3)}}function Ir(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new jn),Ga(o))!function(t,e,n,r,i,o,a){var s=yo(t,n),u=yo(e,n),l=a.get(u);if(l)return void Kn(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,f=void 0===c;if(f){var h=Da(u),d=!h&&ja(u),p=!h&&!d&&Ja(u);c=u,h||d||p?Da(s)?c=s:Na(s)?c=mi(s):d?(f=!1,c=fi(u,!0)):p?(f=!1,c=di(u,!0)):c=[]:Wa(u)||La(u)?(c=s,La(s)?c=as(s):Ga(s)&&!Ua(s)||(c=io(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u));Kn(t,n,c)}(t,e,a,n,Ir,r,i);else{var s=r?r(yo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),Kn(t,a,s)}}),Ss)}function Cr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Lr(t,e,n){e=e.length?de(e,(function(t){return Da(t)?function(e){return fr(e,1===t.length?t[0]:t)}:t})):[zs];var r=-1;return e=de(e,Ce($i())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Mr(t,(function(t,n,i){return{criteria:de(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=pi(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Dr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=fr(t,a);n(s,a)&&Hr(o,si(a,t),s)}return o}function Or(t,e,n,r){var i=r?Te:Se,o=-1,a=e.length,s=t;for(t===e&&(e=mi(e)),n&&(s=de(t,Ce(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&zt.call(s,u,1),zt.call(t,u,1);return t}function Pr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?zt.call(t,i,1):Qr(t,i)}}return t}function Nr(t,e){return t+Qe(cn()*(e-t+1))}function jr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Br(t,e){return So(go(t,e,zs),t+"")}function Fr(t){return Fn(Rs(t))}function Ur(t,e){var n=Rs(t);return _o(n,Xn(e,0,n.length))}function Hr(t,e,n,r){if(!Ga(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=xo(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=Ga(c)?c:ao(e[i+1])?[]:{})}Gn(s,u,l),s=s[u]}return t}var Kr=yn?function(t,e){return yn.set(t,e),t}:zs,Gr=Jt?function(t,e){return Jt(t,"toString",{configurable:!0,enumerable:!1,value:Gs(e),writable:!0})}:zs;function qr(t){return _o(Rs(t))}function Vr(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function zr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Wr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Yr(t,e,zs,n)}function Yr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!==e,s=null===e,u=Za(e),l=void 0===e;i<o;){var c=Qe((i+o)/2),f=n(t[c]),h=void 0!==f,d=null===f,p=f===f,g=Za(f);if(a)var v=r||p;else v=l?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!g):!d&&!g&&(r?f<=e:f<e);v?i=c+1:o=c}return sn(o,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ra(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function $r(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Da(t))return de(t,Zr)+"";if(Za(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,i=fe,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=he;else if(o>=200){var l=e?null:ji(t);if(l)return qe(l);a=!1,i=De,u=new Nn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function Qr(t,e){return null==(t=vo(t,e=si(e,t)))||delete t[xo(Fo(e))]}function ti(t,e,n,r){return Hr(t,e,n(fr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Vr(t,r?0:o,r?o+1:i):Vr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof Ln&&(n=n.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),n)}function ri(t,e,r){var i=t.length;if(i<2)return i?Jr(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Qn(a[o]||s,t[u],e,r));return Jr(or(a,1),e,r)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function oi(t){return Na(t)?t:[]}function ai(t){return"function"==typeof t?t:zs}function si(t,e){return Da(t)?t:uo(t,e)?[t]:ko(ss(t))}var ui=Br;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Vr(t,e,n)}var ci=ye||function(t){return Wt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=Ot?Ot(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Ct(e).set(new Ct(t)),e}function di(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,o=Za(t),a=void 0!==e,s=null===e,u=e===e,l=Za(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function gi(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=an(a-s,0),f=n(l+c),h=!i;++u<l;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=t[o]);for(;c--;)f[u++]=t[o++];return f}function vi(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,f=an(a-u,0),h=n(f+c),d=!i;++o<f;)h[o]=t[o];for(var p=o;++l<c;)h[p+l]=e[l];for(;++s<u;)(d||o<a)&&(h[p+r[s]]=t[o++]);return h}function mi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Wn(n,s,u):Gn(n,s,u)}return n}function bi(t,e){return function(n,r){var i=Da(n)?ae:Vn,o=e?e():{};return i(n,t,$i(r,2),o)}}function wi(t){return Br((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=dt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function Si(t,e){return function(n,r){if(null==n)return n;if(!Pa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=dt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ti(t){return function(e,n,r){for(var i=-1,o=dt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Ei(t){return function(e){var n=Ue(e=ss(e))?We(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function _i(t){return function(e){return ge(Us(Ls(e).replace(Lt,"")),t,"")}}function ki(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Rn(t.prototype),r=t.apply(n,e);return Ga(r)?r:n}}function xi(t){return function(e,n,r){var i=dt(e);if(!Pa(e)){var o=$i(n,3);e=ws(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Mi(t){return qi((function(e){var n=e.length,r=n,i=Cn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new vt(o);if(i&&!s&&"wrapper"==Yi(a))var s=new Cn([],!0)}for(r=s?r:n;++r<n;){var u=Yi(a=e[r]),l="wrapper"==u?Wi(a):void 0;s=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Yi(l[0])].apply(s,l[3]):1==a.length&&lo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Da(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ai(t,e,r,i,o,a,s,u,l,c){var f=128&e,h=1&e,d=2&e,p=24&e,g=512&e,v=d?void 0:ki(t);return function m(){for(var y=arguments.length,b=n(y),w=y;w--;)b[w]=arguments[w];if(p)var S=Xi(m),T=Ne(b,S);if(i&&(b=gi(b,i,o,p)),a&&(b=vi(b,a,s,p)),y-=T,p&&y<c){var E=Ge(b,S);return Pi(t,e,Ai,m.placeholder,r,b,E,u,l,c-y)}var _=h?r:this,k=d?_[t]:t;return y=b.length,u?b=mo(b,u):g&&y>1&&b.reverse(),f&&l<y&&(b.length=l),this&&this!==Wt&&this instanceof m&&(k=v||ki(k)),k.apply(_,b)}}function Ri(t,e){return function(n,r){return function(t,e,n,r){return ur(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ii(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=$r(n),r=$r(r)),i=t(n,r)}return i}}function Ci(t){return qi((function(e){return e=de(e,Ce($i())),Br((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Li(t,e){var n=(e=void 0===e?" ":Zr(e)).length;if(n<2)return n?jr(e,t):e;var r=jr(e,Je(t/ze(e)));return Ue(e)?li(We(r),0,t).join(""):r.slice(0,t)}function Di(t){return function(e,r,i){return i&&"number"!=typeof i&&so(e,r,i)&&(r=i=void 0),e=ns(e),void 0===r?(r=e,e=0):r=ns(r),function(t,e,r,i){for(var o=-1,a=an(Je((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=void 0===i?e<r?1:-1:ns(i),t)}}function Oi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Pi(t,e,n,r,i,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var f=[t,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],h=n.apply(void 0,f);return lo(t)&&bo(h,f),h.placeholder=r,To(h,t,e)}function Ni(t){var e=ht[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var ji=gn&&1/qe(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Zs;function Bi(t){return function(e){var n=no(e);return n==g?He(e):n==b?Ve(e):function(t,e){return de(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fi(t,e,r,i,s,u,l,c){var f=2&e;if(!f&&"function"!=typeof t)throw new vt(o);var h=i?i.length:0;if(h||(e&=-97,i=s=void 0),l=void 0===l?l:an(rs(l),0),c=void 0===c?c:rs(c),h-=s?s.length:0,64&e){var d=i,p=s;i=s=void 0}var g=f?void 0:Wi(t),v=[t,e,r,i,s,d,p,u,l,c];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?gi(l,u,e[4]):u,t[4]=l?Ge(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?vi(l,u,e[6]):u,t[6]=l?Ge(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(v,g),t=v[0],e=v[1],r=v[2],i=v[3],s=v[4],!(c=v[9]=void 0===v[9]?f?0:t.length:an(v[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,r){var i=ki(t);return function o(){for(var a=arguments.length,s=n(a),u=a,l=Xi(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:Ge(s,l);if((a-=c.length)<r)return Pi(t,e,Ai,o.placeholder,void 0,s,c,void 0,void 0,r-a);var f=this&&this!==Wt&&this instanceof o?i:t;return oe(f,this,s)}}(t,e,c):32!=e&&33!=e||s.length?Ai.apply(void 0,v):function(t,e,r,i){var o=1&e,a=ki(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),h=this&&this!==Wt&&this instanceof e?a:t;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return oe(h,o?r:this,f)}}(t,e,r,i);else var m=function(t,e,n){var r=1&e,i=ki(t);return function e(){var o=this&&this!==Wt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,r);return To((g?Kr:bo)(m,v),t,e)}function Ui(t,e,n,r){return void 0===t||Ra(t,bt[n])&&!Tt.call(r,n)?e:t}function Hi(t,e,n,r,i,o){return Ga(t)&&Ga(e)&&(o.set(e,t),Ir(t,e,void 0,Hi,o),o.delete(e)),t}function Ki(t){return Wa(t)?void 0:t}function Gi(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var f=-1,h=!0,d=2&n?new Nn:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],g=e[f];if(r)var v=a?r(g,p,f,e,t,o):r(p,g,f,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!me(e,(function(t,e){if(!De(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function qi(t){return So(go(t,void 0,Oo),t+"")}function Vi(t){return hr(t,ws,to)}function zi(t){return hr(t,Ss,eo)}var Wi=yn?function(t){return yn.get(t)}:Zs;function Yi(t){for(var e=t.name+"",n=bn[e],r=Tt.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Xi(t){return(Tt.call(An,"placeholder")?An:t).placeholder}function $i(){var t=An.iteratee||Ws;return t=t===Ws?Er:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ji(t){for(var e=ws(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=dt(t),ce(tn(t),(function(e){return Vt.call(t,e)})))}:iu,eo=tn?function(t){for(var e=[];t;)pe(e,to(t)),t=Nt(t);return e}:iu,no=dr;function ro(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=xo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ka(i)&&ao(a,i)&&(Da(t)||La(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:Rn(Nt(t))}function oo(t){return Da(t)||La(t)||!!(Yt&&t&&t[Yt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Ga(n))return!1;var r=typeof e;return!!("number"==r?Pa(n)&&ao(e,n.length):"string"==r&&e in n)&&Ra(n[e],t)}function uo(t,e){if(Da(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Za(t))||(q.test(t)||!G.test(t)||null!=e&&t in dt(e))}function lo(t){var e=Yi(t),n=An[e];if("function"!=typeof n||!(e in Ln.prototype))return!1;if(t===n)return!0;var r=Wi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=_||dn&&no(new dn)!=g||pn&&"[object Promise]"!=no(pn.resolve())||gn&&no(new gn)!=b||vn&&no(new vn)!=T)&&(no=function(t){var e=dr(t),n=e==m?t.constructor:void 0,r=n?Mo(n):"";if(r)switch(r){case wn:return _;case Sn:return g;case Tn:return"[object Promise]";case En:return b;case _n:return T}return e});var co=wt?Ua:ou;function fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function ho(t){return t===t&&!Ga(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in dt(n)))}}function go(t,e,r){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),oe(t,this,u)}}function vo(t,e){return e.length<2?t:fr(t,Vr(e,0,-1))}function mo(t,e){for(var n=t.length,r=sn(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var bo=Eo(Kr),wo=Ze||function(t,e){return Wt.setTimeout(t,e)},So=Eo(Gr);function To(t,e,n){var r=e+"";return So(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!fe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(J):[]}(r),n)))}function Eo(t){var e=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function _o(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Nr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var ko=function(t){var e=Ea(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function xo(t){if("string"==typeof t||Za(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Mo(t){if(null!=t){try{return St.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ao(t){if(t instanceof Ln)return t.clone();var e=new Cn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ro=Br((function(t,e){return Na(t)?Qn(t,or(e,1,Na,!0)):[]})),Io=Br((function(t,e){var n=Fo(e);return Na(n)&&(n=void 0),Na(t)?Qn(t,or(e,1,Na,!0),$i(n,2)):[]})),Co=Br((function(t,e){var n=Fo(e);return Na(n)&&(n=void 0),Na(t)?Qn(t,or(e,1,Na,!0),void 0,n):[]}));function Lo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),we(t,$i(e,3),i)}function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),we(t,$i(e,3),i,!0)}function Oo(t){return(null==t?0:t.length)?or(t,1):[]}function Po(t){return t&&t.length?t[0]:void 0}var No=Br((function(t){var e=de(t,oi);return e.length&&e[0]===t[0]?mr(e):[]})),jo=Br((function(t){var e=Fo(t),n=de(t,oi);return e===Fo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,$i(e,2)):[]})),Bo=Br((function(t){var e=Fo(t),n=de(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Fo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Uo=Br(Ho);function Ho(t,e){return t&&t.length&&e&&e.length?Or(t,e):t}var Ko=qi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return Pr(t,de(e,(function(t){return ao(t,n)?+t:t})).sort(pi)),r}));function Go(t){return null==t?t:fn.call(t)}var qo=Br((function(t){return Jr(or(t,1,Na,!0))})),Vo=Br((function(t){var e=Fo(t);return Na(e)&&(e=void 0),Jr(or(t,1,Na,!0),$i(e,2))})),zo=Br((function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,Jr(or(t,1,Na,!0),void 0,e)}));function Wo(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Na(t))return e=an(t.length,e),!0})),Re(e,(function(e){return de(t,ke(e))}))}function Yo(t,e){if(!t||!t.length)return[];var n=Wo(t);return null==e?n:de(n,(function(t){return oe(e,void 0,t)}))}var Xo=Br((function(t,e){return Na(t)?Qn(t,e):[]})),$o=Br((function(t){return ri(ce(t,Na))})),Zo=Br((function(t){var e=Fo(t);return Na(e)&&(e=void 0),ri(ce(t,Na),$i(e,2))})),Jo=Br((function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,ri(ce(t,Na),void 0,e)})),Qo=Br(Wo);var ta=Br((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yo(t,n)}));function ea(t){var e=An(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=qi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Ln&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Cn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,e,n){Tt.call(t,n)?++t[n]:Wn(t,n,1)}));var oa=xi(Lo),aa=xi(Do);function sa(t,e){return(Da(t)?se:tr)(t,$i(e,3))}function ua(t,e){return(Da(t)?ue:er)(t,$i(e,3))}var la=bi((function(t,e,n){Tt.call(t,n)?t[n].push(e):Wn(t,n,[e])}));var ca=Br((function(t,e,r){var i=-1,o="function"==typeof e,a=Pa(t)?n(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,r):yr(t,e,r)})),a})),fa=bi((function(t,e,n){Wn(t,n,e)}));function ha(t,e){return(Da(t)?de:Mr)(t,$i(e,3))}var da=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var pa=Br((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Lr(t,or(e,1),[])})),ga=xe||function(){return Wt.Date.now()};function va(t,e,n){return e=n?void 0:e,Fi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new vt(o);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ya=Br((function(t,e,n){var r=1;if(n.length){var i=Ge(n,Xi(ya));r|=32}return Fi(t,r,e,n,i)})),ba=Br((function(t,e,n){var r=3;if(n.length){var i=Ge(n,Xi(ba));r|=32}return Fi(e,r,t,n,i)}));function wa(t,e,n){var r,i,a,s,u,l,c=0,f=!1,h=!1,d=!0;if("function"!=typeof t)throw new vt(o);function p(e){var n=r,o=i;return r=i=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,u=wo(m,e),f?p(t):s}function v(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=a}function m(){var t=ga();if(v(t))return y(t);u=wo(m,function(t){var n=e-(t-l);return h?sn(n,a-(t-c)):n}(t))}function y(t){return u=void 0,d&&r?p(t):(r=i=void 0,s)}function b(){var t=ga(),n=v(t);if(r=arguments,i=this,l=t,n){if(void 0===u)return g(l);if(h)return ci(u),u=wo(m,e),p(l)}return void 0===u&&(u=wo(m,e)),s}return e=os(e)||0,Ga(n)&&(f=!!n.leading,a=(h="maxWait"in n)?an(os(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ci(u),c=0,r=l=i=u=void 0},b.flush=function(){return void 0===u?s:y(ga())},b}var Sa=Br((function(t,e){return Jn(t,1,e)})),Ta=Br((function(t,e,n){return Jn(t,os(e)||0,n)}));function Ea(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ea.Cache||Pn),n}function _a(t){if("function"!=typeof t)throw new vt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ea.Cache=Pn;var ka=ui((function(t,e){var n=(e=1==e.length&&Da(e[0])?de(e[0],Ce($i())):de(or(e,1),Ce($i()))).length;return Br((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),xa=Br((function(t,e){return Fi(t,32,void 0,e,Ge(e,Xi(xa)))})),Ma=Br((function(t,e){return Fi(t,64,void 0,e,Ge(e,Xi(Ma)))})),Aa=qi((function(t,e){return Fi(t,256,void 0,void 0,void 0,e)}));function Ra(t,e){return t===e||t!==t&&e!==e}var Ia=Oi(pr),Ca=Oi((function(t,e){return t>=e})),La=br(function(){return arguments}())?br:function(t){return qa(t)&&Tt.call(t,"callee")&&!Vt.call(t,"callee")},Da=n.isArray,Oa=Qt?Ce(Qt):function(t){return qa(t)&&dr(t)==E};function Pa(t){return null!=t&&Ka(t.length)&&!Ua(t)}function Na(t){return qa(t)&&Pa(t)}var ja=en||ou,Ba=te?Ce(te):function(t){return qa(t)&&dr(t)==f};function Fa(t){if(!qa(t))return!1;var e=dr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Wa(t)}function Ua(t){if(!Ga(t))return!1;var e=dr(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ha(t){return"number"==typeof t&&t==rs(t)}function Ka(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ga(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function qa(t){return null!=t&&"object"==typeof t}var Va=ee?Ce(ee):function(t){return qa(t)&&no(t)==g};function za(t){return"number"==typeof t||qa(t)&&dr(t)==v}function Wa(t){if(!qa(t)||dr(t)!=m)return!1;var e=Nt(t);if(null===e)return!0;var n=Tt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&St.call(n)==xt}var Ya=ne?Ce(ne):function(t){return qa(t)&&dr(t)==y};var Xa=re?Ce(re):function(t){return qa(t)&&no(t)==b};function $a(t){return"string"==typeof t||!Da(t)&&qa(t)&&dr(t)==w}function Za(t){return"symbol"==typeof t||qa(t)&&dr(t)==S}var Ja=ie?Ce(ie):function(t){return qa(t)&&Ka(t.length)&&!!Ut[dr(t)]};var Qa=Oi(xr),ts=Oi((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Pa(t))return $a(t)?We(t):mi(t);if(Xt&&t[Xt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xt]());var e=no(t);return(e==g?He:e==b?qe:Rs)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e===e?n?e-n:e:0}function is(t){return t?Xn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ga(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ga(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ie(t);var n=ot.test(t);return n||st.test(t)?qt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function as(t){return yi(t,Ss(t))}function ss(t){return null==t?"":Zr(t)}var us=wi((function(t,e){if(fo(e)||Pa(e))yi(e,ws(e),t);else for(var n in e)Tt.call(e,n)&&Gn(t,n,e[n])})),ls=wi((function(t,e){yi(e,Ss(e),t)})),cs=wi((function(t,e,n,r){yi(e,Ss(e),t,r)})),fs=wi((function(t,e,n,r){yi(e,ws(e),t,r)})),hs=qi(Yn);var ds=Br((function(t,e){t=dt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Ss(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||Ra(c,bt[l])&&!Tt.call(t,l))&&(t[l]=o[l])}return t})),ps=Br((function(t){return t.push(void 0,Hi),oe(Es,void 0,t)}));function gs(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function vs(t,e){return null!=t&&ro(t,e,vr)}var ms=Ri((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=n}),Gs(zs)),ys=Ri((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Tt.call(t,e)?t[e].push(n):t[e]=[n]}),$i),bs=Br(yr);function ws(t){return Pa(t)?Bn(t):_r(t)}function Ss(t){return Pa(t)?Bn(t,!0):kr(t)}var Ts=wi((function(t,e,n){Ir(t,e,n)})),Es=wi((function(t,e,n,r){Ir(t,e,n,r)})),_s=qi((function(t,e){var n={};if(null==t)return n;var r=!1;e=de(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),yi(t,zi(t),n),r&&(n=$n(n,7,Ki));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var ks=qi((function(t,e){return null==t?{}:function(t,e){return Dr(t,e,(function(e,n){return vs(t,n)}))}(t,e)}));function xs(t,e){if(null==t)return{};var n=de(zi(t),(function(t){return[t]}));return e=$i(e),Dr(t,n,(function(t,n){return e(t,n[0])}))}var Ms=Bi(ws),As=Bi(Ss);function Rs(t){return null==t?[]:Le(t,ws(t))}var Is=_i((function(t,e,n){return e=e.toLowerCase(),t+(n?Cs(e):e)}));function Cs(t){return Fs(ss(t).toLowerCase())}function Ls(t){return(t=ss(t))&&t.replace(lt,je).replace(Dt,"")}var Ds=_i((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Os=_i((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ps=Ei("toLowerCase");var Ns=_i((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var js=_i((function(t,e,n){return t+(n?" ":"")+Fs(e)}));var Bs=_i((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Fs=Ei("toUpperCase");function Us(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return jt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Hs=Br((function(t,e){try{return oe(t,void 0,e)}catch(n){return Fa(n)?n:new i(n)}})),Ks=qi((function(t,e){return se(e,(function(e){e=xo(e),Wn(t,e,ya(t[e],t))})),t}));function Gs(t){return function(){return t}}var qs=Mi(),Vs=Mi(!0);function zs(t){return t}function Ws(t){return Er("function"==typeof t?t:$n(t,1))}var Ys=Br((function(t,e){return function(n){return yr(n,t,e)}})),Xs=Br((function(t,e){return function(n){return yr(t,n,e)}}));function $s(t,e,n){var r=ws(e),i=cr(e,r);null!=n||Ga(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,ws(e)));var o=!(Ga(n)&&"chain"in n)||!!n.chain,a=Ua(t);return se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,pe([this.value()],arguments))})})),t}function Zs(){}var Js=Ci(de),Qs=Ci(le),tu=Ci(me);function eu(t){return uo(t)?ke(xo(t)):function(t){return function(e){return fr(e,t)}}(t)}var nu=Di(),ru=Di(!0);function iu(){return[]}function ou(){return!1}var au=Ii((function(t,e){return t+e}),0),su=Ni("ceil"),uu=Ii((function(t,e){return t/e}),1),lu=Ni("floor");var cu=Ii((function(t,e){return t*e}),1),fu=Ni("round"),hu=Ii((function(t,e){return t-e}),0);return An.after=function(t,e){if("function"!=typeof e)throw new vt(o);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},An.ary=va,An.assign=us,An.assignIn=ls,An.assignInWith=cs,An.assignWith=fs,An.at=hs,An.before=ma,An.bind=ya,An.bindAll=Ks,An.bindKey=ba,An.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},An.chain=ea,An.chunk=function(t,e,r){e=(r?so(t,e,r):void 0===e)?1:an(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=n(Je(i/e));o<i;)s[a++]=Vr(t,o,o+=e);return s},An.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},An.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return pe(Da(r)?mi(r):[r],or(e,1))},An.cond=function(t){var e=null==t?0:t.length,n=$i();return t=e?de(t,(function(t){if("function"!=typeof t[1])throw new vt(o);return[n(t[0]),t[1]]})):[],Br((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},An.conforms=function(t){return function(t){var e=ws(t);return function(n){return Zn(n,t,e)}}($n(t,1))},An.constant=Gs,An.countBy=ia,An.create=function(t,e){var n=Rn(t);return null==e?n:zn(n,e)},An.curry=function t(e,n,r){var i=Fi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.curryRight=function t(e,n,r){var i=Fi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.debounce=wa,An.defaults=ds,An.defaultsDeep=ps,An.defer=Sa,An.delay=Ta,An.difference=Ro,An.differenceBy=Io,An.differenceWith=Co,An.drop=function(t,e,n){var r=null==t?0:t.length;return r?Vr(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},An.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Vr(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},An.dropRightWhile=function(t,e){return t&&t.length?ei(t,$i(e,3),!0,!0):[]},An.dropWhile=function(t,e){return t&&t.length?ei(t,$i(e,3),!0):[]},An.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},An.filter=function(t,e){return(Da(t)?ce:ir)(t,$i(e,3))},An.flatMap=function(t,e){return or(ha(t,e),1)},An.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},An.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),or(ha(t,e),n)},An.flatten=Oo,An.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},An.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:rs(e)):[]},An.flip=function(t){return Fi(t,512)},An.flow=qs,An.flowRight=Vs,An.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},An.functions=function(t){return null==t?[]:cr(t,ws(t))},An.functionsIn=function(t){return null==t?[]:cr(t,Ss(t))},An.groupBy=la,An.initial=function(t){return(null==t?0:t.length)?Vr(t,0,-1):[]},An.intersection=No,An.intersectionBy=jo,An.intersectionWith=Bo,An.invert=ms,An.invertBy=ys,An.invokeMap=ca,An.iteratee=Ws,An.keyBy=fa,An.keys=ws,An.keysIn=Ss,An.map=ha,An.mapKeys=function(t,e){var n={};return e=$i(e,3),ur(t,(function(t,r,i){Wn(n,e(t,r,i),t)})),n},An.mapValues=function(t,e){var n={};return e=$i(e,3),ur(t,(function(t,r,i){Wn(n,r,e(t,r,i))})),n},An.matches=function(t){return Ar($n(t,1))},An.matchesProperty=function(t,e){return Rr(t,$n(e,1))},An.memoize=Ea,An.merge=Ts,An.mergeWith=Es,An.method=Ys,An.methodOf=Xs,An.mixin=$s,An.negate=_a,An.nthArg=function(t){return t=rs(t),Br((function(e){return Cr(e,t)}))},An.omit=_s,An.omitBy=function(t,e){return xs(t,_a($i(e)))},An.once=function(t){return ma(2,t)},An.orderBy=function(t,e,n,r){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(n=r?void 0:n)||(n=null==n?[]:[n]),Lr(t,e,n))},An.over=Js,An.overArgs=ka,An.overEvery=Qs,An.overSome=tu,An.partial=xa,An.partialRight=Ma,An.partition=da,An.pick=ks,An.pickBy=xs,An.property=eu,An.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},An.pull=Uo,An.pullAll=Ho,An.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Or(t,e,$i(n,2)):t},An.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Or(t,e,void 0,n):t},An.pullAt=Ko,An.range=nu,An.rangeRight=ru,An.rearg=Aa,An.reject=function(t,e){return(Da(t)?ce:ir)(t,_a($i(e,3)))},An.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=$i(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Pr(t,i),n},An.rest=function(t,e){if("function"!=typeof t)throw new vt(o);return Br(t,e=void 0===e?e:rs(e))},An.reverse=Go,An.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),(Da(t)?Un:Ur)(t,e)},An.set=function(t,e,n){return null==t?t:Hr(t,e,n)},An.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Hr(t,e,n,r)},An.shuffle=function(t){return(Da(t)?Hn:qr)(t)},An.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),Vr(t,e,n)):[]},An.sortBy=pa,An.sortedUniq=function(t){return t&&t.length?Xr(t):[]},An.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,$i(e,2)):[]},An.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Ya(e))&&!(e=Zr(e))&&Ue(t)?li(We(t),0,n):t.split(e,n):[]},An.spread=function(t,e){if("function"!=typeof t)throw new vt(o);return e=null==e?0:an(rs(e),0),Br((function(n){var r=n[e],i=li(n,0,e);return r&&pe(i,r),oe(t,this,i)}))},An.tail=function(t){var e=null==t?0:t.length;return e?Vr(t,1,e):[]},An.take=function(t,e,n){return t&&t.length?Vr(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},An.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Vr(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},An.takeRightWhile=function(t,e){return t&&t.length?ei(t,$i(e,3),!1,!0):[]},An.takeWhile=function(t,e){return t&&t.length?ei(t,$i(e,3)):[]},An.tap=function(t,e){return e(t),t},An.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new vt(o);return Ga(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wa(t,e,{leading:r,maxWait:e,trailing:i})},An.thru=na,An.toArray=es,An.toPairs=Ms,An.toPairsIn=As,An.toPath=function(t){return Da(t)?de(t,xo):Za(t)?[t]:mi(ko(ss(t)))},An.toPlainObject=as,An.transform=function(t,e,n){var r=Da(t),i=r||ja(t)||Ja(t);if(e=$i(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ga(t)&&Ua(o)?Rn(Nt(t)):{}}return(i?se:ur)(t,(function(t,r,i){return e(n,t,r,i)})),n},An.unary=function(t){return va(t,1)},An.union=qo,An.unionBy=Vo,An.unionWith=zo,An.uniq=function(t){return t&&t.length?Jr(t):[]},An.uniqBy=function(t,e){return t&&t.length?Jr(t,$i(e,2)):[]},An.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},An.unset=function(t,e){return null==t||Qr(t,e)},An.unzip=Wo,An.unzipWith=Yo,An.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},An.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},An.values=Rs,An.valuesIn=function(t){return null==t?[]:Le(t,Ss(t))},An.without=Xo,An.words=Us,An.wrap=function(t,e){return xa(ai(e),t)},An.xor=$o,An.xorBy=Zo,An.xorWith=Jo,An.zip=Qo,An.zipObject=function(t,e){return ii(t||[],e||[],Gn)},An.zipObjectDeep=function(t,e){return ii(t||[],e||[],Hr)},An.zipWith=ta,An.entries=Ms,An.entriesIn=As,An.extend=ls,An.extendWith=cs,$s(An,An),An.add=au,An.attempt=Hs,An.camelCase=Is,An.capitalize=Cs,An.ceil=su,An.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))===n?n:0),void 0!==e&&(e=(e=os(e))===e?e:0),Xn(os(t),e,n)},An.clone=function(t){return $n(t,4)},An.cloneDeep=function(t){return $n(t,5)},An.cloneDeepWith=function(t,e){return $n(t,5,e="function"==typeof e?e:void 0)},An.cloneWith=function(t,e){return $n(t,4,e="function"==typeof e?e:void 0)},An.conformsTo=function(t,e){return null==e||Zn(t,e,ws(e))},An.deburr=Ls,An.defaultTo=function(t,e){return null==t||t!==t?e:t},An.divide=uu,An.endsWith=function(t,e,n){t=ss(t),e=Zr(e);var r=t.length,i=n=void 0===n?r:Xn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},An.eq=Ra,An.escape=function(t){return(t=ss(t))&&F.test(t)?t.replace(j,Be):t},An.escapeRegExp=function(t){return(t=ss(t))&&W.test(t)?t.replace(z,"\\$&"):t},An.every=function(t,e,n){var r=Da(t)?le:nr;return n&&so(t,e,n)&&(e=void 0),r(t,$i(e,3))},An.find=oa,An.findIndex=Lo,An.findKey=function(t,e){return be(t,$i(e,3),ur)},An.findLast=aa,An.findLastIndex=Do,An.findLastKey=function(t,e){return be(t,$i(e,3),lr)},An.floor=lu,An.forEach=sa,An.forEachRight=ua,An.forIn=function(t,e){return null==t?t:ar(t,$i(e,3),Ss)},An.forInRight=function(t,e){return null==t?t:sr(t,$i(e,3),Ss)},An.forOwn=function(t,e){return t&&ur(t,$i(e,3))},An.forOwnRight=function(t,e){return t&&lr(t,$i(e,3))},An.get=gs,An.gt=Ia,An.gte=Ca,An.has=function(t,e){return null!=t&&ro(t,e,gr)},An.hasIn=vs,An.head=Po,An.identity=zs,An.includes=function(t,e,n,r){t=Pa(t)?t:Rs(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),$a(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Se(t,e,n)>-1},An.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),Se(t,e,i)},An.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=os(t),e,n)},An.invoke=bs,An.isArguments=La,An.isArray=Da,An.isArrayBuffer=Oa,An.isArrayLike=Pa,An.isArrayLikeObject=Na,An.isBoolean=function(t){return!0===t||!1===t||qa(t)&&dr(t)==c},An.isBuffer=ja,An.isDate=Ba,An.isElement=function(t){return qa(t)&&1===t.nodeType&&!Wa(t)},An.isEmpty=function(t){if(null==t)return!0;if(Pa(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||ja(t)||Ja(t)||La(t)))return!t.length;var e=no(t);if(e==g||e==b)return!t.size;if(fo(t))return!_r(t).length;for(var n in t)if(Tt.call(t,n))return!1;return!0},An.isEqual=function(t,e){return wr(t,e)},An.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?wr(t,e,void 0,n):!!r},An.isError=Fa,An.isFinite=function(t){return"number"==typeof t&&nn(t)},An.isFunction=Ua,An.isInteger=Ha,An.isLength=Ka,An.isMap=Va,An.isMatch=function(t,e){return t===e||Sr(t,e,Ji(e))},An.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,Sr(t,e,Ji(e),n)},An.isNaN=function(t){return za(t)&&t!=+t},An.isNative=function(t){if(co(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tr(t)},An.isNil=function(t){return null==t},An.isNull=function(t){return null===t},An.isNumber=za,An.isObject=Ga,An.isObjectLike=qa,An.isPlainObject=Wa,An.isRegExp=Ya,An.isSafeInteger=function(t){return Ha(t)&&t>=-9007199254740991&&t<=9007199254740991},An.isSet=Xa,An.isString=$a,An.isSymbol=Za,An.isTypedArray=Ja,An.isUndefined=function(t){return void 0===t},An.isWeakMap=function(t){return qa(t)&&no(t)==T},An.isWeakSet=function(t){return qa(t)&&"[object WeakSet]"==dr(t)},An.join=function(t,e){return null==t?"":rn.call(t,e)},An.kebabCase=Ds,An.last=Fo,An.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):we(t,Ee,i,!0)},An.lowerCase=Os,An.lowerFirst=Ps,An.lt=Qa,An.lte=ts,An.max=function(t){return t&&t.length?rr(t,zs,pr):void 0},An.maxBy=function(t,e){return t&&t.length?rr(t,$i(e,2),pr):void 0},An.mean=function(t){return _e(t,zs)},An.meanBy=function(t,e){return _e(t,$i(e,2))},An.min=function(t){return t&&t.length?rr(t,zs,xr):void 0},An.minBy=function(t,e){return t&&t.length?rr(t,$i(e,2),xr):void 0},An.stubArray=iu,An.stubFalse=ou,An.stubObject=function(){return{}},An.stubString=function(){return""},An.stubTrue=function(){return!0},An.multiply=cu,An.nth=function(t,e){return t&&t.length?Cr(t,rs(e)):void 0},An.noConflict=function(){return Wt._===this&&(Wt._=Mt),this},An.noop=Zs,An.now=ga,An.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?ze(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Li(Qe(i),n)+t+Li(Je(i),n)},An.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?ze(t):0;return e&&r<e?t+Li(e-r,n):t},An.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?ze(t):0;return e&&r<e?Li(e-r,n)+t:t},An.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(ss(t).replace(Y,""),e||0)},An.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return sn(t+i*(e-t+Gt("1e-"+((i+"").length-1))),e)}return Nr(t,e)},An.reduce=function(t,e,n){var r=Da(t)?ge:Me,i=arguments.length<3;return r(t,$i(e,4),n,i,tr)},An.reduceRight=function(t,e,n){var r=Da(t)?ve:Me,i=arguments.length<3;return r(t,$i(e,4),n,i,er)},An.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),jr(ss(t),e)},An.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},An.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[xo(e[r])];void 0===o&&(r=i,o=n),t=Ua(o)?o.call(t):o}return t},An.round=fu,An.runInContext=t,An.sample=function(t){return(Da(t)?Fn:Fr)(t)},An.size=function(t){if(null==t)return 0;if(Pa(t))return $a(t)?ze(t):t.length;var e=no(t);return e==g||e==b?t.size:_r(t).length},An.snakeCase=Ns,An.some=function(t,e,n){var r=Da(t)?me:zr;return n&&so(t,e,n)&&(e=void 0),r(t,$i(e,3))},An.sortedIndex=function(t,e){return Wr(t,e)},An.sortedIndexBy=function(t,e,n){return Yr(t,e,$i(n,2))},An.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Wr(t,e);if(r<n&&Ra(t[r],e))return r}return-1},An.sortedLastIndex=function(t,e){return Wr(t,e,!0)},An.sortedLastIndexBy=function(t,e,n){return Yr(t,e,$i(n,2),!0)},An.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Wr(t,e,!0)-1;if(Ra(t[n],e))return n}return-1},An.startCase=js,An.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Xn(rs(n),0,t.length),e=Zr(e),t.slice(n,n+e.length)==e},An.subtract=hu,An.sum=function(t){return t&&t.length?Ae(t,zs):0},An.sumBy=function(t,e){return t&&t.length?Ae(t,$i(e,2)):0},An.template=function(t,e,n){var r=An.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=cs({},e,r,Ui);var o,a,s=cs({},e.imports,r.imports,Ui),u=ws(s),l=Le(s,u),c=0,f=e.interpolate||ct,h="__p += '",d=pt((e.escape||ct).source+"|"+f.source+"|"+(f===K?nt:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(Tt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(d,(function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(c,u).replace(ft,Fe),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var g=Tt.call(e,"variable")&&e.variable;if(g){if(tt.test(g))throw new i("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(D,""):h).replace(O,"$1").replace(P,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Hs((function(){return X(u,p+"return "+h).apply(void 0,l)}));if(v.source=h,Fa(v))throw v;return v},An.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Re(r,e=$i(e));++n<t;)e(n);return i},An.toFinite=ns,An.toInteger=rs,An.toLength=is,An.toLower=function(t){return ss(t).toLowerCase()},An.toNumber=os,An.toSafeInteger=function(t){return t?Xn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},An.toString=ss,An.toUpper=function(t){return ss(t).toUpperCase()},An.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return Ie(t);if(!t||!(e=Zr(e)))return t;var r=We(t),i=We(e);return li(r,Oe(r,i),Pe(r,i)+1).join("")},An.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.slice(0,Ye(t)+1);if(!t||!(e=Zr(e)))return t;var r=We(t);return li(r,0,Pe(r,We(e))+1).join("")},An.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Zr(e)))return t;var r=We(t);return li(r,Oe(r,We(e))).join("")},An.truncate=function(t,e){var n=30,r="...";if(Ga(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Zr(e.omission):r}var o=(t=ss(t)).length;if(Ue(t)){var a=We(t);o=a.length}if(n>=o)return t;var s=n-ze(r);if(s<1)return r;var u=a?li(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ya(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=pt(i.source,ss(rt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;u=u.slice(0,void 0===f?s:f)}}else if(t.indexOf(Zr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},An.unescape=function(t){return(t=ss(t))&&B.test(t)?t.replace(N,Xe):t},An.uniqueId=function(t){var e=++Et;return ss(t)+e},An.upperCase=Bs,An.upperFirst=Fs,An.each=sa,An.eachRight=ua,An.first=Po,$s(An,function(){var t={};return ur(An,(function(e,n){Tt.call(An.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),An.VERSION="4.17.21",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){An[t].placeholder=An})),se(["drop","take"],(function(t,e){Ln.prototype[t]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!e?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Ln.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Ln.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$i(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Ln.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Ln.prototype[t]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(zs)},Ln.prototype.find=function(t){return this.filter(t).head()},Ln.prototype.findLast=function(t){return this.reverse().find(t)},Ln.prototype.invokeMap=Br((function(t,e){return"function"==typeof t?new Ln(this):this.map((function(n){return yr(n,t,e)}))})),Ln.prototype.reject=function(t){return this.filter(_a($i(t)))},Ln.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Ln(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Ln.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},ur(Ln.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=An[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(An.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Ln,u=a[0],l=s||Da(e),c=function(t){var e=i.apply(An,pe([t],a));return r&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&l){e=p?e:new Ln(this);var g=t.apply(e,a);return g.__actions__.push({func:na,args:[c],thisArg:void 0}),new Cn(g,f)}return d&&p?t.apply(this,a):(g=this.thru(c),d?r?g.value()[0]:g.value():g)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);An.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Da(i)?i:[],t)}return this[n]((function(n){return e.apply(Da(n)?n:[],t)}))}})),ur(Ln.prototype,(function(t,e){var n=An[e];if(n){var r=n.name+"";Tt.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],Ln.prototype.clone=function(){var t=new Ln(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},Ln.prototype.reverse=function(){if(this.__filtered__){var t=new Ln(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ln.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Da(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=sn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ni(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var g=-1,v=t[l+=e];++g<f;){var m=c[g],y=m.iteratee,b=m.type,w=y(v);if(2==b)v=w;else if(!w){if(1==b)continue t;break t}}p[h++]=v}return p},An.prototype.at=ra,An.prototype.chain=function(){return ea(this)},An.prototype.commit=function(){return new Cn(this.value(),this.__chain__)},An.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},An.prototype.plant=function(t){for(var e,n=this;n instanceof In;){var r=Ao(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},An.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ln){var e=t;return this.__actions__.length&&(e=new Ln(this)),(e=e.reverse()).__actions__.push({func:na,args:[Go],thisArg:void 0}),new Cn(e,this.__chain__)}return this.thru(Go)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,Xt&&(An.prototype[Xt]=function(){return this}),An}();Wt._=$e,void 0===(i=function(){return $e}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(60),n(200)(t))},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(36),i=n(278);var o=n(419);function a(t,e,n){return(a=Object(o.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Object(i.a)(o,n.prototype),o}).apply(null,arguments)}function s(t){var e="function"===typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,t)})(t)}},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(105),i=n(191),o=n(315),a=n(107),s=n(471),u=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(28),i=n(34),o=n(33),a=n(146),s=r.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},function(t,e,n){var r=n(34),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},function(t,e,n){var r=n(28),i=n(70),o=n(57),a=n(147),s=n(571),u=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},function(t,e,n){var r=n(28).String;t.exports=function(t){try{return r(t)}catch(e){return"Object"}}},function(t,e,n){var r=n(576),i=n(470);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(105),i=n(219),o=n(82),a=function(t){return function(e,n,a){var s,u=r(e),l=o(u),c=i(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e,n){var r=n(33),i=n(57),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==c||n!=l&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(33);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(222),i=n(218),o=n(315),a=n(55)("iterator");t.exports=function(t){if(void 0!=t)return i(t,a)||i(t,"@@iterator")||o[r(t)]}},function(t,e,n){var r=n(34),i=n(33),o=n(57),a=n(222),s=n(70),u=n(382),l=function(){},c=[],f=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(l),g=function(t){if(!o(t))return!1;try{return f(l,c,t),!0}catch(e){return!1}};t.exports=!f||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!d(h,u(t))}:g},function(t,e,n){var r=n(146);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(1022);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){var r=n(33),i=n(55),o=n(192),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r=n(123),i=n(85),o=n(400);t.exports=function(t){return function e(n,a,s){switch(arguments.length){case 0:return e;case 1:return o(n)?e:i((function(e,r){return t(n,e,r)}));case 2:return o(n)&&o(a)?e:o(n)?i((function(e,n){return t(e,a,n)})):o(a)?i((function(e,r){return t(n,e,r)})):r((function(e){return t(n,a,e)}));default:return o(n)&&o(a)&&o(s)?e:o(n)&&o(a)?i((function(e,n){return t(e,n,s)})):o(n)&&o(s)?i((function(e,n){return t(e,a,n)})):o(a)&&o(s)?i((function(e,r){return t(n,e,r)})):o(n)?r((function(e){return t(e,a,s)})):o(a)?r((function(e){return t(n,e,s)})):o(s)?r((function(e){return t(n,a,e)})):t(n,a,s)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContainerDefaultElement=j,e.getContainerLastFocusedElement=B,e.getContainerNavigableElements=F,e.getContainersForNode=C,e.setContainerLastFocusedElement=function(t,e){for(var n=t,r=e.length-1;r>-1;r--){var i=e[r];P(i,{lastFocusedElement:n}),E(i).enterTo&&(n=i)}},e.getContainerFocusTarget=function t(e){return function(t){var e=E(t);if(e&&e.lastFocusedKey){var n=I(t),r=e.lastFocusedRestore(e.lastFocusedKey,n);e.lastFocusedKey=null,e.lastFocusedElement=r}}(e),F(e).reduce((function(e,n){if(e)return e;if(_(n)){var r=S(n)?k(n):n;return t(r)}return n}),null)||null},e.getContainerPreviousTarget=function(t,e,n){var r=E(t);if(r&&r.rememberSource&&r.previous&&r.previous.reverse===e&&r.previous.destination===n)return r.previous.target},e.getDefaultContainer=function(){return U(y)?y:""},e.getLastContainer=H,e.getNavigableContainersForNode=L,e.isWithinOverflowContainer=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C(t);return e.filter((function(t){return t!==g})).map(E).some((function(t){return t&&t.overflow}))},e.mayActivateContainer=function(t){var e=H();return!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self-only",n=E(t);return Boolean(n&&n.restrict===e)}(e)||function(t,e){var n=M(t),r=M(e);return Boolean(n&&r&&n.contains(r))}(e,t)},e.notifyLeaveContainer=function(t,e,n,r,i){n.forEach((function(n){if(!i.includes(n)){var o=E(n);o&&o.onLeaveContainer&&o.onLeaveContainer({type:"onLeaveContainer",direction:t,target:e,relatedTarget:r})}}))},e.notifyLeaveContainerFail=function(t,e,n){n.forEach((function(n){var r=E(n);r&&r.onLeaveContainerFail&&r.onLeaveContainerFail({type:"onLeaveContainerFail",direction:t,target:e})}))},e.notifyEnterContainer=function(t,e,n,r,i){i.forEach((function(i){if(!n.includes(i)){var o=E(i);o&&o.onEnterContainer&&o.onEnterContainer({type:"onEnterContainer",direction:t,target:r,relatedTarget:e})}}))},e.setContainerPreviousTarget=function(t,e,n,r){var i=E(t);i&&i.rememberSource&&P(t,{previous:{target:r,destination:n,reverse:v[e]}})},e.setDefaultContainer=function(t){if(t){if(!E(t))throw new Error('Container "'+t+"\" doesn't exist!");y=t}else y=""},e.setLastContainer=K,e.setLastContainerFromTarget=function(t,e){var n=L(t),r=n[0],i=E(r),o=C(e),u=(0,s.default)(o);(0,s.default)((0,a.default)(n,o))||!i||"self-only"!==i.restrict?K(u):K(r)},e.unmountContainer=function(t){var e=E(t);e&&(e.active=!1,function(t){var e=E(t);if(e){var n=e.lastFocusedElement;if(n){var r=I(t),i=e.lastFocusedPersist(n,r);e.lastFocusedKey=i,e.lastFocusedElement=null}}}(t),"string"!==typeof e.defaultElement&&(e.defaultElement=null))},e.rootContainerId=e.removeContainer=e.removeAllContainers=e.isNavigable=e.isContainer=e.getSpottableDescendants=e.getContainerId=e.configureContainer=e.configureDefaults=e.containerAttribute=e.addContainer=e.isContainer5WayHoldable=e.getContainerConfig=e.getContainerNode=e.getAllContainerIds=void 0;var r=l(n(1256)),i=l(n(1257)),o=n(498),a=l(n(1267)),s=l(n(500)),u=n(504);function l(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){f(t,e,n[e])}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.containerAttribute="data-spotlight-id";var p=new Map,g="spotlightRootDecorator";e.rootContainerId=g;var v={left:"right",up:"down",right:"left",down:"up"},m=0,y="",b="",w={active:!0,continue5WayHold:!1,defaultElement:"",enterTo:"",lastFocusedElement:null,lastFocusedKey:null,lastFocusedPersist:function(t,e){var n="string"===typeof t;return{container:n,element:!n,key:n?t:e.indexOf(t)}},lastFocusedRestore:function(t,e){var n=t.container,r=t.key;return n?r:e[r]},leaveFor:null,navigableFilter:null,obliqueMultiplier:5,onEnterContainer:null,onLeaveContainer:null,onLeaveContainerFail:null,overflow:!1,rememberSource:!1,restrict:"self-first",selector:"",selectorDisabled:!1,straightMultiplier:1,straightOnly:!1,straightOverlapThreshold:.5,tabIndexIgnoreList:"a, input, select, textarea, button, iframe, [contentEditable=true]"},S=function(t){return t&&t.dataset&&"spotlightContainer"in t.dataset},T=function(t,e){for(var n=[];t&&t!==document;)S(t)&&n.unshift(e(t)),t=t.parentNode;return n},E=function(t){return p.get(t)};e.getContainerConfig=E;var _=function(t){return"string"===typeof t?p.has(t):S(t)};e.isContainer=_;var k=function(t){return t.dataset.spotlightId};e.getContainerId=k;var x=function(t){return S(t)?"[".concat("data-spotlight-id",'="').concat(k(t),'"]'):""},M=function(t){return t?t===g?document:document.querySelector("[".concat("data-spotlight-id",'="').concat(t,'"]')):null};e.getContainerNode=M;var A=function(t,e){var n=E(e);return!n||"function"!==typeof n.navigableFilter||!1!==n.navigableFilter(t,e)},R=function(t){var e=M(t);if(!e||S(e)&&!function(t){return T(t,(function(t){return"true"!==t.dataset.spotlightContainerDisabled})).reduce(r.default,!0)}(e))return[];var n=E(t)||{},i=n.selector,o=n.selectorDisabled;if(!i||o)return[];var a=i,s=function(t){return S(t)?"".concat(x(t)," ").concat("[data-spotlight-container]"):"[data-spotlight-container]"}(e),l=function(t,e,n){for(var r=Array.prototype.slice.call(t.querySelectorAll(e)),i=t.querySelectorAll(n),o=0;o<i.length;o++){var a=r.indexOf(i.item(o));a>=0&&r.splice(a,1)}return r}(e,"".concat(a,", ").concat(x(e)," ").concat("[data-spotlight-container]",':not([data-spotlight-container-disabled="true"])'),"".concat(s," ").concat(a,", ").concat(s," ").concat("[data-spotlight-container]"));return l.push.apply(l,d(function(t,e){var n=t&&t.getAttribute&&t.getAttribute("aria-owns");return n?n.split(" ").map((function(t){return t&&document.getElementById(t)})).filter(Boolean).filter((function(t){return S(t)||(0,u.matchSelector)(e,t)})):[]}(e,i))),l.filter((function(e){return A(e,t)}))};e.getSpottableDescendants=R;var I=function t(e,n){return R(e).map((function(e){if(_(e)){var r=k(e),i=E(r);if(n&&n.indexOf(r)>=0)return[];if(i&&!i.enterTo)return t(r,n)}return[e]})).reduce(i.default,[])};function C(t){var e=T(t,k);return e.unshift(g),e}function L(t){var e=C(t),n=e.map(E).filter((function(t){return null!=t})).reduceRight((function(t,e,n){return-1===t&&"self-only"===e.restrict?n:t}),-1);return n>0?e.slice(n):e}function D(){for(var t;t="container-"+String(++m),_(t););return t}e.isContainer5WayHoldable=function(t){var e=E(t);return e&&e.continue5WayHold||!1};var O=function(t,e){if(!e)return t;var n=null;return Object.keys(e).forEach((function(r){r in w&&t[r]!==e[r]&&(null==n&&(n=Object.assign({},t)),n[r]=e[r])})),n||t},P=function(){var t,e;return"object"===h(arguments.length<=0?void 0:arguments[0])?t=(e=arguments.length<=0?void 0:arguments[0]).id:"string"===typeof(arguments.length<=0?void 0:arguments[0])&&(t=arguments.length<=0?void 0:arguments[0],"object"===h(arguments.length<=1?void 0:arguments[1])&&(e=arguments.length<=1?void 0:arguments[1])),t||(t=D()),e=O(p.get(t)||c({},w),e),p.set(t,e),t};e.configureContainer=P;e.addContainer=function(){var t=P.apply(void 0,arguments),e=E(t);return e.active=!0,t};e.removeContainer=function(t){p.delete(t)};e.removeAllContainers=function(){p.clear()};e.configureDefaults=function(t){w=O(w,t)};var N=function(t,e,n){if(!t||t.offsetWidth<=0&&t.offsetHeight<=0)return!1;var r=M(e);if(r!==document&&"true"===r.dataset.spotlightContainerDisabled)return!1;var i=E(e);return!(n&&i&&i.selector&&!_(t)&&!(0,u.matchSelector)(i.selector,t))&&A(t,e)};e.isNavigable=N;function j(t){var e=E(t),n=e&&e.defaultElement;if(!n)return null;n=(0,o.coerceArray)(n);var r=I(t);return n.reduce((function(e,n){return e||("string"===typeof n?r.filter((function(e){return(0,u.matchSelector)(n,e)&&N(e,t,!0)}))[0]:n)}),null)}function B(t){var e=E(t);if(!e||!e.lastFocusedElement)return null;var n=e.lastFocusedElement,r=n;return"string"===typeof r&&(r=M(n)),N(r,t,!0)?n:null}function F(t){if(!_(t))return[];var e,n=E(t),r=n.enterTo,i=n.overflow;if("last-focused"===r&&(e=B(t)),e||(e=j(t)),!e){var a=i?I(t):R(t);if(i){var s=(0,u.getContainerRect)(t);e=s&&a.filter((function(t){var e=(0,u.getRect)(t);return _(t)?(0,u.intersects)(s,e):(0,u.contains)(s,(0,u.getRect)(t))}))}e||(e=a)}return e?(0,o.coerceArray)(e):[]}function U(t){var e=E(t);return e&&e.active}function H(){return U(b)?b:""}function K(t){b=t||""}e.getAllContainerIds=function(){for(var t,e=[],n=p.keys();(t=n.next())&&!t.done;)U(t.value)&&e.push(t.value);return e}},function(t,e,n){"use strict";var r=n(48),i=n(507),o=n(510),a=n(511),s=n(199);function u(t){s.call(this,"digest"),this._hash=t}r(u,s),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new u(a(t))}},function(t,e,n){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"===typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"===typeof t},e.isString=function(t){return"string"===typeof t},e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"===typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"===typeof t},e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(74).Buffer.isBuffer},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(this,n(74).Buffer)},function(t,e,n){"use strict";var r=n(150),i=n(124);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){"use strict";var r=n(48),i=n(528).Reporter,o=n(526).Buffer;function a(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return s.isEncoderBuffer(t)||(t=new s(t,e)),this.length+=t.length,t}),this);else if("number"===typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"===typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}r(a,i),e.DecoderBuffer=a,a.isDecoderBuffer=function(t){return t instanceof a||"object"===typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"===typeof t.offset&&"number"===typeof t.length&&"function"===typeof t.save&&"function"===typeof t.restore&&"function"===typeof t.isEmpty&&"function"===typeof t.readUInt8&&"function"===typeof t.skip&&"function"===typeof t.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},a.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=s,s.isEncoderBuffer=function(t){return t instanceof s||"object"===typeof t&&"EncoderBuffer"===t.constructor.name&&"number"===typeof t.length&&"function"===typeof t.join},s.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"===typeof this.value?t[e]=this.value:"string"===typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},,function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(1418),i=n(738),o=n(1427),a={lowerCaseAttributeNames:!1};function s(t,e){if("string"!==typeof t)throw new TypeError("First argument must be a string");return""===t?[]:r(o(t,(e=e||{}).htmlparser2||a),e)}s.domToReact=r,s.htmlToDOM=o,s.attributesToProps=i,t.exports=s,t.exports.default=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(41),i=n(467);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.1",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(28),i=n(52),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(379),i=n(309),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(34),i=n(57),o=n(467),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(34),a=n(316),s=n(84),u=n(221),l=n(49),c=n(198),f=n(57),h=n(52),d=n(33),p=n(386),g=n(148),v=n(387);t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),b=m?"set":"add",w=i[t],S=w&&w.prototype,T=w,E={},_=function(t){var e=o(S[t]);s(S,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!h(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!h(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!h(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!f(w)||!(y||S.forEach&&!d((function(){(new w).entries().next()})))))T=n.getConstructor(e,t,m,b),u.enable();else if(a(t,!0)){var k=new T,x=k[b](y?{}:-0,1)!=k,M=d((function(){k.has(1)})),A=p((function(t){new w(t)})),R=!y&&d((function(){for(var t=new w,e=5;e--;)t[b](e,e);return!t.has(-0)}));A||((T=e((function(t,e){c(t,S);var n=v(new w,t,T);return void 0!=e&&l(e,n[b],{that:n,AS_ENTRIES:m}),n}))).prototype=S,S.constructor=T),(M||R)&&(_("delete"),_("has"),m&&_("get")),(R||x)&&_(b),y&&S.clear&&delete S.clear}return E[t]=T,r({global:!0,forced:T!=w},E),g(T,t),y||n.setStrong(T,t,m),T}},function(t,e,n){var r=n(33),i=n(52),o=n(146),a=n(476),s=Object.isExtensible,u=r((function(){s(1)}));t.exports=u||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!=o(t))&&(!s||s(t)))}:s},function(t,e,n){var r=n(55)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(s){}return n}},function(t,e,n){var r=n(57),i=n(52),o=n(197);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},function(t,e,n){"use strict";var r=n(389).charAt,i=n(64),o=n(107),a=n(471),s=o.set,u=o.getterFor("String Iterator");a(String,"String",(function(t){s(this,{type:"String Iterator",string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(34),i=n(121),o=n(64),a=n(106),s=r("".charAt),u=r("".charCodeAt),l=r("".slice),c=function(t){return function(e,n){var r,c,f=o(a(e)),h=i(n),d=f.length;return h<0||h>=d?t?"":void 0:(r=u(f,h))<55296||r>56319||h+1===d||(c=u(f,h+1))<56320||c>57343?t?s(f,h):r:t?l(f,h,h+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},function(t,e,n){var r=n(28),i=n(319),o=n(311),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},function(t,e,n){var r=n(28),i=n(46),o=n(66),a=n(308),s=n(82),u=r.TypeError,l=function(t){return function(e,n,r,l){i(n);var c=o(e),f=a(c),h=s(c),d=t?h-1:0,p=t?-1:1;if(r<2)for(;;){if(d in f){l=f[d],d+=p;break}if(d+=p,t?d<0:h<=d)throw u("Reduce of empty array with no initial value")}for(;t?d>=0:h>d;d+=p)d in f&&(l=n(l,f[d],d,c));return l}};t.exports={left:l(!1),right:l(!0)}},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(41),i=n(28),o=n(33),a=n(484);t.exports=r||!o((function(){if(!(a&&a<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}}))},function(t,e,n){"use strict";var r=n(32);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(37),i=n(34),o=n(64),a=n(395),s=n(490),u=n(379),l=n(166),c=n(107).get,f=n(634),h=n(635),d=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,v=i("".charAt),m=i("".indexOf),y=i("".replace),b=i("".slice),w=function(){var t=/a/,e=/b*/g;return r(p,t,"a"),r(p,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),S=s.UNSUPPORTED_Y||s.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(w||T||S||f||h)&&(g=function(t){var e,n,i,s,u,f,h,E=this,_=c(E),k=o(t),x=_.raw;if(x)return x.lastIndex=E.lastIndex,e=r(g,x,k),E.lastIndex=x.lastIndex,e;var M=_.groups,A=S&&E.sticky,R=r(a,E),I=E.source,C=0,L=k;if(A&&(R=y(R,"y",""),-1===m(R,"g")&&(R+="g"),L=b(k,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==v(k,E.lastIndex-1))&&(I="(?: "+I+")",L=" "+L,C++),n=new RegExp("^(?:"+I+")",R)),T&&(n=new RegExp("^"+I+"$(?!\\s)",R)),w&&(i=E.lastIndex),s=r(p,A?n:E,L),A?s?(s.input=b(s.input,C),s[0]=b(s[0],C),s.index=E.lastIndex,E.lastIndex+=s[0].length):E.lastIndex=0:w&&s&&(E.lastIndex=E.global?s.index+s[0].length:i),T&&s&&s.length>1&&r(d,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&M)for(s.groups=f=l(null),u=0;u<M.length;u++)f[(h=M[u])[0]]=s[h[1]];return s}),t.exports=g},function(t,e,n){"use strict";n(636);var r=n(34),i=n(84),o=n(396),a=n(33),s=n(55),u=n(137),l=s("species"),c=RegExp.prototype;t.exports=function(t,e,n,f){var h=s(t),d=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!d||!p||n){var g=r(/./[h]),v=e(h,""[t],(function(t,e,n,i,a){var s=r(t),u=e.exec;return u===o||u===c.exec?d&&!a?{done:!0,value:g(e,n,i)}:{done:!0,value:s(n,e,i)}:{done:!1}}));i(String.prototype,t,v[0]),i(c,h,v[1])}f&&u(c[h],"sham",!0)}},function(t,e,n){var r=n(28),i=n(37),o=n(32),a=n(57),s=n(146),u=n(396),l=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=i(n,t,e);return null!==r&&o(r),r}if("RegExp"===s(t))return i(u,t,e);throw l("RegExp#exec called on incompatible receiver")}},function(t,e,n){var r=n(56),i=n(113),o=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;t.exports=function(t){return a(i(t,t[o]))}},function(t,e){t.exports=function(t){return null!=t&&"object"===typeof t&&!0===t["@@functional/placeholder"]}},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1227);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),(0,r.addAll)({enter:[13,16777221],left:37,up:38,right:39,down:40,pageUp:33,pageDown:34})},function(t,e,n){var r=n(123),i=n(645);t.exports=r((function(t){return i(t.length,t)}))},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,u,l){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,u,l,c){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(123),i=n(401),o=n(1241);t.exports=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),e=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),a=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};return"function"!==typeof Object.keys||n?r((function(r){if(Object(r)!==r)return[];var s,u,l=[],c=n&&o(r);for(s in r)!i(s,r)||c&&"length"===s||(l[l.length]=s);if(t)for(u=e.length-1;u>=0;)i(s=e[u],r)&&!a(l,s)&&(l[l.length]=s),u-=1;return l})):r((function(t){return Object(t)!==t?[]:Object.keys(t)}))}()},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(t){var e=i,n=e.lib,r=n.Base,o=n.WordArray,a=e.x64={};a.Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}})}(),i)}()},function(t,e,n){"use strict";(function(e){"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(77))},function(t,e,n){var r=n(43).Buffer;function i(t){r.isBuffer(t)||(t=r.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function a(t,e,n,r,i){for(var o,a,s,u,l=n[0],c=n[1],f=n[2],h=n[3],d=t[0]^e[0],p=t[1]^e[1],g=t[2]^e[2],v=t[3]^e[3],m=4,y=1;y<i;y++)o=l[d>>>24]^c[p>>>16&255]^f[g>>>8&255]^h[255&v]^e[m++],a=l[p>>>24]^c[g>>>16&255]^f[v>>>8&255]^h[255&d]^e[m++],s=l[g>>>24]^c[v>>>16&255]^f[d>>>8&255]^h[255&p]^e[m++],u=l[v>>>24]^c[d>>>16&255]^f[p>>>8&255]^h[255&g]^e[m++],d=o,p=a,g=s,v=u;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[g>>>8&255]<<8|r[255&v])^e[m++],a=(r[p>>>24]<<24|r[g>>>16&255]<<16|r[v>>>8&255]<<8|r[255&d])^e[m++],s=(r[g>>>24]<<24|r[v>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^e[m++],u=(r[v>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&g])^e[m++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[a]=l,r[l]=a;var c=t[a],f=t[c],h=t[f],d=257*t[l]^16843008*l;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*h^65537*f^257*c^16843008*a,o[0][l]=d<<24|d>>>8,o[1][l]=d<<16|d>>>16,o[2][l]=d<<8|d>>>24,o[3][l]=d,0===a?a=s=1:(a=c^t[t[t[h^c]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function l(t){this._key=i(t),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var a=i[o-1];o%e===0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/e|0]<<24):e>6&&o%e===4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-e]^a}for(var l=[],c=0;c<r;c++){var f=r-c,h=i[f-(c%4?0:4)];l[c]=c<4||f<=4?h:u.INV_SUB_MIX[0][u.SBOX[h>>>24]]^u.INV_SUB_MIX[1][u.SBOX[h>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[h>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&h]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(t){return a(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},l.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=r.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},l.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var n=a(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=l},function(t,e,n){var r=n(43).Buffer,i=n(507);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),l=r.alloc(0);a>0||o>0;){var c=new i;c.update(l),c.update(t),e&&c.update(e),l=c.digest();var f=0;if(a>0){var h=s.length-a;f=Math.min(a,l.length),l.copy(s,h,0,f),a-=f}if(f<l.length&&o>0){var d=u.length-o,p=Math.min(o,l.length-f);l.copy(u,d,f,f+p),o-=p}}return l.fill(0),{key:s,iv:u}}},function(t,e,n){"use strict";var r=n(169),i=n(125),o=i.getNAF,a=i.getJSF,s=i.assert;function u(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){s(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a,u,l=[];for(a=0;a<r.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+r[c];l.push(u)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(a=0;a<l.length;a++)(u=l[a])===d?h=h.mixedAdd(n.points[a]):u===-d&&(h=h.mixedAdd(n.points[a].neg()));f=f.add(h)}return f.toP()},u.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(e,n,this._bitLength),u=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var c=0;l>=0&&0===a[l];l--)c++;if(l>=0&&c++,u=u.dblp(c),l<0)break;var f=a[l];s(0!==f),u="affine"===t.type?f>0?u.mixedAdd(i[f-1>>1]):u.mixedAdd(i[-f-1>>1].neg()):f>0?u.add(i[f-1>>1]):u.add(i[-f-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,n,r,i){var s,u,l,c=this._wnafT1,f=this._wnafT2,h=this._wnafT3,d=0;for(s=0;s<r;s++){var p=(l=e[s])._getNAFPoints(t);c[s]=p.wnd,f[s]=p.points}for(s=r-1;s>=1;s-=2){var g=s-1,v=s;if(1===c[g]&&1===c[v]){var m=[e[g],null,null,e[v]];0===e[g].y.cmp(e[v].y)?(m[1]=e[g].add(e[v]),m[2]=e[g].toJ().mixedAdd(e[v].neg())):0===e[g].y.cmp(e[v].y.redNeg())?(m[1]=e[g].toJ().mixedAdd(e[v]),m[2]=e[g].add(e[v].neg())):(m[1]=e[g].toJ().mixedAdd(e[v]),m[2]=e[g].toJ().mixedAdd(e[v].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[g],n[v]);for(d=Math.max(b[0].length,d),h[g]=new Array(d),h[v]=new Array(d),u=0;u<d;u++){var w=0|b[0][u],S=0|b[1][u];h[g][u]=y[3*(w+1)+(S+1)],h[v][u]=0,f[g]=m}}else h[g]=o(n[g],c[g],this._bitLength),h[v]=o(n[v],c[v],this._bitLength),d=Math.max(h[g].length,d),d=Math.max(h[v].length,d)}var T=this.jpoint(null,null,null),E=this._wnafT4;for(s=d;s>=0;s--){for(var _=0;s>=0;){var k=!0;for(u=0;u<r;u++)E[u]=0|h[u][s],0!==E[u]&&(k=!1);if(!k)break;_++,s--}if(s>=0&&_++,T=T.dblp(_),s<0)break;for(u=0;u<r;u++){var x=E[u];0!==x&&(x>0?l=f[u][x-1>>1]:x<0&&(l=f[u][-x-1>>1].neg()),T="affine"===l.type?T.mixedAdd(l):T.add(l))}}for(s=0;s<r;s++)f[s]=null;return i?T:T.toP()},u.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*n)return 6===t[0]?s(t[t.length-1]%2===0):7===t[0]&&s(t[t.length-1]%2===1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(t){return this.encode(t,!0)},l.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},l.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},l.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},l.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},l.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},l.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){var r=n(1399),i=n(1407),o=n(1408),a=n(515),s=n(702),u=n(43).Buffer;function l(t){var e;"object"!==typeof t||u.isBuffer(t)||(e=t.passphrase,t=t.key),"string"===typeof t&&(t=u.from(t));var n,l,c=o(t,e),f=c.tag,h=c.data;switch(f){case"CERTIFICATE":l=r.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=r.PublicKey.decode(h,"der")),n=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=r.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":h=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,c=t.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,h=s.pbkdf2Sync(e,n,r,f,"sha1"),d=a.createDecipheriv(o,h,l),p=[];return p.push(d.update(c)),p.push(d.final()),u.concat(p)}(h=r.EncryptedPrivateKey.decode(h,"der"),e);case"PRIVATE KEY":switch(n=(l=r.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:r.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=r.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=r.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+f)}}t.exports=l,l.signature=r.signature},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(1216)},function(t,e,n){"use strict";t.exports=n(1223)},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.isPaused=a,e.pause=function(){i=!0},e.resume=o,e.Pause=e.default=void 0;var i=!1;function o(){i=!1}function a(){return!1!==i}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e}var e,n,s;return e=t,(n=[{key:"toString",value:function(){return"Pause<".concat(this.name,">")}},{key:"isPaused",value:function(){return i===this}},{key:"pause",value:function(){a()||(i=this)}},{key:"resume",value:function(){return!!this.isPaused()&&(o(),!0)}}])&&r(e.prototype,n),s&&r(e,s),t}();e.Pause=s;var u=s;e.default=u},,,,function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},,,,,,function(t,e,n){!function(){var e=n(744),r=n(412).utf8,i=n(1438),o=n(412).bin,a=function t(n,a){n.constructor==String?n=a&&"binary"===a.encoding?o.stringToBytes(n):r.stringToBytes(n):i(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var s=e.bytesToWords(n),u=8*n.length,l=1732584193,c=-271733879,f=-1732584194,h=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=t._ff,g=t._gg,v=t._hh,m=t._ii;for(d=0;d<s.length;d+=16){var y=l,b=c,w=f,S=h;l=p(l,c,f,h,s[d+0],7,-680876936),h=p(h,l,c,f,s[d+1],12,-389564586),f=p(f,h,l,c,s[d+2],17,606105819),c=p(c,f,h,l,s[d+3],22,-1044525330),l=p(l,c,f,h,s[d+4],7,-176418897),h=p(h,l,c,f,s[d+5],12,1200080426),f=p(f,h,l,c,s[d+6],17,-1473231341),c=p(c,f,h,l,s[d+7],22,-45705983),l=p(l,c,f,h,s[d+8],7,1770035416),h=p(h,l,c,f,s[d+9],12,-1958414417),f=p(f,h,l,c,s[d+10],17,-42063),c=p(c,f,h,l,s[d+11],22,-1990404162),l=p(l,c,f,h,s[d+12],7,1804603682),h=p(h,l,c,f,s[d+13],12,-40341101),f=p(f,h,l,c,s[d+14],17,-1502002290),l=g(l,c=p(c,f,h,l,s[d+15],22,1236535329),f,h,s[d+1],5,-165796510),h=g(h,l,c,f,s[d+6],9,-1069501632),f=g(f,h,l,c,s[d+11],14,643717713),c=g(c,f,h,l,s[d+0],20,-373897302),l=g(l,c,f,h,s[d+5],5,-701558691),h=g(h,l,c,f,s[d+10],9,38016083),f=g(f,h,l,c,s[d+15],14,-660478335),c=g(c,f,h,l,s[d+4],20,-405537848),l=g(l,c,f,h,s[d+9],5,568446438),h=g(h,l,c,f,s[d+14],9,-1019803690),f=g(f,h,l,c,s[d+3],14,-187363961),c=g(c,f,h,l,s[d+8],20,1163531501),l=g(l,c,f,h,s[d+13],5,-1444681467),h=g(h,l,c,f,s[d+2],9,-51403784),f=g(f,h,l,c,s[d+7],14,1735328473),l=v(l,c=g(c,f,h,l,s[d+12],20,-1926607734),f,h,s[d+5],4,-378558),h=v(h,l,c,f,s[d+8],11,-2022574463),f=v(f,h,l,c,s[d+11],16,1839030562),c=v(c,f,h,l,s[d+14],23,-35309556),l=v(l,c,f,h,s[d+1],4,-1530992060),h=v(h,l,c,f,s[d+4],11,1272893353),f=v(f,h,l,c,s[d+7],16,-155497632),c=v(c,f,h,l,s[d+10],23,-1094730640),l=v(l,c,f,h,s[d+13],4,681279174),h=v(h,l,c,f,s[d+0],11,-358537222),f=v(f,h,l,c,s[d+3],16,-722521979),c=v(c,f,h,l,s[d+6],23,76029189),l=v(l,c,f,h,s[d+9],4,-640364487),h=v(h,l,c,f,s[d+12],11,-421815835),f=v(f,h,l,c,s[d+15],16,530742520),l=m(l,c=v(c,f,h,l,s[d+2],23,-995338651),f,h,s[d+0],6,-198630844),h=m(h,l,c,f,s[d+7],10,1126891415),f=m(f,h,l,c,s[d+14],15,-1416354905),c=m(c,f,h,l,s[d+5],21,-57434055),l=m(l,c,f,h,s[d+12],6,1700485571),h=m(h,l,c,f,s[d+3],10,-1894986606),f=m(f,h,l,c,s[d+10],15,-1051523),c=m(c,f,h,l,s[d+1],21,-2054922799),l=m(l,c,f,h,s[d+8],6,1873313359),h=m(h,l,c,f,s[d+15],10,-30611744),f=m(f,h,l,c,s[d+6],15,-1560198380),c=m(c,f,h,l,s[d+13],21,1309151649),l=m(l,c,f,h,s[d+4],6,-145523070),h=m(h,l,c,f,s[d+11],10,-1120210379),f=m(f,h,l,c,s[d+2],15,718787259),c=m(c,f,h,l,s[d+9],21,-343485551),l=l+y>>>0,c=c+b>>>0,f=f+w>>>0,h=h+S>>>0}return e.endian([l,c,f,h])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()},,function(t,e,n){"use strict";function r(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function i(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function u(t){var e="";do{e=i[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=u(+new Date);return t!==r?(a=0,r=t):t+"."+u(a++)}for(;s<64;s++)o[i[s]]=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(28),i=n(468),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(28),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(192),i=n(33);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){"use strict";var r=n(24),i=n(37),o=n(41),a=n(220),s=n(57),u=n(580),l=n(138),c=n(197),f=n(148),h=n(137),d=n(84),p=n(55),g=n(315),v=n(581),m=a.PROPER,y=a.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=p("iterator"),T=function(){return this};t.exports=function(t,e,n,a,p,v,E){u(n,e,a);var _,k,x,M=function(t){if(t===p&&L)return L;if(!w&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",R=!1,I=t.prototype,C=I[S]||I["@@iterator"]||p&&I[p],L=!w&&C||M(p),D="Array"==e&&I.entries||C;if(D&&(_=l(D.call(new t)))!==Object.prototype&&_.next&&(o||l(_)===b||(c?c(_,b):s(_[S])||d(_,S,T)),f(_,A,!0,!0),o&&(g[A]=T)),m&&"values"==p&&C&&"values"!==C.name&&(!o&&y?h(I,"name","values"):(R=!0,L=function(){return i(C,this)})),p)if(k={values:M("values"),keys:v?L:M("keys"),entries:M("entries")},E)for(x in k)(w||R||!(x in I))&&d(I,x,k[x]);else r({target:e,proto:!0,forced:w||R},k);return o&&!E||I[S]===L||d(I,S,L,{name:p}),g[e]=L,k}},function(t,e,n){var r=n(70),i=n(34),o=n(196),a=n(473),s=n(32),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(33);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(146),i=n(105),o=n(196).f,a=n(122),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return o(t)}catch(e){return a(s)}}(t):o(i(t))}},function(t,e,n){var r=n(33);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,n){var r=n(55),i=n(315),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r={};r[n(55)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(478),i=n(84),o=n(982);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){var r=n(28),i=n(590),o=n(591),a=n(307),s=n(137),u=n(55),l=u("iterator"),c=u("toStringTag"),f=a.values,h=function(t,e){if(t){if(t[l]!==f)try{s(t,l,f)}catch(r){t[l]=f}if(t[c]||s(t,c,e),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(r){t[n]=a[n]}}};for(var d in i)h(r[d]&&r[d].prototype,d);h(o,"DOMTokenList")},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){"use strict";var r=n(66),i=n(219),o=n(82);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){var r=n(122),i=Math.floor,o=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=function t(e,n){var s=e.length,u=i(s/2);return s<8?o(e,n):a(e,t(r(e,0,u),n),t(r(e,u),n),n)}},function(t,e,n){var r=n(193).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(52),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){"use strict";var r=n(28),i=n(121),o=n(64),a=n(106),s=r.RangeError;t.exports=function(t){var e=o(a(this)),n="",r=i(t);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e,n){var r,i,o,a,s=n(28),u=n(167),l=n(69),c=n(57),f=n(65),h=n(33),d=n(577),p=n(122),g=n(380),v=n(629),m=n(263),y=s.setImmediate,b=s.clearImmediate,w=s.process,S=s.Dispatch,T=s.Function,E=s.MessageChannel,_=s.String,k=0,x={};try{r=s.location}catch(C){}var M=function(t){if(f(x,t)){var e=x[t];delete x[t],e()}},A=function(t){return function(){M(t)}},R=function(t){M(t.data)},I=function(t){s.postMessage(_(t),r.protocol+"//"+r.host)};y&&b||(y=function(t){var e=p(arguments,1);return x[++k]=function(){u(c(t)?t:T(t),void 0,e)},i(k),k},b=function(t){delete x[t]},m?i=function(t){w.nextTick(A(t))}:S&&S.now?i=function(t){S.now(A(t))}:E&&!v?(a=(o=new E).port2,o.port1.onmessage=R,i=l(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(I)?(i=I,s.addEventListener("message",R,!1)):i="onreadystatechange"in g("script")?function(t){d.appendChild(g("script")).onreadystatechange=function(){d.removeChild(this),M(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:y,clear:b}},function(t,e,n){var r=n(52),i=n(146),o=n(55)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(33),i=n(28).RegExp;e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(28),i=n(489),o=r.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(55)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},function(t,e,n){"use strict";var r=n(389).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(220).PROPER,i=n(33),o=n(393);t.exports=function(t){return i((function(){return!!o[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||r&&o[t].name!==t}))}},function(t,e,n){var r=n(28),i=n(33),o=n(386),a=n(56).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var c={};function f(){}function h(){}function d(){}var p={};p[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(_([])));v&&v!==e&&n.call(v,i)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function _(t){if(t){var e=t[i];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m.constructor=d,d.constructor=h,h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),m[i]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hoc=e.default=void 0;var r,i=n(498),o=(r=n(1225))&&r.__esModule?r:{default:r};var a=function(t,e,n){return void 0===n?e:n},s=function(t,e){var n=e,r=t;return n||"function"!==typeof t||(n=t,r=null),function(t,e){if((0,i.isRenderable)(t))return n(r,t);var s=(0,o.default)(a,r,t);return(0,i.isRenderable)(e)?n(s,e):function(t){return n(s,t)}}};e.hoc=s;var u=s;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Job",{enumerable:!0,get:function(){return s.default}}),e.perfNow=e.mergeClassNameMaps=e.memoize=e.isRenderable=e.extractAriaProps=e.coerceFunction=e.coerceArray=e.clamp=e.cap=void 0;var r=u(n(1220)),i=u(n(1221)),o=u(n(1222)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(414)),s=u(n(1224));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.cap=function(t){return t.slice(0,1).toUpperCase()+t.slice(1)};e.clamp=function(t,e,n){return t>e||n<t?t:n>e?e:n};var c=(0,o.default)((0,i.default)(Function),r.default);e.coerceFunction=c;e.coerceArray=function(t){return Array.isArray(t)?t:[t]};e.isRenderable=function(t){return a.isValidElementType(t)};e.extractAriaProps=function(t){var e={};return Object.keys(t).forEach((function(n){"role"!==n&&0!==n.indexOf("aria-")||(e[n]=t[n],delete t[n])})),e};e.perfNow=function(){return"object"===("undefined"===typeof window?"undefined":l(window))?window.performance.now():Date.now()};e.mergeClassNameMaps=function(t,e,n){var r=t;return t&&e&&(n=n||Object.keys(e),r=Object.assign({},t),n.forEach((function(n){t[n]&&e[n]&&(r[n]=t[n]+" "+e[n])}))),r};e.memoize=function(t){var e={};return function(){var n=arguments.length<=0?void 0:arguments[0];if(n in e)return e[n];var r=t.apply(void 0,arguments);return e[n]=r,r}}},function(t,e,n){var r=n(1235);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(1243);t.exports=r(-1)},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(1248),i=n(1249),o=n(1250);t.exports=function(){function t(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function e(t,e,n,r){return t["@@transducer/result"](n[r](o(t["@@transducer/step"],t),e))}var n="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";return function(o,a,s){if("function"===typeof o&&(o=i(o)),r(s))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(o,a,s);if("function"===typeof s["fantasy-land/reduce"])return e(o,a,s,"fantasy-land/reduce");if(null!=s[n])return t(o,a,s[n]());if("function"===typeof s.next)return t(o,a,s);if("function"===typeof s.reduce)return e(o,a,s,"reduce");throw new TypeError("reduce: list must be array or iterable")}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContainerRect=function(t){var e=(0,i.getContainerNode)(t);if(!e)return null;if(e===document)return function(){var t=window,e=t.innerWidth,n=t.innerHeight,r=e/2,i=n/2;return{left:0,top:0,width:e,height:n,right:e,bottom:n,center:{x:r,y:i,left:r,right:r,top:i,bottom:i}}}();return h(e)},e.getPointRect=function(t){var e=t.x,n=t.y;return{left:e,top:n,width:0,height:0,right:e,bottom:n,center:{x:e,y:n,left:e,right:e,top:n,bottom:n}}},e.getRect=h,e.getRects=function(t){if(t&&t.length>0)return t.map(h);return[]},e.parseSelector=function(t){var e=[];try{"string"===typeof t?e=[].slice.call(document.querySelectorAll(t)):"object"===a(t)&&t.length?e=[].slice.call(t):"object"===a(t)&&1===t.nodeType&&(e=[t])}catch(n){}return e},e.matchSelector=e.intersects=e.contains=void 0;var r=o(n(403)),i=(o(n(1269)),n(324));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=function(t){var e=(this.parentNode||this.document).querySelectorAll(t);return[].slice.call(e).indexOf(this)>=0};"object"===("undefined"===typeof window?"undefined":a(window))&&(s=window.Element.prototype.matches||window.Element.prototype.matchesSelector||window.Element.prototype.mozMatchesSelector||window.Element.prototype.webkitMatchesSelector||window.Element.prototype.msMatchesSelector||window.Element.prototype.oMatchesSelector||s);var u=(0,r.default)((function(t,e){return"string"===typeof t?s.call(e,t):"object"===a(t)&&t.length?t.indexOf(e)>=0:"object"===a(t)&&1===t.nodeType&&e===t}));e.matchSelector=u;var l=function(t,e,n){var r=e.left,i=e.right,o=e.top,a=e.bottom,s=n.left,u=n.right,l=n.top,c=n.bottom,f=u>=r&&u<=i,h=s>=r&&s<=i,d=l>=o&&l<=a,p=c>=o&&c<=a;return"intersects"===t?(d||p||l<o&&c>a)&&(h||f||s<r&&u>i):"contains"!==t||d&&p&&h&&f},c=(0,r.default)((function(t,e){return l("intersects",t,e)}));e.intersects=c;var f=(0,r.default)((function(t,e){return l("contains",t,e)}));function h(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top,width:e.width,height:e.height};return n.element=t,n.right=n.left+n.width,n.bottom=n.top+n.height,n.center={x:n.left+Math.floor(n.width/2),y:n.top+Math.floor(n.height/2)},n.center.left=n.center.right=n.center.x,n.center.top=n.center.bottom=n.center.y,n}e.contains=f},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(){var t=i,e=t.lib,n=e.WordArray,r=e.Hasher,o=t.algo,a=[],s=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],l=0;l<80;l++){if(l<16)a[l]=0|t[e+l];else{var c=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=c<<1|c>>>31}var f=(r<<5|r>>>27)+u+a[l];f+=l<20?1518500249+(i&o|~i&s):l<40?1859775393+(i^o^s):l<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,u=s,s=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s)}(),i.SHA1)}()},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),void function(){var t=i,e=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=n.parse(e));var r=t.blockSize,i=4*r;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,u=a.words,l=0;l<r;l++)s[l]^=1549556828,u[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}())}()},function(t,e,n){"use strict";var r=n(48),i=n(686),o=n(43).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function l(t,e,n,r,i,o,a){return u(t+(e&n|~e&r)+i+o|0,a)+e|0}function c(t,e,n,r,i,o,a){return u(t+(e&r|n&~r)+i+o|0,a)+e|0}function f(t,e,n,r,i,o,a){return u(t+(e^n^r)+i+o|0,a)+e|0}function h(t,e,n,r,i,o,a){return u(t+(n^(e|~r))+i+o|0,a)+e|0}r(s,i),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=l(n,r,i,o,t[0],3614090360,7),o=l(o,n,r,i,t[1],3905402710,12),i=l(i,o,n,r,t[2],606105819,17),r=l(r,i,o,n,t[3],3250441966,22),n=l(n,r,i,o,t[4],4118548399,7),o=l(o,n,r,i,t[5],1200080426,12),i=l(i,o,n,r,t[6],2821735955,17),r=l(r,i,o,n,t[7],4249261313,22),n=l(n,r,i,o,t[8],1770035416,7),o=l(o,n,r,i,t[9],2336552879,12),i=l(i,o,n,r,t[10],4294925233,17),r=l(r,i,o,n,t[11],2304563134,22),n=l(n,r,i,o,t[12],1804603682,7),o=l(o,n,r,i,t[13],4254626195,12),i=l(i,o,n,r,t[14],2792965006,17),n=c(n,r=l(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=c(o,n,r,i,t[6],3225465664,9),i=c(i,o,n,r,t[11],643717713,14),r=c(r,i,o,n,t[0],3921069994,20),n=c(n,r,i,o,t[5],3593408605,5),o=c(o,n,r,i,t[10],38016083,9),i=c(i,o,n,r,t[15],3634488961,14),r=c(r,i,o,n,t[4],3889429448,20),n=c(n,r,i,o,t[9],568446438,5),o=c(o,n,r,i,t[14],3275163606,9),i=c(i,o,n,r,t[3],4107603335,14),r=c(r,i,o,n,t[8],1163531501,20),n=c(n,r,i,o,t[13],2850285829,5),o=c(o,n,r,i,t[2],4243563512,9),i=c(i,o,n,r,t[7],1735328473,14),n=f(n,r=c(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=f(o,n,r,i,t[8],2272392833,11),i=f(i,o,n,r,t[11],1839030562,16),r=f(r,i,o,n,t[14],4259657740,23),n=f(n,r,i,o,t[1],2763975236,4),o=f(o,n,r,i,t[4],1272893353,11),i=f(i,o,n,r,t[7],4139469664,16),r=f(r,i,o,n,t[10],3200236656,23),n=f(n,r,i,o,t[13],681279174,4),o=f(o,n,r,i,t[0],3936430074,11),i=f(i,o,n,r,t[3],3572445317,16),r=f(r,i,o,n,t[6],76029189,23),n=f(n,r,i,o,t[9],3654602809,4),o=f(o,n,r,i,t[12],3873151461,11),i=f(i,o,n,r,t[15],530742520,16),n=h(n,r=f(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=h(o,n,r,i,t[7],1126891415,10),i=h(i,o,n,r,t[14],2878612391,15),r=h(r,i,o,n,t[5],4237533241,21),n=h(n,r,i,o,t[12],1700485571,6),o=h(o,n,r,i,t[3],2399980690,10),i=h(i,o,n,r,t[10],4293915773,15),r=h(r,i,o,n,t[1],2240044497,21),n=h(n,r,i,o,t[8],1873313359,6),o=h(o,n,r,i,t[15],4264355552,10),i=h(i,o,n,r,t[6],2734768916,15),r=h(r,i,o,n,t[13],1309151649,21),n=h(n,r,i,o,t[4],4149444226,6),o=h(o,n,r,i,t[11],3174756917,10),i=h(i,o,n,r,t[2],718787259,15),r=h(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(60))},function(t,e,n){"use strict";var r=n(268).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"===typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||c()},l=e._writableState&&e._writableState.finished,c=function(){s=!1,l=!0,a||o.call(e)},f=e._readableState&&e._readableState.endEmitted,h=function(){a=!1,f=!0,s||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return a&&!f?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):s&&!l?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},g=function(){e.req.on("finish",c)};return!function(t){return t.setHeader&&"function"===typeof t.abort}(e)?s&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",c),e.on("abort",p),e.req?g():e.on("request",g)),e.on("end",h),e.on("finish",c),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",c),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("end",h),e.removeListener("error",d),e.removeListener("close",p)}}},function(t,e,n){"use strict";var r=n(74).Buffer,i=n(48),o=n(686),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function g(t,e,n,r,i,o,a,s){return p(t+(e^n^r)+o+a|0,s)+i|0}function v(t,e,n,r,i,o,a,s){return p(t+(e&n|~e&r)+o+a|0,s)+i|0}function m(t,e,n,r,i,o,a,s){return p(t+((e|~n)^r)+o+a|0,s)+i|0}function y(t,e,n,r,i,o,a,s){return p(t+(e&r|n&~r)+o+a|0,s)+i|0}function b(t,e,n,r,i,o,a,s){return p(t+(e^(n|~r))+o+a|0,s)+i|0}i(d,o),d.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,w=0|this._a,S=0|this._b,T=0|this._c,E=0|this._d,_=0|this._e,k=0;k<80;k+=1){var x,M;k<16?(x=g(n,r,i,o,d,t[s[k]],f[0],l[k]),M=b(w,S,T,E,_,t[u[k]],h[0],c[k])):k<32?(x=v(n,r,i,o,d,t[s[k]],f[1],l[k]),M=y(w,S,T,E,_,t[u[k]],h[1],c[k])):k<48?(x=m(n,r,i,o,d,t[s[k]],f[2],l[k]),M=m(w,S,T,E,_,t[u[k]],h[2],c[k])):k<64?(x=y(n,r,i,o,d,t[s[k]],f[3],l[k]),M=v(w,S,T,E,_,t[u[k]],h[3],c[k])):(x=b(n,r,i,o,d,t[s[k]],f[4],l[k]),M=g(w,S,T,E,_,t[u[k]],h[4],c[k])),n=d,d=o,o=p(i,10),i=r,r=x,w=_,_=E,E=p(T,10),T=S,S=M}var A=this._b+i+E|0;this._b=this._c+o+_|0,this._c=this._d+d+w|0,this._d=this._e+n+S|0,this._e=this._a+r+T|0,this._a=A},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(1329),e.sha1=n(1330),e.sha224=n(1331),e.sha256=n(693),e.sha384=n(1332),e.sha512=n(694)},function(t,e,n){(e=t.exports=n(695)).Stream=e,e.Readable=e,e.Writable=n(513),e.Duplex=n(229),e.Transform=n(698),e.PassThrough=n(1339)},function(t,e,n){"use strict";(function(e,r,i){var o=n(407);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=m;var l=Object.create(n(326));l.inherits=n(48);var c={deprecate:n(508)},f=n(696),h=n(43).Buffer,d=i.Uint8Array||function(){};var p,g=n(697);function v(){}function m(t,e){s=s||n(229),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(_,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),_(t,e))}(t,n,r,e,i);else{var a=T(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||S(t,n),r?u(w,t,n,a,i):w(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(t){if(s=s||n(229),!p.call(y,this)&&!(this instanceof s))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),_(t,e)}function S(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(b(t,e,!1,e.objectMode?1:l.length,l,c,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),_(t,e)}))}function _(t,e){var n=T(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(y,f),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof m)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=h.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||S(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,_(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(77),n(1337).setImmediate,n(60))},function(t,e,n){"use strict";var r=n(124);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){var r=n(1352),i=n(1360),o=n(711);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var r={ECB:n(1353),CBC:n(1354),CFB:n(1355),CFB8:n(1356),CFB1:n(1357),OFB:n(1358),CTR:n(709),GCM:n(709)},i=n(711);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){var r;function i(t){this.rand=t}if(t.exports=function(t){return r||(r=new i(null)),r.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(1366);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(a){}},function(t,e,n){var r=n(74),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";var r=n(272).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"===typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||c()},l=e._writableState&&e._writableState.finished,c=function(){s=!1,l=!0,a||o.call(e)},f=e._readableState&&e._readableState.endEmitted,h=function(){a=!1,f=!0,s||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return a&&!f?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):s&&!l?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},g=function(){e.req.on("finish",c)};return!function(t){return t.setHeader&&"function"===typeof t.abort}(e)?s&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",c),e.on("abort",p),e.req?g():e.on("request",g)),e.on("end",h),e.on("finish",c),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",c),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("end",h),e.removeListener("error",d),e.removeListener("close",p)}}},function(t,e,n){(function(e){var r=n(521),i=n(267);function o(t){var e,n=t.modulus.byteLength();do{e=new r(i(n))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,n){var i=function(t){var e=o(t);return{blinder:e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),a=n.modulus.byteLength(),s=new r(t).mul(i.blinder).umod(n.modulus),u=s.toRed(r.mont(n.prime1)),l=s.toRed(r.mont(n.prime2)),c=n.coefficient,f=n.prime1,h=n.prime2,d=u.redPow(n.exponent1).fromRed(),p=l.redPow(n.exponent2).fromRed(),g=d.isub(p).imul(c).umod(f).imul(h);return p.iadd(g).imul(i.unblinder).umod(n.modulus).toArrayLike(e,"be",a)}a.getr=o,t.exports=a}).call(this,n(74).Buffer)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1379).Buffer}catch(A){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,i){for(var o=0,a=0,s=Math.min(t.length,n),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<i,"Invalid character"),o+=a}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){c(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(A){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],c=p[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var g=f.modrn(c).toString(t);n=(f=f.idivn(c)).isZero()?g+n:h[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function g(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;t[n++]=255&a,n<t.length&&(t[n++]=a>>8&255),n<t.length&&(t[n++]=a>>16&255),6===o?(n<t.length&&(t[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;t[n--]=255&a,n>=0&&(t[n--]=a>>8&255),n>=0&&(t[n--]=a>>16&255),6===o?(n>=0&&(t[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var v=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function m(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function y(t,e,n){return m(t,e,n)}function b(t,e){this.x=t,this.y=e}Math.imul||(v=g),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?v(this,t,e):n<63?g(this,t,e):n<1024?m(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},b.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},b.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},b.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},b.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},b.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},b.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"===typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new x(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function S(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},S.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},S.prototype.split=function(t,e){t.iushrn(this.n,0,e)},S.prototype.imulK=function(t){return t.imul(this.k)},i(T,S),T.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},T.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,S),i(_,S),i(k,S),k.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new T;else if("p224"===t)e=new E;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return w[t]=e,e},x.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},function(t,e,n){"use strict";var r=e;r.version=n(1380).version,r.utils=n(125),r.rand=n(517),r.curve=n(724),r.curves=n(524),r.ec=n(1392),r.eddsa=n(1396)},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r,i=e,o=n(525),a=n(724),s=n(125).assert;function u(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(1391)}catch(c){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(t,e,n){var r=e;r.utils=n(150),r.common=n(328),r.sha=n(1385),r.ripemd=n(1389),r.hmac=n(1390),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";(function(e){var r,i=n(74),o=i.Buffer,a={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=i[r]);var s=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(s[r]=o[r]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(t,e,n){if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&"undefined"===typeof t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,n)}),s.alloc||(s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=o(t);return e&&0!==e.length?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=e.binding("buffer").kStringMaxLength}catch(u){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this,n(77))},function(t,e,n){"use strict";var r=n(528).Reporter,i=n(329).EncoderBuffer,o=n(329).DecoderBuffer,a=n(124),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(t,e,n){var r={};this._baseState=r,r.name=n,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=l;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var t=this._baseState,e={};c.forEach((function(n){e[n]=t[n]}));var n=new this.constructor(e.parent);return n._baseState=e,n},l.prototype._wrap=function(){var t=this._baseState;u.forEach((function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},l.prototype._init=function(t){var e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),a.equal(e.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(t){var e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(a(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!==typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);var r=t[n];e[r]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){l.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),s.forEach((function(t){l.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(n),this}})),l.prototype.use=function(t){a(t);var e=this._baseState;return a(null===e.use),e.use=t,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(t){var e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},l.prototype.explicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},l.prototype.implicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},l.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},l.prototype.key=function(t){var e=this._baseState;return a(null===e.key),e.key=t,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(t){var e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},l.prototype.contains=function(t){var e=this._baseState;return a(null===e.use),e.contains=t,this},l.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=t.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(a=this._peekTag(t,u,n.any),t.isError(a))return a}else{var l=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),a=!0}catch(g){a=!1}t.restore(l)}}if(n.obj&&a&&(r=t.enterObject()),a){if(null!==n.explicit){var c=this._decodeTag(t,n.explicit);if(t.isError(c))return c;t=c}var f=t.offset;if(null===n.use&&null===n.choice){var h;n.any&&(h=t.save());var d=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(d))return d;n.any?i=t.raw(h):t=d}if(e&&e.track&&null!==n.tag&&e.track(t.path(),f,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(p,e)}}return n.obj&&a&&(i=t.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,n.key,i),i},l.prototype._decodeGeneric=function(t,e,n){var r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},l.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},l.prototype._decodeChoice=function(t,e){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=t.save(),s=n.choice[o];try{var u=s._decode(t,e);if(t.isError(u))return!1;r={type:o,value:u},i=!0}catch(l){return t.restore(a),!1}return!0}),this),i?r:t.error("Choice not matched")},l.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},l.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r.default||r.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},l.prototype._encodeValue=function(t,e,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new r);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)a=this._getUse(i.contains,n)._encode(t,e),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!==typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i}),this).filter((function(t){return t})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(t.map((function(n){var r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)}),u))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,e):(a=this._encodePrimitive(i.tag,t),s=!0);if(!i.any&&null===i.choice){var l=null!==i.implicit?i.implicit:i.tag,c=null===i.implicit?"universal":"context";null===l?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(l,s,c,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},l.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},l.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},l.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,n){"use strict";var r=n(48);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){var r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof o;if(e=r?t:new o(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(t,e,n){"use strict";function r(t){var e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1415).Buffer}catch(k){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:c[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function g(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(S,y),i(T,y),T.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return m[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},function(t,e,n){"use strict";var r=n(414),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(e),g=u(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=h(n,m);try{l(e,m,y)}catch(b){}}}}return e}},function(t,e,n){"use strict";(function(t,r){var i,o=n(752);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(60),n(1273)(t))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(469);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(58),i=n(67),o=n(32),a=n(105),s=n(312);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),u=s(e),l=u.length,c=0;l>c;)i.f(t,n=u[c++],r[n]);return t}},function(t,e,n){var r=n(58),i=n(33),o=n(380);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(28),i=n(37),o=n(52),a=n(310),s=n(218),u=n(575),l=n(55),c=r.TypeError,f=l("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,f);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},function(t,e,n){var r=n(28),i=n(37),o=n(57),a=n(52),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},function(t,e,n){var r=n(34),i=n(65),o=n(105),a=n(313).indexOf,s=n(314),u=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&u(c,n);for(;e.length>l;)i(r,n=e[l++])&&(~a(c,n)||u(c,n));return c}},function(t,e,n){var r=n(70);t.exports=r("document","documentElement")},function(t,e,n){var r=n(28),i=n(57),o=n(382),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},function(t,e,n){var r=n(65),i=n(472),o=n(91),a=n(67);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||s(t,c,u(e,c))}}},function(t,e,n){"use strict";var r=n(581).IteratorPrototype,i=n(166),o=n(195),a=n(148),s=n(315),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,l,!1,!0),s[l]=u,t}},function(t,e,n){"use strict";var r,i,o,a=n(33),s=n(57),u=n(166),l=n(138),c=n(84),f=n(55),h=n(41),d=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):p=!0),void 0==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:h&&(r=u(r)),s(r[d])||c(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(28),i=n(57),o=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},function(t,e,n){"use strict";n(384)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(585))},function(t,e,n){var r=n(37),i=n(32),o=n(218);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(u){s=!0,a=u}if("throw"===e)throw n;if(s)throw a;return i(a),n}},function(t,e,n){"use strict";var r=n(67).f,i=n(166),o=n(261),a=n(69),s=n(198),u=n(49),l=n(471),c=n(262),f=n(58),h=n(221).fastKey,d=n(107),p=d.set,g=d.getterFor;t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,r){s(t,d),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&u(r,t[l],{that:t,AS_ENTRIES:n})})),d=c.prototype,v=g(e),m=function(t,e,n){var r,i,o=v(t),a=y(t,e);return a?a.value=n:(o.last=a={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},y=function(t,e){var n,r=v(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(d,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=v(this),n=y(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(d,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(d,"size",{get:function(){return v(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),o=g(r);l(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){"use strict";n(384)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(585))},function(t,e,n){"use strict";var r=n(37),i=n(46),o=n(32);t.exports=function(){for(var t,e=o(this),n=i(e.delete),a=!0,s=0,u=arguments.length;s<u;s++)t=r(n,e,arguments[s]),a=a&&t;return!!a}},function(t,e,n){"use strict";var r=n(69),i=n(37),o=n(46),a=n(390),s=n(49),u=[].push;t.exports=function(t){var e,n,l,c,f=arguments.length,h=f>1?arguments[1]:void 0;return a(this),(e=void 0!==h)&&o(h),void 0==t?new this:(n=[],e?(l=0,c=r(h,f>2?arguments[2]:void 0),s(t,(function(t){i(u,n,c(t,l++))}))):s(t,u,{that:n}),new this(n))}},function(t,e,n){"use strict";var r=n(122);t.exports=function(){return new this(r(arguments))}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(380)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(70),a=n(167),s=n(37),u=n(34),l=n(41),c=n(58),f=n(469),h=n(33),d=n(65),p=n(320),g=n(57),v=n(52),m=n(147),y=n(310),b=n(32),w=n(66),S=n(105),T=n(194),E=n(64),_=n(195),k=n(166),x=n(312),M=n(196),A=n(475),R=n(473),I=n(91),C=n(67),L=n(383),D=n(122),O=n(84),P=n(379),N=n(381),j=n(314),B=n(309),F=n(55),U=n(593),H=n(92),K=n(148),G=n(107),q=n(100).forEach,V=N("hidden"),z=F("toPrimitive"),W=G.set,Y=G.getterFor("Symbol"),X=Object.prototype,$=i.Symbol,Z=$&&$.prototype,J=i.TypeError,Q=i.QObject,tt=o("JSON","stringify"),et=I.f,nt=C.f,rt=A.f,it=L.f,ot=u([].push),at=P("symbols"),st=P("op-symbols"),ut=P("string-to-symbol-registry"),lt=P("symbol-to-string-registry"),ct=P("wks"),ft=!Q||!Q.prototype||!Q.prototype.findChild,ht=c&&h((function(){return 7!=k(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=et(X,e);r&&delete X[e],nt(t,e,n),r&&t!==X&&nt(X,e,r)}:nt,dt=function(t,e){var n=at[t]=k(Z);return W(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},pt=function(t,e,n){t===X&&pt(st,e,n),b(t);var r=T(e);return b(n),d(at,r)?(n.enumerable?(d(t,V)&&t[V][r]&&(t[V][r]=!1),n=k(n,{enumerable:_(0,!1)})):(d(t,V)||nt(t,V,_(1,{})),t[V][r]=!0),ht(t,r,n)):nt(t,r,n)},gt=function(t,e){b(t);var n=S(e),r=x(n).concat(bt(n));return q(r,(function(e){c&&!s(vt,n,e)||pt(t,e,n[e])})),t},vt=function(t){var e=T(t),n=s(it,this,e);return!(this===X&&d(at,e)&&!d(st,e))&&(!(n||!d(this,e)||!d(at,e)||d(this,V)&&this[V][e])||n)},mt=function(t,e){var n=S(t),r=T(e);if(n!==X||!d(at,r)||d(st,r)){var i=et(n,r);return!i||!d(at,r)||d(n,V)&&n[V][r]||(i.enumerable=!0),i}},yt=function(t){var e=rt(S(t)),n=[];return q(e,(function(t){d(at,t)||d(j,t)||ot(n,t)})),n},bt=function(t){var e=t===X,n=rt(e?st:S(t)),r=[];return q(n,(function(t){!d(at,t)||e&&!d(X,t)||ot(r,at[t])})),r};(f||(O(Z=($=function(){if(m(Z,this))throw J("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,e=B(t),n=function t(n){this===X&&s(t,st,n),d(this,V)&&d(this[V],e)&&(this[V][e]=!1),ht(this,e,_(1,n))};return c&&ft&&ht(X,e,{configurable:!0,set:n}),dt(e,t)}).prototype,"toString",(function(){return Y(this).tag})),O($,"withoutSetter",(function(t){return dt(B(t),t)})),L.f=vt,C.f=pt,I.f=mt,M.f=A.f=yt,R.f=bt,U.f=function(t){return dt(F(t),t)},c&&(nt(Z,"description",{configurable:!0,get:function(){return Y(this).description}}),l||O(X,"propertyIsEnumerable",vt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:$}),q(x(ct),(function(t){H(t)})),r({target:"Symbol",stat:!0,forced:!f},{for:function(t){var e=E(t);if(d(ut,e))return ut[e];var n=$(e);return ut[e]=n,lt[n]=e,n},keyFor:function(t){if(!y(t))throw J(t+" is not a symbol");if(d(lt,t))return lt[t]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(t,e){return void 0===e?k(t):gt(k(t),e)},defineProperty:pt,defineProperties:gt,getOwnPropertyDescriptor:mt}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:yt,getOwnPropertySymbols:bt}),r({target:"Object",stat:!0,forced:h((function(){R.f(1)}))},{getOwnPropertySymbols:function(t){return R.f(w(t))}}),tt)&&r({target:"JSON",stat:!0,forced:!f||h((function(){var t=$();return"[null]"!=tt([t])||"{}"!=tt({a:t})||"{}"!=tt(Object(t))}))},{stringify:function(t,e,n){var r=D(arguments),i=e;if((v(e)||void 0!==t)&&!y(t))return p(e)||(e=function(t,e){if(g(i)&&(e=s(i,this,t,e)),!y(e))return e}),r[1]=e,a(tt,null,r)}});if(!Z[z]){var wt=Z.valueOf;O(Z,z,(function(t){return s(wt,this)}))}K($,"Symbol"),j[V]=!0},function(t,e,n){var r=n(55);e.f=r},function(t,e,n){"use strict";var r=n(24),i=n(58),o=n(28),a=n(34),s=n(65),u=n(57),l=n(147),c=n(64),f=n(67).f,h=n(579),d=o.Symbol,p=d&&d.prototype;if(i&&u(d)&&(!("description"in p)||void 0!==d().description)){var g={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),e=l(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(g[e]=!0),e};h(v,d),v.prototype=p,p.constructor=v;var m="Symbol(test)"==String(d("test")),y=a(p.toString),b=a(p.valueOf),w=/^Symbol\((.*)\)[^)]+$/,S=a("".replace),T=a("".slice);f(p,"description",{configurable:!0,get:function(){var t=b(this),e=y(t);if(s(g,t))return"";var n=m?T(e,7,-1):S(e,w,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(t,e,n){n(92)("asyncIterator")},function(t,e,n){n(92)("hasInstance")},function(t,e,n){n(92)("isConcatSpreadable")},function(t,e,n){n(92)("iterator")},function(t,e,n){n(92)("match")},function(t,e,n){n(92)("replace")},function(t,e,n){n(92)("search")},function(t,e,n){n(92)("species")},function(t,e,n){n(92)("split")},function(t,e,n){n(92)("toPrimitive")},function(t,e,n){n(92)("toStringTag")},function(t,e,n){n(92)("unscopables")},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(33),a=n(320),s=n(52),u=n(66),l=n(82),c=n(224),f=n(321),h=n(322),d=n(55),p=n(192),g=d("isConcatSpreadable"),v=i.TypeError,m=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=h("concat"),b=function(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!m||!y},{concat:function(t){var e,n,r,i,o,a=u(this),s=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(b(o=-1===e?a:arguments[e])){if(h+(i=l(o))>9007199254740991)throw v("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in o&&c(s,h,o[n])}else{if(h>=9007199254740991)throw v("Maximum allowed index exceeded");c(s,h++,o)}return s.length=h,s}})},function(t,e,n){var r=n(24),i=n(609);r({target:"Array",stat:!0,forced:!n(386)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(28),i=n(69),o=n(37),a=n(66),s=n(1023),u=n(477),l=n(319),c=n(82),f=n(224),h=n(260),d=n(318),p=r.Array;t.exports=function(t){var e=a(t),n=l(this),r=arguments.length,g=r>1?arguments[1]:void 0,v=void 0!==g;v&&(g=i(g,r>2?arguments[2]:void 0));var m,y,b,w,S,T,E=d(e),_=0;if(!E||this==p&&u(E))for(m=c(e),y=n?new this(m):p(m);m>_;_++)T=v?g(e[_],_):e[_],f(y,_,T);else for(S=(w=h(e,E)).next,y=n?new this:[];!(b=o(S,w)).done;_++)T=v?s(w,g,[b.value,_],!0):b.value,f(y,_,T);return y.length=_,y}},function(t,e,n){var r=n(28);n(148)(r.JSON,"JSON",!0)},function(t,e,n){n(148)(Math,"Math",!0)},function(t,e,n){"use strict";var r=n(1028);function i(){}var o=null,a={};function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,t!==i&&d(t,this)}function u(t,e){for(;3===t._V;)t=t._W;if(s._Y&&s._Y(t),0===t._V)return 0===t._U?(t._U=1,void(t._X=e)):1===t._U?(t._U=2,void(t._X=[t._X,e])):void t._X.push(e);!function(t,e){r((function(){var n=1===t._V?e.onFulfilled:e.onRejected;if(null!==n){var r=function(t,e){try{return t(e)}catch(n){return o=n,a}}(n,t._W);r===a?c(e.promise,o):l(e.promise,r)}else 1===t._V?l(e.promise,t._W):c(e.promise,t._W)}))}(t,e)}function l(t,e){if(e===t)return c(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=function(t){try{return t.then}catch(e){return o=e,a}}(e);if(n===a)return c(t,o);if(n===t.then&&e instanceof s)return t._V=3,t._W=e,void f(t);if("function"===typeof n)return void d(n.bind(e),t)}t._V=1,t._W=e,f(t)}function c(t,e){t._V=2,t._W=e,s._Z&&s._Z(t,e),f(t)}function f(t){if(1===t._U&&(u(t,t._X),t._X=null),2===t._U){for(var e=0;e<t._X.length;e++)u(t,t._X[e]);t._X=null}}function h(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function d(t,e){var n=!1,r=function(t,e,n){try{t(e,n)}catch(r){return o=r,a}}(t,(function(t){n||(n=!0,l(e,t))}),(function(t){n||(n=!0,c(e,t))}));n||r!==a||(n=!0,c(e,o))}t.exports=s,s._Y=null,s._Z=null,s._0=i,s.prototype.then=function(t,e){if(this.constructor!==s)return function(t,e,n){return new t.constructor((function(r,o){var a=new s(i);a.then(r,o),u(t,new h(e,n,a))}))}(this,t,e);var n=new s(i);return u(this,new h(t,e,n)),n}},function(t,e,n){"use strict";var r=n(66),i=n(219),o=n(82),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n),u=i(t,s),l=i(e,s),c=arguments.length>2?arguments[2]:void 0,f=a((void 0===c?s:i(c,s))-l,s-u),h=1;for(l<u&&u<l+f&&(h=-1,l+=f-1,u+=f-1);f-- >0;)l in n?n[u]=n[l]:delete n[u],u+=h,l+=h;return n}},function(t,e,n){"use strict";var r=n(28),i=n(320),o=n(82),a=n(69),s=r.TypeError;t.exports=function t(e,n,r,u,l,c,f,h){for(var d,p=l,g=0,v=!!f&&a(f,h);g<u;){if(g in r){if(d=v?v(r[g],g,n):r[g],c>0&&i(d))p=t(e,n,d,o(d),p,c-1)-1;else{if(p>=9007199254740991)throw s("Exceed the acceptable array length");e[p]=d}p++}g++}return p}},function(t,e,n){"use strict";var r=n(167),i=n(105),o=n(121),a=n(82),s=n(225),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),h=c||!f;t.exports=h?function(t){if(c)return r(l,this,arguments)||0;var e=i(this),n=a(e),s=n-1;for(arguments.length>1&&(s=u(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:l},function(t,e,n){var r=n(193).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(193);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){"use strict";var r=n(28),i=n(34),o=n(58),a=n(619),s=n(220),u=n(137),l=n(261),c=n(33),f=n(198),h=n(121),d=n(136),p=n(620),g=n(1056),v=n(138),m=n(197),y=n(196).f,b=n(67).f,w=n(482),S=n(122),T=n(148),E=n(107),_=s.PROPER,k=s.CONFIGURABLE,x=E.get,M=E.set,A=r.ArrayBuffer,R=A,I=R&&R.prototype,C=r.DataView,L=C&&C.prototype,D=Object.prototype,O=r.Array,P=r.RangeError,N=i(w),j=i([].reverse),B=g.pack,F=g.unpack,U=function(t){return[255&t]},H=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},q=function(t){return B(t,23,4)},V=function(t){return B(t,52,8)},z=function(t,e){b(t.prototype,e,{get:function(){return x(this)[e]}})},W=function(t,e,n,r){var i=p(n),o=x(t);if(i+e>o.byteLength)throw P("Wrong index");var a=x(o.buffer).bytes,s=i+o.byteOffset,u=S(a,s,s+e);return r?u:j(u)},Y=function(t,e,n,r,i,o){var a=p(n),s=x(t);if(a+e>s.byteLength)throw P("Wrong index");for(var u=x(s.buffer).bytes,l=a+s.byteOffset,c=r(+i),f=0;f<e;f++)u[l+f]=c[o?f:e-f-1]};if(a){var X=_&&"ArrayBuffer"!==A.name;if(c((function(){A(1)}))&&c((function(){new A(-1)}))&&!c((function(){return new A,new A(1.5),new A(NaN),X&&!k})))X&&k&&u(A,"name","ArrayBuffer");else{(R=function(t){return f(this,I),new A(p(t))}).prototype=I;for(var $,Z=y(A),J=0;Z.length>J;)($=Z[J++])in R||u(R,$,A[$]);I.constructor=R}m&&v(L)!==D&&m(L,D);var Q=new C(new R(2)),tt=i(L.setInt8);Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||l(L,{setInt8:function(t,e){tt(this,t,e<<24>>24)},setUint8:function(t,e){tt(this,t,e<<24>>24)}},{unsafe:!0})}else I=(R=function(t){f(this,I);var e=p(t);M(this,{bytes:N(O(e),0),byteLength:e}),o||(this.byteLength=e)}).prototype,L=(C=function(t,e,n){f(this,L),f(t,I);var r=x(t).byteLength,i=h(e);if(i<0||i>r)throw P("Wrong offset");if(i+(n=void 0===n?r-i:d(n))>r)throw P("Wrong length");M(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)}).prototype,o&&(z(R,"byteLength"),z(C,"buffer"),z(C,"byteLength"),z(C,"byteOffset")),l(L,{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return G(W(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return G(W(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return F(W(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return F(W(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Y(this,1,t,U,e)},setUint8:function(t,e){Y(this,1,t,U,e)},setInt16:function(t,e){Y(this,2,t,H,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Y(this,2,t,H,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Y(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Y(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Y(this,4,t,q,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Y(this,8,t,V,e,arguments.length>2?arguments[2]:void 0)}});T(R,"ArrayBuffer"),T(C,"DataView"),t.exports={ArrayBuffer:R,DataView:C}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(28),i=n(121),o=n(136),a=r.RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw a("Wrong length or index");return n}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var r=n(34);t.exports=r(1..valueOf)},function(t,e,n){var r=n(28),i=n(33),o=n(34),a=n(64),s=n(264).trim,u=n(393),l=o("".charAt),c=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/c(u+"-0")!==-1/0||h&&!i((function(){c(Object(h))}));t.exports=d?function(t){var e=s(a(t)),n=c(e);return 0===n&&"-"==l(e,0)?-0:n}:c},function(t,e,n){var r=n(28),i=n(33),o=n(34),a=n(64),s=n(264).trim,u=n(393),l=r.parseInt,c=r.Symbol,f=c&&c.iterator,h=/^[+-]?0x/i,d=o(h.exec),p=8!==l(u+"08")||22!==l(u+"0x16")||f&&!i((function(){l(Object(f))}));t.exports=p?function(t,e){var n=s(a(t));return l(n,e>>>0||(d(h,n)?16:10))}:l},function(t,e,n){"use strict";var r=n(58),i=n(34),o=n(37),a=n(33),s=n(312),u=n(473),l=n(383),c=n(66),f=n(308),h=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||"abcdefghijklmnopqrst"!=s(h({},e)).join("")}))?function(t,e){for(var n=c(t),i=arguments.length,a=1,h=u.f,d=l.f;i>a;)for(var g,v=f(arguments[a++]),m=h?p(s(v),h(v)):s(v),y=m.length,b=0;y>b;)g=m[b++],r&&!o(d,v,g)||(n[g]=v[g]);return n}:h},function(t,e,n){var r=n(58),i=n(34),o=n(312),a=n(105),s=i(n(383).f),u=i([].push),l=function(t){return function(e){for(var n,i=a(e),l=o(i),c=l.length,f=0,h=[];c>f;)n=l[f++],r&&!s(i,n)||u(h,t?[n,i[n]]:i[n]);return h}};t.exports={entries:l(!0),values:l(!1)}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){var r=n(28);t.exports=r.Promise},function(t,e,n){var r=n(193);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){var r,i,o,a,s,u,l,c,f=n(28),h=n(69),d=n(91).f,p=n(488).set,g=n(629),v=n(1116),m=n(1117),y=n(263),b=f.MutationObserver||f.WebKitMutationObserver,w=f.document,S=f.process,T=f.Promise,E=d(f,"queueMicrotask"),_=E&&E.value;_||(r=function(){var t,e;for(y&&(t=S.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(n){throw i?a():o=void 0,n}}o=void 0,t&&t.enter()},g||y||m||!b||!w?!v&&T&&T.resolve?((l=T.resolve(void 0)).constructor=T,c=h(l.then,l),a=function(){c(r)}):y?a=function(){S.nextTick(r)}:(p=h(p,f),a=function(){p(r)}):(s=!0,u=w.createTextNode(""),new b(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(32),i=n(52),o=n(632);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(46),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(65);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){var r=n(33),i=n(28).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(33),i=n(28).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(24),i=n(396);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(34),i=n(136),o=n(64),a=n(487),s=n(106),u=r(a),l=r("".slice),c=Math.ceil,f=function(t){return function(e,n,r){var a,f,h=o(s(e)),d=i(n),p=h.length,g=void 0===r?" ":o(r);return d<=p||""==g?h:((f=u(g,c((a=d-p)/g.length))).length>a&&(f=l(f,0,a)),t?h+f:f+h)}};t.exports={start:f(!1),end:f(!0)}},function(t,e,n){var r=n(193);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){var r=n(28),i=n(1170),o=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw o("Wrong offset");return n}},function(t,e,n){var r=n(69),i=n(37),o=n(390),a=n(66),s=n(82),u=n(260),l=n(318),c=n(477),f=n(56).aTypedArrayConstructor;t.exports=function(t){var e,n,h,d,p,g,v=o(this),m=a(t),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,S=l(m);if(S&&!c(S))for(g=(p=u(m,S)).next,m=[];!(d=i(g,p)).done;)m.push(d.value);for(w&&y>2&&(b=r(b,arguments[2])),n=s(m),h=new(f(v))(n),e=0;n>e;e++)h[e]=w?b(m[e],e):m[e];return h}},function(t,e,n){"use strict";var r=n(34),i=n(261),o=n(221).getWeakData,a=n(32),s=n(52),u=n(198),l=n(49),c=n(100),f=n(65),h=n(107),d=h.set,p=h.getterFor,g=c.find,v=c.findIndex,m=r([].splice),y=0,b=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},S=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=S(this,t);if(e)return e[1]},has:function(t){return!!S(this,t)},set:function(t,e){var n=S(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&m(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var c=t((function(t,i){u(t,h),d(t,{type:e,id:y++,frozen:void 0}),void 0!=i&&l(i,t[r],{that:t,AS_ENTRIES:n})})),h=c.prototype,g=p(e),v=function(t,e,n){var r=g(t),i=o(a(e),!0);return!0===i?b(r).set(e,n):i[r.id]=n,t};return i(h,{delete:function(t){var e=g(this);if(!s(t))return!1;var n=o(t);return!0===n?b(e).delete(t):n&&f(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!s(t))return!1;var n=o(t);return!0===n?b(e).has(t):n&&f(n,e.id)}}),i(h,n?{get:function(t){var e=g(this);if(s(t)){var n=o(t);return!0===n?b(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),c}}},function(t,e,n){var r=n(33),i=n(55),o=n(41),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n(307);var r=n(24),i=n(28),o=n(70),a=n(37),s=n(34),u=n(642),l=n(84),c=n(261),f=n(148),h=n(580),d=n(107),p=n(198),g=n(57),v=n(65),m=n(69),y=n(222),b=n(32),w=n(52),S=n(64),T=n(166),E=n(195),_=n(260),k=n(318),x=n(55),M=n(483),A=x("iterator"),R=d.set,I=d.getterFor("URLSearchParams"),C=d.getterFor("URLSearchParamsIterator"),L=o("fetch"),D=o("Request"),O=o("Headers"),P=D&&D.prototype,N=O&&O.prototype,j=i.RegExp,B=i.TypeError,F=i.decodeURIComponent,U=i.encodeURIComponent,H=s("".charAt),K=s([].join),G=s([].push),q=s("".replace),V=s([].shift),z=s([].splice),W=s("".split),Y=s("".slice),X=/\+/g,$=Array(4),Z=function(t){return $[t-1]||($[t-1]=j("((?:%[\\da-f]{2}){"+t+"})","gi"))},J=function(t){try{return F(t)}catch(e){return t}},Q=function(t){var e=q(t,X," "),n=4;try{return F(e)}catch(r){for(;n;)e=q(e,Z(n--),J);return e}},tt=/[!'()~]|%20/g,et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nt=function(t){return et[t]},rt=function(t){return q(U(t),tt,nt)},it=function(t,e){if(e)for(var n,r,i=W(e,"&"),o=0;o<i.length;)(n=i[o++]).length&&(r=W(n,"="),G(t,{key:Q(V(r)),value:Q(K(r,"="))}))},ot=function(t){this.entries.length=0,it(this.entries,t)},at=function(t,e){if(t<e)throw B("Not enough arguments")},st=h((function(t,e){R(this,{type:"URLSearchParamsIterator",iterator:_(I(t).entries),kind:e})}),"Iterator",(function(){var t=C(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),ut=function(){p(this,lt);var t,e,n,r,i,o,s,u,l,c=arguments.length>0?arguments[0]:void 0,f=this,h=[];if(R(f,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:ot}),void 0!==c)if(w(c))if(t=k(c))for(n=(e=_(c,t)).next;!(r=a(n,e)).done;){if(o=(i=_(b(r.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw B("Expected sequence with length 2");G(h,{key:S(s.value),value:S(u.value)})}else for(l in c)v(c,l)&&G(h,{key:l,value:S(c[l])});else it(h,"string"==typeof c?"?"===H(c,0)?Y(c,1):c:S(c))},lt=ut.prototype;if(c(lt,{append:function(t,e){at(arguments.length,2);var n=I(this);G(n.entries,{key:S(t),value:S(e)}),n.updateURL()},delete:function(t){at(arguments.length,1);for(var e=I(this),n=e.entries,r=S(t),i=0;i<n.length;)n[i].key===r?z(n,i,1):i++;e.updateURL()},get:function(t){at(arguments.length,1);for(var e=I(this).entries,n=S(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){at(arguments.length,1);for(var e=I(this).entries,n=S(t),r=[],i=0;i<e.length;i++)e[i].key===n&&G(r,e[i].value);return r},has:function(t){at(arguments.length,1);for(var e=I(this).entries,n=S(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){at(arguments.length,1);for(var n,r=I(this),i=r.entries,o=!1,a=S(t),s=S(e),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?z(i,u--,1):(o=!0,n.value=s));o||G(i,{key:a,value:s}),r.updateURL()},sort:function(){var t=I(this);M(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=I(this).entries,r=m(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),l(lt,A,lt.entries,{name:"entries"}),l(lt,"toString",(function(){for(var t,e=I(this).entries,n=[],r=0;r<e.length;)t=e[r++],G(n,rt(t.key)+"="+rt(t.value));return K(n,"&")}),{enumerable:!0}),f(ut,"URLSearchParams"),r({global:!0,forced:!u},{URLSearchParams:ut}),!u&&g(O)){var ct=s(N.has),ft=s(N.set),ht=function(t){if(w(t)){var e,n=t.body;if("URLSearchParams"===y(n))return e=t.headers?new O(t.headers):new O,ct(e,"content-type")||ft(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(t,{body:E(0,S(n)),headers:E(0,e)})}return t};if(g(L)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(t,arguments.length>1?ht(arguments[1]):{})}}),g(D)){var dt=function(t){return p(this,P),new D(t,arguments.length>1?ht(arguments[1]):{})};P.constructor=dt,dt.prototype=P,r({global:!0,forced:!0},{Request:dt})}}t.exports={URLSearchParams:ut,getState:I}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(404),i=n(123),o=n(85),a=n(1228);t.exports=o((function(t,e){return 1===t?i(e):r(t,a(t,[],e))}))},function(t,e,n){var r=n(1231),i=n(1233);t.exports=i(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopImmediate=e.stop=e.returnsTrue=e.preventDefault=e.oneOf=e.log=e.handle=e.forProp=e.forKeyCode=e.forKey=e.forEventProp=e.forwardWithPrevent=e.forward=e.callOnEvent=e.call=e.adaptEvent=e.default=void 0;var r=a(n(1245)),i=a(n(403)),o=n(402);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0;i<t.length;i++){var o=t[i];if("function"===typeof o&&!o.apply(this,n))return!1}return!0}},u=function(t){return t&&t.hasOwnProperty&&t.hasOwnProperty("props")&&t.hasOwnProperty("context")},l=function(t,e){return t},c=function(t){return t.named=function(e){return l(t)},t.bindAs=function(e,n){return function(t,e,n){var r=(n?l(t):t).bind(e);return n&&(e[n]=r),r}(t,e,n)},t},f=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s(e),i=this,o=function(t,e,n){var o=null;return u(this)?(o=this,e=this.props,n=this.context):u(i)&&(o=i,e=i.props,n=i.context),r.call(o,t,e,n)};return o.finally=function(t){return c((function(e,n,r){var i=!1;u(this)&&(n=this.props,r=this.context);try{i=o.call(this,e,n,r)}finally{t.call(this,e,n,r)}return i}))},c(o)};e.handle=f;var h=f.oneOf=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.call(this,(0,r.default)(e))};e.oneOf=h;var d=f.returnsTrue=function(t){return!t||"function"!==typeof t||l((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n),!0}))};e.returnsTrue=d;var p=f.callOnEvent=(0,i.default)((function(t,e){return e[t]?e[t]():e.nativeEvent&&e.nativeEvent[t]&&e.nativeEvent[t](),!0}));e.callOnEvent=p;var g=f.forEventProp=(0,i.default)((function(t,e,n){return n[t]===e}));e.forEventProp=g;var v=f.forward=(0,i.default)(l((function(t,e,n){var r=n&&n[t];return"function"===typeof r&&r(e),!0})));e.forward=v;var m=f.preventDefault=p("preventDefault");e.preventDefault=m;var y=f.forwardWithPrevent=(0,i.default)(l((function(t,e,n){var r=!1,i=Object.assign({},e,{preventDefault:function(){r=!0,m(e)}});return v(t,i,n),!r})));e.forwardWithPrevent=y;var b=f.stop=l(p("stopPropagation"));e.stop=b;var w=f.stopImmediate=p("stopImmediatePropagation");e.stopImmediate=w;var S=f.forKeyCode=g("keyCode");e.forKeyCode=S;var T=f.forKey=(0,i.default)((function(t,e){return(0,o.is)(t,e.keyCode)}));e.forKey=T;var E=f.forProp=(0,i.default)((function(t,e,n,r){return r[t]===e}));e.forProp=E;var _=f.log=(0,i.default)((function(t,e){return!0}));e.log=_;e.call=function(t){return l((function(){return!(!this||!this[t])&&this[t].apply(this,arguments)}))};var k=f.adaptEvent=(0,i.default)((function(t,e){return l((function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.call.apply(e,[this,t.call.apply(t,[this,n].concat(i))].concat(i))}))}));e.adaptEvent=k;var x=f;e.default=x},function(t,e,n){var r=n(502),i=n(1247);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),a=o.pop();if(!r(a)){for(var s=0;s<t.length;){if("function"===typeof a[t[s]])return a[t[s]].apply(a,o);s+=1}if(i(a)){var u=e.apply(null,o);return u(a)}}return n.apply(this,arguments)}}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updatePointerPosition=e.setPointerMode=e.notifyPointerMove=e.notifyKeyDown=e.hasPointerMoved=e.getPointerMode=e.getLastPointerPosition=void 0;var r=n(402),i=n(498),o=!0,a=function(t){o=t};e.setPointerMode=a;var s=function(){return o};e.getPointerMode=s;var u=null,l=null,c=function(t,e){return t!==u||e!==l};e.hasPointerMoved=c;var f=function(t,e){return!!c(t,e)&&(a(!0),u=t,l=e,!0)};e.updatePointerPosition=f;e.getLastPointerPosition=function(){return{x:u,y:l}};var h=new i.Job((function(t){a(!1),t&&t()}),30);e.notifyPointerMove=function(t,e,n,r){var i=s();return!!f(n,r)&&(!i||!t||!t.contains(e))};e.notifyKeyDown=function(t,e){return(0,r.is)("pointerHide",t)?(h.start(e),!0):(0,r.is)("pointerShow",t)?(a(!0),!0):((0,r.is)("nonModal",t)||(0,r.is)("cancel",t)||a(!1),!1)}},,,,function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(t){var e=i,n=e.lib,r=n.WordArray,o=n.Hasher,a=e.algo,s=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var l=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)l[d]=0|t[e+d];else{var p=l[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=l[d-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[d]=g+l[d-7]+m+l[d-16]}var y=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&f)+u[d]+l[d];h=f,f=c,c=s,s=a+w|0,a=o,o=i,i=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(c),e.HmacSHA256=o._createHmacHelper(c)}(Math),i.SHA256)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(406),function(){var t=o,e=t.lib.Hasher,n=t.x64,r=n.Word,i=n.WordArray,a=t.algo;function s(){return r.create.apply(r,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var t=0;t<80;t++)l[t]=s()}();var c=a.SHA512=e.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],f=n[6],h=n[7],d=r.high,p=r.low,g=i.high,v=i.low,m=o.high,y=o.low,b=a.high,w=a.low,S=s.high,T=s.low,E=c.high,_=c.low,k=f.high,x=f.low,M=h.high,A=h.low,R=d,I=p,C=g,L=v,D=m,O=y,P=b,N=w,j=S,B=T,F=E,U=_,H=k,K=x,G=M,q=A,V=0;V<80;V++){var z,W,Y=l[V];if(V<16)W=Y.high=0|t[e+2*V],z=Y.low=0|t[e+2*V+1];else{var X=l[V-15],$=X.high,Z=X.low,J=($>>>1|Z<<31)^($>>>8|Z<<24)^$>>>7,Q=(Z>>>1|$<<31)^(Z>>>8|$<<24)^(Z>>>7|$<<25),tt=l[V-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=l[V-7],at=ot.high,st=ot.low,ut=l[V-16],lt=ut.high,ct=ut.low;W=(W=(W=J+at+((z=Q+st)>>>0<Q>>>0?1:0))+rt+((z+=it)>>>0<it>>>0?1:0))+lt+((z+=ct)>>>0<ct>>>0?1:0),Y.high=W,Y.low=z}var ft,ht=j&F^~j&H,dt=B&U^~B&K,pt=R&C^R&D^C&D,gt=I&L^I&O^L&O,vt=(R>>>28|I<<4)^(R<<30|I>>>2)^(R<<25|I>>>7),mt=(I>>>28|R<<4)^(I<<30|R>>>2)^(I<<25|R>>>7),yt=(j>>>14|B<<18)^(j>>>18|B<<14)^(j<<23|B>>>9),bt=(B>>>14|j<<18)^(B>>>18|j<<14)^(B<<23|j>>>9),wt=u[V],St=wt.high,Tt=wt.low,Et=G+yt+((ft=q+bt)>>>0<q>>>0?1:0),_t=mt+gt;G=H,q=K,H=F,K=U,F=j,U=B,j=P+(Et=(Et=(Et=Et+ht+((ft+=dt)>>>0<dt>>>0?1:0))+St+((ft+=Tt)>>>0<Tt>>>0?1:0))+W+((ft+=z)>>>0<z>>>0?1:0))+((B=N+ft|0)>>>0<N>>>0?1:0)|0,P=D,N=O,D=C,O=L,C=R,L=I,R=Et+(vt+pt+(_t>>>0<mt>>>0?1:0))+((I=ft+_t|0)>>>0<ft>>>0?1:0)|0}p=r.low=p+I,r.high=d+R+(p>>>0<I>>>0?1:0),v=i.low=v+L,i.high=g+C+(v>>>0<L>>>0?1:0),y=o.low=y+O,o.high=m+D+(y>>>0<O>>>0?1:0),w=a.low=w+N,a.high=b+P+(w>>>0<N>>>0?1:0),T=s.low=T+B,s.high=S+j+(T>>>0<B>>>0?1:0),_=c.low=_+U,c.high=E+F+(_>>>0<U>>>0?1:0),x=f.low=x+K,f.high=k+H+(x>>>0<K>>>0?1:0),A=h.low=A+q,h.high=M+G+(A>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(c),t.HmacSHA512=e._createHmacHelper(c)}(),o.SHA512)}()},,function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(116);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(116),i=n(1306),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=n(664)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){s.headers[t]=r.merge(o)})),t.exports=s}).call(this,n(77))},function(t,e,n){"use strict";var r=n(116),i=n(1307),o=n(661),a=n(1309),s=n(1312),u=n(1313),l=n(665);t.exports=function(t){return new Promise((function(e,c){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",g=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+g)}var v=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),o(v,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,c,r),d=null}},d.onabort=function(){d&&(c(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),c(l(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(1314),y=(t.withCredentials||u(v))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(h,(function(t,e){"undefined"===typeof f&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),c(t),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(t,e,n){"use strict";var r=n(1308);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";var r=n(116);t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(t){"undefined"!==typeof e[t]&&(n[t]=e[t])})),r.forEach(o,(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):"undefined"!==typeof e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):"undefined"!==typeof t[i]&&(n[i]=t[i])})),r.forEach(a,(function(r){"undefined"!==typeof e[r]?n[r]=e[r]:"undefined"!==typeof t[r]&&(n[r]=t[r])}));var s=i.concat(o).concat(a),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){"undefined"!==typeof e[r]?n[r]=e[r]:"undefined"!==typeof t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(1320).Buffer,i=n(1321).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(269)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(i){r=i}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(n){e=n}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!==typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,n){"use strict";(function(e,r){var i;t.exports=k,k.ReadableState=_;n(227).EventEmitter;var o=function(t,e){return t.listeners(e).length},a=n(688),s=n(74).Buffer,u=e.Uint8Array||function(){};var l,c=n(1322);l=c&&c.debuglog?c.debuglog("stream"):function(){};var f,h,d,p=n(1323),g=n(689),v=n(690).getHighWaterMark,m=n(268).codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(269)(k,a);var T=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function _(t,e,r){i=i||n(270),t=t||{},"boolean"!==typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(228).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function k(t){if(i=i||n(270),!(this instanceof k))return new k(t);var e=this instanceof i;this._readableState=new _(t,this,e),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function x(t,e,n,r,i){l("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(l("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?R(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}(t,a);else if(i||(o=function(t,e){var n;r=e,s.isBuffer(r)||r instanceof u||"string"===typeof e||void 0===e||t.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(a,e)),o)T(t,o);else if(a.objectMode||e&&e.length>0)if("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),r)a.endEmitted?T(t,new S):M(t,a,e,!0);else if(a.ended)T(t,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?M(t,a,e,!1):C(t,a)):M(t,a,e,!1)}else r||(a.reading=!1,C(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function M(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&R(t)),C(t,e)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(t,e){e(t)},k.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=s.from(t,e),e=""),n=!0),x(this,t,e,!1,n)},k.prototype.unshift=function(t){return x(this,t,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(t){f||(f=n(228).StringDecoder);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;l("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(I,t))}function I(t){var e=t._readableState;l("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function C(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(l("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function D(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function O(t){l("readable nexttick read 0"),t.read(0)}function P(t,e){l("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(l("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function B(t){var e=t._readableState;l("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(F,e,t))}function F(t,e){if(l("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function U(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}k.prototype.read=function(t){l("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):R(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return l("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",i=!0),e.ended||e.reading?l("reading or ended",i=!1):i&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?j(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(t){T(this,new w("_read()"))},k.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,e);var a=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:v;function s(e,r){l("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",h),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function u(){l("onend"),t.end()}i.endEmitted?r.nextTick(a):n.once("end",a),t.on("unpipe",s);var c=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}(n);t.on("drain",c);var f=!1;function h(e){l("ondata");var r=t.write(e);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==U(i.pipes,t))&&!f&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(e){l("onerror",e),v(),t.removeListener("error",d),0===o(t,"error")&&T(t,e)}function p(){t.removeListener("finish",g),v()}function g(){l("onfinish"),t.removeListener("close",p),v()}function v(){l("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",p),t.once("finish",g),t.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),t},k.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},k.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(O,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(D,this),n},k.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(D,this),e},k.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(P,t,e))}(this,t)),t.paused=!1,this},k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<E.length;o++)t.on(E[o],this.emit.bind(this,E[o]));return this._read=function(e){l("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"===typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(1325)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),k._fromList=j,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(k.from=function(t,e){return void 0===d&&(d=n(1326)),d(k,t,e)})}).call(this,n(60),n(77))},function(t,e,n){t.exports=n(227).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(77))},function(t,e,n){"use strict";var r=n(268).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=k,k.WritableState=_;var a={deprecate:n(508)},s=n(688),u=n(74).Buffer,l=e.Uint8Array||function(){};var c,f=n(689),h=n(690).getHighWaterMark,d=n(268).codes,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,S=d.ERR_UNKNOWN_ENCODING,T=f.errorOrDestroy;function E(){}function _(t,e,a){o=o||n(270),t=t||{},"boolean"!==typeof a&&(a=e instanceof o),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(C,t,e),t._writableState.errorEmitted=!0,T(t,i)):(o(i),t._writableState.errorEmitted=!0,T(t,i),C(t,e))}(t,n,i,e,o);else{var a=R(n)||t.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),i?r.nextTick(M,t,n,a,o):M(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(t){var e=this instanceof(o=o||n(270));if(!e&&!c.call(k,this))return new k(t);this._writableState=new _(t,this,e),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),s.call(this)}function x(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function M(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),C(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,x(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(x(t,e,!1,e.objectMode?1:l.length,l,c,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(n){e.pendingcb--,n&&T(t,n),e.prefinished=!0,t.emit("prefinish"),C(t,e)}))}function C(t,e){var n=R(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!==typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(269)(k,s),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===k&&(t&&t._writableState instanceof _)}})):c=function(t){return t instanceof this},k.prototype.pipe=function(){T(this,new m)},k.prototype.write=function(t,e,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,u.isBuffer(i)||i instanceof l);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!==typeof n&&(n=E),o.ending?function(t,e){var n=new w;T(t,n),r.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var o;return null===n?o=new b:"string"===typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(T(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=u.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,s,r,i,o);return l}(this,o,s,t,e,n)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||A(this,t))},k.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(t,e,n){n(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(t,e,n){var i=this._writableState;return"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,C(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(t,e){e(t)}}).call(this,n(60),n(77))},function(t,e,n){"use strict";t.exports=c;var r=n(268).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(270);function l(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(t){if(!(this instanceof c))return new c(t);u.call(this,t),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(e,n){h(t,e,n)}))}function h(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}n(269)(c,u),c.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},c.prototype._transform=function(t,e,n){n(new i("_transform()"))},c.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},c.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},function(t,e,n){var r=n(48),i=n(271),o=n(43).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(t,e,n){return n^t&(e^n)}function c(t,e,n){return t&e|n&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function h(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,g=0|this._g,v=0|this._h,m=0;m<16;++m)n[m]=t.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((e=n[m-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[m-7]+d(n[m-15])+n[m-16];for(var y=0;y<64;++y){var b=v+h(u)+l(u,p,g)+a[y]+n[y]|0,w=f(r)+c(r,i,o)|0;v=g,g=p,p=u,u=s+b|0,s=o,o=i,i=r,r=b+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=v+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},function(t,e,n){var r=n(48),i=n(271),o=n(43).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function l(t,e,n){return n^t&(e^n)}function c(t,e,n){return t&e|n&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function v(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function m(t,e){return t>>>0<e>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,S=0|this._bl,T=0|this._cl,E=0|this._dl,_=0|this._el,k=0|this._fl,x=0|this._gl,M=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var R=e[A-30],I=e[A-30+1],C=d(R,I),L=p(I,R),D=g(R=e[A-4],I=e[A-4+1]),O=v(I,R),P=e[A-14],N=e[A-14+1],j=e[A-32],B=e[A-32+1],F=L+N|0,U=C+P+m(F,L)|0;U=(U=U+D+m(F=F+O|0,O)|0)+j+m(F=F+B|0,B)|0,e[A]=U,e[A+1]=F}for(var H=0;H<160;H+=2){U=e[H],F=e[H+1];var K=c(n,r,i),G=c(w,S,T),q=f(n,w),V=f(w,n),z=h(s,_),W=h(_,s),Y=a[H],X=a[H+1],$=l(s,u,y),Z=l(_,k,x),J=M+W|0,Q=b+z+m(J,M)|0;Q=(Q=(Q=Q+$+m(J=J+Z|0,Z)|0)+Y+m(J=J+X|0,X)|0)+U+m(J=J+F|0,F)|0;var tt=V+G|0,et=q+K+m(tt,V)|0;b=y,M=x,y=u,x=k,u=s,k=_,s=o+Q+m(_=E+J|0,E)|0,o=i,E=T,i=r,T=S,r=n,S=w,n=Q+et+m(w=J+tt|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+S|0,this._cl=this._cl+T|0,this._dl=this._dl+E|0,this._el=this._el+_|0,this._fl=this._fl+k|0,this._gl=this._gl+x|0,this._hl=this._hl+M|0,this._ah=this._ah+n+m(this._al,w)|0,this._bh=this._bh+r+m(this._bl,S)|0,this._ch=this._ch+i+m(this._cl,T)|0,this._dh=this._dh+o+m(this._dl,E)|0,this._eh=this._eh+s+m(this._el,_)|0,this._fh=this._fh+u+m(this._fl,k)|0,this._gh=this._gh+y+m(this._gl,x)|0,this._hh=this._hh+b+m(this._hl,M)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},function(t,e,n){"use strict";(function(e,r){var i=n(407);t.exports=b;var o,a=n(656);b.ReadableState=y;n(227).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(696),l=n(43).Buffer,c=e.Uint8Array||function(){};var f=Object.create(n(326));f.inherits=n(48);var h=n(1334),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,g=n(1335),v=n(697);f.inherits(b,u);var m=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(o=o||n(229));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(228).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(229),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}(t,a)):(i||(o=function(t,e){var n;r=e,l.isBuffer(r)||r instanceof c||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):S(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?S(t,a,e,!1):k(t,a)):S(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function S(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),k(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=n(228).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(_,t):_(t))}function _(t){d("emit readable"),t.emit("readable"),R(t)}function k(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(x,t,e))}function x(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){d("readable nexttick read 0"),t.read(0)}function A(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function C(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(L,e,t))}function L(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function D(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?C(this):E(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&C(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(n,e))),null===(r=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&C(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:b;function l(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",f),t.removeListener("error",v),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",g),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",l);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(n);t.on("drain",f);var h=!1;var p=!1;function g(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==D(o.pipes,t))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(e){d("onerror",e),b(),t.removeListener("error",v),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",y),b()}function y(){d("onfinish"),t.removeListener("close",m),b()}function b(){d("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",v),t.once("close",m),t.once("finish",y),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=D(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(A,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,n(60),n(77))},function(t,e,n){t.exports=n(227).EventEmitter},function(t,e,n){"use strict";var r=n(407);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=a;var r=n(229),i=Object.create(n(326));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(48),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";var r=n(48),i=n(1344),o=n(199),a=n(43).Buffer,s=n(700),u=n(510),l=n(511),c=a.alloc(128);function f(t,e){o.call(this,"digest"),"string"===typeof e&&(e=a.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new u:l(t)).update(e).digest():e.length<n&&(e=a.concat([e,c],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^e[s],i[s]=92^e[s];this._hash="rmd160"===t?new u:l(t),this._hash.update(r)}r(f,o),f.prototype._update=function(t){this._hash.update(t)},f.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new f("rmd160",e):"md5"===t?new i(s,e):new f(t,e)}},function(t,e,n){var r=n(507);t.exports=function(t){return(new r).update(t).digest()}},function(t){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(t,e,n){e.pbkdf2=n(1346),e.pbkdf2Sync=n(705)},function(t,e){var n=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!==typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!==typeof e)throw new TypeError("Key length not a number");if(e<0||e>n||e!==e)throw new TypeError("Bad key length")}},function(t,e,n){(function(e,n){var r;if(e.process&&e.process.browser)r="utf-8";else if(e.process&&e.process.version){r=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";t.exports=r}).call(this,n(60),n(77))},function(t,e,n){var r=n(700),i=n(510),o=n(511),a=n(43).Buffer,s=n(703),u=n(704),l=n(706),c=a.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(t,e,n){var s=function(t){function e(e){return o(t).update(e).digest()}return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?r:e}(t),u="sha512"===t||"sha384"===t?128:64;e.length>u?e=s(e):e.length<u&&(e=a.concat([e,c],u));for(var l=a.allocUnsafe(u+f[t]),h=a.allocUnsafe(u+f[t]),d=0;d<u;d++)l[d]=54^e[d],h[d]=92^e[d];var p=a.allocUnsafe(u+n+4);l.copy(p,0,0,u),this.ipad1=p,this.ipad2=l,this.opad=h,this.alg=t,this.blocksize=u,this.hash=s,this.size=f[t]}h.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,r,i){s(n,r);var o=new h(i=i||"sha1",t=l(t,u,"Password"),(e=l(e,u,"Salt")).length),c=a.allocUnsafe(r),d=a.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,g=f[i],v=Math.ceil(r/g),m=1;m<=v;m++){d.writeUInt32BE(m,e.length);for(var y=o.run(d,o.ipad1),b=y,w=1;w<n;w++){b=o.run(b,o.ipad2);for(var S=0;S<g;S++)y[S]^=b[S]}y.copy(c,p),p+=g}return c}},function(t,e,n){var r=n(43).Buffer;t.exports=function(t,e,n){if(r.isBuffer(t))return t;if("string"===typeof t)return r.from(t,e);if(ArrayBuffer.isView(t))return r.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=t>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=e>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";var r=n(124),i=n(48),o=n(707),a=n(514);function s(){this.tmp=new Array(2),this.keys=null}function u(t){a.call(this,t);var e=new s;this._desState=e,this.deriveKeys(e,t.key)}i(u,a),t.exports=u,u.create=function(t){return new u(t)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),r.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var s=l[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,t.keys,a)}},u.prototype._update=function(t,e,n,r){var i=this._desState,a=o.readUInt32BE(t,e),s=o.readUInt32BE(t,e+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},u.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)r.equal(t[n],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,n,r,i){for(var a=e,s=n,u=0;u<t.keys.length;u+=2){var l=t.keys[u],c=t.keys[u+1];o.expand(s,t.tmp,0),l^=t.tmp[0],c^=t.tmp[1];var f=o.substitute(l,c),h=s;s=(a^o.permute(f))>>>0,a=h}o.rip(s,a,r,i)},u.prototype._decrypt=function(t,e,n,r,i){for(var a=n,s=e,u=t.keys.length-2;u>=0;u-=2){var l=t.keys[u],c=t.keys[u+1];o.expand(a,t.tmp,0),l^=t.tmp[0],c^=t.tmp[1];var f=o.substitute(l,c),h=a;a=(s^o.permute(f))>>>0,s=h}o.rip(a,s,r,i)}},function(t,e,n){var r=n(327),i=n(43).Buffer,o=n(710);function a(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=a(t),l=o+16*s;t._cache.writeUInt32BE(u[0],l+0),t._cache.writeUInt32BE(u[1],l+4),t._cache.writeUInt32BE(u[2],l+8),t._cache.writeUInt32BE(u[3],l+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),r(e,c)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(t,e,n){var r=n(408),i=n(43).Buffer,o=n(199),a=n(48),s=n(1359),u=n(327),l=n(710);function c(t,e,n,a){o.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(e);var c=this._cipher.encryptBlock(u);this._ghash=new s(c),n=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new s(n),o=e.length,a=o%16;r.update(e),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,c=i.alloc(8);c.writeUIntBE(u,0,8),r.update(c),t._finID=r.state;var f=i.from(t._finID);return l(f),f}(this,n,c),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}a(c,o),c.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},c.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=c},function(t,e,n){var r=n(408),i=n(43).Buffer,o=n(199);function a(t,e,n,a){o.call(this),this._cipher=new r.AES(e),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=t}n(48)(a,o),a.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},t.exports=a},function(t,e,n){var r=n(267);t.exports=y,y.simpleSieve=v,y.fermatTest=m;var i=n(715),o=new i(24),a=new(n(716)),s=new i(1),u=new i(2),l=new i(5),c=(new i(16),new i(8),new i(10)),f=new i(3),h=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function g(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!==0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return p=t,t}function v(t){for(var e=g(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function m(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function y(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new i(e);;){for(n=new i(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),e.cmp(u)){if(!e.cmp(l))for(;n.mod(c).cmp(f);)n.iadd(d)}else for(;n.mod(o).cmp(h);)n.iadd(d);if(v(p=n.shrn(1))&&v(n)&&m(p)&&m(n)&&a.test(p)&&a.test(n))return n}}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1363).Buffer}catch(k){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:c[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function g(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(S,y),i(T,y),T.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return m[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},function(t,e,n){var r=n(1364),i=n(517);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var i=t.bitLength(),o=r.mont(t),a=new r(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var s=t.subn(1),u=0;!s.testn(u);u++);for(var l=t.shrn(u),c=s.toRed(o);e>0;e--){var f=this._randrange(new r(2),s);n&&n(f);var h=f.toRed(o).redPow(l);if(0!==h.cmp(a)&&0!==h.cmp(c)){for(var d=1;d<u;d++){if(0===(h=h.redSqr()).cmp(a))return!1;if(0===h.cmp(c))break}if(d===u)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),i=r.mont(t),o=new r(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var u=t.shrn(s),l=a.toRed(i);e>0;e--){var c=this._randrange(new r(2),a),f=t.gcd(c);if(0!==f.cmpn(1))return f;var h=c.toRed(i).redPow(u);if(0!==h.cmp(o)&&0!==h.cmp(l)){for(var d=1;d<s;d++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(t);if(0===h.cmp(l))break}if(d===s)return(h=h.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){"use strict";(function(e,r){var i;t.exports=k,k.ReadableState=_;n(227).EventEmitter;var o=function(t,e){return t.listeners(e).length},a=n(718),s=n(74).Buffer,u=e.Uint8Array||function(){};var l,c=n(1371);l=c&&c.debuglog?c.debuglog("stream"):function(){};var f,h,d,p=n(1372),g=n(719),v=n(720).getHighWaterMark,m=n(272).codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(273)(k,a);var T=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function _(t,e,r){i=i||n(274),t=t||{},"boolean"!==typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(228).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function k(t){if(i=i||n(274),!(this instanceof k))return new k(t);var e=this instanceof i;this._readableState=new _(t,this,e),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function x(t,e,n,r,i){l("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(l("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?R(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}(t,a);else if(i||(o=function(t,e){var n;r=e,s.isBuffer(r)||r instanceof u||"string"===typeof e||void 0===e||t.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(a,e)),o)T(t,o);else if(a.objectMode||e&&e.length>0)if("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),r)a.endEmitted?T(t,new S):M(t,a,e,!0);else if(a.ended)T(t,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?M(t,a,e,!1):C(t,a)):M(t,a,e,!1)}else r||(a.reading=!1,C(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function M(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&R(t)),C(t,e)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(t,e){e(t)},k.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=s.from(t,e),e=""),n=!0),x(this,t,e,!1,n)},k.prototype.unshift=function(t){return x(this,t,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(t){f||(f=n(228).StringDecoder);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;l("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(I,t))}function I(t){var e=t._readableState;l("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function C(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(l("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function D(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function O(t){l("readable nexttick read 0"),t.read(0)}function P(t,e){l("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(l("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function B(t){var e=t._readableState;l("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(F,e,t))}function F(t,e){if(l("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function U(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}k.prototype.read=function(t){l("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):R(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return l("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",i=!0),e.ended||e.reading?l("reading or ended",i=!1):i&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?j(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(t){T(this,new w("_read()"))},k.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,e);var a=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:v;function s(e,r){l("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",h),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function u(){l("onend"),t.end()}i.endEmitted?r.nextTick(a):n.once("end",a),t.on("unpipe",s);var c=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}(n);t.on("drain",c);var f=!1;function h(e){l("ondata");var r=t.write(e);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==U(i.pipes,t))&&!f&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(e){l("onerror",e),v(),t.removeListener("error",d),0===o(t,"error")&&T(t,e)}function p(){t.removeListener("finish",g),v()}function g(){l("onfinish"),t.removeListener("close",p),v()}function v(){l("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",p),t.once("finish",g),t.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),t},k.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},k.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(O,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(D,this),n},k.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(D,this),e},k.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(P,t,e))}(this,t)),t.paused=!1,this},k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<E.length;o++)t.on(E[o],this.emit.bind(this,E[o]));return this._read=function(e){l("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"===typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(1374)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),k._fromList=j,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(k.from=function(t,e){return void 0===d&&(d=n(1375)),d(k,t,e)})}).call(this,n(60),n(77))},function(t,e,n){t.exports=n(227).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(77))},function(t,e,n){"use strict";var r=n(272).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=k,k.WritableState=_;var a={deprecate:n(508)},s=n(718),u=n(74).Buffer,l=e.Uint8Array||function(){};var c,f=n(719),h=n(720).getHighWaterMark,d=n(272).codes,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,v=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,S=d.ERR_UNKNOWN_ENCODING,T=f.errorOrDestroy;function E(){}function _(t,e,a){o=o||n(274),t=t||{},"boolean"!==typeof a&&(a=e instanceof o),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(C,t,e),t._writableState.errorEmitted=!0,T(t,i)):(o(i),t._writableState.errorEmitted=!0,T(t,i),C(t,e))}(t,n,i,e,o);else{var a=R(n)||t.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),i?r.nextTick(M,t,n,a,o):M(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(t){var e=this instanceof(o=o||n(274));if(!e&&!c.call(k,this))return new k(t);this._writableState=new _(t,this,e),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),s.call(this)}function x(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function M(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),C(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,x(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(x(t,e,!1,e.objectMode?1:l.length,l,c,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(n){e.pendingcb--,n&&T(t,n),e.prefinished=!0,t.emit("prefinish"),C(t,e)}))}function C(t,e){var n=R(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!==typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(273)(k,s),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===k&&(t&&t._writableState instanceof _)}})):c=function(t){return t instanceof this},k.prototype.pipe=function(){T(this,new m)},k.prototype.write=function(t,e,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,u.isBuffer(i)||i instanceof l);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!==typeof n&&(n=E),o.ending?function(t,e){var n=new w;T(t,n),r.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var o;return null===n?o=new b:"string"===typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(T(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=u.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,s,r,i,o);return l}(this,o,s,t,e,n)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||A(this,t))},k.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(t,e,n){n(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(t,e,n){var i=this._writableState;return"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,C(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(t,e){e(t)}}).call(this,n(60),n(77))},function(t,e,n){"use strict";t.exports=c;var r=n(272).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(274);function l(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(t){if(!(this instanceof c))return new c(t);u.call(this,t),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(e,n){h(t,e,n)}))}function h(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}n(273)(c,u),c.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},c.prototype._transform=function(t,e,n){n(new i("_transform()"))},c.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},c.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},function(t,e,n){"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!==typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,n){"use strict";var r=e;r.base=n(410),r.short=n(1382),r.mont=n(1383),r.edwards=n(1384)},function(t,e,n){"use strict";var r=n(150).rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?a(e,n,r):2===t?o(e,n,r):void 0},e.ch32=i,e.maj32=o,e.p32=a,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},function(t,e,n){"use strict";var r=n(150),i=n(328),o=n(725),a=n(124),s=r.sum32,u=r.sum32_4,l=r.sum32_5,c=o.ch32,f=o.maj32,h=o.s0_256,d=o.s1_256,p=o.g0_256,g=o.g1_256,v=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}r.inherits(y,v),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=u(g(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],v=this.h[2],m=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],S=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var T=l(S,d(y),c(y,b,w),this.k[r],n[r]),E=s(h(i),f(i,o,v));S=w,w=b,b=y,y=s(m,T),m=v,v=o,o=i,i=s(T,E)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],m),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],S)},y.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(150),i=n(328),o=n(124),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,l=r.shr64_lo,c=r.sum64,f=r.sum64_hi,h=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,v=r.sum64_5_lo,m=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function S(t,e,n,r,i,o){var a=e&r^~e&o;return a<0&&(a+=4294967296),a}function T(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function E(t,e,n,r,i,o){var a=e&r^e&o^r&o;return a<0&&(a+=4294967296),a}function _(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function k(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function x(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function M(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function A(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function R(t,e){var n=s(t,e,1)^s(t,e,8)^l(t,e,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}function C(t,e){var n=s(t,e,19)^s(e,t,29)^l(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(b,m),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=I(n[r-4],n[r-3]),o=C(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=A(n[r-30],n[r-29]),l=R(n[r-30],n[r-29]),c=n[r-32],f=n[r-31];n[r]=d(i,o,a,s,u,l,c,f),n[r+1]=p(i,o,a,s,u,l,c,f)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],b=this.h[10],A=this.h[11],R=this.h[12],I=this.h[13],C=this.h[14],L=this.h[15];o(this.k.length===n.length);for(var D=0;D<n.length;D+=2){var O=C,P=L,N=x(m,y),j=M(m,y),B=w(m,y,b,A,R),F=S(m,y,b,A,R,I),U=this.k[D],H=this.k[D+1],K=n[D],G=n[D+1],q=g(O,P,N,j,B,F,U,H,K,G),V=v(O,P,N,j,B,F,U,H,K,G);O=_(r,i),P=k(r,i),N=T(r,i,a,s,u),j=E(r,i,a,s,u,l);var z=f(O,P,N,j),W=h(O,P,N,j);C=R,L=I,R=b,I=A,b=m,A=y,m=f(d,p,q,V),y=h(p,p,q,V),d=u,p=l,u=a,l=s,a=r,s=i,r=f(q,V,z,W),i=h(q,V,z,W)}c(this.h,0,r,i),c(this.h,2,a,s),c(this.h,4,u,l),c(this.h,6,d,p),c(this.h,8,m,y),c(this.h,10,b,A),c(this.h,12,R,I),c(this.h,14,C,L)},b.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=e;r.bignum=n(729),r.define=n(1401).define,r.base=n(1404),r.constants=n(1405),r.decoders=n(732),r.encoders=n(730)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1400).Buffer}catch(k){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:c[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function g(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(S,y),i(T,y),T.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return m[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},function(t,e,n){"use strict";var r=e;r.der=n(731),r.pem=n(1402)},function(t,e,n){"use strict";var r=n(48),i=n(526).Buffer,o=n(527),a=n(529);function s(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.call(this,"der",t)}function l(t){return t<10?"0"+t:t}t.exports=s,s.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},r(u,o),u.prototype._encodeComposite=function(t,e,n,r){var o=function(t,e,n,r){var i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!==typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}if(i>=31)return r.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=a.tagClassByName[n||"universal"]<<6}(t,e,n,this.reporter);if(r.length<128){var s=i.alloc(2);return s[0]=o,s[1]=r.length,this._createEncoderBuffer([s,r])}for(var u=1,l=r.length;l>=256;l>>=8)u++;var c=i.alloc(2+u);c[0]=o,c[1]=128|u;for(var f=1+u,h=r.length;h>0;f--,h>>=8)c[f]=255&h;return this._createEncoderBuffer([c,r])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=i.alloc(2*t.length),r=0;r<t.length;r++)n.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,n){if("string"===typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(var r=0;r<t.length;r++)t[r]|=0}else if(Array.isArray(t)){t=t.slice();for(var o=0;o<t.length;o++)t[o]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}for(var a=0,s=0;s<t.length;s++){var u=t[s];for(a++;u>=128;u>>=7)a++}for(var l=i.alloc(a),c=l.length-1,f=t.length-1;f>=0;f--){var h=t[f];for(l[c--]=127&h;(h>>=7)>0;)l[c--]=128|127&h}return this._createEncoderBuffer(l)},u.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[l(r.getUTCFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[l(r.getUTCFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"===typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!==typeof t&&!i.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=i.from(n)}if(i.isBuffer(t)){var r=t.length;0===t.length&&r++;var o=i.alloc(r);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);for(var a=1,s=t;s>=256;s>>=8)a++;for(var u=new Array(a),l=u.length-1;l>=0;l--)u[l]=255&t,t>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(i.from(u))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"===typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(t,e,n){"use strict";var r=e;r.der=n(733),r.pem=n(1403)},function(t,e,n){"use strict";var r=n(48),i=n(729),o=n(329).DecoderBuffer,a=n(527),s=n(529);function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new l,this.tree._init(t.body)}function l(t){a.call(this,"der",t)}function c(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;r|=a}return r}t.exports=u,u.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},r(l,a),l.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var r=t.save(),i=c(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},l.prototype._decodeTag=function(t,e,n){var r=c(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=f(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},l.prototype._skipUntilEnd=function(t,e){for(;;){var n=c(t,e);if(t.isError(n))return n;var r=f(t,n.primitive,e);if(t.isError(r))return r;var i=void 0;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},l.prototype._decodeList=function(t,e,n,r){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",r);if(t.isError(a)&&o)break;i.push(a)}return i},l.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var r=t.raw();if(r.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},l.prototype._decodeObjid=function(t,e,n){for(var r,i=[],o=0,a=0;!t.isEmpty();)o<<=7,o|=127&(a=t.readUInt8()),0===(128&a)&&(i.push(o),o=0);128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),e){var l=e[r.join(" ")];void 0===l&&(l=e[r.join(".")]),void 0!==l&&(r=l)}return r},l.prototype._decodeTime=function(t,e){var n,r,i,o,a,s,u=t.raw().toString();if("gentime"===e)n=0|u.slice(0,4),r=0|u.slice(4,6),i=0|u.slice(6,8),o=0|u.slice(8,10),a=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|u.slice(0,2),r=0|u.slice(2,4),i=0|u.slice(4,6),o=0|u.slice(6,8),a=0|u.slice(8,10),s=0|u.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,i,o,a,s,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},l.prototype._decodeInt=function(t,e){var n=t.raw(),r=new i(n);return e&&(r=e[r.toString(10)]||r),r},l.prototype._use=function(t,e){return"function"===typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(t,e,n){var r=n(325),i=n(43).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,a=i.alloc(0),s=0;a.length<e;)n=o(s++),a=i.concat([a,r("sha1").update(t).update(n).digest()]);return a.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){var r=n(530),i=n(43).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},function(t,e,n){var r=n(1419),i=n(739),o=i.setStyleProp,a=r.html,s=r.svg,u=r.isCustomAttribute,l=Object.prototype.hasOwnProperty;t.exports=function(t){var e,n,r,c;t=t||{};var f={};for(e in t)r=t[e],u(e)?f[e]=r:(n=e.toLowerCase(),l.call(a,n)?f[(c=a[n]).propertyName]=!!(c.hasBooleanValue||c.hasOverloadedBooleanValue&&!r)||r:l.call(s,e)?f[(c=s[e]).propertyName]=r:i.PRESERVE_CUSTOM_ATTRIBUTES&&(f[e]=r));return o(t.style,f),f}},function(t,e,n){var r=n(2),i=n(1423).default;var o={reactCompat:!0};var a=r.version.split(".")[0]>=16;t.exports={PRESERVE_CUSTOM_ATTRIBUTES:a,invertObject:function(t,e){if(!t||"object"!==typeof t)throw new TypeError("First argument must be an object");var n,r,i="function"===typeof e,o={},a={};for(n in t)r=t[n],i&&(o=e(n,r))&&2===o.length?a[o[0]]=o[1]:"string"===typeof r&&(a[r]=n);return a},isCustomComponent:function(t,e){if(-1===t.indexOf("-"))return e&&"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(t,e){if(null!==t&&void 0!==t)try{e.style=i(t,o)}catch(n){e.style={}}}}},function(t,e,n){for(var r,i=n(1429),o=n(1430),a=i.CASE_SENSITIVE_TAG_NAMES,s=o.Comment,u=o.Element,l=o.ProcessingInstruction,c=o.Text,f={},h=0,d=a.length;h<d;h++)r=a[h],f[r.toLowerCase()]=r;function p(t){for(var e,n={},r=0,i=t.length;r<i;r++)n[(e=t[r]).name]=e.value;return n}function g(t){var e=function(t){return f[t]}(t=t.toLowerCase());return e||t}t.exports={formatAttributes:p,formatDOM:function t(e,n,r){n=n||null;for(var i=[],o=0,a=e.length;o<a;o++){var f,h=e[o];switch(h.nodeType){case 1:(f=new u(g(h.nodeName),p(h.attributes))).children=t(h.childNodes,f);break;case 3:f=new c(h.nodeValue);break;case 8:f=new s(h.nodeValue);break;default:continue}var d=i[o-1]||null;d&&(d.next=f),f.parent=n,f.prev=d,f.next=null,i.push(f)}return r&&((f=new l(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=i[0]||null,f.parent=n,i.unshift(f),i[1]&&(i[1].prev=i[0])),i},isIE:function(){return/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},,,,function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpotlightRootDecorator=e.default=void 0;var r=u(n(497)),i=u(n(2)),o=u(n(11)),a=n(22),s=n(324);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=(0,r.default)({noAutoFocus:!1},(function(t,e){var n,r,u=t.noAutoFocus;return r=n=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=f(this,h(n).call(this,t))).navigableFilter=function(t){for(;t&&t!==document&&1===t.nodeType;){if("true"===t.getAttribute("data-spotlight-container-disabled"))return!1;t=t.parentNode}},"object"===("undefined"===typeof window?"undefined":l(window))&&(o.default.initialize({selector:"."+a.spottableClass,restrict:"none"}),o.default.set(s.rootContainerId,{overflow:!0})),e}var r,p,g;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,t),r=n,(p=[{key:"componentDidMount",value:function(){u||o.default.focus()}},{key:"componentWillUnmount",value:function(){o.default.terminate()}},{key:"render",value:function(){return i.default.createElement(e,this.props)}}])&&c(r.prototype,p),g&&c(r,g),n}(i.default.Component),n.displayName="SpotlightRootDecorator",r}));e.SpotlightRootDecorator=p;var g=p;e.default=g},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(60))},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}e.__esModule=!0;var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){(function(t){!function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function l(t){var e="undefined"==typeof t?"undefined":E(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(t,e,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":E(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var g=r.normalize(p,h,t,e);g&&(t=g[0],e=g[1])}}}p.push(h)}"regexp"===l(t)&&"regexp"===l(e)&&(t=t.toString(),e=e.toString());var v="undefined"==typeof t?"undefined":E(t),m="undefined"==typeof e?"undefined":E(e),y="undefined"!==v||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),b="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!y&&b)n(new o(p,e));else if(!b&&y)n(new a(p,t));else if(l(t)!==l(e))n(new i(p,t,e));else if("date"===l(t)&&t-e!==0)n(new i(p,t,e));else if("object"===v&&null!==t&&null!==e)if(d.filter((function(e){return e.lhs===t})).length)t!==e&&n(new i(p,t,e));else{if(d.push({lhs:t,rhs:e}),Array.isArray(t)){var w;for(t.length,w=0;w<t.length;w++)w>=e.length?n(new s(p,w,new a(void 0,t[w]))):c(t[w],e[w],n,r,p,w,d);for(;w<e.length;)n(new s(p,w,new o(void 0,e[w++])))}else{var S=Object.keys(t),T=Object.keys(e);S.forEach((function(i,o){var a=T.indexOf(i);a>=0?(c(t[i],e[i],n,r,p,i,d),T=u(T,a)):c(t[i],void 0,n,r,p,i,d)})),T.forEach((function(t){c(void 0,e[t],n,r,p,t,d)}))}d.length=d.length-1}else t!==e&&("number"===v&&isNaN(t)&&isNaN(e)||n(new i(p,t,e)))}function f(t,e,n,r){return r=r||[],c(t,e,(function(t){t&&r.push(t)}),n),r.length?r:void 0}function h(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":e=u(e,n);break;case"E":case"N":e[n]=r.rhs}return e}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(t){return"color: "+x[t].color+"; font-weight: bold"}function p(t,e,n,r){var i=f(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}i?i.forEach((function(t){var e=t.kind,r=function(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(t);n.log.apply(n,["%c "+x[e].text,d(e)].concat(_(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(t){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function g(t,e,n,r){switch("undefined"==typeof t?"undefined":E(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,_(n)):t[r];case"function":return t(e);default:return t}}function v(t,e){var n=e.logger,r=e.actionTransformer,i=e.titleFormatter,o=void 0===i?function(t){var e=t.timestamp,n=t.duration;return function(t,r,i){var o=["action"];return o.push("%c"+String(t.type)),e&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(e):i,a=e.collapsed,s=e.colors,u=e.level,l=e.diff,c="undefined"==typeof e.titleFormatter;t.forEach((function(i,f){var h=i.started,d=i.startedTime,v=i.action,m=i.prevState,y=i.error,b=i.took,w=i.nextState,T=t[f+1];T&&(w=T.prevState,b=T.started-h);var E=r(v),_="function"==typeof a?a((function(){return w}),v,i):a,k=S(d),x=s.title?"color: "+s.title(E)+";":"",M=["color: gray; font-weight: lighter;"];M.push(x),e.timestamp&&M.push("color: gray; font-weight: lighter;"),e.duration&&M.push("color: gray; font-weight: lighter;");var A=o(E,k,b);try{_?s.title&&c?n.groupCollapsed.apply(n,["%c "+A].concat(M)):n.groupCollapsed(A):s.title&&c?n.group.apply(n,["%c "+A].concat(M)):n.group(A)}catch(t){n.log(A)}var R=g(u,E,[m],"prevState"),I=g(u,E,[E],"action"),C=g(u,E,[y,m],"error"),L=g(u,E,[w],"nextState");if(R)if(s.prevState){var D="color: "+s.prevState(m)+"; font-weight: bold";n[R]("%c prev state",D,m)}else n[R]("prev state",m);if(I)if(s.action){var O="color: "+s.action(E)+"; font-weight: bold";n[I]("%c action    ",O,E)}else n[I]("action    ",E);if(y&&C)if(s.error){var P="color: "+s.error(y,m)+"; font-weight: bold;";n[C]("%c error     ",P,y)}else n[C]("error     ",y);if(L)if(s.nextState){var N="color: "+s.nextState(w)+"; font-weight: bold";n[L]("%c next state",N,w)}else n[L]("next state",w);l&&p(m,w,n,_);try{n.groupEnd()}catch(t){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},M,t),n=e.logger,r=e.stateTransformer,i=e.errorTransformer,o=e.predicate,a=e.logErrors,s=e.diffPredicate;if("undefined"==typeof n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var u=[];return function(t){var n=t.getState;return function(t){return function(l){if("function"==typeof o&&!o(n,l))return t(l);var c={};u.push(c),c.started=T.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=l;var f=void 0;if(a)try{f=t(l)}catch(t){c.error=i(t)}else f=t(l);c.took=T.now()-c.started,c.nextState=r(n());var h=e.diff&&"function"==typeof s?s(n,l):e.diff;if(v(u,Object.assign({},e,{diff:h})),u.length=0,c.error)throw c.error;return f}}}}var y,b,w=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},S=function(t){return w(t.getHours(),2)+":"+w(t.getMinutes(),2)+":"+w(t.getSeconds(),2)+"."+w(t.getMilliseconds(),3)},T="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},k=[];y="object"===("undefined"==typeof t?"undefined":E(t))&&t?t:"undefined"!=typeof window?window:{},(b=y.DeepDiff)&&k.push((function(){"undefined"!=typeof b&&y.DeepDiff===f&&(y.DeepDiff=b,b=void 0)})),n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&c(t,e,(function(r){n&&!n(t,e,r)||h(t,e,r)}))},enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":case"E":o[r.path[i]]=r.lhs;break;case"N":delete o[r.path[i]]}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":case"E":e[n]=r.lhs;break;case"N":e=u(e,n)}return e}(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof b},enumerable:!0},noConflict:{value:function(){return k&&(k.forEach((function(t){t()})),k=null),f},enumerable:!0}});var x={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},M={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?m()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=M,e.createLogger=m,e.logger=A,e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(60))},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=d(i),a=d(n(61)),s=n(413),u=n(1432),l=d(n(1433)),c=d(n(1434)),f=d(n(1435)),h=d(n(1436));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),t.throttle>0&&(t.debounce?n.lazyLoadHandler=(0,l.default)(n.lazyLoadHandler,t.throttle):n.lazyLoadHandler=(0,c.default)(n.lazyLoadHandler,t.throttle)),n.state={visible:!1},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidMount",value:function(){this._mounted=!0;var t=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,u.add)(window,"resize",this.lazyLoadHandler),(0,u.add)(t,"scroll",this.lazyLoadHandler),t!==window&&(0,u.add)(window,"scroll",this.lazyLoadHandler)}},{key:"componentWillReceiveProps",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(t,e){return e.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,f.default)((0,s.findDOMNode)(this))}},{key:"getOffset",value:function(){var t=this.props,e=t.offset,n=t.offsetVertical,r=t.offsetHorizontal,i=t.offsetTop,o=t.offsetBottom,a=t.offsetLeft,s=t.offsetRight,u=t.threshold||e,l=n||u,c=r||u;return{top:i||l,bottom:o||l,left:a||c,right:s||c}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var t=this.getOffset(),e=(0,s.findDOMNode)(this),n=this.getEventNode();if((0,h.default)(e,n,t)){var r=this.props.onContentVisible;this.setState({visible:!0},(function(){r&&r()})),this.detachListeners()}}}},{key:"detachListeners",value:function(){var t=this.getEventNode();(0,u.remove)(window,"resize",this.lazyLoadHandler),(0,u.remove)(t,"scroll",this.lazyLoadHandler),t!==window&&(0,u.remove)(window,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.height,a=t.width,s=this.state.visible,u={height:r,width:a},l="LazyLoad"+(s?" is-visible":"")+(n?" "+n:"");return o.default.createElement(this.props.elementType,{className:l,style:u},s&&i.Children.only(e))}}]),e}(i.Component);e.default=p,p.propTypes={children:a.default.node.isRequired,className:a.default.string,debounce:a.default.bool,elementType:a.default.string,height:a.default.oneOfType([a.default.string,a.default.number]),offset:a.default.number,offsetBottom:a.default.number,offsetHorizontal:a.default.number,offsetLeft:a.default.number,offsetRight:a.default.number,offsetTop:a.default.number,offsetVertical:a.default.number,threshold:a.default.number,throttle:a.default.number,width:a.default.oneOfType([a.default.string,a.default.number]),onContentVisible:a.default.func},p.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t){t.exports=JSON.parse('{"version":"3.2.1"}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e){!function(){var r=n(744),i=n(412).utf8,o=n(412).bin,a=function(t,n){var a=r.wordsToBytes(function(t){t.constructor==String?t=i.stringToBytes(t):"undefined"!==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var n=r.bytesToWords(t),o=8*t.length,a=[],s=1732584193,u=-271733879,l=-1732584194,c=271733878,f=-1009589776;n[o>>5]|=128<<24-o%32,n[15+(o+64>>>9<<4)]=o;for(var h=0;h<n.length;h+=16){for(var d=s,p=u,g=l,v=c,m=f,y=0;y<80;y++){if(y<16)a[y]=n[h+y];else{var b=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=b<<1|b>>>31}var w=(s<<5|s>>>27)+f+(a[y]>>>0)+(y<20?1518500249+(u&l|~u&c):y<40?1859775393+(u^l^c):y<60?(u&l|u&c|l&c)-1894007588:(u^l^c)-899497514);f=c,c=l,l=u<<30|u>>>2,u=s,s=w}s+=d,u+=p,l+=g,c+=v,f+=m}return[s,u,l,c,f]}(t));return n&&n.asBytes?a:n&&n.asString?o.bytesToString(a):r.bytesToHex(a)};a._blocksize=16,a._digestsize=20,t.exports=a}()}).call(this,n(74).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var r=n(6),i=n(8),o=n(9),a=n(10),s=n(170),u=n(428),l=n(127),c=n(101),f=n(117),h="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),d=function(e){Object(o.a)(s,e);var n=Object(a.a)(s);function s(t){var e;return Object(r.a)(this,s),(e=n.call(this,t)).supportsBinary=!t.forceBase64,e}return Object(i.a)(s,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=h?{}:Object(l.c)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=c.d&&!h?e?new c.a(t,e):new c.a(t):new c.a(t,e,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=function(e){return t.onClose({description:"websocket connection closed",context:e})},this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(e){var n=this;this.writable=!1;for(var r=function(r){var i=e[r],o=r===e.length-1;Object(f.e)(i,n.supportsBinary,(function(e){var r={};c.d||(i.options&&(r.compress=i.options.compress),n.opts.perMessageDeflate&&("string"===typeof e?t.byteLength(e):e.length)<n.opts.perMessageDeflate.threshold&&(r.compress=!1));try{c.d?n.ws.send(e):n.ws.send(e,r)}catch(a){}o&&Object(c.c)((function(){n.writable=!0,n.emitReserved("drain")}),n.setTimeoutFn)}))},i=0;i<e.length;i++)r(i)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(u.a)()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},{key:"check",value:function(){return!!c.a}}]),s}(s.a)}).call(this,n(74).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return nt}));var r={};n.r(r),n.d(r,"protocol",(function(){return V})),n.d(r,"PacketType",(function(){return G})),n.d(r,"Encoder",(function(){return z})),n.d(r,"Decoder",(function(){return Y}));var i=n(6),o=n(8),a=n(16),s=n(9),u=n(10),l=n(170),c=n(428),f=n(117),h=!1;try{h="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(rt){}var d=h,p=n(94);function g(t){var e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||d))return new XMLHttpRequest}catch(n){}if(!e)try{return new(p.a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}var v=n(126),m=n(127);function y(){}var b=null!=new g({xdomain:!1}).responseType,w=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r;if(Object(i.a)(this,n),(r=e.call(this,t)).polling=!1,"undefined"!==typeof location){var o="https:"===location.protocol,a=location.port;a||(a=o?"443":"80"),r.xd="undefined"!==typeof location&&t.hostname!==location.hostname||a!==t.port}var s=t&&t.forceBase64;return r.supportsBinary=b&&!s,r.opts.withCredentials&&(r.cookieJar=void 0),r}return Object(o.a)(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(t){var e=this;Object(f.d)(t,this.socket.binaryType).forEach((function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose({description:"transport closed by the server"}),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,Object(f.f)(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emitReserved("drain")}))}))}},{key:"uri",value:function(){var t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(c.a)()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new S(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this,r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(function(t,e){n.onError("xhr post error",t,e)}))}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e,n){t.onError("xhr poll error",e,n)})),this.pollXhr=e}}]),n}(l.a),S=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var o;return Object(i.a)(this,n),o=e.call(this),Object(m.b)(Object(a.a)(o),r),o.opts=r,o.method=r.method||"GET",o.uri=t,o.data=void 0!==r.data?r.data:null,o.create(),o}return Object(o.a)(n,[{key:"create",value:function(){var t,e=this,r=Object(m.c)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;var i=this.xhr=new g(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(var o in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}catch(a){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{i.setRequestHeader("Accept","*/*")}catch(a){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){var t;3===i.readyState&&(null===(t=e.opts.cookieJar)||void 0===t||t.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof i.status?i.status:0)}),0))},i.send(this.data)}catch(a){return void this.setTimeoutFn((function(){e.onError(a)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=y,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(v.a);if(S.requestsCount=0,S.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",E);else if("function"===typeof addEventListener){var T="onpagehide"in p.a?"pagehide":"unload";addEventListener(T,E,!1)}function E(){for(var t in S.requests)S.requests.hasOwnProperty(t)&&S.requests[t].abort()}var _=n(937),k=n(101),x=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var t=this;"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((function(){t.onClose()})).catch((function(e){t.onError("webtransport error",e)})),this.transport.ready.then((function(){t.transport.createBidirectionalStream().then((function(e){var n=Object(f.a)(Number.MAX_SAFE_INTEGER,t.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Object(f.b)();i.readable.pipeTo(e.writable),t.writer=i.writable.getWriter();!function e(){r.read().then((function(n){var r=n.done,i=n.value;r||(t.onPacket(i),e())})).catch((function(t){}))}();var o={type:"open"};t.query.sid&&(o.data='{"sid":"'.concat(t.query.sid,'"}')),t.writer.write(o).then((function(){return t.onOpen()}))}))})))}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=function(n){var r=t[n],i=n===t.length-1;e.writer.write(r).then((function(){i&&Object(k.c)((function(){e.writable=!0,e.emitReserved("drain")}),e.setTimeoutFn)}))},r=0;r<t.length;r++)n(r)}},{key:"doClose",value:function(){var t;null===(t=this.transport)||void 0===t||t.close()}}]),n}(l.a),M={websocket:_.a,webtransport:x,polling:w},A=n(427),R=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,I=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function C(t){if(t.length>2e3)throw"URI too long";var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var i=R.exec(t||""),o={},a=14;a--;)o[I[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){var n=e.replace(/\/{2,9}/g,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1);"/"==e.slice(-1)&&n.splice(n.length-1,1);return n}(0,o.path),o.queryKey=function(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}var L=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,n),(r=e.call(this)).binaryType=k.b,r.writeBuffer=[],t&&"object"===typeof t&&(o=t,t=null),t?(t=C(t),o.hostname=t.host,o.secure="https"===t.protocol||"wss"===t.protocol,o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=C(o.host).host),Object(m.b)(Object(a.a)(r),o),r.secure=null!=o.secure?o.secure:"undefined"!==typeof location&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=r.secure?"443":"80"),r.hostname=o.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=o.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=o.transports||["polling","websocket","webtransport"],r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"===typeof r.opts.query&&(r.opts.query=Object(A.a)(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&(r.beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r.beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return Object(o.a)(n,[{key:"createTransport",value:function(t){var e=Object.assign({},this.opts.query);e.EIO=f.g,e.transport=t,this.id&&(e.sid=this.id);var n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new M[t](n)}},{key:"open",value:function(){var t,e=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(t){return e.onClose("transport close",t)}))}},{key:"probe",value:function(t){var e=this,r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;var o=function(){i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(t){if(!i)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,e.transport.pause((function(){i||"closed"!==e.readyState&&(f(),e.setTransport(r),r.send([{type:"upgrade"}]),e.emitReserved("upgrade",r),r=null,e.upgrading=!1,e.flush())}))}else{var o=new Error("probe error");o.transport=r.name,e.emitReserved("upgradeError",o)}})))};function a(){i||(i=!0,f(),r.close(),r=null)}var s=function(t){var n=new Error("probe error: "+t);n.transport=r.name,a(),e.emitReserved("upgradeError",n)};function u(){s("transport closed")}function l(){s("socket closed")}function c(t){r&&t.name!==r.name&&a()}var f=function(){r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",u),e.off("close",l),e.off("upgrading",c)};r.once("open",o),r.once("error",s),r.once("close",u),this.once("close",l),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((function(){i||r.open()}),200):r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var t=1,e=0;e<this.writeBuffer.length;e++){var n=this.writeBuffer[e].data;if(n&&(t+=Object(m.a)(n)),e>0&&t>this.maxPayload)return this.writeBuffer.slice(0,e);t+=2}return this.writeBuffer}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,r){if("function"===typeof e&&(r=e,e=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},r=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?r():e()})):this.upgrading?r():e()),this}},{key:"onError",value:function(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}]),n}(v.a);L.protocol=f.g;L.protocol;var D=n(87),O=n(40),P=n(36),N="function"===typeof ArrayBuffer,j=Object.prototype.toString,B="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===j.call(Blob),F="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===j.call(File);function U(t){return N&&(t instanceof ArrayBuffer||function(t){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||B&&t instanceof Blob||F&&t instanceof File}function H(t){var e=[],n=t.data,r=t;return r.data=function t(e,n){if(!e)return e;if(U(e)){var r={_placeholder:!0,num:n.length};return n.push(e),r}if(Array.isArray(e)){for(var i=new Array(e.length),o=0;o<e.length;o++)i[o]=t(e[o],n);return i}if("object"===typeof e&&!(e instanceof Date)){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=t(e[s],n));return a}return e}(n,e),r.attachments=e.length,{packet:r,buffers:e}}function K(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<n.length)return n[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"===typeof e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=t(e[i],n));return e}(t.data,e),delete t.attachments,t}var G,q=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],V=5;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(G||(G={}));var z=function(){function t(e){Object(i.a)(this,t),this.replacer=e}return Object(o.a)(t,[{key:"encode",value:function(t){return t.type!==G.EVENT&&t.type!==G.ACK||!function t(e,n){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)if(t(e[r]))return!0;return!1}if(U(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0;return!1}(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===G.EVENT?G.BINARY_EVENT:G.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==G.BINARY_EVENT&&t.type!==G.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}},{key:"encodeAsBinary",value:function(t){var e=H(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}]),t}();function W(t){return"[object Object]"===Object.prototype.toString.call(t)}var Y=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this)).reviver=t,r}return Object(o.a)(n,[{key:"add",value:function(t){var e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(e=this.decodeString(t)).type===G.BINARY_EVENT;r||e.type===G.BINARY_ACK?(e.type=r?G.EVENT:G.ACK,this.reconstructor=new X(e),0===e.attachments&&Object(O.a)(Object(P.a)(n.prototype),"emitReserved",this).call(this,"decoded",e)):Object(O.a)(Object(P.a)(n.prototype),"emitReserved",this).call(this,"decoded",e)}else{if(!U(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,Object(O.a)(Object(P.a)(n.prototype),"emitReserved",this).call(this,"decoded",e))}}},{key:"decodeString",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===G[r.type])throw new Error("unknown packet type "+r.type);if(r.type===G.BINARY_EVENT||r.type===G.BINARY_ACK){for(var i=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(i,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var a=e+1;++e;){if(","===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(a,e)}else r.nsp="/";var s=t.charAt(e+1);if(""!==s&&Number(s)==s){for(var u=e+1;++e;){var l=t.charAt(e);if(null==l||Number(l)!=l){--e;break}if(e===t.length)break}r.id=Number(t.substring(u,e+1))}if(t.charAt(++e)){var c=this.tryParse(t.substr(e));if(!n.isPayloadValid(r.type,c))throw new Error("invalid payload");r.data=c}return r}},{key:"tryParse",value:function(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(t,e){switch(t){case G.CONNECT:return W(e);case G.DISCONNECT:return void 0===e;case G.CONNECT_ERROR:return"string"===typeof e||W(e);case G.EVENT:case G.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===q.indexOf(e[0]));case G.ACK:case G.BINARY_ACK:return Array.isArray(e)}}}]),n}(v.a),X=function(){function t(e){Object(i.a)(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return Object(o.a)(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=K(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}();function $(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Z=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),J=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r,o){var a;return Object(i.a)(this,n),(a=e.call(this)).connected=!1,a.recovered=!1,a.receiveBuffer=[],a.sendBuffer=[],a._queue=[],a._queueSeq=0,a.ids=0,a.acks={},a.flags={},a.io=t,a.nsp=r,o&&o.auth&&(a.auth=o.auth),a._opts=Object.assign({},o),a.io._autoConnect&&a.open(),a}return Object(o.a)(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[$(t,"open",this.onopen.bind(this)),$(t,"packet",this.onpacket.bind(this)),$(t,"error",this.onerror.bind(this)),$(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(Z.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;var i={type:G.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var o=this.ids++,a=n.pop();this._registerAckCallback(o,a),i.id=o}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,u=this.flags.volatile&&(!s||!this.connected);return u||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n,r=this,i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==i){var o=this.io.setTimeoutFn((function(){delete r.acks[t];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===t&&r.sendBuffer.splice(n,1);e.call(r,new Error("operation has timed out"))}),i);this.acks[t]=function(){r.io.clearTimeoutFn(o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(r,[null].concat(n))}}else this.acks[t]=e}},{key:"emitWithAck",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(n,i){r.push((function(t,e){return o?t?i(t):n(e):n(t)})),e.emit.apply(e,[t].concat(r))}))}},{key:"_addToQueue",value:function(t){var e,n=this;"function"===typeof t[t.length-1]&&(e=t.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((function(t){if(r===n._queue[0]){var i=null!==t;if(i)r.tryCount>n._opts.retries&&(n._queue.shift(),e&&e(t));else if(n._queue.shift(),e){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];e.apply(void 0,[null].concat(a))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()}},{key:"_drainQueue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(t){this.packet({type:G.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case G.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case G.EVENT:case G.BINARY_EVENT:this.onevent(t);break;case G.ACK:case G.BINARY_ACK:this.onack(t);break;case G.DISCONNECT:this.ondisconnect();break;case G.CONNECT_ERROR:this.destroy();var e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,r=this._anyListeners.slice(),i=Object(D.a)(r);try{for(i.s();!(e=i.n()).done;){e.value.apply(this,t)}}catch(rt){i.e(rt)}finally{i.f()}}Object(O.a)(Object(P.a)(n.prototype),"emit",this).apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.packet({type:G.ACK,id:t,data:i})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"===typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){t.notifyOutgoingListeners(e),t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:G.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}},{key:"prependAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}},{key:"offAnyOutgoing",value:function(t){if(!this._anyOutgoingListeners)return this;if(t){for(var e=this._anyOutgoingListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var e,n=this._anyOutgoingListeners.slice(),r=Object(D.a)(n);try{for(r.s();!(e=r.n()).done;){e.value.apply(this,t.data)}}catch(rt){r.e(rt)}finally{r.f()}}}}]),n}(v.a);function Q(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Q.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Q.prototype.reset=function(){this.attempts=0},Q.prototype.setMin=function(t){this.ms=t},Q.prototype.setMax=function(t){this.max=t},Q.prototype.setJitter=function(t){this.jitter=t};var tt=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,o){var s,u;Object(i.a)(this,n),(s=e.call(this)).nsps={},s.subs=[],t&&"object"===typeof t&&(o=t,t=void 0),(o=o||{}).path=o.path||"/socket.io",s.opts=o,Object(m.b)(Object(a.a)(s),o),s.reconnection(!1!==o.reconnection),s.reconnectionAttempts(o.reconnectionAttempts||1/0),s.reconnectionDelay(o.reconnectionDelay||1e3),s.reconnectionDelayMax(o.reconnectionDelayMax||5e3),s.randomizationFactor(null!==(u=o.randomizationFactor)&&void 0!==u?u:.5),s.backoff=new Q({min:s.reconnectionDelay(),max:s.reconnectionDelayMax(),jitter:s.randomizationFactor()}),s.timeout(null==o.timeout?2e4:o.timeout),s._readyState="closed",s.uri=t;var l=o.parser||r;return s.encoder=new l.Encoder,s.decoder=new l.Decoder,s._autoConnect=!1!==o.autoConnect,s._autoConnect&&s.open(),s}return Object(o.a)(n,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new L(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=$(n,"open",(function(){r.onopen(),t&&t()})),o=function(n){e.cleanup(),e._readyState="closed",e.emitReserved("error",n),t?t(n):e.maybeReconnectOnOpen()},a=$(n,"error",o);if(!1!==this._timeout){var s=this._timeout,u=this.setTimeoutFn((function(){i(),o(new Error("timeout")),n.close()}),s);this.opts.autoUnref&&u.unref(),this.subs.push((function(){e.clearTimeoutFn(u)}))}return this.subs.push(i),this.subs.push(a),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push($(t,"ping",this.onping.bind(this)),$(t,"data",this.ondata.bind(this)),$(t,"error",this.onerror.bind(this)),$(t,"close",this.onclose.bind(this)),$(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}},{key:"ondecoded",value:function(t){var e=this;Object(k.c)((function(){e.emitReserved("packet",t)}),this.setTimeoutFn)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new J(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var r=n[e];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){t.clearTimeoutFn(r)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}]),n}(v.a),et={};function nt(t,e){"object"===typeof t&&(e=t,t=void 0);var n,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),r=C(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":"),o=i?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),i=r.source,o=r.id,a=r.path,s=et[o]&&a in et[o].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||s?n=new tt(i,e):(et[o]||(et[o]=new tt(i,e)),n=et[o]),r.query&&!e.query&&(e.query=r.queryKey),n.socket(r.path,e)}Object.assign(nt,{Manager:tt,Socket:J,io:nt,connect:nt})},function(t,e,n){"use strict";var r,i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(t){return"string"===typeof t&&a.test(t)},u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};e.a=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return c(r)}},,function(t,e,n){"use strict";n(307),n(583),n(479),n(586),n(388),n(983),n(984),n(985),n(986),n(987),n(988),n(989),n(990),n(992),n(993),n(994),n(995),n(996),n(997),n(998),n(999),n(1e3),n(1001),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1010),n(1011),n(1012),n(1013),n(1014),n(1015),n(1016),n(1017),n(1018),n(1019),n(480),n(1020),n(1031).polyfill()},function(t,e,n){"use strict";var r=n(478),i=n(222);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";n(24)({target:"Map",proto:!0,real:!0,forced:n(41)},{deleteAll:n(587)})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(149),u=n(49);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return!u(n,(function(t,n,i){if(!r(n,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(69),s=n(37),u=n(46),l=n(32),c=n(113),f=n(149),h=n(49);i({target:"Map",proto:!0,real:!0,forced:r},{filter:function(t){var e=l(this),n=f(e),r=a(t,arguments.length>1?arguments[1]:void 0),i=new(c(e,o("Map"))),d=u(i.set);return h(n,(function(t,n){r(n,t,e)&&s(d,i,t,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(149),u=n(49);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return u(n,(function(t,n,i){if(r(n,t,e))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(149),u=n(49);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return u(n,(function(t,n,i){if(r(n,t,e))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(t,e,n){n(24)({target:"Map",stat:!0},{from:n(588)})},function(t,e,n){"use strict";var r=n(24),i=n(37),o=n(34),a=n(46),s=n(260),u=n(49),l=o([].push);r({target:"Map",stat:!0},{groupBy:function(t,e){a(e);var n=s(t),r=new this,o=a(r.has),c=a(r.get),f=a(r.set);return u(n,(function(t){var n=e(t);i(o,r,n)?l(i(c,r,n),t):i(f,r,n,[t])}),{IS_ITERATOR:!0}),r}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(32),a=n(149),s=n(991),u=n(49);i({target:"Map",proto:!0,real:!0,forced:r},{includes:function(t){return u(a(o(this)),(function(e,n,r){if(s(n,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(24),i=n(37),o=n(49),a=n(46);r({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;a(e);var r=a(n.set);return o(t,(function(t){i(r,n,e(t),t)})),n}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(149),s=n(49);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){return s(a(o(this)),(function(e,n,r){if(n===t)return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(69),s=n(37),u=n(46),l=n(32),c=n(113),f=n(149),h=n(49);i({target:"Map",proto:!0,real:!0,forced:r},{mapKeys:function(t){var e=l(this),n=f(e),r=a(t,arguments.length>1?arguments[1]:void 0),i=new(c(e,o("Map"))),d=u(i.set);return h(n,(function(t,n){s(d,i,r(n,t,e),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(69),s=n(37),u=n(46),l=n(32),c=n(113),f=n(149),h=n(49);i({target:"Map",proto:!0,real:!0,forced:r},{mapValues:function(t){var e=l(this),n=f(e),r=a(t,arguments.length>1?arguments[1]:void 0),i=new(c(e,o("Map"))),d=u(i.set);return h(n,(function(t,n){s(d,i,t,r(n,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(46),a=n(32),s=n(49);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){for(var e=a(this),n=o(e.set),r=arguments.length,i=0;i<r;)s(arguments[i++],n,{that:e,AS_ENTRIES:!0});return e}})},function(t,e,n){n(24)({target:"Map",stat:!0},{of:n(589)})},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(41),a=n(32),s=n(46),u=n(149),l=n(49),c=i.TypeError;r({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(t){var e=a(this),n=u(e),r=arguments.length<2,i=r?void 0:arguments[1];if(s(t),l(n,(function(n,o){r?(r=!1,i=o):i=t(i,o,n,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw c("Reduce of empty map with no initial value");return i}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(149),u=n(49);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return u(n,(function(t,n,i){if(r(n,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(28),a=n(37),s=n(32),u=n(46),l=o.TypeError;i({target:"Map",proto:!0,real:!0,forced:r},{update:function(t,e){var n=s(this),r=u(n.get),i=u(n.has),o=u(n.set),c=arguments.length;u(e);var f=a(i,n,t);if(!f&&c<3)throw l("Updating absent value");var h=f?a(r,n,t):u(c>2?arguments[2]:void 0)(t,n);return a(o,n,t,e(h,t,n)),n}})},function(t,e,n){"use strict";n(24)({target:"Set",proto:!0,real:!0,forced:n(41)},{addAll:n(1002)})},function(t,e,n){"use strict";var r=n(37),i=n(46),o=n(32);t.exports=function(){for(var t=o(this),e=i(t.add),n=0,a=arguments.length;n<a;n++)r(e,t,arguments[n]);return t}},function(t,e,n){"use strict";n(24)({target:"Set",proto:!0,real:!0,forced:n(41)},{deleteAll:n(587)})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(37),s=n(46),u=n(32),l=n(113),c=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{difference:function(t){var e=u(this),n=new(l(e,o("Set")))(e),r=s(n.delete);return c(t,(function(t){a(r,n,t)})),n}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(223),u=n(49);r({target:"Set",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return!u(n,(function(t,n){if(!r(t,t,e))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(37),s=n(46),u=n(32),l=n(69),c=n(113),f=n(223),h=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{filter:function(t){var e=u(this),n=f(e),r=l(t,arguments.length>1?arguments[1]:void 0),i=new(c(e,o("Set"))),d=s(i.add);return h(n,(function(t){r(t,t,e)&&a(d,i,t)}),{IS_ITERATOR:!0}),i}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(223),u=n(49);r({target:"Set",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return u(n,(function(t,n){if(r(t,t,e))return n(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(t,e,n){n(24)({target:"Set",stat:!0},{from:n(588)})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(37),s=n(46),u=n(32),l=n(113),c=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(t){var e=u(this),n=new(l(e,o("Set"))),r=s(e.has),i=s(n.add);return c(t,(function(t){a(r,e,t)&&a(i,n,t)})),n}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(37),a=n(46),s=n(32),u=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(t){var e=s(this),n=a(e.has);return!u(t,(function(t,r){if(!0===o(n,e,t))return r()}),{INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(37),s=n(46),u=n(57),l=n(32),c=n(260),f=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:function(t){var e=c(this),n=l(t),r=n.has;return u(r)||(n=new(o("Set"))(t),r=s(n.has)),!f(e,(function(t,e){if(!1===a(r,n,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(37),a=n(46),s=n(32),u=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(t){var e=s(this),n=a(e.has);return!u(t,(function(t,r){if(!1===o(n,e,t))return r()}),{INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(34),a=n(32),s=n(64),u=n(223),l=n(49),c=o([].join),f=[].push;i({target:"Set",proto:!0,real:!0,forced:r},{join:function(t){var e=a(this),n=u(e),r=void 0===t?",":s(t),i=[];return l(n,f,{that:i,IS_ITERATOR:!0}),c(i,r)}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(69),s=n(37),u=n(46),l=n(32),c=n(113),f=n(223),h=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{map:function(t){var e=l(this),n=f(e),r=a(t,arguments.length>1?arguments[1]:void 0),i=new(c(e,o("Set"))),d=u(i.add);return h(n,(function(t){s(d,i,r(t,t,e))}),{IS_ITERATOR:!0}),i}})},function(t,e,n){n(24)({target:"Set",stat:!0},{of:n(589)})},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(41),a=n(46),s=n(32),u=n(223),l=n(49),c=i.TypeError;r({target:"Set",proto:!0,real:!0,forced:o},{reduce:function(t){var e=s(this),n=u(e),r=arguments.length<2,i=r?void 0:arguments[1];if(a(t),l(n,(function(n){r?(r=!1,i=n):i=t(i,n,n,e)}),{IS_ITERATOR:!0}),r)throw c("Reduce of empty set with no initial value");return i}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(32),a=n(69),s=n(223),u=n(49);r({target:"Set",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0);return u(n,(function(t,n){if(r(t,t,e))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(t,e,n){"use strict";var r=n(41),i=n(24),o=n(70),a=n(37),s=n(46),u=n(32),l=n(113),c=n(49);i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(t){var e=u(this),n=new(l(e,o("Set")))(e),r=s(n.delete),i=s(n.add);return c(t,(function(t){a(r,n,t)||a(i,n,t)})),n}})},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(70),a=n(46),s=n(32),u=n(113),l=n(49);r({target:"Set",proto:!0,real:!0,forced:i},{union:function(t){var e=s(this),n=new(u(e,o("Set")))(e);return l(t,a(n.add),{that:n}),n}})},function(t,e,n){"use strict";n(592),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(610),n(611),n(479),n(388),n(1024),n(1025),n(1026),n(480),"undefined"===typeof Promise&&(n(1027).enable(),self.Promise=n(1029)),"undefined"!==typeof window&&n(1030),Object.assign=n(481)},function(t,e,n){var r=n(28);t.exports=r},function(t,e,n){var r=n(28),i=n(320),o=n(319),a=n(52),s=n(55)("species"),u=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===u||i(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?u:e}},function(t,e,n){var r=n(32),i=n(584);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(a){i(t,"throw",a)}}},function(t,e,n){n(92)("dispose")},function(t,e,n){n(92)("observable")},function(t,e,n){n(92)("patternMatch")},function(t,e,n){"use strict";var r=n(612),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._Y=null,r._Z=null}function s(t,e){return e.some((function(e){return t instanceof e}))}e.disable=a,e.enable=function(t){t=t||{},o&&a();o=!0;var e=0,n=0,u={};function l(e){(t.allRejections||s(u[e].error,t.whitelist||i))&&(u[e].displayId=n++,t.onUnhandled?(u[e].logged=!0,t.onUnhandled(u[e].displayId,u[e].error)):(u[e].logged=!0,function(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach((function(t){console.warn("  "+t)}))}(u[e].displayId,u[e].error)))}r._Y=function(e){2===e._V&&u[e._1]&&(u[e._1].logged?function(e){u[e].logged&&(t.onHandled?t.onHandled(u[e].displayId,u[e].error):u[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[e].displayId+".")))}(e._1):clearTimeout(u[e._1].timeout),delete u[e._1])},r._Z=function(t,n){0===t._U&&(t._1=e++,u[t._1]={displayId:null,error:n,timeout:setTimeout(l.bind(null,t._1),s(n,i)?100:2e3),logged:!1})}}},function(t,e,n){"use strict";(function(e){function n(t){i.length||(r(),!0),i[i.length]=t}t.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>1024){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s="undefined"!==typeof e?e:self,u=s.MutationObserver||s.WebKitMutationObserver;function l(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}r="function"===typeof u?function(t){var e=1,n=new u(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(a):l(a),n.requestFlush=r,n.makeRequestCallFromTimer=l}).call(this,n(60))},function(t,e,n){"use strict";var r=n(612);t.exports=r;var i=c(!0),o=c(!1),a=c(null),s=c(void 0),u=c(0),l=c("");function c(t){var e=new r(r._0);return e._V=1,e._W=t,e}r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return s;if(!0===t)return i;if(!1===t)return o;if(0===t)return u;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(n){return new r((function(t,e){e(n)}))}return c(t)};var f=function(t){return"function"===typeof Array.from?(f=Array.from,Array.from(t)):(f=function(t){return Array.prototype.slice.call(t)},Array.prototype.slice.call(t))};r.all=function(t){var e=f(t);return new r((function(t,n){if(0===e.length)return t([]);var i=e.length;function o(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._V;)s=s._W;return 1===s._V?o(a,s._W):(2===s._V&&n(s._W),void s.then((function(t){o(a,t)}),n))}var u=s.then;if("function"===typeof u)return void new r(u.bind(s)).then((function(t){o(a,t)}),n)}e[a]=s,0===--i&&t(e)}for(var a=0;a<e.length;a++)o(a,e[a])}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){f(t).forEach((function(t){r.resolve(t).then(e,n)}))}))},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return p})),n.d(e,"Request",(function(){return S})),n.d(e,"Response",(function(){return _})),n.d(e,"DOMException",(function(){return x})),n.d(e,"fetch",(function(){return M}));var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,a="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in r,u="ArrayBuffer"in r;if(u)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&l.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return"string"!==typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():u&&a&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=g(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=v(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=f(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[f(t)]},p.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},p.prototype.set=function(t,e){this.map[f(t)]=h(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(t,e){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(e=e||{}).body;if(t instanceof S){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=function(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===e.cache||"no-cache"===e.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function T(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function E(t){var e=new p;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},b.call(S.prototype),b.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];_.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var x=r.DOMException;try{new x}catch(A){(x=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),x.prototype.constructor=x}function M(t,e){return new Promise((function(n,i){var o=new S(t,e);if(o.signal&&o.signal.aborted)return i(new x("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:E(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;setTimeout((function(){n(new _(e,t))}),0)},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){i(new x("Aborted","AbortError"))}),0)},s.open(o.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":u&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!==typeof e.headers||e.headers instanceof p?o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,h(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}M.polyfill=!0,r.fetch||(r.fetch=M,r.Headers=p,r.Request=S,r.Response=_)},function(t,e,n){(function(e){for(var r=n(1032),i="undefined"===typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,f=0,h=[];s=function(t){if(0===h.length){var e=r(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout((function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++f,callback:t,cancelled:!1}),f},u=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}t.exports=function(t){return s.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n(60))},function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(77))},function(t,e,n){"use strict";n(592),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(1034),n(1035),n(1036),n(1037),n(1038),n(1039),n(1040),n(608),n(1041),n(1042),n(307),n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051),n(1052),n(1053),n(1054),n(1055),n(1057),n(1058),n(1060),n(1061),n(610),n(583),n(1062),n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1071),n(1072),n(1073),n(1074),n(1075),n(1076),n(1077),n(1078),n(611),n(1079),n(1080),n(1081),n(1082),n(1084),n(1085),n(1086),n(1087),n(1088),n(1089),n(1090),n(1091),n(1092),n(1093),n(1094),n(1095),n(1096),n(1097),n(1098),n(1099),n(1100),n(1101),n(1102),n(1103),n(1104),n(1105),n(1106),n(1107),n(1108),n(1109),n(1110),n(1111),n(479),n(1112),n(1113),n(1114),n(1115),n(1121),n(1122),n(1123),n(1125),n(1126),n(1127),n(1128),n(1129),n(1130),n(1131),n(1132),n(1133),n(1134),n(1135),n(1136),n(636),n(1137),n(1138),n(586),n(1139),n(1140),n(1141),n(1142),n(388),n(1143),n(1144),n(1145),n(1146),n(1147),n(1148),n(1150),n(1151),n(1152),n(1153),n(1154),n(1155),n(1156),n(1157),n(1158),n(1159),n(1160),n(1161),n(1162),n(1163),n(1164),n(1165),n(1166),n(1167),n(1168),n(1169),n(1171),n(1172),n(1173),n(1174),n(1175),n(1176),n(1177),n(1178),n(1179),n(1180),n(1181),n(1182),n(1185),n(1186),n(1187),n(1188),n(1189),n(1190),n(1191),n(1192),n(1193),n(1194),n(1195),n(1196),n(1197),n(1198),n(1199),n(1200),n(1201),n(1202),n(1203),n(1204),n(1205),n(1206),n(1207),n(1208),n(480),n(1210),n(1211),n(1212),n(1214),n(643),n(496)},function(t,e,n){var r=n(24),i=n(613),o=n(191);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(t,e,n){var r=n(24),i=n(482),o=n(191);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,n){"use strict";var r=n(24),i=n(100).filter;r({target:"Array",proto:!0,forced:!n(322)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(24),i=n(100).find,o=n(191),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var r=n(24),i=n(100).findIndex,o=n(191),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){"use strict";var r=n(24),i=n(614),o=n(66),a=n(82),s=n(121),u=n(321);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:s(t)),r}})},function(t,e,n){"use strict";var r=n(24),i=n(614),o=n(46),a=n(66),s=n(82),u=n(321);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=s(n);return o(t),(e=u(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(24),i=n(313).includes,o=n(191);r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(24),i=n(34),o=n(313).indexOf,a=n(225),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:u||!l},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},function(t,e,n){"use strict";var r=n(24),i=n(34),o=n(308),a=n(105),s=n(225),u=i([].join),l=o!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(t){return u(a(this),void 0===t?",":t)}})},function(t,e,n){var r=n(24),i=n(615);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(24),i=n(100).map;r({target:"Array",proto:!0,forced:!n(322)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(33),a=n(319),s=n(224),u=i.Array;r({target:"Array",stat:!0,forced:o((function(){function t(){}return!(u.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new(a(this)?this:u)(e);e>t;)s(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(24),i=n(391).left,o=n(225),a=n(192),s=n(263);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(24),i=n(391).right,o=n(225),a=n(192),s=n(263);r({target:"Array",proto:!0,forced:!o("reduceRight")||!s&&a>79&&a<83},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(320),a=n(319),s=n(52),u=n(219),l=n(82),c=n(105),f=n(224),h=n(55),d=n(322),p=n(122),g=d("slice"),v=h("species"),m=i.Array,y=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var n,r,i,h=c(this),d=l(h),g=u(t,d),b=u(void 0===e?d:e,d);if(o(h)&&(n=h.constructor,(a(n)&&(n===m||o(n.prototype))||s(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return p(h,g,b);for(r=new(void 0===n?m:n)(y(b-g,0)),i=0;g<b;g++,i++)g in h&&f(r,i,h[g]);return r.length=i,r}})},function(t,e,n){"use strict";var r=n(24),i=n(34),o=n(46),a=n(66),s=n(82),u=n(64),l=n(33),c=n(483),f=n(225),h=n(616),d=n(617),p=n(192),g=n(484),v=[],m=i(v.sort),y=i(v.push),b=l((function(){v.sort(void 0)})),w=l((function(){v.sort(null)})),S=f("sort"),T=!l((function(){if(p)return p<70;if(!(h&&h>3)){if(d)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!w||!S||!T},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(T)return void 0===t?m(e):m(e,t);var n,r,i=[],l=s(e);for(r=0;r<l;r++)r in e&&y(i,e[r]);for(c(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<l;)delete e[r++];return e}})},function(t,e,n){n(262)("Array")},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(219),a=n(121),s=n(82),u=n(66),l=n(321),c=n(224),f=n(322)("splice"),h=i.TypeError,d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,i,f,g,v,m=u(this),y=s(m),b=o(t,y),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=y-b):(n=w-2,r=p(d(a(e),0),y-b)),y+n-r>9007199254740991)throw h("Maximum allowed length exceeded");for(i=l(m,r),f=0;f<r;f++)(g=b+f)in m&&c(i,f,m[g]);if(i.length=r,n<r){for(f=b;f<y-r;f++)v=f+n,(g=f+r)in m?m[v]=m[g]:delete m[v];for(f=y;f>y-r+n;f--)delete m[f-1]}else if(n>r)for(f=y-r;f>b;f--)v=f+n-1,(g=f+r-1)in m?m[v]=m[g]:delete m[v];for(f=0;f<n;f++)m[f+b]=arguments[f+2];return m.length=y-r+n,i}})},function(t,e,n){n(191)("flat")},function(t,e,n){n(191)("flatMap")},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(618),a=n(262),s=o.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e,n){var r=n(28).Array,i=Math.abs,o=Math.pow,a=Math.floor,s=Math.log,u=Math.LN2;t.exports={pack:function(t,e,n){var l,c,f,h=r(n),d=8*n-e-1,p=(1<<d)-1,g=p>>1,v=23===e?o(2,-24)-o(2,-77):0,m=t<0||0===t&&1/t<0?1:0,y=0;for((t=i(t))!=t||t===1/0?(c=t!=t?1:0,l=p):(l=a(s(t)/u),t*(f=o(2,-l))<1&&(l--,f*=2),(t+=l+g>=1?v/f:v*o(2,1-g))*f>=2&&(l++,f/=2),l+g>=p?(c=0,l=p):l+g>=1?(c=(t*f-1)*o(2,e),l+=g):(c=t*o(2,g-1)*o(2,e),l=0));e>=8;h[y++]=255&c,c/=256,e-=8);for(l=l<<e|c,d+=e;d>0;h[y++]=255&l,l/=256,d-=8);return h[--y]|=128*m,h},unpack:function(t,e){var n,r=t.length,i=8*r-e-1,a=(1<<i)-1,s=a>>1,u=i-7,l=r-1,c=t[l--],f=127&c;for(c>>=7;u>0;f=256*f+t[l],l--,u-=8);for(n=f&(1<<-u)-1,f>>=-u,u+=e;u>0;n=256*n+t[l],l--,u-=8);if(0===f)f=1-s;else{if(f===a)return n?NaN:c?-1/0:1/0;n+=o(2,e),f-=s}return(c?-1:1)*n*o(2,f-e)}}},function(t,e,n){var r=n(24),i=n(56);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(t,e,n){var r=n(65),i=n(84),o=n(1059),a=n(55)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},function(t,e,n){"use strict";var r=n(28),i=n(32),o=n(575),a=r.TypeError;t.exports=function(t){if(i(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw a("Incorrect hint");return o(this,t)}},function(t,e,n){"use strict";var r=n(57),i=n(52),o=n(67),a=n(138),s=n(55)("hasInstance"),u=Function.prototype;s in u||o.f(u,s,{value:function(t){if(!r(this)||!i(t))return!1;var e=this.prototype;if(!i(e))return t instanceof this;for(;t=a(t);)if(e===t)return!0;return!1}})},function(t,e,n){var r=n(58),i=n(220).EXISTS,o=n(34),a=n(67).f,s=Function.prototype,u=o(s.toString),l=/^\s*function ([^ (]*)/,c=o(l.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(t){return""}}})},function(t,e,n){var r=n(24),i=n(621),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:i(t-1+s(t-1)*s(t+1))}})},function(t,e,n){var r=n(24),i=Math.asinh,o=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,n){var r=n(24),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,n){var r=n(24),i=n(485),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return i(t=+t)*a(o(t),1/3)}})},function(t,e,n){var r=n(24),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-i(o(t+.5)*a):32}})},function(t,e,n){var r=n(24),i=n(392),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=i(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e,n){var r=n(24),i=n(392);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(t,e,n){n(24)({target:"Math",stat:!0},{fround:n(1070)})},function(t,e,n){var r=n(485),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=i(t),c=r(t);return o<l?c*(o/l/s+1/a-1/a)*l*s:(n=(e=(1+s/a)*o)-(e-o))>u||n!=n?c*(1/0):c*n}},function(t,e,n){var r=n(24),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,s=0,u=arguments.length,l=0;s<u;)l<(n=o(arguments[s++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*a(i)}})},function(t,e,n){var r=n(24),i=n(33),o=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(24),i=Math.log,o=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return i(t)*o}})},function(t,e,n){n(24)({target:"Math",stat:!0},{log1p:n(621)})},function(t,e,n){var r=n(24),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},function(t,e,n){n(24)({target:"Math",stat:!0},{sign:n(485)})},function(t,e,n){var r=n(24),i=n(33),o=n(392),a=Math.abs,s=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,n){var r=n(24),i=n(392),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(24),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},function(t,e,n){"use strict";var r=n(58),i=n(28),o=n(34),a=n(316),s=n(84),u=n(65),l=n(387),c=n(147),f=n(310),h=n(574),d=n(33),p=n(196).f,g=n(91).f,v=n(67).f,m=n(622),y=n(264).trim,b=i.Number,w=b.prototype,S=i.TypeError,T=o("".slice),E=o("".charCodeAt),_=function(t){var e=h(t,"number");return"bigint"==typeof e?e:k(e)},k=function(t){var e,n,r,i,o,a,s,u,l=h(t,"number");if(f(l))throw S("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=y(l),43===(e=E(l,0))||45===e){if(88===(n=E(l,2))||120===n)return NaN}else if(48===e){switch(E(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=T(l,2)).length,s=0;s<a;s++)if((u=E(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+l};if(a("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,M=function(t){var e=arguments.length<1?0:b(_(t)),n=this;return c(w,n)&&d((function(){m(n)}))?l(Object(e),n,M):e},A=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;A.length>R;R++)u(b,x=A[R])&&!u(M,x)&&v(M,x,g(b,x));M.prototype=w,w.constructor=M,s(i,"Number",M)}},function(t,e,n){n(24)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(24)({target:"Number",stat:!0},{isFinite:n(1083)})},function(t,e,n){var r=n(28).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(24)({target:"Number",stat:!0},{isInteger:n(486)})},function(t,e,n){n(24)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(24),i=n(486),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){n(24)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(24)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(24),i=n(623);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(t,e,n){var r=n(24),i=n(624);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(t,e,n){"use strict";var r=n(24),i=n(28),o=n(34),a=n(121),s=n(622),u=n(487),l=n(33),c=i.RangeError,f=i.String,h=Math.floor,d=o(u),p=o("".slice),g=o(1..toFixed),v=function t(e,n,r){return 0===n?r:n%2===1?t(e,n-1,r*e):t(e*e,n/2,r)},m=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=h(i/1e7)},y=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=h(r/e),r=r%e*1e7},b=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=f(t[e]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:l((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!l((function(){g({})}))},{toFixed:function(t){var e,n,r,i,o=s(this),u=a(t),l=[0,0,0,0,0,0],h="",g="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return f(o);if(o<0&&(h="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*v(2,69,1))-69)<0?o*v(2,-e,1):o/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(l,0,n),r=u;r>=7;)m(l,1e7,0),r-=7;for(m(l,v(10,r,1),0),r=e-1;r>=23;)y(l,1<<23),r-=23;y(l,1<<r),m(l,1,1),y(l,2),g=b(l)}else m(l,0,n),m(l,1<<-e,0),g=b(l)+d("0",u);return g=u>0?h+((i=g.length)<=u?"0."+d("0",u-i)+g:p(g,0,i-u)+"."+p(g,i-u)):h+g}})},function(t,e,n){var r=n(24),i=n(625);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){"use strict";var r=n(24),i=n(58),o=n(394),a=n(46),s=n(66),u=n(67);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(s(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(24),i=n(58),o=n(394),a=n(46),s=n(66),u=n(67);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(s(this),t,{set:a(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(24),i=n(626).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){var r=n(24),i=n(317),o=n(33),a=n(52),s=n(221).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,n){var r=n(24),i=n(49),o=n(224);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},function(t,e,n){var r=n(24),i=n(33),o=n(105),a=n(91).f,s=n(58),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){var r=n(24),i=n(58),o=n(472),a=n(105),s=n(91),u=n(224);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,l=o(r),c={},f=0;l.length>f;)void 0!==(n=i(r,e=l[f++]))&&u(c,e,n);return c}})},function(t,e,n){var r=n(24),i=n(33),o=n(475).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){var r=n(24),i=n(33),o=n(66),a=n(138),s=n(474);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){n(24)({target:"Object",stat:!0},{is:n(627)})},function(t,e,n){var r=n(24),i=n(385);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},function(t,e,n){var r=n(24),i=n(33),o=n(52),a=n(146),s=n(476),u=Object.isFrozen;r({target:"Object",stat:!0,forced:i((function(){u(1)}))||s},{isFrozen:function(t){return!o(t)||(!(!s||"ArrayBuffer"!=a(t))||!!u&&u(t))}})},function(t,e,n){var r=n(24),i=n(33),o=n(52),a=n(146),s=n(476),u=Object.isSealed;r({target:"Object",stat:!0,forced:i((function(){u(1)}))||s},{isSealed:function(t){return!o(t)||(!(!s||"ArrayBuffer"!=a(t))||!!u&&u(t))}})},function(t,e,n){var r=n(24),i=n(66),o=n(312);r({target:"Object",stat:!0,forced:n(33)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){"use strict";var r=n(24),i=n(58),o=n(394),a=n(66),s=n(194),u=n(138),l=n(91).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),r=s(t);do{if(e=l(n,r))return e.get}while(n=u(n))}})},function(t,e,n){"use strict";var r=n(24),i=n(58),o=n(394),a=n(66),s=n(194),u=n(138),l=n(91).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),r=s(t);do{if(e=l(n,r))return e.set}while(n=u(n))}})},function(t,e,n){var r=n(24),i=n(52),o=n(221).onFreeze,a=n(317),s=n(33),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExtensions:function(t){return u&&i(t)?u(o(t)):t}})},function(t,e,n){var r=n(24),i=n(52),o=n(221).onFreeze,a=n(317),s=n(33),u=Object.seal;r({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{seal:function(t){return u&&i(t)?u(o(t)):t}})},function(t,e,n){n(24)({target:"Object",stat:!0},{setPrototypeOf:n(197)})},function(t,e,n){var r=n(24),i=n(626).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,n){var r=n(24),i=n(623);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(t,e,n){var r=n(24),i=n(624);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){"use strict";var r,i,o,a,s=n(24),u=n(41),l=n(28),c=n(70),f=n(37),h=n(628),d=n(84),p=n(261),g=n(197),v=n(148),m=n(262),y=n(46),b=n(57),w=n(52),S=n(198),T=n(382),E=n(49),_=n(386),k=n(113),x=n(488).set,M=n(630),A=n(631),R=n(1118),I=n(632),C=n(1119),L=n(107),D=n(316),O=n(55),P=n(1120),N=n(263),j=n(192),B=O("species"),F=L.get,U=L.set,H=L.getterFor("Promise"),K=h&&h.prototype,G=h,q=K,V=l.TypeError,z=l.document,W=l.process,Y=I.f,X=Y,$=!!(z&&z.createEvent&&l.dispatchEvent),Z=b(l.PromiseRejectionEvent),J=!1,Q=D("Promise",(function(){var t=T(G),e=t!==String(G);if(!e&&66===j)return!0;if(u&&!q.finally)return!0;if(j>=51&&/native code/.test(t))return!1;var n=new G((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[B]=r,!(J=n.then((function(){}))instanceof r)||!e&&P&&!Z})),tt=Q||!_((function(t){G.all(t).catch((function(){}))})),et=function(t){var e;return!(!w(t)||!b(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;M((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,u,l=n[o++],c=i?l.ok:l.fail,h=l.resolve,d=l.reject,p=l.domain;try{c?(i||(2===t.rejection&&at(t),t.rejection=1),!0===c?a=r:(p&&p.enter(),a=c(r),p&&(p.exit(),u=!0)),a===l.promise?d(V("Promise-chain cycle")):(s=et(a))?f(s,a,h,d):h(a)):d(r)}catch(g){p&&!u&&p.exit(),d(g)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)}))}},rt=function(t,e,n){var r,i;$?((r=z.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!Z&&(i=l["on"+t])?i(r):"unhandledrejection"===t&&R("Unhandled promise rejection",n)},it=function(t){f(x,l,(function(){var e,n=t.facade,r=t.value;if(ot(t)&&(e=C((function(){N?W.emit("unhandledRejection",r,n):rt("unhandledrejection",n,r)})),t.rejection=N||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},at=function(t){f(x,l,(function(){var e=t.facade;N?W.emit("rejectionHandled",e):rt("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},lt=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw V("Promise can't be resolved itself");var i=et(n);i?M((function(){var r={done:!1};try{f(i,n,st(t,r,e),st(ut,r,e))}catch(o){ut(r,o,e)}})):(e.value=n,e.state=1,nt(e,!1))}catch(o){ut({done:!1},o,e)}}};if(Q&&(q=(G=function(t){S(this,q),y(t),f(r,this);var e=F(this);try{t(st(lt,e),st(ut,e))}catch(n){ut(e,n)}}).prototype,(r=function(t){U(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(q,{then:function(t,e){var n=H(this),r=n.reactions,i=Y(k(this,G));return i.ok=!b(t)||t,i.fail=b(e)&&e,i.domain=N?W.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&nt(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=F(t);this.promise=t,this.resolve=st(lt,e),this.reject=st(ut,e)},I.f=Y=function(t){return t===G||t===o?new i(t):X(t)},!u&&b(h)&&K!==Object.prototype)){a=K.then,J||(d(K,"then",(function(t,e){var n=this;return new G((function(t,e){f(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(K,"catch",q.catch,{unsafe:!0}));try{delete K.constructor}catch(ct){}g&&g(K,q)}s({global:!0,wrap:!0,forced:Q},{Promise:G}),v(G,"Promise",!1,!0),m("Promise"),o=c("Promise"),s({target:"Promise",stat:!0,forced:Q},{reject:function(t){var e=Y(this);return f(e.reject,void 0,t),e.promise}}),s({target:"Promise",stat:!0,forced:u||Q},{resolve:function(t){return A(u&&this===o?G:this,t)}}),s({target:"Promise",stat:!0,forced:tt},{all:function(t){var e=this,n=Y(e),r=n.resolve,i=n.reject,o=C((function(){var n=y(e.resolve),o=[],a=0,s=1;E(t,(function(t){var u=a++,l=!1;s++,f(n,e,t).then((function(t){l||(l=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Y(e),r=n.reject,i=C((function(){var i=y(e.resolve);E(t,(function(t){f(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(193),i=n(28);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(t,e,n){var r=n(193);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){"use strict";var r=n(24),i=n(41),o=n(628),a=n(33),s=n(70),u=n(57),l=n(113),c=n(631),f=n(84);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),n=u(t);return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&u(o)){var h=s("Promise").prototype.finally;o.prototype.finally!==h&&f(o.prototype,"finally",h,{unsafe:!0})}},function(t,e,n){var r=n(24),i=n(167),o=n(46),a=n(32);r({target:"Reflect",stat:!0,forced:!n(33)((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,n){return i(o(t),e,a(n))}})},function(t,e,n){var r=n(24),i=n(70),o=n(167),a=n(1124),s=n(390),u=n(32),l=n(52),c=n(166),f=n(33),h=i("Reflect","construct"),d=Object.prototype,p=[].push,g=f((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),v=!f((function(){h((function(){}))})),m=g||v;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){s(t),u(e);var n=arguments.length<3?t:s(arguments[2]);if(v&&!g)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,f=c(l(i)?i:d),m=o(t,f,e);return l(m)?m:f}})},function(t,e,n){"use strict";var r=n(28),i=n(34),o=n(46),a=n(52),s=n(65),u=n(122),l=r.Function,c=i([].concat),f=i([].join),h={},d=function(t,e,n){if(!s(h,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";h[e]=l("C,a","return new C("+f(r,",")+")")}return h[e](t,n)};t.exports=l.bind||function(t){var e=o(this),n=e.prototype,r=u(arguments,1),i=function(){var n=c(r,u(arguments));return this instanceof i?d(e,n.length,n):e.apply(t,n)};return a(n)&&(i.prototype=n),i}},function(t,e,n){var r=n(24),i=n(58),o=n(32),a=n(194),s=n(67);r({target:"Reflect",stat:!0,forced:n(33)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(t,e,n){o(t);var r=a(e);o(n);try{return s.f(t,r,n),!0}catch(i){return!1}}})},function(t,e,n){var r=n(24),i=n(32),o=n(91).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(24),i=n(37),o=n(52),a=n(32),s=n(633),u=n(91),l=n(138);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,f=arguments.length<3?e:arguments[2];return a(e)===f?e[n]:(r=u.f(e,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,f):o(c=l(e))?t(c,n,f):void 0}})},function(t,e,n){var r=n(24),i=n(58),o=n(32),a=n(91);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,n){var r=n(24),i=n(32),o=n(138);r({target:"Reflect",stat:!0,sham:!n(474)},{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){n(24)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(24),i=n(32),o=n(385);r({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),o(t)}})},function(t,e,n){n(24)({target:"Reflect",stat:!0},{ownKeys:n(472)})},function(t,e,n){var r=n(24),i=n(70),o=n(32);r({target:"Reflect",stat:!0,sham:!n(317)},{preventExtensions:function(t){o(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(n){return!1}}})},function(t,e,n){var r=n(24),i=n(37),o=n(32),a=n(52),s=n(633),u=n(33),l=n(67),c=n(91),f=n(138),h=n(195);r({target:"Reflect",stat:!0,forced:u((function(){var t=function(){},e=l.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,n,r){var u,d,p,g=arguments.length<4?e:arguments[3],v=c.f(o(e),n);if(!v){if(a(d=f(e)))return t(d,n,r,g);v=h(0)}if(s(v)){if(!1===v.writable||!a(g))return!1;if(u=c.f(g,n)){if(u.get||u.set||!1===u.writable)return!1;u.value=r,l.f(g,n,u)}else l.f(g,n,h(0,r))}else{if(void 0===(p=v.set))return!1;i(p,g,r)}return!0}})},function(t,e,n){var r=n(24),i=n(32),o=n(582),a=n(197);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),o(e);try{return a(t,e),!0}catch(n){return!1}}})},function(t,e,n){var r=n(58),i=n(28),o=n(34),a=n(316),s=n(387),u=n(137),l=n(67).f,c=n(196).f,f=n(147),h=n(489),d=n(64),p=n(395),g=n(490),v=n(84),m=n(33),y=n(65),b=n(107).enforce,w=n(262),S=n(55),T=n(634),E=n(635),_=S("match"),k=i.RegExp,x=k.prototype,M=i.SyntaxError,A=o(p),R=o(x.exec),I=o("".charAt),C=o("".replace),L=o("".indexOf),D=o("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,P=/a/g,N=/a/g,j=new k(P)!==P,B=g.UNSUPPORTED_Y,F=r&&(!j||B||T||E||m((function(){return N[_]=!1,k(P)!=P||k(N)==N||"/a/i"!=k(P,"i")})));if(a("RegExp",F)){for(var U=function(t,e){var n,r,i,o,a,l,c=f(x,this),p=h(t),g=void 0===e,v=[],m=t;if(!c&&p&&g&&t.constructor===U)return t;if((p||f(x,t))&&(t=t.source,g&&(e="flags"in m?m.flags:A(m))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),m=t,T&&"dotAll"in P&&(r=!!e&&L(e,"s")>-1)&&(e=C(e,/s/g,"")),n=e,B&&"sticky"in P&&(i=!!e&&L(e,"y")>-1)&&(e=C(e,/y/g,"")),E&&(t=(o=function(t){for(var e,n=t.length,r=0,i="",o=[],a={},s=!1,u=!1,l=0,c="";r<=n;r++){if("\\"===(e=I(t,r)))e+=I(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:R(O,D(t,r+1))&&(r+=2,u=!0),i+=e,l++;continue;case">"===e&&u:if(""===c||y(a,c))throw new M("Invalid capture group name");a[c]=!0,o[o.length]=[c,l],u=!1,c="";continue}u?c+=e:i+=e}return[i,o]}(t))[0],v=o[1]),a=s(k(t,e),c?this:x,U),(r||i||v.length)&&(l=b(a),r&&(l.dotAll=!0,l.raw=U(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=I(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+I(t,++r);return i}(t),n)),i&&(l.sticky=!0),v.length&&(l.groups=v)),t!==m)try{u(a,"source",""===m?"(?:)":m)}catch(w){}return a},H=function(t){t in U||l(U,t,{configurable:!0,get:function(){return k[t]},set:function(e){k[t]=e}})},K=c(k),G=0;K.length>G;)H(K[G++]);x.constructor=U,U.prototype=x,v(i,"RegExp",U)}w("RegExp")},function(t,e,n){var r=n(58),i=n(67),o=n(395),a=n(33),s=RegExp.prototype;r&&a((function(){return"sy"!==Object.getOwnPropertyDescriptor(s,"flags").get.call({dotAll:!0,sticky:!0})}))&&i.f(s,"flags",{configurable:!0,get:o})},function(t,e,n){"use strict";var r=n(34),i=n(220).PROPER,o=n(84),a=n(32),s=n(147),u=n(64),l=n(33),c=n(395),f=RegExp.prototype,h=f.toString,d=r(c),p=l((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),g=i&&"toString"!=h.name;(p||g)&&o(RegExp.prototype,"toString",(function(){var t=a(this),e=u(t.source),n=t.flags;return"/"+e+"/"+u(void 0===n&&s(f,t)&&!("flags"in f)?d(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";var r=n(24),i=n(389).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(24),i=n(34),o=n(91).f,a=n(136),s=n(64),u=n(491),l=n(106),c=n(492),f=n(41),h=i("".endsWith),d=i("".slice),p=Math.min,g=c("endsWith");r({target:"String",proto:!0,forced:!(!f&&!g&&!!function(){var t=o(String.prototype,"endsWith");return t&&!t.writable}())&&!g},{endsWith:function(t){var e=s(l(this));u(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:p(a(n),r),o=s(t);return h?h(e,o,i):d(e,i-o.length,i)===o}})},function(t,e,n){var r=n(24),i=n(28),o=n(34),a=n(219),s=i.RangeError,u=String.fromCharCode,l=String.fromCodePoint,c=o([].join);r({target:"String",stat:!0,forced:!!l&&1!=l.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],a(e,1114111)!==e)throw s(e+" is not a valid code point");n[i]=e<65536?u(e):u(55296+((e-=65536)>>10),e%1024+56320)}return c(n,"")}})},function(t,e,n){"use strict";var r=n(24),i=n(34),o=n(491),a=n(106),s=n(64),u=n(492),l=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~l(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(37),i=n(397),o=n(32),a=n(136),s=n(64),u=n(106),l=n(218),c=n(493),f=n(398);i("match",(function(t,e,n){return[function(e){var n=u(this),i=void 0==e?void 0:l(e,t);return i?r(i,e,n):new RegExp(e)[t](s(n))},function(t){var r=o(this),i=s(t),u=n(e,r,i);if(u.done)return u.value;if(!r.global)return f(r,i);var l=r.unicode;r.lastIndex=0;for(var h,d=[],p=0;null!==(h=f(r,i));){var g=s(h[0]);d[p]=g,""===g&&(r.lastIndex=c(i,a(r.lastIndex),l)),p++}return 0===p?null:d}]}))},function(t,e,n){"use strict";var r=n(24),i=n(637).end;r({target:"String",proto:!0,forced:n(638)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(24),i=n(637).start;r({target:"String",proto:!0,forced:n(638)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(24),i=n(34),o=n(105),a=n(66),s=n(64),u=n(82),l=i([].push),c=i([].join);r({target:"String",stat:!0},{raw:function(t){for(var e=o(a(t).raw),n=u(e),r=arguments.length,i=[],f=0;n>f;){if(l(i,s(e[f++])),f===n)return c(i,"");f<r&&l(i,s(arguments[f]))}}})},function(t,e,n){n(24)({target:"String",proto:!0},{repeat:n(487)})},function(t,e,n){"use strict";var r=n(167),i=n(37),o=n(34),a=n(397),s=n(33),u=n(32),l=n(57),c=n(121),f=n(136),h=n(64),d=n(106),p=n(493),g=n(218),v=n(1149),m=n(398),y=n(55)("replace"),b=Math.max,w=Math.min,S=o([].concat),T=o([].push),E=o("".indexOf),_=o("".slice),k="$0"==="a".replace(/./,"$0"),x=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(t,e,n){var o=x?"$":"$0";return[function(t,n){var r=d(this),o=void 0==t?void 0:g(t,y);return o?i(o,t,r,n):i(e,h(r),t,n)},function(t,i){var a=u(this),s=h(t);if("string"==typeof i&&-1===E(i,o)&&-1===E(i,"$<")){var d=n(e,a,s,i);if(d.done)return d.value}var g=l(i);g||(i=h(i));var y=a.global;if(y){var k=a.unicode;a.lastIndex=0}for(var x=[];;){var M=m(a,s);if(null===M)break;if(T(x,M),!y)break;""===h(M[0])&&(a.lastIndex=p(s,f(a.lastIndex),k))}for(var A,R="",I=0,C=0;C<x.length;C++){for(var L=h((M=x[C])[0]),D=b(w(c(M.index),s.length),0),O=[],P=1;P<M.length;P++)T(O,void 0===(A=M[P])?A:String(A));var N=M.groups;if(g){var j=S([L],O,D,s);void 0!==N&&T(j,N);var B=h(r(i,void 0,j))}else B=v(L,s,D,O,N,i);D>=I&&(R+=_(s,I,D)+B,I=D+L.length)}return R+_(s,I)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!k||x)},function(t,e,n){var r=n(34),i=n(66),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,h){var d=n+t.length,p=r.length,g=c;return void 0!==f&&(f=i(f),g=l),s(h,g,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,d);case"<":l=f[u(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>p){var h=o(c/10);return 0===h?i:h<=p?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}l=r[c-1]}return void 0===l?"":l}))}},function(t,e,n){"use strict";var r=n(37),i=n(397),o=n(32),a=n(106),s=n(627),u=n(64),l=n(218),c=n(398);i("search",(function(t,e,n){return[function(e){var n=a(this),i=void 0==e?void 0:l(e,t);return i?r(i,e,n):new RegExp(e)[t](u(n))},function(t){var r=o(this),i=u(t),a=n(e,r,i);if(a.done)return a.value;var l=r.lastIndex;s(l,0)||(r.lastIndex=0);var f=c(r,i);return s(r.lastIndex,l)||(r.lastIndex=l),null===f?-1:f.index}]}))},function(t,e,n){"use strict";var r=n(167),i=n(37),o=n(34),a=n(397),s=n(489),u=n(32),l=n(106),c=n(113),f=n(493),h=n(136),d=n(64),p=n(218),g=n(122),v=n(398),m=n(396),y=n(490),b=n(33),w=y.UNSUPPORTED_Y,S=Math.min,T=[].push,E=o(/./.exec),_=o(T),k=o("".slice);a("split",(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=d(l(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!s(t))return i(e,o,t,a);for(var u,c,f,h=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,y=new RegExp(t.source,p+"g");(u=i(m,y,o))&&!((c=y.lastIndex)>v&&(_(h,k(o,v,u.index)),u.length>1&&u.index<o.length&&r(T,h,g(u,1)),f=u[0].length,v=c,h.length>=a));)y.lastIndex===u.index&&y.lastIndex++;return v===o.length?!f&&E(y,"")||_(h,""):_(h,k(o,v)),h.length>a?g(h,0,a):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=l(this),a=void 0==e?void 0:p(e,t);return a?i(a,e,r,n):i(o,d(r),e,n)},function(t,r){var i=u(this),a=d(t),s=n(o,i,a,r,o!==e);if(s.done)return s.value;var l=c(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),m=new l(w?"^(?:"+i.source+")":i,g),y=void 0===r?4294967295:r>>>0;if(0===y)return[];if(0===a.length)return null===v(m,a)?[a]:[];for(var b=0,T=0,E=[];T<a.length;){m.lastIndex=w?0:T;var x,M=v(m,w?k(a,T):a);if(null===M||(x=S(h(m.lastIndex+(w?T:0)),a.length))===b)T=f(a,T,p);else{if(_(E,k(a,b,T)),E.length===y)return E;for(var A=1;A<=M.length-1;A++)if(_(E,M[A]),E.length===y)return E;T=b=x}}return _(E,k(a,b)),E}]}),!!b((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},function(t,e,n){"use strict";var r=n(24),i=n(34),o=n(91).f,a=n(136),s=n(64),u=n(491),l=n(106),c=n(492),f=n(41),h=i("".startsWith),d=i("".slice),p=Math.min,g=c("startsWith");r({target:"String",proto:!0,forced:!(!f&&!g&&!!function(){var t=o(String.prototype,"startsWith");return t&&!t.writable}())&&!g},{startsWith:function(t){var e=s(l(this));u(t);var n=a(p(arguments.length>1?arguments[1]:void 0,e.length)),r=s(t);return h?h(e,r,n):d(e,n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(24),i=n(264).trim;r({target:"String",proto:!0,forced:n(494)("trim")},{trim:function(){return i(this)}})},function(t,e,n){"use strict";var r=n(24),i=n(264).end,o=n(494)("trimEnd"),a=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,name:"trimEnd",forced:o},{trimEnd:a,trimRight:a})},function(t,e,n){"use strict";var r=n(24),i=n(264).start,o=n(494)("trimStart"),a=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,name:"trimStart",forced:o},{trimStart:a,trimLeft:a})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("big")},{big:function(){return i(this,"big","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("blink")},{blink:function(){return i(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("bold")},{bold:function(){return i(this,"b","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("italics")},{italics:function(){return i(this,"i","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("link")},{link:function(t){return i(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("small")},{small:function(){return i(this,"small","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("strike")},{strike:function(){return i(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("sub")},{sub:function(){return i(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(24),i=n(114);r({target:"String",proto:!0,forced:n(115)("sup")},{sup:function(){return i(this,"sup","","")}})},function(t,e,n){n(168)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(28),i=n(121),o=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw o("The argument can't be less than 0");return e}},function(t,e,n){n(168)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(168)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(168)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(168)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(168)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(168)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(168)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(168)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(34),i=n(56),o=r(n(613)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return o(a(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(100).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(37),o=n(482),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){var e=arguments.length;return i(o,a(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(100).filter,o=n(1183),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=i(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)}))},function(t,e,n){var r=n(1184),i=n(399);t.exports=function(t,e){return r(i(t),e)}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i}},function(t,e,n){"use strict";var r=n(56),i=n(100).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(100).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(100).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(495);(0,n(56).exportTypedArrayStaticMethod)("from",n(640),r)},function(t,e,n){"use strict";var r=n(56),i=n(313).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(313).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(28),i=n(34),o=n(220).PROPER,a=n(56),s=n(307),u=n(55)("iterator"),l=r.Uint8Array,c=i(s.values),f=i(s.keys),h=i(s.entries),d=a.aTypedArray,p=a.exportTypedArrayMethod,g=l&&l.prototype[u],v=!!g&&"values"===g.name,m=function(){return c(d(this))};p("entries",(function(){return h(d(this))})),p("keys",(function(){return f(d(this))})),p("values",m,o&&!v),p(u,m,o&&!v)},function(t,e,n){"use strict";var r=n(56),i=n(34),o=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",(function(t){return s(o(this),t)}))},function(t,e,n){"use strict";var r=n(56),i=n(167),o=n(615),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return i(o,a(this),e>1?[t,arguments[1]]:[t])}))},function(t,e,n){"use strict";var r=n(56),i=n(100).map,o=n(399),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(o(t))(e)}))}))},function(t,e,n){"use strict";var r=n(56),i=n(495),o=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(o(this))(e);e>t;)n[t]=arguments[t++];return n}),i)},function(t,e,n){"use strict";var r=n(56),i=n(391).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=n(391).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(56),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var t,e=i(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(28),i=n(56),o=n(82),a=n(639),s=n(66),u=n(33),l=r.RangeError,c=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(t){c(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=s(t),i=o(r),u=0;if(i+e>n)throw l("Wrong length");for(;u<i;)this[e+u]=r[u++]}),u((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(56),i=n(399),o=n(33),a=n(122),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(t,e){for(var n=a(s(this),t,e),r=i(this),o=0,u=n.length,l=new r(u);u>o;)l[o]=n[o++];return l}),o((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(56),i=n(100).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(28),i=n(34),o=n(33),a=n(46),s=n(483),u=n(56),l=n(616),c=n(617),f=n(192),h=n(484),d=r.Array,p=u.aTypedArray,g=u.exportTypedArrayMethod,v=r.Uint16Array,m=v&&i(v.prototype.sort),y=!!m&&!(o((function(){m(new v(2),null)}))&&o((function(){m(new v(2),{})}))),b=!!m&&!o((function(){if(f)return f<74;if(l)return l<67;if(c)return!0;if(h)return h<602;var t,e,n=new v(516),r=d(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(m(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));g("sort",(function(t){return void 0!==t&&a(t),b?m(this,t):s(p(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!b||y)},function(t,e,n){"use strict";var r=n(56),i=n(136),o=n(219),a=n(399),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),r=n.length,u=o(t,r);return new(a(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-u))}))},function(t,e,n){"use strict";var r=n(28),i=n(167),o=n(56),a=n(33),s=n(122),u=r.Int8Array,l=o.aTypedArray,c=o.exportTypedArrayMethod,f=[].toLocaleString,h=!!u&&a((function(){f.call(new u(1))}));c("toLocaleString",(function(){return i(f,h?s(l(this)):l(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!a((function(){u.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(56).exportTypedArrayMethod,i=n(33),o=n(28),a=n(34),s=o.Uint8Array,u=s&&s.prototype||{},l=[].toString,c=a([].join);i((function(){l.call({})}))&&(l=function(){return c(this)});var f=u.toString!=l;r("toString",l,f)},function(t,e,n){"use strict";var r,i=n(28),o=n(34),a=n(261),s=n(221),u=n(384),l=n(641),c=n(52),f=n(385),h=n(107).enforce,d=n(578),p=!i.ActiveXObject&&"ActiveXObject"in i,g=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},v=u("WeakMap",g,l);if(d&&p){r=l.getConstructor(g,"WeakMap",!0),s.enable();var m=v.prototype,y=o(m.delete),b=o(m.has),w=o(m.get),S=o(m.set);a(m,{delete:function(t){if(c(t)&&!f(t)){var e=h(this);return e.frozen||(e.frozen=new r),y(this,t)||e.frozen.delete(t)}return y(this,t)},has:function(t){if(c(t)&&!f(t)){var e=h(this);return e.frozen||(e.frozen=new r),b(this,t)||e.frozen.has(t)}return b(this,t)},get:function(t){if(c(t)&&!f(t)){var e=h(this);return e.frozen||(e.frozen=new r),b(this,t)?w(this,t):e.frozen.get(t)}return w(this,t)},set:function(t,e){if(c(t)&&!f(t)){var n=h(this);n.frozen||(n.frozen=new r),b(this,t)?S(this,t,e):n.frozen.set(t,e)}else S(this,t,e);return this}})}},function(t,e,n){"use strict";n(384)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(641))},function(t,e,n){var r=n(28),i=n(590),o=n(591),a=n(1209),s=n(137),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var l in i)i[l]&&u(r[l]&&r[l].prototype);u(o)},function(t,e,n){"use strict";var r=n(100).forEach,i=n(225)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(24),i=n(28),o=n(488);r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){var r=n(24),i=n(28),o=n(630),a=n(263),s=i.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=a&&s.domain;o(e?e.bind(t):t)}})},function(t,e,n){"use strict";n(388);var r,i=n(24),o=n(58),a=n(642),s=n(28),u=n(69),l=n(37),c=n(34),f=n(572),h=n(84),d=n(198),p=n(65),g=n(625),v=n(609),m=n(122),y=n(389).codeAt,b=n(1213),w=n(64),S=n(148),T=n(643),E=n(107),_=E.set,k=E.getterFor("URL"),x=T.URLSearchParams,M=T.getState,A=s.URL,R=s.TypeError,I=s.parseInt,C=Math.floor,L=Math.pow,D=c("".charAt),O=c(/./.exec),P=c([].join),N=c(1..toString),j=c([].pop),B=c([].push),F=c("".replace),U=c([].shift),H=c("".split),K=c("".slice),G=c("".toLowerCase),q=c([].unshift),V=/[a-z]/i,z=/[\d+-.a-z]/i,W=/\d/,Y=/^0x/i,X=/^[0-7]+$/,$=/^\d+$/,Z=/^[\da-f]+$/i,J=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Q=/[\0\t\n\r #/:<>?@[\\\]^|]/,tt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,et=/[\t\n\r]/g,nt=function(t,e){var n,r,i;if("["==D(e,0)){if("]"!=D(e,e.length-1))return"Invalid host";if(!(n=it(K(e,1,-1))))return"Invalid host";t.host=n}else if(ht(t)){if(e=b(e),O(J,e))return"Invalid host";if(null===(n=rt(e)))return"Invalid host";t.host=n}else{if(O(Q,e))return"Invalid host";for(n="",r=v(e),i=0;i<r.length;i++)n+=ct(r[i],at);t.host=n}},rt=function(t){var e,n,r,i,o,a,s,u=H(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(o=10,i.length>1&&"0"==D(i,0)&&(o=O(Y,i)?16:8,i=K(i,8==o?1:2)),""===i)a=0;else{if(!O(10==o?$:8==o?X:Z,i))return t;a=I(i,o)}B(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=L(256,5-e))return null}else if(a>255)return null;for(s=j(n),r=0;r<n.length;r++)s+=n[r]*L(256,3-r);return s},it=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,f=0,h=function(){return D(t,f)};if(":"==h()){if(":"!=D(t,1))return;f+=2,c=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;n<4&&O(Z,h());)e=16*e+I(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!O(W,h()))return;for(;O(W,h());){if(o=I(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[l++]=e}else{if(null!==c)return;f++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},ot=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)q(e,t%256),t=C(t/256);return P(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=N(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},st=g({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ut=g({},st,{"#":1,"?":1,"{":1,"}":1}),lt=g({},ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ct=function(t,e){var n=y(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ht=function(t){return p(ft,t.scheme)},dt=function(t){return""!=t.username||""!=t.password},pt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},gt=function(t,e){var n;return 2==t.length&&O(V,D(t,0))&&(":"==(n=D(t,1))||!e&&"|"==n)},vt=function(t){var e;return t.length>1&&gt(K(t,0,2))&&(2==t.length||"/"===(e=D(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&gt(e[0],!0)||e.length--},yt=function(t){return"."===t||"%2e"===G(t)},bt={},wt={},St={},Tt={},Et={},_t={},kt={},xt={},Mt={},At={},Rt={},It={},Ct={},Lt={},Dt={},Ot={},Pt={},Nt={},jt={},Bt={},Ft={},Ut=function(t,e,n,i){var o,a,s,u,l,c=n||bt,f=0,h="",d=!1,g=!1,y=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=F(e,tt,"")),e=F(e,et,""),o=v(e);f<=o.length;){switch(a=o[f],c){case bt:if(!a||!O(V,a)){if(n)return"Invalid scheme";c=St;continue}h+=G(a),c=wt;break;case wt:if(a&&(O(z,a)||"+"==a||"-"==a||"."==a))h+=G(a);else{if(":"!=a){if(n)return"Invalid scheme";h="",c=St,f=0;continue}if(n&&(ht(t)!=p(ft,h)||"file"==h&&(dt(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(ht(t)&&ft[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?c=Lt:ht(t)&&i&&i.scheme==t.scheme?c=Tt:ht(t)?c=xt:"/"==o[f+1]?(c=Et,f++):(t.cannotBeABaseURL=!0,B(t.path,""),c=jt)}break;case St:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=m(i.path),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=Ft;break}c="file"==i.scheme?Lt:_t;continue;case Tt:if("/"!=a||"/"!=o[f+1]){c=_t;continue}c=Mt,f++;break;case Et:if("/"==a){c=At;break}c=Nt;continue;case _t:if(t.scheme=i.scheme,a==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=m(i.path),t.query=i.query;else if("/"==a||"\\"==a&&ht(t))c=kt;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=m(i.path),t.query="",c=Bt;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=m(i.path),t.path.length--,c=Nt;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=m(i.path),t.query=i.query,t.fragment="",c=Ft}break;case kt:if(!ht(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=Nt;continue}c=At}else c=Mt;break;case xt:if(c=Mt,"/"!=a||"/"!=D(h,f+1))continue;f++;break;case Mt:if("/"!=a&&"\\"!=a){c=At;continue}break;case At:if("@"==a){d&&(h="%40"+h),d=!0,s=v(h);for(var b=0;b<s.length;b++){var w=s[b];if(":"!=w||y){var S=ct(w,lt);y?t.password+=S:t.username+=S}else y=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&ht(t)){if(d&&""==h)return"Invalid authority";f-=v(h).length+1,h="",c=Rt}else h+=a;break;case Rt:case It:if(n&&"file"==t.scheme){c=Ot;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&ht(t)){if(ht(t)&&""==h)return"Invalid host";if(n&&""==h&&(dt(t)||null!==t.port))return;if(u=nt(t,h))return u;if(h="",c=Pt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),h+=a}else{if(""==h)return"Invalid host";if(u=nt(t,h))return u;if(h="",c=Ct,n==It)return}break;case Ct:if(!O(W,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&ht(t)||n){if(""!=h){var T=I(h,10);if(T>65535)return"Invalid port";t.port=ht(t)&&T===ft[t.scheme]?null:T,h=""}if(n)return;c=Pt;continue}return"Invalid port"}h+=a;break;case Lt:if(t.scheme="file","/"==a||"\\"==a)c=Dt;else{if(!i||"file"!=i.scheme){c=Nt;continue}if(a==r)t.host=i.host,t.path=m(i.path),t.query=i.query;else if("?"==a)t.host=i.host,t.path=m(i.path),t.query="",c=Bt;else{if("#"!=a){vt(P(m(o,f),""))||(t.host=i.host,t.path=m(i.path),mt(t)),c=Nt;continue}t.host=i.host,t.path=m(i.path),t.query=i.query,t.fragment="",c=Ft}}break;case Dt:if("/"==a||"\\"==a){c=Ot;break}i&&"file"==i.scheme&&!vt(P(m(o,f),""))&&(gt(i.path[0],!0)?B(t.path,i.path[0]):t.host=i.host),c=Nt;continue;case Ot:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&gt(h))c=Nt;else if(""==h){if(t.host="",n)return;c=Pt}else{if(u=nt(t,h))return u;if("localhost"==t.host&&(t.host=""),n)return;h="",c=Pt}continue}h+=a;break;case Pt:if(ht(t)){if(c=Nt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(c=Nt,"/"!=a))continue}else t.fragment="",c=Ft;else t.query="",c=Bt;break;case Nt:if(a==r||"/"==a||"\\"==a&&ht(t)||!n&&("?"==a||"#"==a)){if(".."===(l=G(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(mt(t),"/"==a||"\\"==a&&ht(t)||B(t.path,"")):yt(h)?"/"==a||"\\"==a&&ht(t)||B(t.path,""):("file"==t.scheme&&!t.path.length&&gt(h)&&(t.host&&(t.host=""),h=D(h,0)+":"),B(t.path,h)),h="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)U(t.path);"?"==a?(t.query="",c=Bt):"#"==a&&(t.fragment="",c=Ft)}else h+=ct(a,ut);break;case jt:"?"==a?(t.query="",c=Bt):"#"==a?(t.fragment="",c=Ft):a!=r&&(t.path[0]+=ct(a,at));break;case Bt:n||"#"!=a?a!=r&&("'"==a&&ht(t)?t.query+="%27":t.query+="#"==a?"%23":ct(a,at)):(t.fragment="",c=Ft);break;case Ft:a!=r&&(t.fragment+=ct(a,st))}f++}},Ht=function(t){var e,n,r=d(this,Kt),i=arguments.length>1?arguments[1]:void 0,a=w(t),s=_(r,{type:"URL"});if(void 0!==i)try{e=k(i)}catch(f){if(n=Ut(e={},w(i)))throw R(n)}if(n=Ut(s,a,null,e))throw R(n);var u=s.searchParams=new x,c=M(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=w(u)||null},o||(r.href=l(Gt,r),r.origin=l(qt,r),r.protocol=l(Vt,r),r.username=l(zt,r),r.password=l(Wt,r),r.host=l(Yt,r),r.hostname=l(Xt,r),r.port=l($t,r),r.pathname=l(Zt,r),r.search=l(Jt,r),r.searchParams=l(Qt,r),r.hash=l(te,r))},Kt=Ht.prototype,Gt=function(){var t=k(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==i?(l+="//",dt(t)&&(l+=n+(r?":"+r:"")+"@"),l+=ot(i),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+P(a,"/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},qt=function(){var t=k(this),e=t.scheme,n=t.port;if("blob"==e)try{return new Ht(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&ht(t)?e+"://"+ot(t.host)+(null!==n?":"+n:""):"null"},Vt=function(){return k(this).scheme+":"},zt=function(){return k(this).username},Wt=function(){return k(this).password},Yt=function(){var t=k(this),e=t.host,n=t.port;return null===e?"":null===n?ot(e):ot(e)+":"+n},Xt=function(){var t=k(this).host;return null===t?"":ot(t)},$t=function(){var t=k(this).port;return null===t?"":w(t)},Zt=function(){var t=k(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+P(e,"/"):""},Jt=function(){var t=k(this).query;return t?"?"+t:""},Qt=function(){return k(this).searchParams},te=function(){var t=k(this).fragment;return t?"#"+t:""},ee=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&f(Kt,{href:ee(Gt,(function(t){var e=k(this),n=w(t),r=Ut(e,n);if(r)throw R(r);M(e.searchParams).updateSearchParams(e.query)})),origin:ee(qt),protocol:ee(Vt,(function(t){var e=k(this);Ut(e,w(t)+":",bt)})),username:ee(zt,(function(t){var e=k(this),n=v(w(t));if(!pt(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=ct(n[r],lt)}})),password:ee(Wt,(function(t){var e=k(this),n=v(w(t));if(!pt(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=ct(n[r],lt)}})),host:ee(Yt,(function(t){var e=k(this);e.cannotBeABaseURL||Ut(e,w(t),Rt)})),hostname:ee(Xt,(function(t){var e=k(this);e.cannotBeABaseURL||Ut(e,w(t),It)})),port:ee($t,(function(t){var e=k(this);pt(e)||(""==(t=w(t))?e.port=null:Ut(e,t,Ct))})),pathname:ee(Zt,(function(t){var e=k(this);e.cannotBeABaseURL||(e.path=[],Ut(e,w(t),Pt))})),search:ee(Jt,(function(t){var e=k(this);""==(t=w(t))?e.query=null:("?"==D(t,0)&&(t=K(t,1)),e.query="",Ut(e,t,Bt)),M(e.searchParams).updateSearchParams(e.query)})),searchParams:ee(Qt),hash:ee(te,(function(t){var e=k(this);""!=(t=w(t))?("#"==D(t,0)&&(t=K(t,1)),e.fragment="",Ut(e,t,Ft)):e.fragment=null}))}),h(Kt,"toJSON",(function(){return l(Gt,this)}),{enumerable:!0}),h(Kt,"toString",(function(){return l(Gt,this)}),{enumerable:!0}),A){var ne=A.createObjectURL,re=A.revokeObjectURL;ne&&h(Ht,"createObjectURL",u(ne,A)),re&&h(Ht,"revokeObjectURL",u(re,A))}S(Ht,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Ht})},function(t,e,n){"use strict";var r=n(28),i=n(34),o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=r.RangeError,l=i(a.exec),c=Math.floor,f=String.fromCharCode,h=i("".charCodeAt),d=i([].join),p=i([].push),g=i("".replace),v=i("".split),m=i("".toLowerCase),y=function(t){return t+22+75*(t<26)},b=function(t,e,n){var r=0;for(t=n?c(t/700):t>>1,t+=c(t/e);t>455;r+=36)t=c(t/35);return c(r+36*t/(t+38))},w=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=h(t,n++);if(i>=55296&&i<=56319&&n<r){var o=h(t,n++);56320==(64512&o)?p(e,((1023&i)<<10)+(1023&o)+65536):(p(e,i),n--)}else p(e,i)}return e}(t)).length,o=128,a=0,l=72;for(e=0;e<t.length;e++)(n=t[e])<128&&p(r,f(n));var g=r.length,v=g;for(g&&p(r,"-");v<i;){var m=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<m&&(m=n);var w=v+1;if(m-o>c((2147483647-a)/w))throw u(s);for(a+=(m-o)*w,o=m,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw u(s);if(n==o){for(var S=a,T=36;;T+=36){var E=T<=l?1:T>=l+26?26:T-l;if(S<E)break;var _=S-E,k=36-E;p(r,f(y(E+_%k))),S=c(_/k)}p(r,f(y(S))),l=b(a,w,v==g),a=0,++v}}++a,++o}return d(r,"")};t.exports=function(t){var e,n,r=[],i=v(g(m(t),a,"."),".");for(e=0;e<i.length;e++)n=i[e],p(r,l(o,n)?"xn--"+w(n):n);return d(r,".")}},function(t,e,n){"use strict";var r=n(24),i=n(37);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},function(t,e,n){"use strict";var r=n(481),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}function b(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);y(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function T(t,e,n){this.props=t,this.context=e,this.refs=S,this.updater=n||w}function E(){}function _(t,e,n){this.props=t,this.context=e,this.refs=S,this.updater=n||w}T.prototype.isReactComponent={},T.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&b("85"),this.updater.enqueueSetState(this,t,e,"setState")},T.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=T.prototype;var k=_.prototype=new E;k.constructor=_,r(k,T.prototype),k.isPureReactComponent=!0;var x={current:null,currentDispatcher:null},M=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function R(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)M.call(e,r)&&!A.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:x.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var C=/\/+/g,L=[];function D(t,e,n,r){if(L.length){var i=L.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>L.length&&L.push(t)}function P(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else"object"===s&&b("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function B(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(C,"$&/")+"/"),P(t,B,e=D(e,o,r,i)),O(e)}var U={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;P(t,j,e=D(null,null,e,n)),O(e)},count:function(t){return P(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){return I(t)||b("143"),t}},createRef:function(){return{current:null}},Component:T,PureComponent:_,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:d,render:t}},lazy:function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},Fragment:s,StrictMode:u,Suspense:p,createElement:R,cloneElement:function(t,e,n){(null===t||void 0===t)&&b("267",t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=x.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(i in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)M.call(e,i)&&!A.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==c?c[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(t){var e=R.bind(null,t);return e.type=t,e},isValidElement:I,version:"16.7.0",unstable_ConcurrentMode:h,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:x,assign:r}},H={default:U},K=H&&U||H;t.exports=K.default||K},function(t,e,n){"use strict";var r=n(2),i=n(481),o=n(1217);function a(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw t.framesToPop=1,t}}function s(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function u(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}r||s("227");var l=!1,c=null,f=!1,h=null,d={onError:function(t){l=!0,c=t}};function p(t,e,n,r,i,o,a,s,f){l=!1,c=null,u.apply(d,arguments)}var g=null,v={};function m(){if(g)for(var t in v){var e=v[t],n=g.indexOf(t);if(-1<n||s("96",t),!b[n])for(var r in e.extractEvents||s("97",t),b[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,u=r;w.hasOwnProperty(u)&&s("99",u),w[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&y(l[i],a,u);i=!0}else o.registrationName?(y(o.registrationName,a,u),i=!0):i=!1;i||s("98",r,t)}}}function y(t,e,n){S[t]&&s("100",t),S[t]=e,T[t]=e.eventTypes[n].dependencies}var b=[],w={},S={},T={},E=null,_=null,k=null;function x(t,e,n){var r=t.type||"unknown-event";t.currentTarget=k(n),function(t,e,n,r,i,o,a,u,d){if(p.apply(this,arguments),l){if(l){var g=c;l=!1,c=null}else s("198"),g=void 0;f||(f=!0,h=g)}}(r,e,void 0,t),t.currentTarget=null}function M(t,e){return null==e&&s("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function A(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var R=null;function I(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)x(t,e[r],n[r]);else e&&x(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var C={injectEventPluginOrder:function(t){g&&s("101"),g=Array.prototype.slice.call(t),m()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];v.hasOwnProperty(e)&&v[e]===r||(v[e]&&s("102",e),v[e]=r,n=!0)}n&&m()}};function L(t,e){var n=t.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&s("231",e,typeof n),n)}function D(t){if(null!==t&&(R=M(R,t)),t=R,R=null,t&&(A(t,I),R&&s("95"),f))throw t=h,f=!1,h=null,t}var O=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+O,N="__reactEventHandlers$"+O;function j(t){if(t[P])return t[P];for(;!t[P];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[P]).tag||6===t.tag?t:null}function B(t){return!(t=t[P])||5!==t.tag&&6!==t.tag?null:t}function F(t){if(5===t.tag||6===t.tag)return t.stateNode;s("33")}function U(t){return t[N]||null}function H(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function K(t,e,n){(e=L(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=M(n._dispatchListeners,e),n._dispatchInstances=M(n._dispatchInstances,t))}function G(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=H(e);for(e=n.length;0<e--;)K(n[e],"captured",t);for(e=0;e<n.length;e++)K(n[e],"bubbled",t)}}function q(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=L(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=M(n._dispatchListeners,e),n._dispatchInstances=M(n._dispatchInstances,t))}function V(t){t&&t.dispatchConfig.registrationName&&q(t._targetInst,null,t)}function z(t){A(t,G)}var W=!("undefined"===typeof window||!window.document||!window.document.createElement);function Y(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var X={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionend:Y("Transition","TransitionEnd")},$={},Z={};function J(t){if($[t])return $[t];if(!X[t])return t;var e,n=X[t];for(e in n)if(n.hasOwnProperty(e)&&e in Z)return $[t]=n[e];return t}W&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var Q=J("animationend"),tt=J("animationiteration"),et=J("animationstart"),nt=J("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),it=null,ot=null,at=null;function st(){if(at)return at;var t,e,n=ot,r=n.length,i="value"in it?it.value:it.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return at=i.slice(t,1<e?1-e:void 0)}function ut(){return!0}function lt(){return!1}function ct(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ut:lt,this.isPropagationStopped=lt,this}function ft(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ht(t){t instanceof this||s("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function dt(t){t.eventPool=[],t.getPooled=ft,t.release=ht}i(ct.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ut)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ut)},persist:function(){this.isPersistent=ut},isPersistent:lt,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lt,this._dispatchInstances=this._dispatchListeners=null}}),ct.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ct.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,dt(n),n},dt(ct);var pt=ct.extend({data:null}),gt=ct.extend({data:null}),vt=[9,13,27,32],mt=W&&"CompositionEvent"in window,yt=null;W&&"documentMode"in document&&(yt=document.documentMode);var bt=W&&"TextEvent"in window&&!yt,wt=W&&(!mt||yt&&8<yt&&11>=yt),St=String.fromCharCode(32),Tt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Et=!1;function _t(t,e){switch(t){case"keyup":return-1!==vt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function kt(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var xt=!1;var Mt={eventTypes:Tt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(mt)t:{switch(t){case"compositionstart":i=Tt.compositionStart;break t;case"compositionend":i=Tt.compositionEnd;break t;case"compositionupdate":i=Tt.compositionUpdate;break t}i=void 0}else xt?_t(t,n)&&(i=Tt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=Tt.compositionStart);return i?(wt&&"ko"!==n.locale&&(xt||i!==Tt.compositionStart?i===Tt.compositionEnd&&xt&&(o=st()):(ot="value"in(it=r)?it.value:it.textContent,xt=!0)),i=pt.getPooled(i,e,n,r),o?i.data=o:null!==(o=kt(n))&&(i.data=o),z(i),o=i):o=null,(t=bt?function(t,e){switch(t){case"compositionend":return kt(e);case"keypress":return 32!==e.which?null:(Et=!0,St);case"textInput":return(t=e.data)===St&&Et?null:t;default:return null}}(t,n):function(t,e){if(xt)return"compositionend"===t||!mt&&_t(t,e)?(t=st(),at=ot=it=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=gt.getPooled(Tt.beforeInput,e,n,r)).data=t,z(e)):e=null,null===o?e:null===e?o:[o,e]}},At=null,Rt=null,It=null;function Ct(t){if(t=_(t)){"function"!==typeof At&&s("280");var e=E(t.stateNode);At(t.stateNode,t.type,e)}}function Lt(t){Rt?It?It.push(t):It=[t]:Rt=t}function Dt(){if(Rt){var t=Rt,e=It;if(It=Rt=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Ot(t,e){return t(e)}function Pt(t,e,n){return t(e,n)}function Nt(){}var jt=!1;function Bt(t,e){if(jt)return t(e);jt=!0;try{return Ot(t,e)}finally{jt=!1,(null!==Rt||null!==It)&&(Nt(),Dt())}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ft[t.type]:"textarea"===e}function Ht(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Kt(t){if(!W)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function qt(t){t._valueTracker||(t._valueTracker=function(t){var e=Gt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Vt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var zt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wt=/^(.*)[\\\/]/,Yt="function"===typeof Symbol&&Symbol.for,Xt=Yt?Symbol.for("react.element"):60103,$t=Yt?Symbol.for("react.portal"):60106,Zt=Yt?Symbol.for("react.fragment"):60107,Jt=Yt?Symbol.for("react.strict_mode"):60108,Qt=Yt?Symbol.for("react.profiler"):60114,te=Yt?Symbol.for("react.provider"):60109,ee=Yt?Symbol.for("react.context"):60110,ne=Yt?Symbol.for("react.concurrent_mode"):60111,re=Yt?Symbol.for("react.forward_ref"):60112,ie=Yt?Symbol.for("react.suspense"):60113,oe=Yt?Symbol.for("react.memo"):60115,ae=Yt?Symbol.for("react.lazy"):60116,se="function"===typeof Symbol&&Symbol.iterator;function ue(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=se&&t[se]||t["@@iterator"])?t:null}function le(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case ne:return"ConcurrentMode";case Zt:return"Fragment";case $t:return"Portal";case Qt:return"Profiler";case Jt:return"StrictMode";case ie:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case ee:return"Context.Consumer";case te:return"Context.Provider";case re:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case oe:return le(t.type);case ae:if(t=1===t._status?t._result:null)return le(t)}return null}function ce(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=le(t.type);n=null,r&&(n=le(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Wt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he=Object.prototype.hasOwnProperty,de={},pe={};function ge(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){ve[t]=new ge(t,0,!1,t,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];ve[e]=new ge(e,1,!1,t[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){ve[t]=new ge(t,2,!1,t.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){ve[t]=new ge(t,2,!1,t,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){ve[t]=new ge(t,3,!1,t.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(t){ve[t]=new ge(t,3,!0,t,null)})),["capture","download"].forEach((function(t){ve[t]=new ge(t,4,!1,t,null)})),["cols","rows","size","span"].forEach((function(t){ve[t]=new ge(t,6,!1,t,null)})),["rowSpan","start"].forEach((function(t){ve[t]=new ge(t,5,!1,t.toLowerCase(),null)}));var me=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}function be(t,e,n,r){var i=ve.hasOwnProperty(e)?ve[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!he.call(pe,t)||!he.call(de,t)&&(fe.test(t)?pe[t]=!0:(de[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function we(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Se(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Te(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=we(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ee(t,e){null!=(e=e.checked)&&be(t,"checked",e,!1)}function _e(t,e){Ee(t,e);var n=we(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?xe(t,e.type,n):e.hasOwnProperty("defaultValue")&&xe(t,e.type,we(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function ke(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function xe(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(me,ye);ve[e]=new ge(e,1,!1,t,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(me,ye);ve[e]=new ge(e,1,!1,t,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(me,ye);ve[e]=new ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")})),ve.tabIndex=new ge("tabIndex",1,!1,"tabindex",null);var Me={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ae(t,e,n){return(t=ct.getPooled(Me.change,t,e,n)).type="change",Lt(n),z(t),t}var Re=null,Ie=null;function Ce(t){D(t)}function Le(t){if(Vt(F(t)))return t}function De(t,e){if("change"===t)return e}var Oe=!1;function Pe(){Re&&(Re.detachEvent("onpropertychange",Ne),Ie=Re=null)}function Ne(t){"value"===t.propertyName&&Le(Ie)&&Bt(Ce,t=Ae(Ie,t,Ht(t)))}function je(t,e,n){"focus"===t?(Pe(),Ie=n,(Re=e).attachEvent("onpropertychange",Ne)):"blur"===t&&Pe()}function Be(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Le(Ie)}function Fe(t,e){if("click"===t)return Le(e)}function Ue(t,e){if("input"===t||"change"===t)return Le(e)}W&&(Oe=Kt("input")&&(!document.documentMode||9<document.documentMode));var He={eventTypes:Me,_isInputEventSupported:Oe,extractEvents:function(t,e,n,r){var i=e?F(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=De:Ut(i)?Oe?o=Ue:(o=Be,a=je):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Fe),o&&(o=o(t,e)))return Ae(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&xe(i,"number",i.value)}},Ke=ct.extend({view:null,detail:null}),Ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ge[t])&&!!e[t]}function Ve(){return qe}var ze=0,We=0,Ye=!1,Xe=!1,$e=Ke.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ve,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=ze;return ze=t.screenX,Ye?"mousemove"===t.type?t.screenX-e:0:(Ye=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=We;return We=t.screenY,Xe?"mousemove"===t.type?t.screenY-e:0:(Xe=!0,0)}}),Ze=$e.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Je={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qe={eventTypes:Je,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?j(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(a=$e,s=Je.mouseLeave,u=Je.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Ze,s=Je.pointerLeave,u=Je.pointerEnter,l="pointer");var c=null==o?i:F(o);if(i=null==e?i:F(e),(t=a.getPooled(s,o,n,r)).type=l+"leave",t.target=c,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=e,o&&r)t:{for(i=r,l=0,a=e=o;a;a=H(a))l++;for(a=0,u=i;u;u=H(u))a++;for(;0<l-a;)e=H(e),l--;for(;0<a-l;)i=H(i),a--;for(;l--;){if(e===i||e===i.alternate)break t;e=H(e),i=H(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)e.push(o),o=H(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=H(r);for(r=0;r<e.length;r++)q(e[r],"bubbled",t);for(r=o.length;0<r--;)q(o[r],"captured",n);return[t,n]}},tn=Object.prototype.hasOwnProperty;function en(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function nn(t,e){if(en(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(e,n[r])||!en(t[n[r]],e[n[r]]))return!1;return!0}function rn(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function on(t){2!==rn(t)&&s("188")}function an(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=rn(t))&&s("188"),1===e?null:t;for(var n=t,r=e;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return on(i),t;if(a===r)return on(i),e;a=a.sibling}s("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}a||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var sn=ct.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=ct.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ln=Ke.extend({relatedTarget:null});function cn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Ke.extend({key:function(t){if(t.key){var e=fn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=cn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?hn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ve,charCode:function(t){return"keypress"===t.type?cn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?cn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),pn=$e.extend({dataTransfer:null}),gn=Ke.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ve}),vn=ct.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=$e.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),yn=[["abort","abort"],[Q,"animationEnd"],[tt,"animationIteration"],[et,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[nt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},wn={};function Sn(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},bn[t]=e,wn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(t){Sn(t,!0)})),yn.forEach((function(t){Sn(t,!1)}));var Tn={eventTypes:bn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=wn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=wn[t];if(!i)return null;switch(t){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":t=dn;break;case"blur":case"focus":t=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=gn;break;case Q:case tt:case et:t=sn;break;case nt:t=vn;break;case"scroll":t=Ke;break;case"wheel":t=mn;break;case"copy":case"cut":case"paste":t=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ze;break;default:t=ct}return z(e=t.getPooled(i,e,n,r)),e}},En=Tn.isInteractiveTopLevelEventType,_n=[];function kn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=j(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Ht(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<b.length;s++){var u=b[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=M(a,u))}D(a)}}var xn=!0;function Mn(t,e){if(!e)return null;var n=(En(t)?Rn:In).bind(null,t);e.addEventListener(t,n,!1)}function An(t,e){if(!e)return null;var n=(En(t)?Rn:In).bind(null,t);e.addEventListener(t,n,!0)}function Rn(t,e){Pt(In,t,e)}function In(t,e){if(xn){var n=Ht(e);if(null===(n=j(n))||"number"!==typeof n.tag||2===rn(n)||(n=null),_n.length){var r=_n.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Bt(kn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>_n.length&&_n.push(t)}}}var Cn={},Ln=0,Dn="_reactListenersID"+(""+Math.random()).slice(2);function On(t){return Object.prototype.hasOwnProperty.call(t,Dn)||(t[Dn]=Ln++,Cn[t[Dn]]={}),Cn[t[Dn]]}function Pn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Nn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jn(t,e){var n,r=Nn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Nn(r)}}function Bn(){for(var t=window,e=Pn();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(n){break}e=Pn(t.document)}return e}function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Un=W&&"documentMode"in document&&11>=document.documentMode,Hn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kn=null,Gn=null,qn=null,Vn=!1;function zn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Vn||null==Kn||Kn!==Pn(n)?null:("selectionStart"in(n=Kn)&&Fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qn&&nn(qn,n)?null:(qn=n,(t=ct.getPooled(Hn.select,Gn,t,e)).type="select",t.target=Kn,z(t),t))}var Wn={eventTypes:Hn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=On(o),i=T.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?F(e):window,t){case"focus":(Ut(o)||"true"===o.contentEditable)&&(Kn=o,Gn=e,qn=null);break;case"blur":qn=Gn=Kn=null;break;case"mousedown":Vn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vn=!1,zn(n,r);case"selectionchange":if(Un)break;case"keydown":case"keyup":return zn(n,r)}return null}};function Yn(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Xn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+we(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function $n(t,e){return null!=e.dangerouslySetInnerHTML&&s("91"),i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&s("92"),Array.isArray(e)&&(1>=e.length||s("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:we(n)}}function Jn(t,e){var n=we(e.value),r=we(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Qn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}C.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=U,_=B,k=F,C.injectEventPluginsByName({SimpleEventPlugin:Tn,EnterLeaveEventPlugin:Qe,ChangeEventPlugin:He,SelectEventPlugin:Wn,BeforeInputEventPlugin:Mt});var tr="http://www.w3.org/1999/xhtml",er="http://www.w3.org/2000/svg";function nr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?nr(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ir=void 0,or=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==er||"innerHTML"in t)t.innerHTML=e;else{for((ir=ir||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=ir.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function ar(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var sr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];function lr(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||sr.hasOwnProperty(t)&&sr[t]?(""+e).trim():e+"px"}function cr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lr(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(sr).forEach((function(t){ur.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sr[e]=sr[t]}))}));var fr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(t,e){e&&(fr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&s("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&s("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||s("61")),null!=e.style&&"object"!==typeof e.style&&s("62",""))}function dr(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pr(t,e){var n=On(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=T[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":An("scroll",t);break;case"focus":case"blur":An("focus",t),An("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Kt(i)&&An(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(i)&&Mn(i,t)}n[i]=!0}}}function gr(){}var vr=null,mr=null;function yr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function br(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var wr="function"===typeof setTimeout?setTimeout:void 0,Sr="function"===typeof clearTimeout?clearTimeout:void 0;function Tr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Er(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var _r=[],kr=-1;function xr(t){0>kr||(t.current=_r[kr],_r[kr]=null,kr--)}function Mr(t,e){kr++,_r[kr]=t.current,t.current=e}var Ar={},Rr={current:Ar},Ir={current:!1},Cr=Ar;function Lr(t,e){var n=t.type.contextTypes;if(!n)return Ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Dr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Or(t){xr(Ir),xr(Rr)}function Pr(t){xr(Ir),xr(Rr)}function Nr(t,e,n){Rr.current!==Ar&&s("168"),Mr(Rr,e),Mr(Ir,n)}function jr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in t||s("108",le(e)||"Unknown",o);return i({},n,r)}function Br(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Ar,Cr=Rr.current,Mr(Rr,e),Mr(Ir,Ir.current),!0}function Fr(t,e,n){var r=t.stateNode;r||s("169"),n?(e=jr(t,e,Cr),r.__reactInternalMemoizedMergedChildContext=e,xr(Ir),xr(Rr),Mr(Rr,e)):xr(Ir),Mr(Ir,n)}var Ur=null,Hr=null;function Kr(t){return function(e){try{return t(e)}catch(n){}}}function Gr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qr(t,e,n,r){return new Gr(t,e,n,r)}function Vr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zr(t,e){var n=t.alternate;return null===n?((n=qr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wr(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Vr(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case Zt:return Yr(n.children,i,o,e);case ne:return Xr(n,3|i,o,e);case Jt:return Xr(n,2|i,o,e);case Qt:return(t=qr(12,n,e,4|i)).elementType=Qt,t.type=Qt,t.expirationTime=o,t;case ie:return(t=qr(13,n,e,i)).elementType=ie,t.type=ie,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case te:a=10;break t;case ee:a=9;break t;case re:a=11;break t;case oe:a=14;break t;case ae:a=16,r=null;break t}s("130",null==t?t:typeof t,"")}return(e=qr(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Yr(t,e,n,r){return(t=qr(7,t,r,e)).expirationTime=n,t}function Xr(t,e,n,r){return t=qr(8,t,r,e),e=0===(1&e)?Jt:ne,t.elementType=e,t.type=e,t.expirationTime=n,t}function $r(t,e,n){return(t=qr(6,t,null,e)).expirationTime=n,t}function Zr(t,e,n){return(e=qr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),ei(e,t)}function Qr(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:r>e&&(t.latestSuspendedTime=e),ei(e,t)}function ti(t,e){var n=t.earliestPendingTime;return n>e&&(e=n),(t=t.earliestSuspendedTime)>e&&(e=t),e}function ei(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||r<t)&&(i=r),0!==(t=i)&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}var ni=!1;function ri(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ii(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function oi(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ai(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function si(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=ri(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=ri(t.memoizedState),i=n.updateQueue=ri(n.memoizedState)):r=t.updateQueue=ii(i):null===i&&(i=n.updateQueue=ii(r));null===i||r===i?ai(r,e):null===r.lastUpdate||null===i.lastUpdate?(ai(r,e),ai(i,e)):(ai(r,e),i.lastUpdate=e)}function ui(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=ri(t.memoizedState):li(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function li(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=ii(e)),e}function ci(t,e,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-2049&t.effectTag|64;case 0:if(null===(o="function"===typeof(t=n.payload)?t.call(a,r,o):t)||void 0===o)break;return i({},r,o);case 2:ni=!0}return r}function fi(t,e,n,r,i){ni=!1;for(var o=(e=li(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<i?(null===a&&(a=u,o=l),s<c&&(s=c)):(l=ci(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===c&&(c=u,null===a&&(o=l)),s<f&&(s=f)):(l=ci(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function hi(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),di(e.firstEffect,n),e.firstEffect=e.lastEffect=null,di(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function di(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&s("191",n),n.call(r)}t=t.nextEffect}}function pi(t,e){return{value:t,source:e,stack:ce(e)}}var gi={current:null},vi=null,mi=null,yi=null;function bi(t,e){var n=t.type._context;Mr(gi,n._currentValue),n._currentValue=e}function wi(t){var e=gi.current;xr(gi),t.type._context._currentValue=e}function Si(t){vi=t,yi=mi=null,t.firstContextDependency=null}function Ti(t,e){return yi!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(yi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===mi?(null===vi&&s("293"),vi.firstContextDependency=mi=e):mi=mi.next=e),t._currentValue}var Ei={},_i={current:Ei},ki={current:Ei},xi={current:Ei};function Mi(t){return t===Ei&&s("174"),t}function Ai(t,e){Mr(xi,e),Mr(ki,t),Mr(_i,Ei);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rr(null,"");break;default:e=rr(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}xr(_i),Mr(_i,e)}function Ri(t){xr(_i),xr(ki),xr(xi)}function Ii(t){Mi(xi.current);var e=Mi(_i.current),n=rr(e,t.type);e!==n&&(Mr(ki,t),Mr(_i,n))}function Ci(t){ki.current===t&&(xr(_i),xr(ki))}function Li(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Di=zt.ReactCurrentOwner,Oi=(new r.Component).refs;function Pi(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Ni={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===rn(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ma(),i=oi(r=Zo(r,t));i.payload=e,void 0!==n&&null!==n&&(i.callback=n),zo(),si(t,i),ea(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ma(),i=oi(r=Zo(r,t));i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),zo(),si(t,i),ea(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ma(),r=oi(n=Zo(n,t));r.tag=2,void 0!==e&&null!==e&&(r.callback=e),zo(),si(t,r),ea(t,n)}};function ji(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Bi(t,e,n){var r=!1,i=Ar,o=e.contextType;return"object"===typeof o&&null!==o?o=Di.currentDispatcher.readContext(o):(i=Dr(e)?Cr:Rr.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Lr(t,i):Ar),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ni,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Fi(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ni.enqueueReplaceState(e,e.state,null)}function Ui(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Oi;var o=e.contextType;"object"===typeof o&&null!==o?i.context=Di.currentDispatcher.readContext(o):(o=Dr(e)?Cr:Rr.current,i.context=Lr(t,o)),null!==(o=t.updateQueue)&&(fi(t,o,n,i,r),i.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(Pi(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Ni.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(fi(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Hi=Array.isArray;function Ki(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("289"),r=n.stateNode),r||s("147",t);var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===Oi&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!==typeof t&&s("284"),n._owner||s("290",t)}return t}function Gi(t,e){"textarea"!==t.type&&s("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function qi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=zr(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=$r(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Ki(t,e,n),r.return=t,r):((r=Wr(n.type,n.key,n.props,null,t.mode,r)).ref=Ki(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Zr(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Yr(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=$r(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Xt:return(n=Wr(e.type,e.key,e.props,null,t.mode,n)).ref=Ki(t,null,e),n.return=t,n;case $t:return(e=Zr(e,t.mode,n)).return=t,e}if(Hi(e)||ue(e))return(e=Yr(e,t.mode,n,null)).return=t,e;Gi(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Xt:return n.key===i?n.type===Zt?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case $t:return n.key===i?c(t,e,n,r):null}if(Hi(n)||ue(n))return null!==i?null:f(t,e,n,r,null);Gi(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Xt:return t=t.get(null===r.key?n:r.key)||null,r.type===Zt?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case $t:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Hi(r)||ue(r))return f(e,t=t.get(n)||null,r,i,null);Gi(e,r)}return null}function g(i,a,s,u){for(var l=null,c=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=d(i,f,s[g],u);if(null===m){null===f&&(f=v);break}t&&f&&null===m.alternate&&e(i,f),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m,f=v}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)(f=h(i,s[g],u))&&(a=o(f,a,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)(v=p(f,i,g,s[g],u))&&(t&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v);return t&&f.forEach((function(t){return e(i,t)})),l}function v(i,a,u,l){var c=ue(u);"function"!==typeof c&&s("150"),null==(u=c.call(u))&&s("151");for(var f=c=null,g=a,v=a=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=d(i,g,y.value,l);if(null===b){g||(g=m);break}t&&g&&null===b.alternate&&e(i,g),a=o(b,a,v),null===f?c=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,l))&&(a=o(y,a,v),null===f?c=y:f.sibling=y,f=y);return c}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,l))&&(t&&null!==y.alternate&&g.delete(null===y.key?v:y.key),a=o(y,a,v),null===f?c=y:f.sibling=y,f=y);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===Zt&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Xt:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===Zt:l.elementType===o.type){n(t,l.sibling),(r=i(l,o.type===Zt?o.props.children:o.props)).ref=Ki(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===Zt?((r=Yr(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Wr(o.type,o.key,o.props,null,t.mode,u)).ref=Ki(t,r,o),u.return=t,t=u)}return a(t);case $t:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Zr(o,t.mode,u)).return=t,t=r}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=$r(o,t.mode,u)).return=t,t=r),a(t);if(Hi(o))return g(t,r,o,u);if(ue(o))return v(t,r,o,u);if(c&&Gi(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:s("152",(u=t.type).displayName||u.name||"Component")}return n(t,r)}}var Vi=qi(!0),zi=qi(!1),Wi=null,Yi=null,Xi=!1;function $i(t,e){var n=qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Zi(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ji(t){if(Xi){var e=Yi;if(e){var n=e;if(!Zi(t,e)){if(!(e=Tr(n))||!Zi(t,e))return t.effectTag|=2,Xi=!1,void(Wi=t);$i(Wi,n)}Wi=t,Yi=Er(e)}else t.effectTag|=2,Xi=!1,Wi=t}}function Qi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;Wi=t}function to(t){if(t!==Wi)return!1;if(!Xi)return Qi(t),Xi=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!br(e,t.memoizedProps))for(e=Yi;e;)$i(t,e),e=Tr(e);return Qi(t),Yi=Wi?Tr(t.stateNode):null,!0}function eo(){Yi=Wi=null,Xi=!1}var no=zt.ReactCurrentOwner;function ro(t,e,n,r){e.child=null===t?zi(e,null,n,r):Vi(e,t.child,n,r)}function io(t,e,n,r,i){n=n.render;var o=e.ref;return Si(e),r=n(r,o),e.effectTag|=1,ro(t,e,r,i),e.child}function oo(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wr(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ao(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&t.ref===e.ref)?po(t,e,o):(e.effectTag|=1,(t=zr(a,r)).ref=e.ref,t.return=e,e.child=t)}function ao(t,e,n,r,i,o){return null!==t&&i<o&&nn(t.memoizedProps,r)&&t.ref===e.ref?po(t,e,o):uo(t,e,n,r,o)}function so(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function uo(t,e,n,r,i){var o=Dr(n)?Cr:Rr.current;return o=Lr(e,o),Si(e),n=n(r,o),e.effectTag|=1,ro(t,e,n,i),e.child}function lo(t,e,n,r,i){if(Dr(n)){var o=!0;Br(e)}else o=!1;if(Si(e),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Bi(e,n,r),Ui(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Di.currentDispatcher.readContext(l):l=Lr(e,l=Dr(n)?Cr:Rr.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Fi(e,a,r,l),ni=!1;var h=e.memoizedState;u=a.state=h;var d=e.updateQueue;null!==d&&(fi(e,d,r,a,i),u=e.memoizedState),s!==r||h!==u||Ir.current||ni?("function"===typeof c&&(Pi(e,n,c,r),u=e.memoizedState),(s=ni||ji(e,n,s,r,h,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:Li(e.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Di.currentDispatcher.readContext(l):l=Lr(e,l=Dr(n)?Cr:Rr.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Fi(e,a,r,l),ni=!1,u=e.memoizedState,h=a.state=u,null!==(d=e.updateQueue)&&(fi(e,d,r,a,i),h=e.memoizedState),s!==r||u!==h||Ir.current||ni?("function"===typeof c&&(Pi(e,n,c,r),h=e.memoizedState),(c=ni||ji(e,n,s,r,u,h,l))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return co(t,e,n,r,o,i)}function co(t,e,n,r,i,o){so(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Fr(e,n,!1),po(t,e,o);r=e.stateNode,no.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Vi(e,t.child,null,o),e.child=Vi(e,null,s,o)):ro(t,e,s,o),e.memoizedState=r.state,i&&Fr(e,n,!0),e.child}function fo(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),Ai(t,e.containerInfo)}function ho(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;if(0===(64&e.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,e.effectTag&=-65;if(null===t)if(a){var s=i.fallback;t=Yr(null,r,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),r=Yr(s,r,n,null),t.sibling=r,(n=t).return=r.return=e}else n=r=zi(e,null,i.children,n);else null!==t.memoizedState?(s=(r=t.child).sibling,a?(n=i.fallback,i=zr(r,r.pendingProps),0===(1&e.mode)&&((a=null!==e.memoizedState?e.child.child:e.child)!==r.child&&(i.child=a)),r=i.sibling=zr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=e):n=r=Vi(e,r.child,i.children,n)):(s=t.child,a?(a=i.fallback,(i=Yr(null,r,0,null)).child=s,0===(1&e.mode)&&(i.child=null!==e.memoizedState?e.child.child:e.child),(r=i.sibling=Yr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=Vi(e,s,i.children,n)),e.stateNode=t.stateNode;return e.memoizedState=o,e.child=n,r}function po(t,e,n){if(null!==t&&(e.firstContextDependency=t.firstContextDependency),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&s("153"),null!==e.child){for(n=zr(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=zr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function go(t,e,n){var r=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!Ir.current&&r<n){switch(e.tag){case 3:fo(e),eo();break;case 5:Ii(e);break;case 1:Dr(e.type)&&Br(e);break;case 4:Ai(e,e.stateNode.containerInfo);break;case 10:bi(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?ho(t,e,n):null!==(e=po(t,e,n))?e.sibling:null}return po(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var i=Lr(e,Rr.current);if(Si(e),i=r(t,i),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,Dr(r)){var o=!0;Br(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"===typeof a&&Pi(e,r,a,t),i.updater=Ni,e.stateNode=i,i._reactInternalFiber=e,Ui(e,r,t,n),e=co(null,e,r,!0,o,n)}else e.tag=0,ro(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),o=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,(e=(e=t._ctor)()).then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)})),t._result=e,e}}(i),e.type=t,i=e.tag=function(t){if("function"===typeof t)return Vr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===re)return 11;if(t===oe)return 14}return 2}(t),o=Li(t,o),a=void 0,i){case 0:a=uo(null,e,t,o,n);break;case 1:a=lo(null,e,t,o,n);break;case 11:a=io(null,e,t,o,n);break;case 14:a=oo(null,e,t,Li(t.type,o),r,n);break;default:s("306",t,"")}return a;case 0:return r=e.type,i=e.pendingProps,uo(t,e,r,i=e.elementType===r?i:Li(r,i),n);case 1:return r=e.type,i=e.pendingProps,lo(t,e,r,i=e.elementType===r?i:Li(r,i),n);case 3:return fo(e),null===(r=e.updateQueue)&&s("282"),i=null!==(i=e.memoizedState)?i.element:null,fi(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(eo(),e=po(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(Yi=Er(e.stateNode.containerInfo),Wi=e,i=Xi=!0),i?(e.effectTag|=2,e.child=zi(e,null,r,n)):(ro(t,e,r,n),eo()),e=e.child),e;case 5:return Ii(e),null===t&&Ji(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,br(r,i)?a=null:null!==o&&br(r,o)&&(e.effectTag|=16),so(t,e),1!==n&&1&e.mode&&i.hidden?(e.expirationTime=1,e=null):(ro(t,e,a,n),e=e.child),e;case 6:return null===t&&Ji(e),null;case 13:return ho(t,e,n);case 4:return Ai(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Vi(e,null,r,n):ro(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,io(t,e,r,i=e.elementType===r?i:Li(r,i),n);case 7:return ro(t,e,e.pendingProps,n),e.child;case 8:case 12:return ro(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,bi(e,o=i.value),null!==a){var u=a.value;if(0===(o=u===o&&(0!==u||1/u===1/o)||u!==u&&o!==o?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!Ir.current){e=po(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){if(null!==(u=a.firstContextDependency))do{if(u.context===r&&0!==(u.observedBits&o)){if(1===a.tag){var l=oi(n);l.tag=2,si(a,l)}a.expirationTime<n&&(a.expirationTime=n),null!==(l=a.alternate)&&l.expirationTime<n&&(l.expirationTime=n);for(var c=a.return;null!==c;){if(l=c.alternate,c.childExpirationTime<n)c.childExpirationTime=n,null!==l&&l.childExpirationTime<n&&(l.childExpirationTime=n);else{if(!(null!==l&&l.childExpirationTime<n))break;l.childExpirationTime=n}c=c.return}}l=a.child,u=u.next}while(null!==u);else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}ro(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,Si(e),r=r(i=Ti(i,o.unstable_observedBits)),e.effectTag|=1,ro(t,e,r,n),e.child;case 14:return o=Li(i=e.type,e.pendingProps),oo(t,e,i,o=Li(i.type,o),r,n);case 15:return ao(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Dr(r)?(t=!0,Br(e)):t=!1,Si(e),Bi(e,r,i),Ui(e,r,i,n),co(null,e,r,!0,t,n);default:s("156")}}function vo(t){t.effectTag|=4}var mo,yo,bo;mo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yo=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(Mi(_i.current),t=null,n){case"input":a=Se(s,a),r=Se(s,r),t=[];break;case"option":a=Yn(s,a),r=Yn(s,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=$n(s,a),r=$n(s,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=gr)}hr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(S.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(t||(t=[]),t.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(n,""+c)):"children"===n?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(S.hasOwnProperty(n)?(null!=c&&pr(o,n),t||l===c||(t=[])):(t=t||[]).push(n,c))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&vo(e)}},bo=function(t,e,n,r){n!==r&&vo(e)};var wo="function"===typeof WeakSet?WeakSet:Set;function So(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ce(n)),null!==n&&le(n.type),e=e.value,null!==t&&1===t.tag&&le(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function To(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){$o(t,n)}else e.current=null}function Eo(t){switch("function"===typeof Hr&&Hr(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(null!==r){var i=t;try{r()}catch(o){$o(i,o)}}n=n.next}while(n!==e)}break;case 1:if(To(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){$o(t,o)}break;case 5:To(t);break;case 4:xo(t)}}function _o(t){return 5===t.tag||3===t.tag||4===t.tag}function ko(t){t:{for(var e=t.return;null!==e;){if(_o(e)){var n=e;break t}e=e.return}s("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(ar(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||_o(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=e,a=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(a,u):o.insertBefore(a,u)}else e.insertBefore(i.stateNode,n);else r?(a=e,u=i.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(u,a):(o=a).appendChild(u),null!==(a=a._reactRootContainer)&&void 0!==a||null!==o.onclick||(o.onclick=gr)):e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function xo(t){for(var e=t,n=!1,r=void 0,i=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,a=o;;)if(Eo(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=e.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(e.stateNode)}else if(4===e.tag?(r=e.stateNode.containerInfo,i=!0):Eo(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function Mo(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&function(t,e,n,r,i){t[N]=i,"input"===n&&"radio"===i.type&&null!=i.name&&Ee(t,i),dr(n,r),r=dr(n,i);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?cr(t,s):"dangerouslySetInnerHTML"===a?or(t,s):"children"===a?ar(t,s):be(t,a,s,r)}switch(n){case"input":_e(t,i);break;case"textarea":Jn(t,i);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Xn(t,!!i.multiple,n,!1):e!==!!i.multiple&&(null!=i.defaultValue?Xn(t,!!i.multiple,i.defaultValue,!0):Xn(t,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,t,r)}break;case 6:null===e.stateNode&&s("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,r=void 0,t=e,null===n?r=!1:(r=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=Ma())),null!==t&&function(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,r),null!==(n=e.updateQueue)){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new wo),n.forEach((function(t){var n=Qo.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}break;case 17:break;default:s("163")}}var Ao="function"===typeof WeakMap?WeakMap:Map;function Ro(t,e,n){(n=oi(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ja(r),So(t,e)},n}function Io(t,e,n){(n=oi(n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qo?qo=new Set([this]):qo.add(this));var n=e.value,i=e.stack;So(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Co(t){switch(t.tag){case 1:Dr(t.type)&&Or();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return Ri(),Pr(),0!==(64&(e=t.effectTag))&&s("285"),t.effectTag=-2049&e|64,t;case 5:return Ci(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 4:return Ri(),null;case 10:return wi(t),null;default:return null}}var Lo={readContext:Ti},Do=zt.ReactCurrentOwner,Oo=1073741822,Po=0,No=!1,jo=null,Bo=null,Fo=0,Uo=-1,Ho=!1,Ko=null,Go=!1,qo=null;function Vo(){if(null!==jo)for(var t=jo.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Or();break;case 3:Ri(),Pr();break;case 5:Ci(e);break;case 4:Ri();break;case 10:wi(e)}t=t.return}Bo=null,Fo=0,Uo=-1,Ho=!1,jo=null}function zo(){}function Wo(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(1024&t.effectTag)){jo=t;t:{var o=e,a=Fo,u=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Dr(e.type)&&Or();break;case 3:Ri(),Pr(),(u=e.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(to(e),e.effectTag&=-3);break;case 5:Ci(e);var l=Mi(xi.current);if(a=e.type,null!==o&&null!=e.stateNode)yo(o,e,a,u,l),o.ref!==e.ref&&(e.effectTag|=128);else if(u){var c=Mi(_i.current);if(to(e)){o=(u=e).stateNode;var f=u.type,h=u.memoizedProps,d=l;switch(o[P]=u,o[N]=h,a=void 0,l=f){case"iframe":case"object":Mn("load",o);break;case"video":case"audio":for(f=0;f<rt.length;f++)Mn(rt[f],o);break;case"source":Mn("error",o);break;case"img":case"image":case"link":Mn("error",o),Mn("load",o);break;case"form":Mn("reset",o),Mn("submit",o);break;case"details":Mn("toggle",o);break;case"input":Te(o,h),Mn("invalid",o),pr(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Mn("invalid",o),pr(d,"onChange");break;case"textarea":Zn(o,h),Mn("invalid",o),pr(d,"onChange")}for(a in hr(l,h),f=null,h)h.hasOwnProperty(a)&&(c=h[a],"children"===a?"string"===typeof c?o.textContent!==c&&(f=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(f=["children",""+c]):S.hasOwnProperty(a)&&null!=c&&pr(d,a));switch(l){case"input":qt(o),ke(o,h,!0);break;case"textarea":qt(o),Qn(o);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(o.onclick=gr)}a=f,u.updateQueue=a,(u=null!==a)&&vo(e)}else{h=e,o=a,d=u,f=9===l.nodeType?l:l.ownerDocument,c===tr&&(c=nr(o)),c===tr?"script"===o?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"===typeof d.is?f=f.createElement(o,{is:d.is}):(f=f.createElement(o),"select"===o&&d.multiple&&(f.multiple=!0)):f=f.createElementNS(c,o),(o=f)[P]=h,o[N]=u,mo(o,e),d=o;var p=l,g=dr(f=a,h=u);switch(f){case"iframe":case"object":Mn("load",d),l=h;break;case"video":case"audio":for(l=0;l<rt.length;l++)Mn(rt[l],d);l=h;break;case"source":Mn("error",d),l=h;break;case"img":case"image":case"link":Mn("error",d),Mn("load",d),l=h;break;case"form":Mn("reset",d),Mn("submit",d),l=h;break;case"details":Mn("toggle",d),l=h;break;case"input":Te(d,h),l=Se(d,h),Mn("invalid",d),pr(p,"onChange");break;case"option":l=Yn(d,h);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},l=i({},h,{value:void 0}),Mn("invalid",d),pr(p,"onChange");break;case"textarea":Zn(d,h),l=$n(d,h),Mn("invalid",d),pr(p,"onChange");break;default:l=h}hr(f,l),c=void 0;var v=f,m=d,y=l;for(c in y)if(y.hasOwnProperty(c)){var b=y[c];"style"===c?cr(m,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&or(m,b):"children"===c?"string"===typeof b?("textarea"!==v||""!==b)&&ar(m,b):"number"===typeof b&&ar(m,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(S.hasOwnProperty(c)?null!=b&&pr(p,c):null!=b&&be(m,c,b,g))}switch(f){case"input":qt(d),ke(d,h,!1);break;case"textarea":qt(d),Qn(d);break;case"option":null!=h.value&&d.setAttribute("value",""+we(h.value));break;case"select":(l=d).multiple=!!h.multiple,null!=(d=h.value)?Xn(l,!!h.multiple,d,!1):null!=h.defaultValue&&Xn(l,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof l.onClick&&(d.onclick=gr)}(u=yr(a,u))&&vo(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&s("166");break;case 6:o&&null!=e.stateNode?bo(0,e,o.memoizedProps,u):("string"!==typeof u&&(null===e.stateNode&&s("166")),o=Mi(xi.current),Mi(_i.current),to(e)?(a=(u=e).stateNode,o=u.memoizedProps,a[P]=u,(u=a.nodeValue!==o)&&vo(e)):(a=e,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[P]=e,a.stateNode=u));break;case 11:break;case 13:if(u=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=a,jo=e;break t}u=null!==u,a=null!==o&&null!==o.memoizedState,null!==o&&!u&&a&&(null!==(o=o.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=o,o.nextEffect=l):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u!==a||0===(1&e.effectTag)&&u)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ri();break;case 10:wi(e);break;case 9:case 14:break;case 17:Dr(e.type)&&Or();break;default:s("156")}jo=null}if(e=t,1===Fo||1!==e.childExpirationTime){for(u=0,a=e.child;null!==a;)(o=a.expirationTime)>u&&(u=o),(l=a.childExpirationTime)>u&&(u=l),a=a.sibling;e.childExpirationTime=u}if(null!==jo)return jo;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Co(t)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;t=n}return null}function Yo(t){var e=go(t.alternate,t,Fo);return t.memoizedProps=t.pendingProps,null===e&&(e=Wo(t)),Do.current=null,e}function Xo(t,e){No&&s("243"),No=!0,Do.currentDispatcher=Lo;var n=t.nextExpirationTimeToWorkOn;n===Fo&&t===Bo&&null!==jo||(Vo(),Fo=n,jo=zr((Bo=t).current,null),t.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(e)for(;null!==jo&&!Ca();)jo=Yo(jo);else for(;null!==jo;)jo=Yo(jo)}catch(g){if(yi=mi=vi=null,null===jo)r=!0,ja(g);else{null===jo&&s("271");var i=jo,o=i.return;if(null!==o){t:{var a=t,u=o,l=i,c=g;if(o=Fo,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var f=c;c=u;var h=-1,d=-1;do{if(13===c.tag){var p=c.alternate;if(null!==p&&null!==(p=p.memoizedState)){d=10*(1073741822-p.timedOutAt);break}"number"===typeof(p=c.pendingProps.maxDuration)&&(0>=p?h=0:(-1===h||p<h)&&(h=p))}c=c.return}while(null!==c);c=u;do{if((p=13===c.tag)&&(p=void 0!==c.memoizedProps.fallback&&null===c.memoizedState),p){if(null===(u=c.updateQueue)?c.updateQueue=new Set([f]):u.add(f),0===(1&c.mode)){c.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((o=oi(1073741823)).tag=2,si(l,o))),l.expirationTime=1073741823;break t}null===(l=a.pingCache)?(l=a.pingCache=new Ao,u=new Set,l.set(f,u)):void 0===(u=l.get(f))&&(u=new Set,l.set(f,u)),u.has(o)||(u.add(o),l=Jo.bind(null,a,f,o),f.then(l,l)),-1===h?a=1073741823:(-1===d&&(d=10*(1073741822-ti(a,o))-5e3),a=d+h),0<=a&&Uo<a&&(Uo=a),c.effectTag|=2048,c.expirationTime=o;break t}c=c.return}while(null!==c);c=Error((le(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ce(l))}Ho=!0,c=pi(c,l),a=u;do{switch(a.tag){case 3:a.effectTag|=2048,a.expirationTime=o,ui(a,o=Ro(a,c,o));break t;case 1:if(f=c,h=a.type,d=a.stateNode,0===(64&a.effectTag)&&("function"===typeof h.getDerivedStateFromError||null!==d&&"function"===typeof d.componentDidCatch&&(null===qo||!qo.has(d)))){a.effectTag|=2048,a.expirationTime=o,ui(a,o=Io(a,f,o));break t}}a=a.return}while(null!==a)}jo=Wo(i);continue}r=!0,ja(g)}}break}if(No=!1,yi=mi=vi=Do.currentDispatcher=null,r)Bo=null,t.finishedWork=null;else if(null!==jo)t.finishedWork=null;else{if(null===(r=t.current.alternate)&&s("281"),Bo=null,Ho){if(i=t.latestPendingTime,o=t.latestSuspendedTime,a=t.latestPingedTime,0!==i&&i<n||0!==o&&o<n||0!==a&&a<n)return Qr(t,n),void ka(t,r,n,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,n=t.nextExpirationTimeToWorkOn=n,e=t.expirationTime=1073741823,void ka(t,r,n,e,-1)}e&&-1!==Uo?(Qr(t,n),(e=10*(1073741822-ti(t,n)))<Uo&&(Uo=e),e=10*(1073741822-Ma()),e=Uo-e,ka(t,r,n,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=n,t.finishedWork=r)}}function $o(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qo||!qo.has(r)))return si(n,t=Io(n,t=pi(e,t),1073741823)),void ea(n,1073741823);break;case 3:return si(n,t=Ro(n,t=pi(e,t),1073741823)),void ea(n,1073741823)}n=n.return}3===t.tag&&(si(t,n=Ro(t,n=pi(e,t),1073741823)),ea(t,1073741823))}function Zo(t,e){return 0!==Po?t=Po:No?t=Go?1073741823:Fo:1&e.mode?(t=ga?1073741822-10*(1+((1073741822-t+15)/10|0)):1073741822-25*(1+((1073741822-t+500)/25|0)),null!==Bo&&t===Fo&&--t):t=1073741823,ga&&(0===ca||t<ca)&&(ca=t),t}function Jo(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),null!==Bo&&Fo===n?Bo=null:(e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==e&&n<=e&&n>=r&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>n)&&(t.latestPingedTime=n),ei(n,t),0!==(n=t.expirationTime)&&Aa(t,n)))}function Qo(t,e){var n=t.stateNode;null!==n&&n.delete(e),null!==(t=ta(t,e=Zo(e=Ma(),t)))&&(Jr(t,e),0!==(e=t.expirationTime)&&Aa(t,e))}function ta(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function ea(t,e){null!==(t=ta(t,e))&&(!No&&0!==Fo&&e>Fo&&Vo(),Jr(t,e),No&&!Go&&Bo===t||Aa(t,t.expirationTime),Sa>wa&&(Sa=0,s("185")))}function na(t,e,n,r,i){var o=Po;Po=1073741823;try{return t(e,n,r,i)}finally{Po=o}}var ra=null,ia=null,oa=0,aa=void 0,sa=!1,ua=null,la=0,ca=0,fa=!1,ha=null,da=!1,pa=!1,ga=!1,va=null,ma=o.unstable_now(),ya=1073741822-(ma/10|0),ba=ya,wa=50,Sa=0,Ta=null;function Ea(){ya=1073741822-((o.unstable_now()-ma)/10|0)}function _a(t,e){if(0!==oa){if(e<oa)return;null!==aa&&o.unstable_cancelCallback(aa)}oa=e,t=o.unstable_now()-ma,aa=o.unstable_scheduleCallback(La,{timeout:10*(1073741822-e)-t})}function ka(t,e,n,r,i){t.expirationTime=r,0!==i||Ca()?0<i&&(t.timeoutHandle=wr(xa.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function xa(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,Ea(),ba=ya,Oa(t,n)}function Ma(){return sa||(Ra(),0!==la&&1!==la||(Ea(),ba=ya)),ba}function Aa(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===ia?(ra=ia=t,t.nextScheduledRoot=t):(ia=ia.nextScheduledRoot=t).nextScheduledRoot=ra):e>t.expirationTime&&(t.expirationTime=e),sa||(da?pa&&(ua=t,la=1073741823,Pa(t,1073741823,!1)):1073741823===e?Da(1073741823,!1):_a(t,e))}function Ra(){var t=0,e=null;if(null!==ia)for(var n=ia,r=ra;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===ia)&&s("244"),r===r.nextScheduledRoot){ra=ia=r.nextScheduledRoot=null;break}if(r===ra)ra=i=r.nextScheduledRoot,ia.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ia){(ia=n).nextScheduledRoot=ra,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>t&&(t=i,e=r),r===ia)break;if(1073741823===t)break;n=r,r=r.nextScheduledRoot}}ua=e,la=t}var Ia=!1;function Ca(){return!!Ia||!!o.unstable_shouldYield()&&(Ia=!0)}function La(){try{if(!Ca()&&null!==ra){Ea();var t=ra;do{var e=t.expirationTime;0!==e&&ya<=e&&(t.nextExpirationTimeToWorkOn=ya),t=t.nextScheduledRoot}while(t!==ra)}Da(0,!0)}finally{Ia=!1}}function Da(t,e){if(Ra(),e)for(Ea(),ba=ya;null!==ua&&0!==la&&t<=la&&!(Ia&&ya>la);)Pa(ua,la,ya>la),Ra(),Ea(),ba=ya;else for(;null!==ua&&0!==la&&t<=la;)Pa(ua,la,!1),Ra();if(e&&(oa=0,aa=null),0!==la&&_a(ua,la),Sa=0,Ta=null,null!==va)for(t=va,va=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){fa||(fa=!0,ha=r)}}if(fa)throw t=ha,ha=null,fa=!1,t}function Oa(t,e){sa&&s("253"),ua=t,la=e,Pa(t,e,!1),Da(1073741823,!1)}function Pa(t,e,n){if(sa&&s("245"),sa=!0,n){var r=t.finishedWork;null!==r?Na(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,Sr(r)),Xo(t,n),null!==(r=t.finishedWork)&&(Ca()?t.finishedWork=r:Na(t,r,e)))}else null!==(r=t.finishedWork)?Na(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,Sr(r)),Xo(t,n),null!==(r=t.finishedWork)&&Na(t,r,e));sa=!1}function Na(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===va?va=[r]:va.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===Ta?Sa++:(Ta=t,Sa=0),Go=No=!0,t.current===e&&s("177"),0===(n=t.pendingCommitExpirationTime)&&s("261"),t.pendingCommitExpirationTime=0,r=e.expirationTime;var i=e.childExpirationTime;if(r=i>r?i:r,t.didError=!1,0===r?(t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0):(r<t.latestPingedTime&&(t.latestPingedTime=0),0!==(i=t.latestPendingTime)&&(i>r?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>r&&(t.earliestPendingTime=t.latestPendingTime)),0===(i=t.earliestSuspendedTime)?Jr(t,r):r<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Jr(t,r)):r>i&&Jr(t,r)),ei(0,t),Do.current=null,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,vr=xn,Fn(i=Bn())){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{var a=(o=(o=i.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(a&&0!==a.rangeCount){o=a.anchorNode;var u=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{o.nodeType,l.nodeType}catch(j){o=null;break t}var c=0,f=-1,h=-1,d=0,p=0,g=i,v=null;e:for(;;){for(var m;g!==o||0!==u&&3!==g.nodeType||(f=c+u),g!==l||0!==a&&3!==g.nodeType||(h=c+a),3===g.nodeType&&(c+=g.nodeValue.length),null!==(m=g.firstChild);)v=g,g=m;for(;;){if(g===i)break e;if(v===o&&++d===u&&(f=c),v===l&&++p===a&&(h=c),null!==(m=g.nextSibling))break;v=(g=v).parentNode}g=m}o=-1===f||-1===h?null:{start:f,end:h}}else o=null}o=o||{start:0,end:0}}else o=null;for(mr={focusedElem:i,selectionRange:o},xn=!1,Ko=r;null!==Ko;){i=!1,o=void 0;try{for(;null!==Ko;){if(256&Ko.effectTag)t:{var y=Ko.alternate;switch((u=Ko).tag){case 0:case 11:case 15:break t;case 1:if(256&u.effectTag&&null!==y){var b=y.memoizedProps,w=y.memoizedState,S=u.stateNode,T=S.getSnapshotBeforeUpdate(u.elementType===u.type?b:Li(u.type,b),w);S.__reactInternalSnapshotBeforeUpdate=T}break t;case 3:case 5:case 6:case 4:case 17:break t;default:s("163")}}Ko=Ko.nextEffect}}catch(j){i=!0,o=j}i&&(null===Ko&&s("178"),$o(Ko,o),null!==Ko&&(Ko=Ko.nextEffect))}for(Ko=r;null!==Ko;){y=!1,b=void 0;try{for(;null!==Ko;){var E=Ko.effectTag;if(16&E&&ar(Ko.stateNode,""),128&E){var _=Ko.alternate;if(null!==_){var k=_.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(14&E){case 2:ko(Ko),Ko.effectTag&=-3;break;case 6:ko(Ko),Ko.effectTag&=-3,Mo(Ko.alternate,Ko);break;case 4:Mo(Ko.alternate,Ko);break;case 8:xo(w=Ko),w.return=null,w.child=null,w.memoizedState=null,w.updateQueue=null;var x=w.alternate;null!==x&&(x.return=null,x.child=null,x.memoizedState=null,x.updateQueue=null)}Ko=Ko.nextEffect}}catch(j){y=!0,b=j}y&&(null===Ko&&s("178"),$o(Ko,b),null!==Ko&&(Ko=Ko.nextEffect))}if(k=mr,_=Bn(),E=k.focusedElem,y=k.selectionRange,_!==E&&E&&E.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==y&&Fn(E)&&(_=y.start,void 0===(k=y.end)&&(k=_),"selectionStart"in E?(E.selectionStart=_,E.selectionEnd=Math.min(k,E.value.length)):(k=(_=E.ownerDocument||document)&&_.defaultView||window).getSelection&&(k=k.getSelection(),b=E.textContent.length,x=Math.min(y.start,b),y=void 0===y.end?x:Math.min(y.end,b),!k.extend&&x>y&&(b=y,y=x,x=b),b=jn(E,x),w=jn(E,y),b&&w&&(1!==k.rangeCount||k.anchorNode!==b.node||k.anchorOffset!==b.offset||k.focusNode!==w.node||k.focusOffset!==w.offset)&&((_=_.createRange()).setStart(b.node,b.offset),k.removeAllRanges(),x>y?(k.addRange(_),k.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),k.addRange(_))))),_=[];for(k=E;k=k.parentNode;)1===k.nodeType&&_.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<_.length;E++)(k=_[E]).element.scrollLeft=k.left,k.element.scrollTop=k.top}for(mr=null,xn=!!vr,vr=null,t.current=e,Ko=r;null!==Ko;){r=!1,E=void 0;try{for(_=n;null!==Ko;){var M=Ko.effectTag;if(36&M){var A=Ko.alternate;switch(x=_,(k=Ko).tag){case 0:case 11:case 15:break;case 1:var R=k.stateNode;if(4&k.effectTag)if(null===A)R.componentDidMount();else{var I=k.elementType===k.type?A.memoizedProps:Li(k.type,A.memoizedProps);R.componentDidUpdate(I,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var C=k.updateQueue;null!==C&&hi(0,C,R);break;case 3:var L=k.updateQueue;if(null!==L){if(y=null,null!==k.child)switch(k.child.tag){case 5:y=k.child.stateNode;break;case 1:y=k.child.stateNode}hi(0,L,y)}break;case 5:var D=k.stateNode;null===A&&4&k.effectTag&&yr(k.type,k.memoizedProps)&&D.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}if(128&M){var O=Ko.ref;if(null!==O){var P=Ko.stateNode;switch(Ko.tag){case 5:var N=P;break;default:N=P}"function"===typeof O?O(N):O.current=N}}Ko=Ko.nextEffect}}catch(j){r=!0,E=j}r&&(null===Ko&&s("178"),$o(Ko,E),null!==Ko&&(Ko=Ko.nextEffect))}No=Go=!1,"function"===typeof Ur&&Ur(e.stateNode),M=e.expirationTime,0===(e=(e=e.childExpirationTime)>M?e:M)&&(qo=null),t.expirationTime=e,t.finishedWork=null}function ja(t){null===ua&&s("246"),ua.expirationTime=0,fa||(fa=!0,ha=t)}function Ba(t,e){var n=da;da=!0;try{return t(e)}finally{(da=n)||sa||Da(1073741823,!1)}}function Fa(t,e){if(da&&!pa){pa=!0;try{return t(e)}finally{pa=!1}}return t(e)}function Ua(t,e,n){if(ga)return t(e,n);da||sa||0===ca||(Da(ca,!1),ca=0);var r=ga,i=da;da=ga=!0;try{return t(e,n)}finally{ga=r,(da=i)||sa||Da(1073741823,!1)}}function Ha(t,e,n,r,i){var o=e.current;t:if(n){e:{2===rn(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Dr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var u=n.type;if(Dr(u)){n=jr(n,u,a);break t}}n=a}else n=Ar;return null===e.context?e.context=n:e.pendingContext=n,e=i,(i=oi(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),si(o,i),ea(o,r),r}function Ka(t,e,n,r){var i=e.current;return Ha(t,e,n,i=Zo(Ma(),i),r)}function Ga(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function qa(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Va(t){var e=1073741822-25*(1+((1073741822-Ma()+500)/25|0));e>=Oo&&(e=Oo-1),this._expirationTime=Oo=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function za(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Wa(t,e,n){t={current:e=qr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Ya(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Xa(t,e,n,r,i){Ya(n)||s("200");var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var t=Ga(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Wa(t,!1,e)}(n,r),"function"===typeof i){var u=i;i=function(){var t=Ga(o._internalRoot);u.call(t)}}Fa((function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}))}return Ga(o._internalRoot)}function $a(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ya(e)||s("200"),qa(t,e,null,n)}At=function(t,e,n){switch(e){case"input":if(_e(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=U(r);i||s("90"),Vt(r),_e(r,i)}}}break;case"textarea":Jn(t,n);break;case"select":null!=(e=n.value)&&Xn(t,!!n.multiple,e,!1)}},Va.prototype.render=function(t){this._defer||s("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new za;return Ha(t,e,null,n,r._onCommit),r},Va.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Va.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||s("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,Oa(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Va.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},za.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},za.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&s("191",n),n()}}},Wa.prototype.render=function(t,e){var n=this._internalRoot,r=new za;return null!==(e=void 0===e?null:e)&&r.then(e),Ka(t,n,null,r._onCommit),r},Wa.prototype.unmount=function(t){var e=this._internalRoot,n=new za;return null!==(t=void 0===t?null:t)&&n.then(t),Ka(null,e,null,n._onCommit),n},Wa.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new za;return null!==(n=void 0===n?null:n)&&i.then(n),Ka(e,r,t,i._onCommit),i},Wa.prototype.createBatch=function(){var t=new Va(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Ot=Ba,Pt=Ua,Nt=function(){sa||0===ca||(Da(ca,!1),ca=0)};var Za={createPortal:$a,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?s("188"):s("268",Object.keys(t))),t=null===(t=an(e))?null:t.stateNode},hydrate:function(t,e,n){return Xa(null,t,e,!0,n)},render:function(t,e,n){return Xa(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&s("38"),Xa(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Ya(t)||s("40"),!!t._reactRootContainer&&(Fa((function(){Xa(null,null,t,!1,(function(){t._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return $a.apply(void 0,arguments)},unstable_batchedUpdates:Ba,unstable_interactiveUpdates:Ua,flushSync:function(t,e){sa&&s("187");var n=da;da=!0;try{return na(t,e)}finally{da=n,Da(1073741823,!1)}},unstable_createRoot:function(t,e){return Ya(t)||s("299","unstable_createRoot"),new Wa(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=da;da=!0;try{na(t)}finally{(da=e)||sa||Da(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[B,F,U,C.injectEventPluginsByName,w,z,function(t){A(t,V)},Lt,Dt,In,D]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Ur=Kr((function(t){return e.onCommitFiberRoot(n,t)})),Hr=Kr((function(t){return e.onCommitFiberUnmount(n,t)}))}catch(r){}})(i({},t,{overrideProps:null,findHostInstanceByFiber:function(t){return null===(t=an(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:j,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"});var Ja={default:Za},Qa=Ja&&Za||Ja;t.exports=Qa.default||Qa},function(t,e,n){"use strict";t.exports=n(1218)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,u=!1;function l(){if(!s){var t=n.expirationTime;u?E():u=!0,T(h,t)}}function c(){var t=n,e=n.next;if(n===e)n=null;else{var r=n.previous;n=r.next=e,e.previous=r}t.next=t.previous=null,r=t.callback,e=t.expirationTime,t=t.priorityLevel;var o=i,s=a;i=t,a=e;try{var u=r()}finally{i=o,a=s}if("function"===typeof u)if(u={callback:u,priorityLevel:t,expirationTime:e,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,t=n;do{if(t.expirationTime>=e){r=t;break}t=t.next}while(t!==n);null===r?r=n:r===n&&(n=u,l()),(e=r.previous).next=r.previous=u,u.next=r,u.previous=e}}function f(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?l():u=!1}}}function h(t){s=!0;var i=r;r=t;try{if(t)for(;null!==n;){var o=e.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!_())}finally{s=!1,r=i,null!==n?l():u=!1,f()}}var d,p,g=Date,v="function"===typeof setTimeout?setTimeout:void 0,m="function"===typeof clearTimeout?clearTimeout:void 0,y="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(t){d=y((function(e){m(p),t(e)})),p=v((function(){b(d),t(e.unstable_now())}),100)}if("object"===typeof performance&&"function"===typeof performance.now){var S=performance;e.unstable_now=function(){return S.now()}}else e.unstable_now=function(){return g.now()};var T,E,_,k=null;if("undefined"!==typeof window?k=window:"undefined"!==typeof t&&(k=t),k&&k._schedMock){var x=k._schedMock;T=x[0],E=x[1],_=x[2],e.unstable_now=x[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var M=null,A=function(t){if(null!==M)try{M(t)}finally{M=null}};T=function(t){null!==M?setTimeout(T,0,t):(M=t,setTimeout(A,0,!1))},E=function(){M=null},_=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var R=null,I=!1,C=-1,L=!1,D=!1,O=0,P=33,N=33;_=function(){return O<=e.unstable_now()};var j=new MessageChannel,B=j.port2;j.port1.onmessage=function(){I=!1;var t=R,n=C;R=null,C=-1;var r=e.unstable_now(),i=!1;if(0>=O-r){if(!(-1!==n&&n<=r))return L||(L=!0,w(F)),R=t,void(C=n);i=!0}if(null!==t){D=!0;try{t(i)}finally{D=!1}}};var F=function t(e){if(null!==R){w(t);var n=e-O+N;n<N&&P<N?(8>n&&(n=8),N=n<P?P:n):P=n,O=e+N,I||(I=!0,B.postMessage(void 0))}else L=!1};T=function(t,e){R=t,C=e,D||0>e?B.postMessage(void 0):L||(L=!0,w(F))},E=function(){R=null,I=!1,C=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=i,a=o;i=t,o=e.unstable_now();try{return n()}finally{i=r,o=a,f()}},e.unstable_scheduleCallback=function(t,r){var a=-1!==o?o:e.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(t={callback:t,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=t.next=t.previous=t,l();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=t,l()),(r=a.previous).next=a.previous=t,t.next=a,t.previous=r}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)n=null;else{t===n&&(n=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=i;return function(){var r=i,a=o;i=n,o=e.unstable_now();try{return t.apply(this,arguments)}finally{i=r,o=a,f()}}},e.unstable_getCurrentPriorityLevel=function(){return i},e.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||_())},e.unstable_continueExecution=function(){null!==n&&l()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(60))},,function(t,e,n){var r=n(123);t.exports=r((function(t){return function(){return t}}))},function(t,e,n){var r=n(85);t.exports=r((function(t,e){return null!=e&&e.constructor===t||e instanceof t}))},function(t,e,n){var r=n(323);t.exports=r((function(t,e,n){return t(n)?n:e(n)}))},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function T(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case p:return t;default:switch(t=t&&t.$$typeof){case c:case d:case m:case v:case l:return t;default:return e}}case o:return e}}}function E(t){return T(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=m,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return E(t)||T(t)===f},e.isConcurrentMode=E,e.isContextConsumer=function(t){return T(t)===c},e.isContextProvider=function(t){return T(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return T(t)===d},e.isFragment=function(t){return T(t)===a},e.isLazy=function(t){return T(t)===m},e.isMemo=function(t){return T(t)===v},e.isPortal=function(t){return T(t)===o},e.isProfiler=function(t){return T(t)===u},e.isStrictMode=function(t){return T(t)===s},e.isSuspense=function(t){return T(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===p||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===b||t.$$typeof===w||t.$$typeof===S||t.$$typeof===y)},e.typeOf=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Job=e.default=void 0;var r;(r=n(204))&&r.__esModule;function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.fn=null,this.timeout=null,this.type=null,this.start=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.startAfter.apply(r,[r.timeout].concat(e))},this.startAfter=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.stop(),r.type="timeout",r.id=setTimeout((function(){return r.run(n)}),t)},this.stop=function(){r.id&&("idle"===r.type?window.cancelIdleCallback(r.id):"raf"===r.type?window.cancelAnimationFrame(r.id):"timeout"===r.type&&clearTimeout(r.id),r.id=r.type=null)},this.throttle=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.throttleUntil.apply(r,[r.timeout].concat(e))},this.throttleUntil=function(t){if(!r.id){r.type="timeout";for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.run(n),r.id=setTimeout(r.stop,t)}},this.idle=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.idleUntil.apply(r,[null].concat(e))},this.idleUntil=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];"undefined"!==typeof window&&window.requestIdleCallback?(r.stop(),r.type="idle",r.id=window.requestIdleCallback((function(){return r.run(n)}),{timeout:t})):r.startAfter.apply(r,[t].concat(n))},this.startRaf=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.startRafAfter.apply(r,[r.timeout].concat(e))},this.startRafAfter=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(r.type="raf","undefined"!==typeof window){var o=null,a=function e(i){null===o&&(o=i),t&&i-o<t?r.id=window.requestAnimationFrame(e):(o=null,r.run(n),window.cancelAnimationFrame(r.id),r.id=null)};r.id=window.requestAnimationFrame(a)}else r.run(n)},this.promise=function(t){return t&&"function"===typeof t.then||invariant(!1),r.type="promise",r.id=t,t.then((function(e){if(r.id===t)return r.stop(),r.run([e])}))},this.fn=e,this.timeout=n}var e,n,r;return e=t,(n=[{key:"run",value:function(t){return this.fn.apply(null,t)}}])&&i(e.prototype,n),r&&i(e,r),t}();e.Job=o;var a=o;e.default=a},function(t,e,n){var r=n(323),i=n(644),o=n(1226);t.exports=r((function t(e,n,r){return o((function(n,r,o){return i(r)&&i(o)?t(e,r,o):e(n,r,o)}),n,r)}))},function(t,e,n){var r=n(323),i=n(401);t.exports=r((function(t,e,n){var r,o={};for(r in e)i(r,e)&&(o[r]=i(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)i(r,n)&&!i(r,o)&&(o[r]=n[r]);return o}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeAll=e.remove=e.is=e.addAll=e.add=void 0;var r,i=(r=n(403))&&r.__esModule?r:{default:r};var o={},a=function(t){return t?t.toLowerCase():""},s=(0,i.default)((function(t,e){Object.keys(e).forEach((function(n){return t(n,e[n])}))})),u=(0,i.default)((function(t,e,n){Array.isArray(n)?n.forEach(t(e)):t(e,n)})),l=(0,i.default)((function(t,e){(t=a(t))in o?-1===o[t].indexOf(e)&&o[t].push(e):t&&(o[t]=[e])})),c=(0,i.default)((function(t,e){if((t=a(t))in o){var n=o[t],r=n.indexOf(e);-1===r?delete o[t]:n.splice(r,1)}})),f=u(l);e.add=f;var h=s(f);e.addAll=h;var d=u(c);e.remove=d;var p=s(d);e.removeAll=p;var g=(0,i.default)((function(t,e){return(t=a(t))in o&&o[t].indexOf(e)>=0}));e.is=g},function(t,e,n){var r=n(404),i=n(400);t.exports=function t(e,n,o){return function(){for(var a=[],s=0,u=e,l=0;l<n.length||s<arguments.length;){var c;l<n.length&&(!i(n[l])||s>=arguments.length)?c=n[l]:(c=arguments[s],s+=1),a[l]=c,i(c)||(u-=1),l+=1}return u<=0?o.apply(this,a):r(u,t(e,a,o))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWindowReady=o,e.onWindowReady=a,e.windowReady=function(){o()||invariant(!1),i.forEach((function(t){return t()}))},e.default=void 0;var r;(r=n(204))&&r.__esModule;var i=[];function o(){return"undefined"!==typeof window}function a(t){o()?t():i.push(t)}var s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.parseUserAgent=e.detect=e.default=void 0;var r,i=(r=n(646))&&r.__esModule?r:{default:r};function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){a(t,e,n[e])}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s,u=[{platform:"windowsPhone",regex:/Windows Phone (?:OS )?(\d+)[.\d]+/},{platform:"androidChrome",regex:/Android .* Chrome\/(\d+)[.\d]+/},{platform:"android",regex:/Android(?:\s|\/)(\d+)/},{platform:"android",regex:/Silk\/1./,forceVersion:2,extra:{silk:1}},{platform:"android",regex:/Silk\/2./,forceVersion:4,extra:{silk:2}},{platform:"android",regex:/Silk\/3./,forceVersion:4,extra:{silk:3}},{platform:"ie",regex:/MSIE (\d+)/},{platform:"ie",regex:/Trident\/.*; rv:(\d+)/},{platform:"edge",regex:/Edge\/(\d+)/},{platform:"ios",regex:/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/},{platform:"webos",regex:/Web0S;.*Safari\/537.41/,forceVersion:1},{platform:"webos",regex:/Web0S;.*Safari\/538.2/,forceVersion:2},{platform:"webos",regex:/Web0S;.*Chrome\/38/,forceVersion:3},{platform:"webos",regex:/Web0S;.*Chrome\/53/,forceVersion:4},{platform:"webos",regex:/Web0S;.*Chrome\/68/,forceVersion:5},{platform:"webos",regex:/Web0S;/,forceVersion:-1},{platform:"webos",regex:/LuneOS/,forceVersion:-1,extra:{luneos:1}},{platform:"webos",regex:/WebAppManager|Isis|webOS\./,forceVersion:-1,extra:{legacy:4}},{platform:"webos",regex:/(?:web|hpw)OS\/1/,forceVersion:-1,extra:{legacy:1}},{platform:"webos",regex:/(?:web|hpw)OS\/2/,forceVersion:-1,extra:{legacy:2}},{platform:"webos",regex:/(?:web|hpw)OS\/3/,forceVersion:-1,extra:{legacy:3}},{platform:"safari",regex:/Version\/(\d+)[.\d]+\s+Safari/},{platform:"chrome",regex:/Chrome\/(\d+)[.\d]+/},{platform:"androidFirefox",regex:/Android;.*Firefox\/(\d+)/},{platform:"firefoxOS",regex:/Mobile;.*Firefox\/(\d+)/},{platform:"firefox",regex:/Firefox\/(\d+)/},{platform:"blackberry",regex:/PlayBook/i,forceVersion:2},{platform:"blackberry",regex:/BB1\d;.*Version\/(\d+\.\d+)/},{platform:"tizen",regex:/Tizen (\d+)/}],l=function(t){for(var e,n,r,i=({gesture:Boolean("ongesturestart"in window||"onmsgesturestart"in window&&(window.navigator.msMaxTouchPoints>1||window.navigator.maxTouchPoints>1)),node:!1,touch:Boolean("TouchEvent"in window||"ontouchstart"in window||window.navigator.msMaxTouchPoints||window.navigator.msManipulationViewsEnabled&&window.navigator.maxTouchPoints),touchscreen:window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.matchMedia&&window.matchMedia("(any-pointer:coarse)").matches,unknown:!0}),a=0;e=u[a];a++)if(n=e.regex.exec(t)){i.unknown=!1,r="forceVersion"in e?e.forceVersion:Number(n[1]),i[e.platform]=r,e.extra&&(i=o({},i,e.extra)),i.platformName=e.platform;break}return i};e.parseUserAgent=l;var c=function(){if(s)return s;if("undefined"===typeof window)return{gesture:!1,node:!0,touch:!1,unknown:!0};var t=window.navigator?window.navigator.userAgent:"";return s=l(t)};e.detect=c;var f,h={};e.platform=h,["gesture","node","platformName","touch","touchscreen","unknown"].concat((f=(0,i.default)(u.map((function(t){return t.platform}))),function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(f)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}())).forEach((function(t){Object.defineProperty(h,t,{enumerable:!0,get:function(){return c()[t]}})}));var d=h;e.default=d},function(t,e,n){var r=n(123),i=n(1232);t.exports=r(i)},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(1234),i=n(85);t.exports=i((function(t,e){for(var n,i,o=new r,a=[],s=0;s<e.length;)n=t(i=e[s]),o.add(n)&&a.push(i),s+=1;return a}))},function(t,e,n){var r=n(499);t.exports=function(){function t(){this._nativeSet="function"===typeof Set?new Set:null,this._items={}}function e(t,e,n){var i,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t===-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(i=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===i):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var a=t?1:0;return!!n._items[o][a]||(e&&(n._items[o][a]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(i=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===i):n._nativeSet.has(t):o in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}return t.prototype.add=function(t){return!e(t,!0,this)},t.prototype.has=function(t){return e(t,!1,this)},t}()},function(t,e,n){var r=n(1236);t.exports=function(t,e,n){var i,o;if("function"===typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(i=1/e;n<t.length;){if(0===(o=t[n])&&1/o===i)return n;n+=1}return-1}if(e!==e){for(;n<t.length;){if("number"===typeof(o=t[n])&&o!==o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(85),i=n(1237);t.exports=r((function(t,e){return i(t,e,[],[])}))},function(t,e,n){var r=n(1238),i=n(1239),o=n(401),a=n(1240),s=n(405),u=n(1242);t.exports=function t(e,n,l,c){if(a(e,n))return!0;if(u(e)!==u(n))return!1;if(null==e||null==n)return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof n["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](n)&&"function"===typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof n.equals)return"function"===typeof e.equals&&e.equals(n)&&"function"===typeof n.equals&&n.equals(e);switch(u(e)){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===i(e.constructor))return e===n;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof n||!a(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!a(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!t(r(e.entries()),r(n.entries()),l,c))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=s(e);if(f.length!==s(n).length)return!1;for(var h=l.length-1;h>=0;){if(l[h]===e)return c[h]===n;h-=1}for(l.push(e),c.push(n),h=f.length-1;h>=0;){var d=f[h];if(!o(d,n)||!t(n[d],e[d],l,c))return!1;h-=1}return l.pop(),c.pop(),!0}},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e,n){var r=n(85);t.exports=r((function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}))},function(t,e,n){var r=n(401);t.exports=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(e){return"[object Arguments]"===t.call(e)}:function(t){return r("callee",t)}}()},function(t,e,n){var r=n(123);t.exports=r((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}))},function(t,e,n){var r=n(85),i=n(501);t.exports=r((function(t,e){var n=t<0?e.length+t:t;return i(e)?e.charAt(n):e[n]}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Accelerator=e.default=void 0;var i=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[3,3,3,2,2,2,1];r(this,t),this.processKey=function(t,n){switch(t.type){case"keydown":if(t.keyCode!==e.keyCode)return e.reset(),e.time=Date.now(),e.keyCode=t.keyCode,n(t);if(e.canceled)return t.preventDefault(),!0;var r=Date.now()-e.time,i=Math.floor(r/1e3),o=0;return i=i>e.frequency.length-1?e.frequency.length-1:i,(o=e.frequency[i]-1)<0&&(o=0),e.accelerating=!(0===i&&0===e.skipped),e.skipped>=o?(e.skipped=0,n(t)):(e.skipped++,t.preventDefault(),!0);case"keyup":return e.reset(),n(t)}},this.reset=function(){e.skipped=0,e.time=0,e.keyCode=0,e.canceled=!1,e.accelerating=!1},this.cancel=function(){e.canceled=!0},this.isAccelerating=function(){return e.accelerating},this.accelerating=!1,this.skipped=0,this.time=0,this.keyCode=0,this.canceled=!1,this.frequency=n};e.Accelerator=i;var o=i;e.default=o},function(t,e,n){var r=n(404),i=n(123),o=n(1246),a=n(1252),s=n(1253);t.exports=i((function(t){var e=s(a,0,o((function(t){return t[0].length}),t));return r(e,(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))}))},function(t,e,n){var r=n(85),i=n(648),o=n(649),a=n(503),s=n(1251),u=n(645),l=n(405);t.exports=r(i(["fantasy-land/map","map"],s,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return u(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return a((function(n,r){return n[r]=t(e[r]),n}),{},l(e));default:return o(t,e)}})))},function(t,e){t.exports=function(t){return"function"===typeof t["@@transducer/step"]}},function(t,e,n){var r=n(123),i=n(502),o=n(501);t.exports=r((function(t){return!!i(t)||!!t&&("object"===typeof t&&(!o(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}))},function(t,e){t.exports=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},function(e){return new t(e)}}()},function(t,e,n){var r=n(404),i=n(85);t.exports=i((function(t,e){return r(t.length,(function(){return t.apply(e,arguments)}))}))},function(t,e,n){var r=n(85),i=n(650);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},r((function(e,n){return new t(e,n)}))}()},function(t,e,n){var r=n(85);t.exports=r((function(t,e){return e>t?e:t}))},function(t,e,n){var r=n(323),i=n(503);t.exports=r(i)},function(t,e,n){"use strict";var r=n(1255);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){var r=n(85);t.exports=r((function(t,e){return t&&e}))},function(t,e,n){var r=n(85),i=n(502),o=n(1258),a=n(501),s=n(1259);t.exports=r((function(t,e){if(i(t)){if(i(e))return t.concat(e);throw new TypeError(s(e)+" is not an array")}if(a(t)){if(a(e))return t+e;throw new TypeError(s(e)+" is not a string")}if(null!=t&&o(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&o(t.concat))return t.concat(e);throw new TypeError(s(t)+' does not have a method named "concat" or "fantasy-land/concat"')}))},function(t,e){t.exports=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(123),i=n(1260);t.exports=r((function(t){return i(t,[])}))},function(t,e,n){var r=n(499),i=n(649),o=n(1261),a=n(1262),s=n(405),u=n(1263);t.exports=function t(e,n){var l=function(i){var o=n.concat([e]);return r(i,o)?"<Circular>":t(i,o)},c=function(t,e){return i((function(e){return o(e)+": "+l(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+i(l,e).join(", ")+"))";case"[object Array]":return"["+i(l,e).concat(c(e,u((function(t){return/^\d+$/.test(t)}),s(e)))).join(", ")+"]";case"[object Boolean]":return"object"===typeof e?"new Boolean("+l(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?l(NaN):o(a(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"===typeof e?"new Number("+l(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return"object"===typeof e?"new String("+l(e.valueOf())+")":o(e);case"[object Undefined]":return"undefined";default:if("function"===typeof e.toString){var f=e.toString();if("[object Object]"!==f)return f}return"{"+c(e,s(e)).join(", ")+"}"}}},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){t.exports=function(){var t=function(t){return(t<10?"0":"")+t};return"function"===typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(e){return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}()},function(t,e,n){var r=n(1264),i=n(85),o=n(1265);t.exports=i((function(t,e){return o(r(t),e)}))},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(85),i=n(648),o=n(651),a=n(644),s=n(503),u=n(1266),l=n(405);t.exports=r(i(["filter"],u,(function(t,e){return a(e)?s((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},l(e)):o(t,e)})))},function(t,e,n){var r=n(85),i=n(650);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},r((function(e,n){return new t(e,n)}))}()},function(t,e,n){var r=n(499),i=n(85),o=n(651),a=n(1268),s=n(646);t.exports=i((function(t,e){var n,i;return t.length>e.length?(n=t,i=e):(n=e,i=t),s(o(a(r)(n),i))}))},function(t,e,n){var r=n(123),i=n(403);t.exports=r((function(t){return i((function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))}))},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNavigableTarget=w,e.getTargetByContainer=d,e.getTargetByDirectionFromElement=function(t,e){var n=e.getAttribute("data-spot-"+t);if("string"===typeof n)return p(n);var r=(0,s.getRect)(e);return(0,o.getNavigableContainersForNode)(e).reduceRight((function(n,u,l,c){return(n=n||function t(e,n,r,i,u,l){var c=g(n,u),f=(0,o.getContainerPreviousTarget)(n,e,r);if(f&&-1!==c.indexOf(f))return f;"ignore"===r.dataset.spotlightOverflow&&(l=y(n)||l);var h=v((0,s.getRects)(c),l),p=null,b=function(){var s=m(h,i);if(s)return(p=t(e,s,r,i,u,l))?"break":(h=h.filter((function(t){return t.element.dataset.spotlightId!==s})),"continue");if((p=(0,a.default)(i,e,h,(0,o.getContainerConfig)(n)))&&(0,o.isContainer)(p)){var c=p.dataset.spotlightId,f=p;if(!(p=function(t){var e=(0,o.getContainerConfig)(t);return e&&("last-focused"===e.enterTo||"default-element"===e.enterTo)}(c)?d(c):t(e,c,r,i,u,y(c)||l)))return h=h.filter((function(t){return t.element!==f})),"continue"}return"break"};t:for(;h.length>0;){switch(b()){case"continue":continue;case"break":break t}}return p}(t,u,e,r,c))||!1===(n=function(t,e){var n=(0,o.getContainerConfig)(t);if(n){var r="self-only"!==n.restrict&&n.leaveFor&&n.leaveFor[e];if("string"===typeof r)return""!==r&&p(r);var a=(0,o.getContainersForNode)(r);if((0,o.isNavigable)(r,(0,i.default)(a)))return r}return null}(u,t))&&(n=e),n}),null)},e.getTargetByDirectionFromPosition=b,e.getTargetBySelector=p,e.isFocusable=h,e.getNearestTargetFromPosition=void 0;var r=u(n(1271)),i=u(n(500)),o=n(324),a=u(n(1272)),s=n(504);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t){for(var e=(0,o.getContainersForNode)(t),n=!0,r=e.length-1;r>=0;r--){var i=e[r];if(!(0,o.isNavigable)(t,i,n))return!1;n=!1}return!0}function d(t){return function(t){var e=[],n=function(t){var n=(0,o.getContainerConfig)(t);t&&e.indexOf(t)<0&&n&&!n.selectorDisabled&&e.push(t)};return t?n(t):(n((0,o.getDefaultContainer)()),n((0,o.getLastContainer)()),f((0,o.getAllContainerIds)()).map(n)),e}(t).reduce((function(t,e){return t||(0,o.getContainerFocusTarget)(e)}),null)}function p(t){if(!t)return null;if("@"===t.charAt(0))return d(1===t.length?null:t.substr(1));var e=(0,s.parseSelector)(t)[0];if(e){if((0,o.isContainer)(e))return d((0,o.getContainerId)(e));var n=(0,o.getContainersForNode)(e);if((0,o.isNavigable)(e,(0,i.default)(n),!0))return e}return null}function g(t,e){return(0,o.getSpottableDescendants)(t).filter((function(t){return!(0,o.isContainer)(t)||-1===e.indexOf(t.dataset.spotlightId)}))}function v(t,e){return e?t.filter((function(t){return(0,o.isContainer)(t.element)?(0,s.intersects)(e,t):(0,s.contains)(e,t.center)})).map((function(t){var n=t.top<e.top,r=t.bottom>e.bottom,i=t.left<e.left,o=t.right>e.right;if(n||r||i||o){var a=l({},t,{center:l({},t.center)});if(n&&(a.top=e.top),r&&(a.bottom=e.bottom),i&&(a.left=e.left),o&&(a.right=e.right),i||o){var s=a.left+(a.right-a.left)/2;a.center.x=a.center.left=a.center.right=s}if(n||r){var u=a.top+(a.bottom-a.top)/2;a.center.y=a.center.top=a.center.bottom=u}return a}return t})):t}function m(t,e){var n=t.filter((function(t){return(0,o.isContainer)(t.element)&&(0,s.contains)(t,e)}));return!!n.length&&n[0].element.dataset.spotlightId}function y(t){var e=(0,o.getContainerConfig)(t);if(e&&e.overflow)return(0,s.getContainerRect)(t)}function b(t,e,n){var r=(0,s.getPointRect)(e);return(0,o.getNavigableContainersForNode)((0,o.getContainerNode)(n)).reduceRight((function(e,n,i,u){return e||function t(e,n,r,i,u){var l=g(n,i),c=v((0,s.getRects)(l),u),f=null,h=function(){var s=m(c,r);if(s)return(f=t(e,s,r,i,u))?"break":(c=c.filter((function(t){return t.element.dataset.spotlightId!==s})),"continue");if((f=(0,a.default)(r,e,c,(0,o.getContainerConfig)(n)))&&(0,o.isContainer)(f)){var l=f.dataset.spotlightId,h=f;if(!(f=t(e,l,r,i,y(l)||u)))return c=c.filter((function(t){return t.element!==h})),"continue"}return"break"};t:for(;c.length>0;){switch(h()){case"continue":continue;case"break":break t}}return f}(t,n,r,u)}),null)}function w(t){if(t===document)return null;for(var e;t&&((0,o.isContainer)(t)||!h(t));)t=(e=t.parentNode)===document?null:e;return t}var S=function(t,e){var n=function(t,e){return["up","left","right","down"].reduce((function(n,r){var i=b(r,t,e);return i&&n.push({direction:r,target:i}),n}),[])}(t,e);if(n.length)return n.forEach((function(e){var n=e.direction,i=e.target;e.distance=function(t,e,n){var i,o=e.x,a=e.y;return"left"===t?i=o-n.right:"right"===t?i=n.left-o:"up"===t?i=a-n.bottom:"down"===t&&(i=n.top-a),function(t,e,n,r){var i=n.x,o=n.y,a=r.left,s=r.right,u=r.top,l=r.bottom;return"left"===e||"right"===e?o>l?t+=o-l:o<u&&(t+=u-o):i>s?t+=i-s:i<a&&(t+=a-i),t}((0,r.default)(0,Math.abs(i),i),t,e,n)}(n,t,(0,s.getRect)(i))})),n.sort((function(t,e){return t.distance-e.distance})),n[0].target};e.getNearestTargetFromPosition=function(t,e){return w(document.elementFromPoint(t.x,t.y))||S(t,e)}},function(t,e,n){var r=n(323);t.exports=r((function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.navigate=a,e.default=void 0;var r=function(t){var e=t.x;return 3*t.y+e},i=function(t,e){var n=t.center;return{x:n.x<e.left?0:n.x<=e.right?1:2,y:n.y<e.top?0:n.y<=e.bottom?1:2}};function o(t,e,n,r){for(var i=[[],[],[],[],[],[],[],[],[]],o=0;o<t.length;o++){var a=t[o],s=r(a,e);i[s].push(a),-1!==[0,2,6,8].indexOf(s)&&(a.left<=e.right-e.width*n&&(2===s?i[1].push(a):8===s&&i[7].push(a)),a.right>=e.left+e.width*n&&(0===s?i[1].push(a):6===s&&i[7].push(a)),a.top<=e.bottom-e.height*n&&(6===s?i[3].push(a):8===s&&i[5].push(a)),a.bottom>=e.top+e.height*n&&(0===s?i[3].push(a):2===s&&i[5].push(a)))}return i}function a(t,e,n,a){if(!t||!e||!n||!n.length||!a)return null;var s,u,l=function(t){return{nearPlumbLineIsBetter:function(e){var n;return(n=e.center.x<t.center.x?t.center.x-e.right:e.left-t.center.x)<0?0:n},nearHorizonIsBetter:function(e){var n;return(n=e.center.y<t.center.y?t.center.y-e.bottom:e.top-t.center.y)<0?0:n},nearTargetBottomIsBetter:function(e){var n;return(n=e.center.y<t.center.y?t.bottom-e.top:e.top-t.bottom)<0?0:n},nearTargetLeftIsBetter:function(e){var n;return(n=e.center.x<t.center.x?t.left-e.right:e.left-t.left)<0?0:n},nearTargetRightIsBetter:function(e){var n;return(n=e.center.x<t.center.x?t.right-e.left:e.left-t.right)<0?0:n},nearTargetTopIsBetter:function(e){var n;return(n=e.center.y<t.center.y?t.top-e.bottom:e.top-t.top)<0?0:n},topIsBetter:function(t){return t.top},bottomIsBetter:function(t){return-1*t.bottom},leftIsBetter:function(t){return t.left},rightIsBetter:function(t){return-1*t.right}}}(t),c=a.obliqueMultiplier,f=a.straightMultiplier,h=a.straightOnly,d=a.straightOverlapThreshold,p=o(n,t,d,(function(t,n){return r("up"===e||"down"===e?(a=n,{x:(o=t).right<=a.left?0:o.left<a.right?1:2,y:o.bottom<=a.top?0:o.top<a.bottom?1:2}):i(t,n));var o,a})),g=o(p[4],t.center,d,(function(t,e){return r(i(t,e))}));switch(e){case"left":u=e,s=[{group:g[0].concat(g[3]).concat(g[6]),distance:[l.nearPlumbLineIsBetter,l.nearHorizonIsBetter,l.topIsBetter],difference:[l.nearTargetLeftIsBetter],minDistance:0,multiplier:f},{group:p[3],distance:[l.nearPlumbLineIsBetter,l.nearHorizonIsBetter,l.topIsBetter],difference:[l.nearTargetLeftIsBetter],minDistance:0,multiplier:f},{group:p[0],distance:[l.nearHorizonIsBetter,l.rightIsBetter,l.nearTargetTopIsBetter],difference:[l.nearTargetLeftIsBetter,l.nearTargetTopIsBetter],minDistance:1,multiplier:c},{group:p[6],distance:[l.nearHorizonIsBetter,l.rightIsBetter,l.nearTargetTopIsBetter],difference:[l.nearTargetLeftIsBetter,l.nearTargetBottomIsBetter],minDistance:1,multiplier:c}];break;case"right":u=e,s=[{group:g[2].concat(g[5]).concat(g[8]),distance:[l.nearPlumbLineIsBetter,l.nearHorizonIsBetter,l.topIsBetter],difference:[l.nearTargetRightIsBetter],minDistance:0,multiplier:f},{group:p[5],distance:[l.nearPlumbLineIsBetter,l.nearHorizonIsBetter,l.topIsBetter],difference:[l.nearTargetRightIsBetter],minDistance:0,multiplier:f},{group:p[2],distance:[l.nearHorizonIsBetter,l.leftIsBetter,l.nearTargetTopIsBetter],difference:[l.nearTargetRightIsBetter,l.nearTargetTopIsBetter],minDistance:1,multiplier:c},{group:p[8],distance:[l.nearHorizonIsBetter,l.leftIsBetter,l.nearTargetTopIsBetter],difference:[l.nearTargetRightIsBetter,l.nearTargetBottomIsBetter],minDistance:1,multiplier:c}];break;case"up":u="top",s=[{group:g[0].concat(g[1]).concat(g[2]),distance:[l.nearHorizonIsBetter,l.nearPlumbLineIsBetter,l.leftIsBetter],difference:[l.nearTargetTopIsBetter],minDistance:0,multiplier:f},{group:p[1],distance:[l.nearHorizonIsBetter,l.nearPlumbLineIsBetter,l.leftIsBetter],difference:[l.nearTargetTopIsBetter],minDistance:0,multiplier:f},{group:p[0],distance:[l.nearPlumbLineIsBetter,l.bottomIsBetter,l.nearTargetLeftIsBetter],difference:[l.nearTargetTopIsBetter,l.nearTargetLeftIsBetter],minDistance:1,multiplier:c},{group:p[2],distance:[l.nearPlumbLineIsBetter,l.bottomIsBetter,l.nearTargetLeftIsBetter],difference:[l.nearTargetTopIsBetter,l.nearTargetRightIsBetter],minDistance:1,multiplier:c}];break;case"down":u="bottom",s=[{group:g[6].concat(g[7]).concat(g[8]),distance:[l.nearHorizonIsBetter,l.nearPlumbLineIsBetter,l.leftIsBetter],difference:[l.nearTargetBottomIsBetter],minDistance:0,multiplier:f},{group:p[7],distance:[l.nearHorizonIsBetter,l.nearPlumbLineIsBetter,l.leftIsBetter],difference:[l.nearTargetBottomIsBetter],minDistance:0,multiplier:f},{group:p[6],distance:[l.nearPlumbLineIsBetter,l.topIsBetter,l.nearTargetLeftIsBetter],difference:[l.nearTargetBottomIsBetter,l.nearTargetLeftIsBetter],minDistance:1,multiplier:c},{group:p[8],distance:[l.nearPlumbLineIsBetter,l.topIsBetter,l.nearTargetLeftIsBetter],difference:[l.nearTargetBottomIsBetter,l.nearTargetRightIsBetter],minDistance:1,multiplier:c}];break;default:return null}h&&s.splice(2,2);var v=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];i.group.length&&function(){var t,r=i.distance,o=i.difference,a=0;i.group.sort((function(t,e){for(var n=0;n<r.length;n++){var i=r[n],o=i(t)-i(e);if(o)return o}return 0})),t=i.group[0];for(var s=0;s<o.length;s++)a+=o[s](t);n.push({distance:Math.pow(i.multiplier*(a||i.minDistance)/e,2)+e,target:t})}()}return n.length?(n.sort((function(t,e){return t.distance-e.distance})),n):null}(s,t[u]);return v?v[0].target.element:null}var s=a;e.default=s},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*g}},,function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(){if("function"==typeof ArrayBuffer){var t=i.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),i.lib.WordArray)}()},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(){var t=i,e=t.lib.WordArray,n=t.enc;function r(t){return t<<8&4278255360|t>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(r,2*n)}},n.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],o=0;o<n;o+=2){var a=r(e[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var n=t.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(t.charCodeAt(o)<<16-o%2*16);return e.create(i,2*n)}}}(),i.enc.Utf16)}()},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(){var t=i,e=t.lib.WordArray;function n(t,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2|r[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64url={stringify:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.words,r=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=n[a>>>2]>>>24-a%4*8&255,u=n[a+1>>>2]>>>24-(a+1)%4*8&255,l=n[a+2>>>2]>>>24-(a+2)%4*8&255,c=s<<16|u<<8|l,f=0;f<4&&a+.75*f<r;f++)o.push(i.charAt(c>>>6*(3-f)&63));var h=i.charAt(64);if(h)for(;o.length%4;)o.push(h);return o.join("")},parse:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var u=t.indexOf(s);-1!==u&&(r=u)}return n(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),i.enc.Base64url)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(657),function(){var t=o,e=t.lib.WordArray,n=t.algo,r=n.SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(i),t.HmacSHA224=r._createHmacHelper(i)}(),o.SHA224)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(406),n(658),function(){var t=o,e=t.x64,n=e.Word,r=e.WordArray,i=t.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),o.SHA384)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(406),function(t){var e=o,n=e.lib,r=n.WordArray,i=n.Hasher,a=e.x64.Word,s=e.algo,u=[],l=[],c=[];!function(){for(var t=1,e=0,n=0;n<24;n++){u[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,h=0;h<7;h++){if(1&i){var d=(1<<h)-1;d<32?f^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}c[o]=a.create(s,f)}}();var f=[];!function(){for(var t=0;t<25;t++)f[t]=a.create()}();var h=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(A=n[i]).high^=a,A.low^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,p=0,g=0;g<5;g++)d^=(A=n[h+5*g]).high,p^=A.low;var v=f[h];v.high=d,v.low=p}for(h=0;h<5;h++){var m=f[(h+4)%5],y=f[(h+1)%5],b=y.high,w=y.low;for(d=m.high^(b<<1|w>>>31),p=m.low^(w<<1|b>>>31),g=0;g<5;g++)(A=n[h+5*g]).high^=d,A.low^=p}for(var S=1;S<25;S++){var T=(A=n[S]).high,E=A.low,_=u[S];_<32?(d=T<<_|E>>>32-_,p=E<<_|T>>>32-_):(d=E<<_-32|T>>>64-_,p=T<<_-32|E>>>64-_);var k=f[l[S]];k.high=d,k.low=p}var x=f[0],M=n[0];for(x.high=M.high,x.low=M.low,h=0;h<5;h++)for(g=0;g<5;g++){var A=n[S=h+5*g],R=f[S],I=f[(h+1)%5+5*g],C=f[(h+2)%5+5*g];A.high=R.high^~I.high&C.high,A.low=R.low^~I.low&C.low}A=n[0];var L=c[s];A.high^=L.high,A.low^=L.low}},_doFinalize:function(){var e=this._data,n=e.words,i=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,l=[],c=0;c<u;c++){var f=a[c],h=f.high,d=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l.push(d),l.push(h)}return new r.init(l,s)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=i._createHelper(h),e.HmacSHA3=i._createHmacHelper(h)}(Math),o.SHA3)}()},function(t,e,n){!function(e,r){var i;t.exports=(i=n(47),function(t){var e=i,n=e.lib,r=n.WordArray,o=n.Hasher,a=e.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=r.create([0,1518500249,1859775393,2400959708,2840853838]),h=r.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,d,w,S,T,E,_,k,x,M,A=this._hash.words,R=f.words,I=h.words,C=s.words,L=u.words,D=l.words,O=c.words;for(T=o=A[0],E=a=A[1],_=d=A[2],k=w=A[3],x=S=A[4],n=0;n<80;n+=1)M=o+t[e+C[n]]|0,M+=n<16?p(a,d,w)+R[0]:n<32?g(a,d,w)+R[1]:n<48?v(a,d,w)+R[2]:n<64?m(a,d,w)+R[3]:y(a,d,w)+R[4],M=(M=b(M|=0,D[n]))+S|0,o=S,S=w,w=b(d,10),d=a,a=M,M=T+t[e+L[n]]|0,M+=n<16?y(E,_,k)+I[0]:n<32?m(E,_,k)+I[1]:n<48?v(E,_,k)+I[2]:n<64?g(E,_,k)+I[3]:p(E,_,k)+I[4],M=(M=b(M|=0,O[n]))+x|0,T=x,x=k,k=b(_,10),_=E,E=M;M=A[1]+d+k|0,A[1]=A[2]+w+x|0,A[2]=A[3]+S+T|0,A[3]=A[4]+o+E|0,A[4]=A[0]+a+_|0,A[0]=M},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function g(t,e,n){return t&e|~t&n}function v(t,e,n){return(t|~e)^n}function m(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function b(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(d),e.HmacRIPEMD160=o._createHmacHelper(d)}(Math),i.RIPEMD160)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(505),n(506),function(){var t=o,e=t.lib,n=e.Base,r=e.WordArray,i=t.algo,a=i.SHA1,s=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=s.create(n.hasher,t),o=r.create(),a=r.create([1]),u=o.words,l=a.words,c=n.keySize,f=n.iterations;u.length<c;){var h=i.update(e).finalize(a);i.reset();for(var d=h.words,p=d.length,g=h,v=1;v<f;v++){g=i.finalize(g),i.reset();for(var m=g.words,y=0;y<p;y++)d[y]^=m[y]}o.concat(h),l[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)}}(),o.PBKDF2)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.mode.CFB=function(){var t=o.lib.BlockCipherMode.extend();function e(t,e,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)t[e+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),t}(),o.mode.CFB)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.mode.CTR=function(){var t=o.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}});return t.Decryptor=e,t}(),o.mode.CTR)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.mode.CTRGladman=function(){var t=o.lib.BlockCipherMode.extend();function e(t){if(255===(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var u=0;u<i;u++)t[n+u]^=s[u]}});return t.Decryptor=n,t}(),o.mode.CTRGladman)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.mode.OFB=function(){var t=o.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}});return t.Decryptor=e,t}(),o.mode.OFB)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.mode.ECB=function(){var t=o.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),t.Decryptor=t.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),t}(),o.mode.ECB)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.pad.Ansix923)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.pad.Iso10126={pad:function(t,e){var n=4*e,r=n-t.sigBytes%n;t.concat(o.lib.WordArray.random(r-1)).concat(o.lib.WordArray.create([r<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.pad.Iso10126)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.pad.Iso97971={pad:function(t,e){t.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(t,e)},unpad:function(t){o.pad.ZeroPadding.unpad(t),t.sigBytes--}},o.pad.Iso97971)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){var e=t.words,n=t.sigBytes-1;for(n=t.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},o.pad.ZeroPadding)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(86),function(t){var e=o,n=e.lib.CipherParams,r=e.enc.Hex;e.format.Hex={stringify:function(t){return t.ciphertext.toString(r)},parse:function(t){var e=r.parse(t);return n.create({ciphertext:e})}}}(),o.format.Hex)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(265),n(266),n(226),n(86),function(){var t=o,e=t.lib.BlockCipher,n=t.algo,r=[],i=[],a=[],s=[],u=[],l=[],c=[],f=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,o=0;for(e=0;e<256;e++){var p=o^o<<1^o<<2^o<<3^o<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var g=t[n],v=t[g],m=t[v],y=257*t[p]^16843008*p;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,l[n]=y,y=16843009*m^65537*v^257*g^16843008*n,c[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,d[p]=y,n?(n=g^t[t[t[m^g]]],o^=t[t[o]]):n=o=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<i;a++)a<n?o[a]=e[a]:(l=o[a-1],a%n?n>6&&a%n==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=p[a/n|0]<<24),o[a]=o[a-n]^l);for(var s=this._invKeySchedule=[],u=0;u<i;u++){if(a=i-u,u%4)var l=o[a];else l=o[a-4];s[u]=u<4||a<=4?l:c[r[l>>>24]]^f[r[l>>>16&255]]^h[r[l>>>8&255]]^d[r[255&l]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,u,l,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,c,f,h,d,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var u=this._nRounds,l=t[e]^n[0],c=t[e+1]^n[1],f=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<u;p++){var g=r[l>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&h]^n[d++],v=r[c>>>24]^i[f>>>16&255]^o[h>>>8&255]^a[255&l]^n[d++],m=r[f>>>24]^i[h>>>16&255]^o[l>>>8&255]^a[255&c]^n[d++],y=r[h>>>24]^i[l>>>16&255]^o[c>>>8&255]^a[255&f]^n[d++];l=g,c=v,f=m,h=y}g=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^n[d++],v=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^n[d++],m=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^n[d++],y=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^n[d++],t[e]=g,t[e+1]=v,t[e+2]=m,t[e+3]=y},keySize:8});t.AES=e._createHelper(g)}(),o.AES)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(265),n(266),n(226),n(86),function(){var t=o,e=t.lib,n=e.WordArray,r=e.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=r.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var l=i[o]=[],c=u[o];for(n=0;n<24;n++)l[n/6|0]|=e[(s[n]-1+c)%28]<<31-n%6,l[4+(n/6|0)]|=e[28+(s[n+24]-1+c)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=l[u][((a^i[u])&c[u])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function d(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=r._createHelper(f);var p=i.TripleDES=r.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),r=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=f.createEncryptor(n.create(e)),this._des2=f.createEncryptor(n.create(r)),this._des3=f.createEncryptor(n.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(p)}(),o.TripleDES)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(265),n(266),n(226),n(86),function(){var t=o,e=t.lib.StreamCipher,n=t.algo,r=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=e[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var u=r[i];r[i]=r[o],r[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}t.RC4=e._createHelper(r);var a=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)i.call(this)}});t.RC4Drop=e._createHelper(a)}(),o.RC4)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(265),n(266),n(226),n(86),function(){var t=o,e=t.lib.StreamCipher,n=t.algo,r=[],i=[],a=[],s=n.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)u.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],s=o[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=l>>>16|4294901760&c,h=c<<16|65535&l;for(i[0]^=l,i[1]^=f,i[2]^=c,i[3]^=h,i[4]^=l,i[5]^=f,i[6]^=c,i[7]^=h,n=0;n<4;n++)u.call(this)}},_doProcessBlock:function(t,e){var n=this._X;u.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],o=65535&r,s=r>>>16,u=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=u^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),o.Rabbit)}()},function(t,e,n){!function(e,r,i){var o;t.exports=(o=n(47),n(265),n(266),n(226),n(86),function(){var t=o,e=t.lib.StreamCipher,n=t.algo,r=[],i=[],a=[],s=n.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,a=o[0],s=o[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=l>>>16|4294901760&c,h=c<<16|65535&l;for(r[0]^=l,r[1]^=f,r[2]^=c,r[3]^=h,r[4]^=l,r[5]^=f,r[6]^=c,r[7]^=h,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(t,e){var n=this._X;u.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],o=65535&r,s=r>>>16,u=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=u^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),o.RabbitLegacy)}()},function(t,e,n){"use strict";var r=n(116),i=n(660),o=n(1302),a=n(666);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(n(663));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n(667),u.CancelToken=n(1315),u.isCancel=n(662),u.all=function(t){return Promise.all(t)},u.spread=n(1316),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(116),i=n(661),o=n(1303),a=n(1304),s=n(666);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(116);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(116),i=n(1305),o=n(662),a=n(663);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(116);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(116);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(665);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(1310),i=n(1311);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(116),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(116);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(116);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(667);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"===typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}function i(t,e,n){var r=e===t.head?new s(n,null,e,t):new s(n,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function o(t,e){t.tail=new s(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function a(t,e){t.head=new s(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,e,n,r){if(!(this instanceof s))return new s(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)a(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},r.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},r.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},r.prototype.map=function(t,e){e=e||this;for(var n=new r,i=this.head;null!==i;)n.push(t.call(e,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(t,e){e=e||this;for(var n=new r,i=this.tail;null!==i;)n.push(t.call(e,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},r.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,r=this.head;null!==r&&n<t;n++)r=r.next;var o=[];for(n=0;r&&n<e;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=i(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{n(1318)(r)}catch(u){}},function(t,e,n){"use strict";var r=n(39);t.exports=function(t){t.prototype[Symbol.iterator]=r.mark((function t(){var e;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.head;case 1:if(!e){t.next=7;break}return t.next=4,e.value;case 4:e=e.next,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))}},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(267),e.createHash=e.Hash=n(325),e.createHmac=e.Hmac=n(699);var r=n(1345),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var a=n(702);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync;var s=n(1347);e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var u=n(1362);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var l=n(1369);e.createSign=l.createSign,e.Sign=l.Sign,e.createVerify=l.createVerify,e.Verify=l.Verify,e.createECDH=n(1410);var c=n(1413);e.publicEncrypt=c.publicEncrypt,e.privateEncrypt=c.privateEncrypt,e.publicDecrypt=c.publicDecrypt,e.privateDecrypt=c.privateDecrypt;var f=n(1417);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,n){var r=n(74),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(e=t.exports=n(687)).Stream=e,e.Readable=e,e.Writable=n(691),e.Duplex=n(270),e.Transform=n(692),e.PassThrough=n(1327),e.finished=n(509),e.pipeline=n(1328)},,function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(74).Buffer,s=n(1324).inspect,u=s&&s.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,l;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return a.alloc(0);for(var e,n,r,i=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,n=i,r=s,a.prototype.copy.call(e,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0===(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=a.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0===(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:u,value:function(t,e){return s(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&o(e.prototype,n),l&&o(e,l),t}()},,function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(509),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[a];if(null!==e){var n=t[h].read();null!==n&&(t[c]=null,t[a]=null,t[s]=null,e(d(n,!1)))}}function g(t){e.nextTick(p,t)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var t=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[l])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise((function(n,r){e.nextTick((function(){t[u]?r(t[u]):n(d(void 0,!0))}))}));var r,i=this[c];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[l]?n(d(void 0,!0)):e[f](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[f])}return this[c]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[h].destroy(null,(function(t){t?n(t):e(d(void 0,!0))}))}))})),r),v);t.exports=function(t){var e,n=Object.create(m,(i(e={},h,{value:t,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,l,{value:t._readableState.endEmitted,writable:!0}),i(e,f,{value:function(t,e){var r=n[h].read();r?(n[c]=null,n[a]=null,n[s]=null,t(d(r,!1))):(n[a]=t,n[s]=e)},writable:!0}),e));return n[c]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[s];return null!==e&&(n[c]=null,n[a]=null,n[s]=null,e(t)),void(n[u]=t)}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[s]=null,r(d(void 0,!0))),n[l]=!0})),t.on("readable",g.bind(null,n)),n}}).call(this,n(77))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(692);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(269)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(268).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===r&&(r=n(509)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var u=!1;return function(e){if(!s&&!u)return u=!0,function(t){return t.setHeader&&"function"===typeof t.abort}(t)?t.abort():"function"===typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}function l(t){t()}function c(t,e){return t.pipe(e)}function f(t){return t.length?"function"!==typeof t[t.length-1]?s:t.pop():s}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,n){var o=n<e.length-1;return u(t,o,n>0,(function(t){r||(r=t),t&&a.forEach(l),o||(a.forEach(l),i(r))}))}));return e.reduce(c)}},function(t,e,n){var r=n(48),i=n(271),o=n(43).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(t){return t<<30|t>>>2}function c(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var h=0;h<80;++h){var d=~~(h/20),p=0|((e=r)<<5|e>>>27)+c(d,i,o,s)+u+n[h]+a[d];u=s,s=o,o=l(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,n){var r=n(48),i=n(271),o=n(43).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(t){return t<<5|t>>>27}function c(t){return t<<30|t>>>2}function f(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=(e=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=l(r)+f(p,i,o,s)+u+n[d]+a[p]|0;u=s,s=o,o=c(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,n){var r=n(48),i=n(693),o=n(271),a=n(43).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},function(t,e,n){var r=n(48),i=n(694),o=n(271),a=n(43).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=a.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},function(t,e,n){t.exports=i;var r=n(227).EventEmitter;function i(){r.call(this)}n(48)(i,r),i.Readable=n(512),i.Writable=n(1340),i.Duplex=n(1341),i.Transform=n(1342),i.PassThrough=n(1343),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function l(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",l),t.on("error",l),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},,function(t,e,n){"use strict";var r=n(43).Buffer,i=n(1336);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,i=s,e.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(1338),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(60))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{l(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(60),n(77))},function(t,e,n){"use strict";t.exports=o;var r=n(698),i=Object.create(n(326));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(48),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(513)},function(t,e,n){t.exports=n(229)},function(t,e,n){t.exports=n(512).Transform},function(t,e,n){t.exports=n(512).PassThrough},function(t,e,n){"use strict";var r=n(48),i=n(43).Buffer,o=n(199),a=i.alloc(128);function s(t,e){o.call(this,"digest"),"string"===typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>64?e=t(e):e.length<64&&(e=i.concat([e,a],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),s=0;s<64;s++)n[s]=54^e[s],r[s]=92^e[s];this._hash=[n]}r(s,o),s.prototype._update=function(t){this._hash.push(t)},s.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=s},function(t,e,n){t.exports=n(701)},function(t,e,n){(function(e){var r,i,o=n(43).Buffer,a=n(703),s=n(704),u=n(705),l=n(706),c=e.crypto&&e.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function d(){return i||(i=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function p(t,e,n,r,i){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,n,i,g,v,m){"function"===typeof v&&(m=v,v=void 0);var y=f[(v=v||"sha1").toLowerCase()];if(y&&"function"===typeof e.Promise){if(a(i,g),t=l(t,s,"Password"),n=l(n,s,"Salt"),"function"!==typeof m)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){d()((function(){e(null,t)}))}),(function(t){d()((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==h[t])return h[t];var n=p(r=r||o.alloc(8),r,10,128,t).then((function(){return!0})).catch((function(){return!1}));return h[t]=n,n}(y).then((function(e){return e?p(t,n,i,g,y):u(t,n,i,g,v)})),m)}else d()((function(){var e;try{e=u(t,n,i,g,v)}catch(r){return m(r)}m(null,e)}))}}).call(this,n(60))},function(t,e,n){var r=n(1348),i=n(515),o=n(516),a=n(1361),s=n(409);function u(t,e,n){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,n);if(a[t])return new r({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function l(t,e,n){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,n);if(a[t])return new r({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,r=a[t].iv}var i=s(e,!1,n,r);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,r=a[t].iv}var i=s(e,!1,n,r);return l(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=l,e.listCiphers=e.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(t,e,n){var r=n(199),i=n(1349),o=n(48),a=n(43).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(t){r.call(this);var e,n=t.mode.toLowerCase(),i=s[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var u=t.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:e})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=u,o(u,r),u.prototype._update=function(t){return a.from(this._des.update(t))},u.prototype._final=function(){return a.from(this._des.final())}},function(t,e,n){"use strict";e.utils=n(707),e.Cipher=n(514),e.DES=n(708),e.CBC=n(1350),e.EDE=n(1351)},function(t,e,n){"use strict";var r=n(124),i=n(48),o={};function a(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];e.prototype[a]=o[a]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new a(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,t,e,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},function(t,e,n){"use strict";var r=n(124),i=n(48),o=n(514),a=n(708);function s(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function u(t){o.call(this,t);var e=new s(this.type,this.options.key);this._edeState=e}i(u,o),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(t,e,n){var r=n(516),i=n(712),o=n(43).Buffer,a=n(713),s=n(199),u=n(408),l=n(409);function c(t,e,n){s.call(this),this._cache=new h,this._cipher=new u.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(48)(c,s),c.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return o.concat(r)};var f=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function d(t,e,n){var s=r[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof e&&(e=o.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,e,n):"auth"===s.type?new i(s.module,e,n):new c(s.module,e,n)}c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=o.concat([this.cache,t])},h.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},h.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=l(e,!1,n.key,n.iv);return d(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(327);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){var r=n(43).Buffer,i=n(327);function o(t,e,n){var o=e.length,a=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=r.concat([t._prev,n?e:a]),a}e.encrypt=function(t,e,n){for(var i,a=r.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=r.allocUnsafe(0)),!(t._cache.length<=e.length)){a=r.concat([a,o(t,e,n)]);break}i=t._cache.length,a=r.concat([a,o(t,e.slice(0,i),n)]),e=e.slice(i)}return a}},function(t,e,n){var r=n(43).Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=r.concat([t._prev.slice(1),r.from([n?e:i])]),i}e.encrypt=function(t,e,n){for(var o=e.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],n);return a}},function(t,e,n){var r=n(43).Buffer;function i(t,e,n){for(var r,i,a=-1,s=0;++a<8;)r=e&1<<7-a?128:0,s+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>a%8,t._prev=o(t._prev,n?r:i);return s}function o(t,e){var n=t.length,i=-1,o=r.allocUnsafe(t.length);for(t=r.concat([t,r.from([e])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],n);return a}},function(t,e,n){(function(t){var r=n(327);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),r(n,o)}}).call(this,n(74).Buffer)},function(t,e,n){var r=n(43).Buffer,i=r.alloc(16,0);function o(t){var e=r.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function a(t){this.h=t,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},a.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!==(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(t){var e;for(this.cache=r.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},a.prototype.final=function(t,e){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=a},function(t,e,n){var r=n(712),i=n(43).Buffer,o=n(516),a=n(713),s=n(199),u=n(408),l=n(409);function c(t,e,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function h(t,e,n){var s=o[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof e&&(e=i.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===s.type?new a(s.module,e,n,!0):"auth"===s.type?new r(s.module,e,n,!0):new c(s.module,e,n)}n(48)(c,s),c.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return i.concat(r)},c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=i.concat([this.cache,t])},f.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=l(e,!1,n.key,n.iv);return h(t,r.key,r.iv)},e.createDecipheriv=h},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){var r=n(714),i=n(1367),o=n(1368);var a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(i[e].prime,"hex"),r=new t(i[e].gen,"hex");return new o(n,r)},e.createDiffieHellman=e.DiffieHellman=function e(n,i,s,u){return t.isBuffer(i)||void 0===a[i]?e(n,"binary",i,s):(i=i||"binary",u=u||"binary",s=s||new t([2]),t.isBuffer(s)||(s=new t(s,u)),"number"===typeof n?new o(r(n,s),s,!0):(t.isBuffer(n)||(n=new t(n,i)),new o(n,s,!0)))}}).call(this,n(74).Buffer)},,function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1365).Buffer}catch(k){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:c[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function g(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(S,y),i(T,y),T.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return m[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},,,function(t){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(t,e,n){(function(e){var r=n(715),i=new(n(716)),o=new r(24),a=new r(11),s=new r(10),u=new r(3),l=new r(7),c=n(714),f=n(267);function h(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new r(t),this}function d(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new r(t),this}t.exports=g;var p={};function g(t,e,n){this.setGenerator(e),this.__prime=new r(t),this._prime=r.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=h,this.setPrivateKey=d):this._primeCode=8}function v(t,n){var r=new e(t.toArray());return n?r.toString(n):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in p)return p[r];var f,h=0;if(t.isEven()||!c.simpleSieve||!c.fermatTest(t)||!i.test(t))return h+=1,h+="02"===n||"05"===n?8:4,p[r]=h,h;switch(i.test(t.shrn(1))||(h+=2),n){case"02":t.mod(o).cmp(a)&&(h+=8);break;case"05":(f=t.mod(s)).cmp(u)&&f.cmp(l)&&(h+=8);break;default:h+=4}return p[r]=h,h}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var n=(t=(t=new r(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new e(o.length-i.length);a.fill(0),i=e.concat([a,i])}return i},g.prototype.getPublicKey=function(t){return v(this._pub,t)},g.prototype.getPrivateKey=function(t){return v(this._priv,t)},g.prototype.getPrime=function(t){return v(this.__prime,t)},g.prototype.getGenerator=function(t){return v(this._gen,t)},g.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new r(t),this}}).call(this,n(74).Buffer)},function(t,e,n){var r=n(518).Buffer,i=n(325),o=n(1370),a=n(273),s=n(1378),u=n(1409),l=n(701);function c(t){o.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){o.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){return new c(t)}function d(t){return new f(t)}Object.keys(l).forEach((function(t){l[t].id=r.from(l[t].id,"hex"),l[t.toLowerCase()]=l[t]})),a(c,o.Writable),c.prototype._write=function(t,e,n){this._hash.update(t),n()},c.prototype.update=function(t,e){return"string"===typeof t&&(t=r.from(t,e)),this._hash.update(t),this},c.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=s(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},a(f,o.Writable),f.prototype._write=function(t,e,n){this._hash.update(t),n()},f.prototype.update=function(t,e){return"string"===typeof t&&(t=r.from(t,e)),this._hash.update(t),this},f.prototype.verify=function(t,e,n){"string"===typeof e&&(e=r.from(e,n)),this.end();var i=this._hash.digest();return u(e,i,t,this._signType,this._tag)},t.exports={Sign:h,Verify:d,createSign:h,createVerify:d}},function(t,e,n){(e=t.exports=n(717)).Stream=e,e.Readable=e,e.Writable=n(721),e.Duplex=n(274),e.Transform=n(722),e.PassThrough=n(1376),e.finished=n(519),e.pipeline=n(1377)},,function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(74).Buffer,s=n(1373).inspect,u=s&&s.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,l;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return a.alloc(0);for(var e,n,r,i=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,n=i,r=s,a.prototype.copy.call(e,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0===(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=a.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0===(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:u,value:function(t,e){return s(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&o(e.prototype,n),l&&o(e,l),t}()},,function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(519),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[a];if(null!==e){var n=t[h].read();null!==n&&(t[c]=null,t[a]=null,t[s]=null,e(d(n,!1)))}}function g(t){e.nextTick(p,t)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var t=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[l])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise((function(n,r){e.nextTick((function(){t[u]?r(t[u]):n(d(void 0,!0))}))}));var r,i=this[c];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[l]?n(d(void 0,!0)):e[f](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[f])}return this[c]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[h].destroy(null,(function(t){t?n(t):e(d(void 0,!0))}))}))})),r),v);t.exports=function(t){var e,n=Object.create(m,(i(e={},h,{value:t,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,l,{value:t._readableState.endEmitted,writable:!0}),i(e,f,{value:function(t,e){var r=n[h].read();r?(n[c]=null,n[a]=null,n[s]=null,t(d(r,!1))):(n[a]=t,n[s]=e)},writable:!0}),e));return n[c]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[s];return null!==e&&(n[c]=null,n[a]=null,n[s]=null,e(t)),void(n[u]=t)}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[s]=null,r(d(void 0,!0))),n[l]=!0})),t.on("readable",g.bind(null,n)),n}}).call(this,n(77))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(722);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(273)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(272).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===r&&(r=n(519)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var u=!1;return function(e){if(!s&&!u)return u=!0,function(t){return t.setHeader&&"function"===typeof t.abort}(t)?t.abort():"function"===typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}function l(t){t()}function c(t,e){return t.pipe(e)}function f(t){return t.length?"function"!==typeof t[t.length-1]?s:t.pop():s}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,n){var o=n<e.length-1;return u(t,o,n>0,(function(t){r||(r=t),t&&a.forEach(l),o||(a.forEach(l),i(r))}))}));return e.reduce(c)}},function(t,e,n){var r=n(518).Buffer,i=n(699),o=n(520),a=n(522).ec,s=n(521),u=n(411),l=n(734);function c(t,e,n,o){if((t=r.from(t.toArray())).length<e.byteLength()){var a=r.alloc(e.byteLength()-t.length);t=r.concat([a,t])}var s=n.length,u=function(t,e){t=(t=f(t,e)).mod(e);var n=r.from(t.toArray());if(n.length<e.byteLength()){var i=r.alloc(e.byteLength()-n.length);n=r.concat([i,n])}return n}(n,e),l=r.alloc(s);l.fill(1);var c=r.alloc(s);return c=i(o,c).update(l).update(r.from([0])).update(t).update(u).digest(),l=i(o,c).update(l).digest(),{k:c=i(o,c).update(l).update(r.from([1])).update(t).update(u).digest(),v:l=i(o,c).update(l).digest()}}function f(t,e){var n=new s(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function h(t,e,n){var o,a;do{for(o=r.alloc(0);8*o.length<t.bitLength();)e.v=i(n,e.k).update(e.v).digest(),o=r.concat([o,e.v]);a=f(o,t),e.k=i(n,e.k).update(e.v).update(r.from([0])).digest(),e.v=i(n,e.k).update(e.v).digest()}while(-1!==a.cmp(t));return a}function d(t,e,n,r){return t.toRed(s.mont(n)).redPow(e).fromRed().mod(r)}t.exports=function(t,e,n,i,p){var g=u(e);if(g.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var n=l[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var i=new a(n).keyFromPrivate(e.privateKey).sign(t);return r.from(i.toDER())}(t,g)}if("dsa"===g.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,n){var i,o=e.params.priv_key,a=e.params.p,u=e.params.q,l=e.params.g,p=new s(0),g=f(t,u).mod(u),v=!1,m=c(o,u,t,n);for(;!1===v;)i=h(u,m,n),p=d(l,i,a,u),0===(v=i.invm(u).imul(g.add(o.mul(p))).mod(u)).cmpn(0)&&(v=!1,p=new s(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var n=[48,t.length+e.length+4,2,t.length];return n=n.concat(t,[2,e.length],e),r.from(n)}(p,v)}(t,g,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=r.concat([p,t]);for(var v=g.modulus.byteLength(),m=[0,1];t.length+m.length+1<v;)m.push(255);m.push(0);for(var y=-1;++y<t.length;)m.push(t[y]);return o(m,g)},t.exports.getKey=c,t.exports.makeKey=h},,function(t){t.exports=JSON.parse('{"_args":[["elliptic@6.5.4","E:\\\\Gitlab-VP\\\\TV360-Tizen-WebOS"]],"_from":"elliptic@6.5.4","_id":"elliptic@6.5.4","_inBundle":false,"_integrity":"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.4","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.4","saveSpec":null,"fetchSpec":"6.5.4"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz","_spec":"6.5.4","_where":"E:\\\\Gitlab-VP\\\\TV360-Tizen-WebOS","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},"description":"EC cryptography","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.4"}')},,function(t,e,n){"use strict";var r=n(125),i=n(169),o=n(523),a=n(410),s=r.assert;function u(t){a.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(t,e,n,r){a.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,n,r){a.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,n,r,o,a,s,u,l,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,d=this.n.clone(),p=new i(1),g=new i(0),v=new i(0),m=new i(1),y=0;0!==h.cmpn(0);){var b=d.div(h);l=d.sub(b.mul(h)),c=v.sub(b.mul(p));var w=m.sub(b.mul(g));if(!r&&l.cmp(f)<0)e=u.neg(),n=p,r=l.neg(),o=c;else if(r&&2===++y)break;u=l,d=h,h=l,v=p,p=c,m=g,g=w}a=l.neg(),s=c;var S=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(S)>=0&&(a=e,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),l=o.mul(r.b);return{k1:t.sub(a).sub(s),k2:u.add(l).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,i,2*o,n),c=0;c<2*o;c++)r[c]=null,i[c]=null;return l},o(l,a.BasePoint),u.prototype.point=function(t,e,n){return new l(this,t,e,n)},u.prototype.pointFromJSON=function(t,e){return l.fromJSON(this,t,e)},l.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(t,e,n){"string"===typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},l.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},l.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},l.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},l.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,a.BasePoint),u.prototype.jpoint=function(t,e,n){return new c(this,t,e,n)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),f=r.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(h,d,p)},c.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=n.redMul(u),f=s.redSqr().redIAdd(l).redISub(c).redISub(c),h=s.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(f,h,d)},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(e=0;e<t;e++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(u)),p=o.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),v=p.redISub(g),m=d.redMul(v);m=m.redIAdd(m).redISub(h);var y=l.redMul(s);e+1<t&&(u=u.redMul(h)),o=g,s=y,l=m}return this.curve.jpoint(o,l.redMul(i),s)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),v=h.redIAdd(h);v=(v=v.redIAdd(v)).redIAdd(v),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},c.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),e=d.redMul(p.redISub(t)).redISub(v)}return this.curve.jpoint(t,e,n)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(f).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=e.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(s).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,h,d)},c.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";var r=n(169),i=n(523),o=n(410),a=n(125);function s(t){o.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),t.exports=s,s.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},i(u,o.BasePoint),s.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},s.prototype.point=function(t,e){return new u(this,t,e)},s.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),a=i.redMul(r),s=e.z.redMul(o.redAdd(a).redSqr()),u=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";var r=n(125),i=n(169),o=n(523),a=n(410),s=r.assert;function u(t){this.twisted=1!==(0|t.a),this.mOneA=this.twisted&&-1===(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|t.c)}function l(t,e,n,r,o){a.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(e&&!u||!e&&u)&&(s=s.redNeg()),this.point(t,s)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},o(l,a.BasePoint),u.prototype.pointFromJSON=function(t){return l.fromJSON(this,t)},u.prototype.point=function(t,e,n,r){return new l(this,t,e,n,r)},l.fromJSON=function(t,e){return new l(t,e[0],e[1],e[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),a=o.redSub(n),s=r.redSub(e),u=i.redMul(a),l=o.redMul(s),c=i.redMul(s),f=a.redMul(o);return this.curve.point(u,l,f,c)},l.prototype._projDbl=function(){var t,e,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(s)).redAdd(u);this.zOne?(t=a.redSub(s).redSub(u).redMul(l.redSub(this.curve.two)),e=l.redMul(r.redSub(u)),n=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),o=l.redSub(i).redISub(i),t=a.redSub(s).redISub(u).redMul(o),e=l.redMul(r.redSub(u)),n=l.redMul(o))}else r=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),t=this.curve._mulC(a.redISub(r)).redMul(o),e=this.curve._mulC(r).redMul(s.redISub(u)),n=r.redMul(o);return this.curve.point(t,e,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(e),l=o.redMul(a),c=s.redMul(u),f=o.redMul(u),h=a.redMul(s);return this.curve.point(l,c,h,f)},l.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),l=i.redAdd(s),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),f=r.redMul(u).redMul(c);return this.curve.twisted?(e=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(l)):(e=r.redMul(l).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(l)),this.curve.point(f,e,n)},l.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},l.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},l.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},l.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},function(t,e,n){"use strict";e.sha1=n(1386),e.sha224=n(1387),e.sha256=n(726),e.sha384=n(1388),e.sha512=n(727)},function(t,e,n){"use strict";var r=n(150),i=n(328),o=n(725),a=r.rotl32,s=r.sum32,u=r.sum32_5,l=o.ft_1,c=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,c),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],h=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),g=u(a(i,5),l(p,o,c,h),d,n[r],f[p]);d=h,h=c,c=a(o,30),o=i,i=g}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],h),this.h[4]=s(this.h[4],d)},h.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(150),i=n(726);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var r=n(150),i=n(727);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var r=n(150),i=n(328),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,l=i.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function h(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(c,l),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],c=this.h[4],y=n,b=r,w=i,S=l,T=c,E=0;E<80;E++){var _=a(o(u(n,f(E,r,i,l),t[p[E]+e],h(E)),v[E]),c);n=c,c=l,l=o(i,10),i=r,r=_,_=a(o(u(y,f(79-E,b,w,S),t[g[E]+e],d(E)),m[E]),T),y=T,T=S,S=o(w,10),w=b,b=_}_=s(this.h[1],i,S),this.h[1]=s(this.h[2],l,T),this.h[2]=s(this.h[3],c,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,w),this.h[0]=_},c.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var r=n(150),i=n(124);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";var r=n(169),i=n(1393),o=n(125),a=n(524),s=n(517),u=o.assert,l=n(1394),c=n(1395);function f(t){if(!(this instanceof f))return new f(t);"string"===typeof t&&(u(Object.prototype.hasOwnProperty.call(a,t),"Unknown curve "+t),t=a[t]),t instanceof a.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new l(this,t)},f.prototype.keyFromPrivate=function(t,e){return l.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return l.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||s(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(e.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),u=t.toArray("be",a),l=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),h=0;;h++){var d=o.k?o.k(h):new r(l.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var g=p.getX(),v=g.umod(this.n);if(0!==v.cmpn(0)){var m=d.invm(this.n).mul(v.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==g.cmp(v)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new c({r:v,s:m,recoveryParam:y})}}}}}},f.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new c(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),l=u.mul(t).umod(this.n),f=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(t,e,n,i){u((3&n)===n,"The recovery param is more than two bits"),e=new c(e,i);var o=this.n,a=new r(t),s=e.r,l=e.s,f=1&n,h=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");s=h?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var d=e.r.invm(o),p=o.sub(a).mul(d).umod(o),g=l.mul(d).umod(o);return this.g.mulAdd(p,s,g)},f.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new c(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";var r=n(525),i=n(723),o=n(124);function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=a,a.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,n,r){"string"!==typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},a.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(n),this._reseed++,i.encode(a,e)}},function(t,e,n){"use strict";var r=n(169),i=n(125).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";var r=n(169),i=n(125),o=i.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function u(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=e.place;o<r;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function l(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=a,a.prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new s;if(48!==t[n.place++])return!1;var o=u(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var a=u(t,n);if(!1===a)return!1;var l=t.slice(n.place,a+n.place);if(n.place+=a,2!==t[n.place++])return!1;var c=u(t,n);if(!1===c)return!1;if(t.length!==c+n.place)return!1;var f=t.slice(n.place,c+n.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(l),this.s=new r(f),this.recoveryParam=null,!0},a.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=l(e),n=l(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];c(r,e.length),(r=r.concat(e)).push(2),c(r,n.length);var o=r.concat(n),a=[48];return c(a,o.length),a=a.concat(o),i.encode(a,t)}},function(t,e,n){"use strict";var r=n(525),i=n(524),o=n(125),a=o.assert,s=o.parseBytes,u=n(1397),l=n(1398);function c(t){if(a("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof c))return new c(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=r.sha512}t.exports=c,c.prototype.sign=function(t,e){t=s(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},c.prototype.verify=function(t,e,n){t=s(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},c.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},c.prototype.makeSignature=function(t){return t instanceof l?t:new l(this,t)},c.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},c.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!==(128&t[e]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},c.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(t){return o.intFromLE(t)},c.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";var r=n(125),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}s.fromPublic=function(t,e){return e instanceof s?e:new s(t,{pub:e})},s.fromSecret=function(t,e){return e instanceof s?e:new s(t,{secret:e})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},s.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},s.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),t)},s.prototype.getPublic=function(t){return r.encode(this.pubBytes(),t)},t.exports=s},function(t,e,n){"use strict";var r=n(169),i=n(125),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(t,e){this.eddsa=t,"object"!==typeof e&&(e=s(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof r&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},function(t,e,n){"use strict";var r=n(728);e.certificate=n(1406);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));e.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=u;var l=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=l;var c=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=c,e.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=f;var h=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},,function(t,e,n){"use strict";var r=n(730),i=n(732),o=n(48);function a(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new a(t,e)},a.prototype._createNamed=function(t){var e=this.name;function n(t){this._initNamed(t,e)}return o(n,t),n.prototype._initNamed=function(e,n){t.call(this,e,n)},new n(this)},a.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},a.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},a.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(r[t])),this.encoders[t]},a.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(t,e,n){"use strict";var r=n(48),i=n(731);function o(t){i.call(this,t),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},function(t,e,n){"use strict";var r=n(48),i=n(526).Buffer,o=n(733);function a(t){o.call(this,t),this.enc="pem"}r(a,o),t.exports=a,a.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,l=0;l<n.length;l++){var c=n[l].match(a);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;u=l;break}if("BEGIN"!==c[1])break;s=l}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,u).join("");f.replace(/[^a-z0-9+/=]+/gi,"");var h=i.from(f,"base64");return o.prototype.decode.call(this,h,e)}},function(t,e,n){"use strict";var r=e;r.Reporter=n(528).Reporter,r.DecoderBuffer=n(329).DecoderBuffer,r.EncoderBuffer=n(329).EncoderBuffer,r.Node=n(527)},function(t,e,n){"use strict";var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n})),e},r.der=n(529)},function(t,e,n){"use strict";var r=n(728),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),l=r.define("RDNSequence",(function(){this.seqof(u)})),c=r.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),h=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(f),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));t.exports=p},function(t){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(t,e,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(409),s=n(515),u=n(43).Buffer;t.exports=function(t,e){var n,l=t.toString(),c=l.match(r);if(c){var f="aes"+c[1],h=u.from(c[2],"hex"),d=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=a(e,h.slice(0,8),parseInt(c[1],10)).key,g=[],v=s.createDecipheriv(f,p,h);g.push(v.update(d)),g.push(v.final()),n=u.concat(g)}else{var m=l.match(o);n=u.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(i)[1],data:n}}},function(t,e,n){var r=n(518).Buffer,i=n(521),o=n(522).ec,a=n(411),s=n(734);function u(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,n,l,c){var f=a(n);if("ec"===f.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(t,e,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(e,t,a)}(t,e,f)}if("dsa"===f.type){if("dsa"!==l)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,o=n.data.q,s=n.data.g,l=n.data.pub_key,c=a.signature.decode(t,"der"),f=c.s,h=c.r;u(f,o),u(h,o);var d=i.mont(r),p=f.invm(o);return 0===s.toRed(d).redPow(new i(e).mul(p).mod(o)).fromRed().mul(l.toRed(d).redPow(h.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(h)}(t,e,f)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");e=r.concat([c,e]);for(var h=f.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<h;)d.push(255),p++;d.push(0);for(var g=-1;++g<e.length;)d.push(e[g]);d=r.from(d);var v=i.mont(f.modulus);t=(t=new i(t).toRed(v)).redPow(new i(f.publicExponent)),t=r.from(t.fromRed().toArray());var m=p<8?1:0;for(h=Math.min(t.length,d.length),t.length!==d.length&&(m=1),g=-1;++g<h;)m|=t[g]^d[g];return 0===m}},function(t,e,n){(function(e){var r=n(522),i=n(1411);t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,n,r){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,t)},a.prototype.getPrivateKey=function(t){return s(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(74).Buffer)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(1412).Buffer}catch(k){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=h;d++){var p=l-d|0;c+=(a=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&a}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?g+n:c[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,g=d>>>13,v=0|a[2],m=8191&v,y=v>>>13,b=0|a[3],w=8191&b,S=b>>>13,T=0|a[4],E=8191&T,_=T>>>13,k=0|a[5],x=8191&k,M=k>>>13,A=0|a[6],R=8191&A,I=A>>>13,C=0|a[7],L=8191&C,D=C>>>13,O=0|a[8],P=8191&O,N=O>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|s[0],H=8191&U,K=U>>>13,G=0|s[1],q=8191&G,V=G>>>13,z=0|s[2],W=8191&z,Y=z>>>13,X=0|s[3],$=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,K))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,K))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,K))+Math.imul(g,H)|0,o=Math.imul(g,K);var mt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,q)|0))<<13)|0;l=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,K))+Math.imul(y,H)|0,o=Math.imul(y,K),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,V)|0;var yt=(l+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;l=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,K))+Math.imul(S,H)|0,o=Math.imul(S,K),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0;var bt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,$)|0))<<13)|0;l=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,K))+Math.imul(_,H)|0,o=Math.imul(_,K),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(m,W)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,Z)|0;var wt=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,H),i=(i=Math.imul(x,K))+Math.imul(M,H)|0,o=Math.imul(M,K),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var St=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;l=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(R,H),i=(i=Math.imul(R,K))+Math.imul(I,H)|0,o=Math.imul(I,K),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(E,W)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Tt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(h,ot)|0))<<13)|0;l=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(D,H)|0,o=Math.imul(D,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(h,ut)|0))<<13)|0;l=((o=o+Math.imul(h,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,K))+Math.imul(N,H)|0,o=Math.imul(N,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,V)|0,r=r+Math.imul(R,W)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,lt)|0;var _t=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;l=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,H),i=(i=Math.imul(B,K))+Math.imul(F,H)|0,o=Math.imul(F,K),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,r=r+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ht)|0;var kt=(l+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,pt)|0))<<13)|0;l=((o=o+Math.imul(h,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,V))+Math.imul(F,q)|0,o=Math.imul(F,V),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,r=r+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var xt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;l=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ht)|0;var Mt=(l+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,Z))+Math.imul(F,$)|0,o=Math.imul(F,Z),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ht)|0;var At=(l+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0;var Rt=(l+(r=r+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,gt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var It=(l+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ht)|0;var Lt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,gt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((o=o+Math.imul(D,gt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(F,ft)|0,o=Math.imul(F,ht);var Dt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Ot=(l+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,gt))+Math.imul(F,pt)|0))<<13)|0;return l=((o=Math.imul(F,gt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=mt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=St,u[6]=Tt,u[7]=Et,u[8]=_t,u[9]=kt,u[10]=xt,u[11]=Mt,u[12]=At,u[13]=Rt,u[14]=It,u[15]=Ct,u[16]=Lt,u[17]=Dt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function g(t,e,n){return(new v).mulp(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,f=(0|t.words[c])*(0|e.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<a;d++){var p=n[c+d],g=r[c+d],v=n[c+d+a],m=r[c+d+a],y=f*v-h*m;m=f*m+h*v,v=y,n[c+d]=p+v,r[c+d]=g+m,n[c+d+a]=p-v,r[c+d+a]=g-m,d!==s&&(y=u*f-l*h,h=u*h+l*f,f=y)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(S,y),i(T,y),T.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return m[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var g=d,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new o(1).iushln(p-v-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=v}return h},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(200)(t))},,function(t,e,n){e.publicEncrypt=n(1414),e.privateDecrypt=n(1416),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){var r=n(411),i=n(267),o=n(325),a=n(735),s=n(736),u=n(530),l=n(737),c=n(520),f=n(43).Buffer;t.exports=function(t,e,n){var h;h=t.padding?t.padding:n?1:4;var d,p=r(t);if(4===h)d=function(t,e){var n=t.modulus.byteLength(),r=e.length,l=o("sha1").update(f.alloc(0)).digest(),c=l.length,h=2*c;if(r>n-h-2)throw new Error("message too long");var d=f.alloc(n-r-h-2),p=n-c-1,g=i(c),v=s(f.concat([l,d,f.alloc(1,1),e],p),a(g,p)),m=s(g,a(v,c));return new u(f.concat([f.alloc(1),m,v],n))}(p,e);else if(1===h)d=function(t,e,n){var r,o=e.length,a=t.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?f.alloc(a-o-3,255):function(t){var e,n=f.allocUnsafe(t),r=0,o=i(2*t),a=0;for(;r<t;)a===o.length&&(o=i(2*t),a=0),(e=o[a++])&&(n[r++]=e);return n}(a-o-3);return new u(f.concat([f.from([0,n?1:2]),r,f.alloc(1),e],a))}(p,e,n);else{if(3!==h)throw new Error("unknown padding");if((d=new u(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?c(d,p):l(d,p)}},,function(t,e,n){var r=n(411),i=n(735),o=n(736),a=n(530),s=n(520),u=n(325),l=n(737),c=n(43).Buffer;t.exports=function(t,e,n){var f;f=t.padding?t.padding:n?1:4;var h,d=r(t),p=d.modulus.byteLength();if(e.length>p||new a(e).cmp(d.modulus)>=0)throw new Error("decryption error");h=n?l(new a(e),d):s(e,d);var g=c.alloc(p-h.length);if(h=c.concat([g,h],p),4===f)return function(t,e){var n=t.modulus.byteLength(),r=u("sha1").update(c.alloc(0)).digest(),a=r.length;if(0!==e[0])throw new Error("decryption error");var s=e.slice(1,a+1),l=e.slice(a+1),f=o(s,i(l,a)),h=o(l,i(f,n-a-1));if(function(t,e){t=c.from(t),e=c.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));var i=-1;for(;++i<r;)n+=t[i]^e[i];return n}(r,h.slice(0,a)))throw new Error("decryption error");var d=a;for(;0===h[d];)d++;if(1!==h[d++])throw new Error("decryption error");return h.slice(d)}(d,h);if(1===f)return function(t,e,n){var r=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,h,n);if(3===f)return h;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(43),a=n(267),s=o.Buffer,u=o.kMaxLength,l=t.crypto||t.msCrypto,c=Math.pow(2,32)-1;function f(t,e){if("number"!==typeof t||t!==t)throw new TypeError("offset must be a number");if(t>c||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function h(t,e,n){if("number"!==typeof t||t!==t)throw new TypeError("size must be a number");if(t>c||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>u)throw new RangeError("buffer too small")}function d(t,e,n,i){if(r.browser){var o=t.buffer,s=new Uint8Array(o,e,n);return l.getRandomValues(s),i?void r.nextTick((function(){i(null,t)})):t}if(!i)return a(n).copy(t,e),t;a(n,(function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)}))}l&&l.getRandomValues||!r.browser?(e.randomFill=function(e,n,r,i){if(!s.isBuffer(e)&&!(e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)i=n,n=0,r=e.length;else if("function"===typeof r)i=r,r=e.length-n;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return f(n,e.length),h(r,n,e.length),d(e,n,r,i)},e.randomFillSync=function(e,n,r){"undefined"===typeof n&&(n=0);if(!s.isBuffer(e)&&!(e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,e.length),void 0===r&&(r=e.length-n);return h(r,n,e.length),d(e,n,r)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,n(60),n(77))},function(t,e,n){var r=n(2),i=n(738),o=n(739),a=o.setStyleProp;function s(t){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===t.type&&o.isCustomComponent(t.name,t.attribs)}t.exports=function t(e,n){for(var o,u,l,c,f=(n=n||{}).library||r,h=f.cloneElement,d=f.createElement,p=f.isValidElement,g=[],v="function"===typeof n.replace,m=n.trim,y=0,b=e.length;y<b;y++)if(o=e[y],v&&p(u=n.replace(o)))b>1&&(u=h(u,{key:u.key||y})),g.push(u);else if("text"!==o.type){switch(l=o.attribs,s(o)?a(l.style,l):l&&(l=i(l)),c=null,o.type){case"script":case"style":o.children[0]&&(l.dangerouslySetInnerHTML={__html:o.children[0].data});break;case"tag":"textarea"===o.name&&o.children[0]?l.defaultValue=o.children[0].data:o.children&&o.children.length&&(c=t(o.children,n));break;default:continue}b>1&&(l.key=y),g.push(d(o.name,l,c))}else m?o.data.trim()&&g.push(o.data):g.push(o.data);return 1===g.length?g[0]:g}},function(t,e,n){var r=n(1420),i=n(1421),o=n(1422),a=o.MUST_USE_PROPERTY,s=o.HAS_BOOLEAN_VALUE,u=o.HAS_NUMERIC_VALUE,l=o.HAS_POSITIVE_NUMERIC_VALUE,c=o.HAS_OVERLOADED_BOOLEAN_VALUE;function f(t,e){return(t&e)===e}function h(t,e,n){var r,i,o,h=t.Properties,d=t.DOMAttributeNames;for(i in h)r=d[i]||(n?i:i.toLowerCase()),o=h[i],e[r]={attributeName:r,propertyName:i,mustUseProperty:f(o,a),hasBooleanValue:f(o,s),hasNumericValue:f(o,u),hasPositiveNumericValue:f(o,l),hasOverloadedBooleanValue:f(o,c)}}var d={};h(r,d);var p={};h(i,p,!0);var g={};h(r,g),h(i,g,!0);t.exports={html:d,svg:p,properties:g,isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"))}},function(t,e){t.exports={Properties:{autoFocus:4,accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:4,allowTransparency:0,alt:0,as:0,async:4,autoComplete:0,autoPlay:4,capture:4,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:5,cite:0,classID:0,className:0,cols:24,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:4,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:4,defer:4,dir:0,disabled:4,download:32,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:4,formTarget:0,frameBorder:0,headers:0,height:0,hidden:4,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:4,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:5,muted:5,name:0,nonce:0,noValidate:4,open:4,optimum:0,pattern:0,placeholder:0,playsInline:4,poster:0,preload:0,profile:0,radioGroup:0,readOnly:4,referrerPolicy:0,rel:0,required:4,reversed:4,role:0,rows:24,rowSpan:8,sandbox:0,scope:0,scoped:4,scrolling:0,seamless:4,selected:5,shape:0,size:24,sizes:0,span:24,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:8,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:4,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"}}},function(t,e){t.exports={Properties:{accentHeight:0,accumulate:0,additive:0,alignmentBaseline:0,allowReorder:0,alphabetic:0,amplitude:0,arabicForm:0,ascent:0,attributeName:0,attributeType:0,autoReverse:0,azimuth:0,baseFrequency:0,baseProfile:0,baselineShift:0,bbox:0,begin:0,bias:0,by:0,calcMode:0,capHeight:0,clip:0,clipPath:0,clipRule:0,clipPathUnits:0,colorInterpolation:0,colorInterpolationFilters:0,colorProfile:0,colorRendering:0,contentScriptType:0,contentStyleType:0,cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:0,direction:0,display:0,divisor:0,dominantBaseline:0,dur:0,dx:0,dy:0,edgeMode:0,elevation:0,enableBackground:0,end:0,exponent:0,externalResourcesRequired:0,fill:0,fillOpacity:0,fillRule:0,filter:0,filterRes:0,filterUnits:0,floodColor:0,floodOpacity:0,focusable:0,fontFamily:0,fontSize:0,fontSizeAdjust:0,fontStretch:0,fontStyle:0,fontVariant:0,fontWeight:0,format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:0,glyphOrientationHorizontal:0,glyphOrientationVertical:0,glyphRef:0,gradientTransform:0,gradientUnits:0,hanging:0,horizAdvX:0,horizOriginX:0,ideographic:0,imageRendering:0,in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:0,kernelUnitLength:0,kerning:0,keyPoints:0,keySplines:0,keyTimes:0,lengthAdjust:0,letterSpacing:0,lightingColor:0,limitingConeAngle:0,local:0,markerEnd:0,markerMid:0,markerStart:0,markerHeight:0,markerUnits:0,markerWidth:0,mask:0,maskContentUnits:0,maskUnits:0,mathematical:0,mode:0,numOctaves:0,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:0,overlineThickness:0,paintOrder:0,panose1:0,pathLength:0,patternContentUnits:0,patternTransform:0,patternUnits:0,pointerEvents:0,points:0,pointsAtX:0,pointsAtY:0,pointsAtZ:0,preserveAlpha:0,preserveAspectRatio:0,primitiveUnits:0,r:0,radius:0,refX:0,refY:0,renderingIntent:0,repeatCount:0,repeatDur:0,requiredExtensions:0,requiredFeatures:0,restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:0,slope:0,spacing:0,specularConstant:0,specularExponent:0,speed:0,spreadMethod:0,startOffset:0,stdDeviation:0,stemh:0,stemv:0,stitchTiles:0,stopColor:0,stopOpacity:0,strikethroughPosition:0,strikethroughThickness:0,string:0,stroke:0,strokeDasharray:0,strokeDashoffset:0,strokeLinecap:0,strokeLinejoin:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0,surfaceScale:0,systemLanguage:0,tableValues:0,targetX:0,targetY:0,textAnchor:0,textDecoration:0,textRendering:0,textLength:0,to:0,transform:0,u1:0,u2:0,underlinePosition:0,underlineThickness:0,unicode:0,unicodeBidi:0,unicodeRange:0,unitsPerEm:0,vAlphabetic:0,vHanging:0,vIdeographic:0,vMathematical:0,values:0,vectorEffect:0,version:0,vertAdvY:0,vertOriginX:0,vertOriginY:0,viewBox:0,viewTarget:0,visibility:0,widths:0,wordSpacing:0,writingMode:0,x:0,xHeight:0,x1:0,x2:0,xChannelSelector:0,xlinkActuate:0,xlinkArcrole:0,xlinkHref:0,xlinkRole:0,xlinkShow:0,xlinkTitle:0,xlinkType:0,xmlBase:0,xmlns:0,xmlnsXlink:0,xmlLang:0,xmlSpace:0,y:0,y1:0,y2:0,yChannelSelector:0,z:0,zoomAndPan:0},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space"}}},function(t,e){t.exports={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=r(n(1424)),o=n(1426);e.default=function(t,e){var n={};return t&&"string"===typeof t?(i.default(t,(function(t,r){t&&r&&(n[o.camelCase(t,e)]=r)})),n):n}},function(t,e,n){var r=n(1425);t.exports=function(t,e){var n,i=null;if(!t||"string"!==typeof t)return i;for(var o,a,s=r(t),u="function"===typeof e,l=0,c=s.length;l<c;l++)o=(n=s[l]).property,a=n.value,u?e(o,a,n):a&&(i||(i={}),i[o]=a);return i}},function(t,e){var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,l=/^\s+|\s+$/g;function c(t){return t?t.replace(l,""):""}t.exports=function(t,e){if("string"!==typeof t)throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var l=1,f=1;function h(t){var e=t.match(r);e&&(l+=e.length);var n=t.lastIndexOf("\n");f=~n?t.length-n:f+t.length}function d(){var t={line:l,column:f};return function(e){return e.position=new p(t),y(),e}}function p(t){this.start=t,this.end={line:l,column:f},this.source=e.source}p.prototype.content=t;var g=[];function v(n){var r=new Error(e.source+":"+l+":"+f+": "+n);if(r.reason=n,r.filename=e.source,r.line=l,r.column=f,r.source=t,!e.silent)throw r;g.push(r)}function m(e){var n=e.exec(t);if(n){var r=n[0];return h(r),t=t.slice(r.length),n}}function y(){m(i)}function b(t){var e;for(t=t||[];e=w();)!1!==e&&t.push(e);return t}function w(){var e=d();if("/"==t.charAt(0)&&"*"==t.charAt(1)){for(var n=2;""!=t.charAt(n)&&("*"!=t.charAt(n)||"/"!=t.charAt(n+1));)++n;if(n+=2,""===t.charAt(n-1))return v("End of comment missing");var r=t.slice(2,n-2);return f+=2,h(r),t=t.slice(n),f+=2,e({type:"comment",comment:r})}}function S(){var t=d(),e=m(o);if(e){if(w(),!m(a))return v("property missing ':'");var r=m(s),i=t({type:"declaration",property:c(e[0].replace(n,"")),value:r?c(r[0].replace(n,"")):""});return m(u),i}}return y(),function(){var t,e=[];for(b(e);t=S();)!1!==t&&(e.push(t),b(e));return e}()}},function(t,e,n){"use strict";e.__esModule=!0,e.camelCase=void 0;var r=/^--[a-zA-Z0-9-]+$/,i=/-([a-z])/g,o=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=function(t,e){return e.toUpperCase()},u=function(t,e){return e+"-"};e.camelCase=function(t,e){return void 0===e&&(e={}),function(t){return!t||o.test(t)||r.test(t)}(t)?t:(t=t.toLowerCase(),e.reactCompat||(t=t.replace(a,u)),t.replace(i,s))}},function(t,e,n){var r=n(1428),i=n(740).formatDOM,o=/<(![a-zA-Z\s]+)>/;t.exports=function(t){if("string"!==typeof t)throw new TypeError("First argument must be a string");if(""===t)return[];var e,n=t.match(o);return n&&n[1]&&(e=n[1]),i(r(t),null,e)}},function(t,e,n){var r=/<([a-zA-Z]+[0-9]?)/,i=/<head.*>/i,o=/<body.*>/i,a=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},s=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"===typeof window.DOMParser){var u=new window.DOMParser;a=s=function(t,e){return e&&(t="<"+e+">"+t+"</"+e+">"),u.parseFromString(t,"text/html")}}if(document.implementation){var l=n(740).isIE,c=document.implementation.createHTMLDocument(l()?"html-dom-parser":void 0);a=function(t,e){return e?(c.documentElement.getElementsByTagName(e)[0].innerHTML=t,c):(c.documentElement.innerHTML=t,c)}}var f,h=document.createElement("template");h.content&&(f=function(t){return h.innerHTML=t,h.content.childNodes}),t.exports=function(t){var e,n,u,l,c=t.match(r);switch(c&&c[1]&&(e=c[1].toLowerCase()),e){case"html":return n=s(t),i.test(t)||(u=n.getElementsByTagName("head")[0])&&u.parentNode.removeChild(u),o.test(t)||(u=n.getElementsByTagName("body")[0])&&u.parentNode.removeChild(u),n.getElementsByTagName("html");case"head":case"body":return l=a(t).getElementsByTagName(e),o.test(t)&&i.test(t)?l[0].parentNode.childNodes:l;default:return f?f(t):a(t,"body").getElementsByTagName("body")[0].childNodes}}},function(t,e){t.exports={CASE_SENSITIVE_TAG_NAMES:["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var o=n(1431),a=new Map([[o.ElementType.Tag,1],[o.ElementType.Script,1],[o.ElementType.Style,1],[o.ElementType.Directive,1],[o.ElementType.Text,3],[o.ElementType.CDATA,4],[o.ElementType.Comment,8],[o.ElementType.Root,9]]),s=function(){function t(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){var t;return null!==(t=a.get(this.type))&&void 0!==t?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(t){return void 0===t&&(t=!1),S(this,t)},t}();e.Node=s;var u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.data=n,r}return r(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(s);e.DataNode=u;var l=function(t){function e(e){return t.call(this,o.ElementType.Text,e)||this}return r(e,t),e}(u);e.Text=l;var c=function(t){function e(e){return t.call(this,o.ElementType.Comment,e)||this}return r(e,t),e}(u);e.Comment=c;var f=function(t){function e(e,n){var r=t.call(this,o.ElementType.Directive,n)||this;return r.name=e,r}return r(e,t),e}(u);e.ProcessingInstruction=f;var h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.children=n,r}return r(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(s);e.NodeWithChildren=h;var d=function(t){function e(e){return t.call(this,o.ElementType.Root,e)||this}return r(e,t),e}(h);e.Document=d;var p=function(t){function e(e,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===e?o.ElementType.Script:"style"===e?o.ElementType.Style:o.ElementType.Tag);var a=t.call(this,i,r)||this;return a.name=e,a.attribs=n,a}return r(e,t),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map((function(e){var n,r;return{name:e,value:t.attribs[e],namespace:null===(n=t["x-attribsNamespace"])||void 0===n?void 0:n[e],prefix:null===(r=t["x-attribsPrefix"])||void 0===r?void 0:r[e]}}))},enumerable:!1,configurable:!0}),e}(h);function g(t){return(0,o.isTag)(t)}function v(t){return t.type===o.ElementType.CDATA}function m(t){return t.type===o.ElementType.Text}function y(t){return t.type===o.ElementType.Comment}function b(t){return t.type===o.ElementType.Directive}function w(t){return t.type===o.ElementType.Root}function S(t,e){var n;if(void 0===e&&(e=!1),m(t))n=new l(t.data);else if(y(t))n=new c(t.data);else if(g(t)){var r=e?T(t.children):[],a=new p(t.name,i({},t.attribs),r);r.forEach((function(t){return t.parent=a})),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]=i({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]=i({},t["x-attribsPrefix"])),n=a}else if(v(t)){r=e?T(t.children):[];var s=new h(o.ElementType.CDATA,r);r.forEach((function(t){return t.parent=s})),n=s}else if(w(t)){r=e?T(t.children):[];var u=new d(r);r.forEach((function(t){return t.parent=u})),t["x-mode"]&&(u["x-mode"]=t["x-mode"]),n=u}else{if(!b(t))throw new Error("Not implemented yet: "+t.type);var S=new f(t.name,t.data);null!=t["x-name"]&&(S["x-name"]=t["x-name"],S["x-publicId"]=t["x-publicId"],S["x-systemId"]=t["x-systemId"]),n=S}return n.startIndex=t.startIndex,n.endIndex=t.endIndex,n}function T(t){for(var e=t.map((function(t){return S(t,!0)})),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}e.Element=p,e.isTag=g,e.isCDATA=v,e.isText=m,e.isComment=y,e.isDirective=b,e.isDocument=w,e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")},e.cloneNode=S},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(r=e.ElementType||(e.ElementType={})),e.isTag=function(t){return t.type===r.Tag||t.type===r.Script||t.type===r.Style},e.Root=r.Root,e.Text=r.Text,e.Directive=r.Directive,e.Comment=r.Comment,e.Script=r.Script,e.Style=r.Style,e.Tag=r.Tag,e.CDATA=r.CDATA,e.Doctype=r.Doctype},function(t,e,n){var r,i;void 0===(i="function"===typeof(r=function(){function t(t,e){return function(n,r,i,o){n[t]?n[t](r,i,o):n[e]&&n[e]("on"+r,i)}}return{add:t("addEventListener","attachEvent"),remove:t("removeEventListener","detachEvent")}})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")(),c=Object.prototype.toString,f=Math.max,h=Math.min,d=function(){return l.Date.now()};function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(p(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=p(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var s=i.test(t);return s||o.test(t)?a(t.slice(2),s?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,u,l=0,c=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function b(t){return l=t,s=setTimeout(S,e),c?y(t):a}function w(t){var n=t-u;return void 0===u||n>=e||n<0||v&&t-l>=o}function S(){var t=d();if(w(t))return T(t);s=setTimeout(S,function(t){var n=e-(t-u);return v?h(n,o-(t-l)):n}(t))}function T(t){return s=void 0,m&&r?y(t):(r=i=void 0,a)}function E(){var t=d(),n=w(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return b(u);if(v)return s=setTimeout(S,e),y(u)}return void 0===s&&(s=setTimeout(S,e)),a}return e=g(e)||0,p(n)&&(c=!!n.leading,o=(v="maxWait"in n)?f(g(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},E.flush=function(){return void 0===s?a:T(d())},E}}).call(this,n(60))},function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")(),c=Object.prototype.toString,f=Math.max,h=Math.min,d=function(){return l.Date.now()};function p(t,e,n){var r,i,o,a,s,u,l=0,c=!1,p=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function b(t){return l=t,s=setTimeout(S,e),c?y(t):a}function w(t){var n=t-u;return void 0===u||n>=e||n<0||p&&t-l>=o}function S(){var t=d();if(w(t))return T(t);s=setTimeout(S,function(t){var n=e-(t-u);return p?h(n,o-(t-l)):n}(t))}function T(t){return s=void 0,m&&r?y(t):(r=i=void 0,a)}function E(){var t=d(),n=w(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return b(u);if(p)return s=setTimeout(S,e),y(u)}return void 0===s&&(s=setTimeout(S,e)),a}return e=v(e)||0,g(n)&&(c=!!n.leading,o=(p="maxWait"in n)?f(v(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},E.flush=function(){return void 0===s?a:T(d())},E}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var s=i.test(t);return s||o.test(t)?a(t.slice(2),s?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return g(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),p(t,e,{leading:r,maxWait:e,trailing:i})}}).call(this,n(60))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return window}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n,r){if(function(t){return null===t.offsetParent}(e))return!1;var i=void 0,a=void 0,s=void 0,u=void 0;if("undefined"===typeof n||n===window)i=window.pageYOffset,s=window.pageXOffset,a=i+window.innerHeight,u=s+window.innerWidth;else{if(!t(n,window,r))return!1;var l=(0,o.default)(n);i=l.top,s=l.left,a=i+n.offsetHeight,u=s+n.offsetWidth}var c=(0,o.default)(e);return i<=c.top+e.offsetHeight+r.top&&a>=c.top-r.bottom&&s<=c.left+e.offsetWidth+r.left&&u>=c.left-r.right};var r,i=n(1437),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}},function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}}]]);
/*! For license information please see wii-sdk-welcome-tvc.js.LICENSE.txt */
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WI=e():n.WI=e()}(self,(()=>(()=>{var __webpack_modules__={"./src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.EventType = exports.Environment = exports.ENV = exports.DeviceType = exports.ContentType = void 0;\n// Object.defineProperty(exports, \"InstreamSdk\", {\n//   enumerable: true,\n//   get: function get() {\n//     return _indexInstream[\"default\"];\n//   }\n// });\nexports.MappingType = void 0;\nObject.defineProperty(exports, \"WelcomeSdk\", ({\n  enumerable: true,\n  get: function get() {\n    return _indexWelcome[\"default\"];\n  }\n}));\n\n// var _indexInstream = _interopRequireDefault(require(\"./instreams/index\"));\nvar _indexWelcome = _interopRequireDefault(__webpack_require__(/*! ./welcome/index */ \"./src/welcome/index.js\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nvar EventType = {\n  'REQUEST': 'REQUEST',\n  'START': 'START',\n  'IMPRESSION': 'IMPRESSION',\n  \"CLICK\": \"CLICK\",\n  'COMPLETE': 'COMPLETE',\n  \"SKIPPED\": \"SKIPPED\",\n  \"USER_AD_BLOCK\": \"USER_AD_BLOCK\",\n  \"VOLUME_MUTED\": \"VOLUME_MUTED\",\n  \"VOLUME_ON\": \"VOLUME_ON\",\n  'ERROR': 'ERROR'\n};\nexports.EventType = EventType;\nvar PlayerType = {\n  'VIDEO_JS': 'VIDEO_JS',\n  'SHAKA': 'SHAKA',\n  'HLS': 'HLS',\n  'AKAMAI': 'AKAMAI'\n};\nexports.PlayerType = PlayerType;\nvar Environment = {\n  'SANDBOX': 'SANDBOX',\n  'PRODUCTION': \"PRODUCTION\",\n  'VIETTEL_PRODUCTION': \"VIETTEL_PRODUCTION\",\n  'WIINVENT_PRODUCTION': \"WIINVENT_PRODUCTION\"\n};\nexports.Environment = Environment;\nvar DeviceType = {\n  'PHONE': 'PHONE',\n  'TV': 'TV',\n  'WEB': 'WEB'\n};\nexports.DeviceType = DeviceType;\nvar ContentType = {\n  'VOD': \"VOD\",\n  \"LIVE_STREAM\": \"LIVE_STREAM\",\n  \"TV\": \"TV\",\n  \"FILM\": \"FILM\",\n  \"VIDEO\": \"VIDEO\",\n  \"SHORT_VOD\": \"SHORT_VOD\"\n};\nexports.ContentType = ContentType;\nvar Type = {\n  'PROFILE': 'PROFILE',\n  'OVERLAY': 'OVERLAY'\n};\nexports.Type = Type;\nvar Gender = {\n  'MALE': 'MALE',\n  'FEMALE': 'FEMALE',\n  'OTHER': 'OTHER',\n  'NONE': 'NONE'\n};\nexports.Gender = Gender;\n\n//# sourceURL=webpack://WI/./src/index.js?")},"./src/sdk/index.js":function(module,exports,__webpack_require__){eval('/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _this = this;\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator.return && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, catch: function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e24) { throw _e24; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e25) { didErr = true; err = _e25; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n/*! For license information please see sdk.js.LICENSE.txt */\n!function (e, t) {\n  "object" == ( false ? 0 : _typeof(exports)) && "object" == ( false ? 0 : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;\n}(this, function () {\n  return function () {\n    var e,\n      t,\n      r,\n      n,\n      i = {\n        "./node_modules/@dailymotion/vast-client/dist/vast-client.min.js": function node_modulesDailymotionVastClientDistVastClientMinJs(e, t, r) {\n          "use strict";\n\n          function n() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            return {\n              id: e.id || null,\n              adId: e.adId || null,\n              sequence: e.sequence || null,\n              apiFramework: e.apiFramework || null,\n              universalAdIds: [],\n              creativeExtensions: []\n            };\n          }\n          r.r(t), r.d(t, {\n            VASTClient: function VASTClient() {\n              return Y;\n            },\n            VASTParser: function VASTParser() {\n              return F;\n            },\n            VASTTracker: function VASTTracker() {\n              return Q;\n            },\n            parseDuration: function parseDuration() {\n              return g;\n            }\n          });\n          var i = ["ADCATEGORIES", "ADCOUNT", "ADPLAYHEAD", "ADSERVINGID", "ADTYPE", "APIFRAMEWORKS", "APPBUNDLE", "ASSETURI", "BLOCKEDADCATEGORIES", "BREAKMAXADLENGTH", "BREAKMAXADS", "BREAKMAXDURATION", "BREAKMINADLENGTH", "BREAKMINDURATION", "BREAKPOSITION", "CLICKPOS", "CLICKTYPE", "CLIENTUA", "CONTENTID", "CONTENTPLAYHEAD", "CONTENTURI", "DEVICEIP", "DEVICEUA", "DOMAIN", "EXTENSIONS", "GDPRCONSENT", "IFA", "IFATYPE", "INVENTORYSTATE", "LATLONG", "LIMITADTRACKING", "MEDIAMIME", "MEDIAPLAYHEAD", "OMIDPARTNER", "PAGEURL", "PLACEMENTTYPE", "PLAYERCAPABILITIES", "PLAYERSIZE", "PLAYERSTATE", "PODSEQUENCE", "REGULATIONS", "SERVERSIDE", "SERVERUA", "TRANSACTIONID", "UNIVERSALADID", "VASTVERSIONS", "VERIFICATIONVENDORS"];\n          function o(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n              r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n            var n = [],\n              i = l(e);\n            !t.ERRORCODE || r.isCustomCode || /^[0-9]{3}$/.test(t.ERRORCODE) || (t.ERRORCODE = 900), t.CACHEBUSTING = p(Math.round(1e8 * Math.random())), t.TIMESTAMP = new Date().toISOString(), t.RANDOM = t.random = t.CACHEBUSTING;\n            for (var _e in t) t[_e] = h(t[_e]);\n            for (var _e2 in i) {\n              var _r = i[_e2];\n              "string" == typeof _r && n.push(a(_r, t));\n            }\n            return n;\n          }\n          function a(e, t) {\n            var r = (e = s(e, t)).match(/[^[\\]]+(?=])/g);\n            if (!r) return e;\n            var n = r.filter(function (e) {\n              return i.indexOf(e) > -1;\n            });\n            return 0 === n.length ? e : (n = n.reduce(function (e, t) {\n              return e[t] = -1, e;\n            }, {}), s(e, n));\n          }\n          function s(e, t) {\n            var r = e;\n            for (var _e3 in t) {\n              var _n = t[_e3];\n              r = r.replace(new RegExp("(?:\\\\[|%%)(".concat(_e3, ")(?:\\\\]|%%)"), "g"), _n);\n            }\n            return r;\n          }\n          function l(e) {\n            return Array.isArray(e) ? e.map(function (e) {\n              return e && e.hasOwnProperty("url") ? e.url : e;\n            }) : e;\n          }\n          function c(e) {\n            return /^(https?:\\/\\/|\\/\\/)/.test(e);\n          }\n          function u(e, t) {\n            for (var _r2 = 0; _r2 < t.length; _r2++) if (d(t[_r2], e)) return !0;\n            return !1;\n          }\n          function d(e, t) {\n            if (e && t) {\n              var _r3 = Object.getOwnPropertyNames(e),\n                _n2 = Object.getOwnPropertyNames(t);\n              return _r3.length === _n2.length && e.id === t.id && e.url === t.url;\n            }\n            return !1;\n          }\n          function h(e) {\n            return encodeURIComponent(e).replace(/[!\'()*]/g, function (e) {\n              return "%".concat(e.charCodeAt(0).toString(16));\n            });\n          }\n          function p(e) {\n            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 8;\n            return e.toString().padStart(t, "0");\n          }\n          var f = {\n            track: function track(e, t, r) {\n              o(e, t, r).forEach(function (e) {\n                "undefined" != typeof window && null !== window && (new Image().src = e);\n              });\n            },\n            resolveURLTemplates: o,\n            extractURLsFromTemplates: l,\n            filterUrlTemplates: function filterUrlTemplates(e) {\n              return e.reduce(function (e, t) {\n                var r = t.url || t;\n                return c(r) ? e.validUrls.push(r) : e.invalidUrls.push(r), e;\n              }, {\n                validUrls: [],\n                invalidUrls: []\n              });\n            },\n            containsTemplateObject: u,\n            isTemplateObjectEqual: d,\n            encodeURIComponentRFC3986: h,\n            replaceUrlMacros: a,\n            isNumeric: function isNumeric(e) {\n              return !isNaN(parseFloat(e)) && isFinite(e);\n            },\n            flatten: function e(t) {\n              return t.reduce(function (t, r) {\n                return t.concat(Array.isArray(r) ? e(r) : r);\n              }, []);\n            },\n            joinArrayOfUniqueTemplateObjs: function joinArrayOfUniqueTemplateObjs() {\n              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n              var r = Array.isArray(e) ? e : [],\n                n = Array.isArray(t) ? t : [];\n              return r.concat(n).reduce(function (e, t) {\n                return u(t, e) || e.push(t), e;\n              }, []);\n            },\n            isValidTimeValue: function isValidTimeValue(e) {\n              return Number.isFinite(e) && e >= -2;\n            },\n            addLeadingZeros: p,\n            isValidUrl: c,\n            isBrowserEnvironment: function isBrowserEnvironment() {\n              return "undefined" != typeof window;\n            },\n            formatMacrosValues: function formatMacrosValues(e) {\n              return "object" != _typeof(e) ? e : JSON.stringify(e);\n            }\n          };\n          function m(e) {\n            return ["true", "TRUE", "True", "1"].includes(e);\n          }\n          function g(e) {\n            if (null == e) return -1;\n            if (f.isNumeric(e)) return parseInt(e);\n            var t = e.split(":");\n            if (3 !== t.length) return -1;\n            var r = t[2].split(".");\n            var n = parseInt(r[0]);\n            2 === r.length && (n += parseFloat("0.".concat(r[1])));\n            var i = parseInt(60 * t[1]),\n              o = parseInt(60 * t[0] * 60);\n            return isNaN(o) || isNaN(i) || isNaN(n) || i > 3600 || n > 60 ? -1 : o + i + n;\n          }\n          var v = {\n            childByName: function childByName(e, t) {\n              return Array.from(e.childNodes).find(function (e) {\n                return e.nodeName === t;\n              });\n            },\n            childrenByName: function childrenByName(e, t) {\n              return Array.from(e.childNodes).filter(function (e) {\n                return e.nodeName === t;\n              });\n            },\n            resolveVastAdTagURI: function resolveVastAdTagURI(e, t) {\n              if (!t) return e;\n              if (e.startsWith("//")) {\n                var _location = location,\n                  _t = _location.protocol;\n                return "".concat(_t).concat(e);\n              }\n              if (!e.includes("://")) {\n                var _r4 = t.slice(0, t.lastIndexOf("/"));\n                return "".concat(_r4, "/").concat(e);\n              }\n              return e;\n            },\n            parseBoolean: m,\n            parseNodeText: function parseNodeText(e) {\n              return e && (e.textContent || e.text || "").trim();\n            },\n            copyNodeAttribute: function copyNodeAttribute(e, t, r) {\n              var n = t.getAttribute(e);\n              n && r.setAttribute(e, n);\n            },\n            parseAttributes: function parseAttributes(e) {\n              return Array.from(e.attributes).reduce(function (e, t) {\n                return e[t.nodeName] = t.nodeValue, e;\n              }, {});\n            },\n            parseDuration: g,\n            getStandAloneAds: function getStandAloneAds() {\n              return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).filter(function (e) {\n                return !parseInt(e.sequence, 10);\n              });\n            },\n            getSortedAdPods: function getSortedAdPods() {\n              return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).filter(function (e) {\n                return parseInt(e.sequence, 10);\n              }).sort(function (e, t) {\n                return e.sequence - t.sequence;\n              });\n            },\n            assignAttributes: function assignAttributes(e, t) {\n              e && Array.from(e).forEach(function (e) {\n                var r = e.nodeName,\n                  n = e.nodeValue;\n                if (r && n && t.hasOwnProperty(r)) {\n                  var _e4 = n;\n                  "boolean" == typeof t[r] && (_e4 = m(_e4)), t[r] = _e4;\n                }\n              });\n            },\n            mergeWrapperAdData: function mergeWrapperAdData(e, t) {\n              var r;\n              e.errorURLTemplates = t.errorURLTemplates.concat(e.errorURLTemplates), e.impressionURLTemplates = t.impressionURLTemplates.concat(e.impressionURLTemplates), e.extensions = t.extensions.concat(e.extensions), t.viewableImpression.length > 0 && (e.viewableImpression = [].concat(_toConsumableArray(e.viewableImpression), _toConsumableArray(t.viewableImpression))), e.followAdditionalWrappers = t.followAdditionalWrappers, e.allowMultipleAds = t.allowMultipleAds, e.fallbackOnNoAd = t.fallbackOnNoAd;\n              var n = (t.creatives || []).filter(function (e) {\n                  return e && "companion" === e.type;\n                }),\n                i = n.reduce(function (e, t) {\n                  return (t.variations || []).forEach(function (t) {\n                    (t.companionClickTrackingURLTemplates || []).forEach(function (t) {\n                      f.containsTemplateObject(t, e) || e.push(t);\n                    });\n                  }), e;\n                }, []);\n              e.creatives = n.concat(e.creatives);\n              var o = t.videoClickTrackingURLTemplates && t.videoClickTrackingURLTemplates.length,\n                a = t.videoCustomClickURLTemplates && t.videoCustomClickURLTemplates.length;\n              if (e.creatives.forEach(function (e) {\n                if (t.trackingEvents && t.trackingEvents[e.type]) for (var _r5 in t.trackingEvents[e.type]) {\n                  var _n3 = t.trackingEvents[e.type][_r5];\n                  Array.isArray(e.trackingEvents[_r5]) || (e.trackingEvents[_r5] = []), e.trackingEvents[_r5] = e.trackingEvents[_r5].concat(_n3);\n                }\n                "linear" === e.type && (o && (e.videoClickTrackingURLTemplates = e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)), a && (e.videoCustomClickURLTemplates = e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)), !t.videoClickThroughURLTemplate || null !== e.videoClickThroughURLTemplate && void 0 !== e.videoClickThroughURLTemplate || (e.videoClickThroughURLTemplate = t.videoClickThroughURLTemplate)), "companion" === e.type && i.length && (e.variations || []).forEach(function (e) {\n                  e.companionClickTrackingURLTemplates = f.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates, i);\n                });\n              }), t.adVerifications && (e.adVerifications = e.adVerifications.concat(t.adVerifications)), t.blockedAdCategories && (e.blockedAdCategories = e.blockedAdCategories.concat(t.blockedAdCategories)), null !== (r = t.creatives) && void 0 !== r && r.length) {\n                var _r6 = t.creatives.filter(function (e) {\n                  var t;\n                  return (null === (t = e.icons) || void 0 === t ? void 0 : t.length) && !e.mediaFiles.length;\n                });\n                _r6.length && (e.creatives = e.creatives.concat(_r6));\n              }\n            }\n          };\n          function y(e, t) {\n            var r = function () {\n              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n              var _n4 = n(e),\n                t = _n4.id,\n                r = _n4.adId,\n                i = _n4.sequence,\n                o = _n4.apiFramework;\n              return {\n                id: t,\n                adId: r,\n                sequence: i,\n                apiFramework: o,\n                type: "companion",\n                required: null,\n                variations: []\n              };\n            }(t);\n            return r.required = e.getAttribute("required") || null, r.variations = v.childrenByName(e, "Companion").map(function (e) {\n              var t = function () {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                return {\n                  id: e.id || null,\n                  adType: "companionAd",\n                  width: e.width || 0,\n                  height: e.height || 0,\n                  assetWidth: e.assetWidth || null,\n                  assetHeight: e.assetHeight || null,\n                  expandedWidth: e.expandedWidth || null,\n                  expandedHeight: e.expandedHeight || null,\n                  apiFramework: e.apiFramework || null,\n                  adSlotId: e.adSlotId || null,\n                  pxratio: e.pxratio || "1",\n                  renderingMode: e.renderingMode || "default",\n                  staticResources: [],\n                  htmlResources: [],\n                  iframeResources: [],\n                  adParameters: null,\n                  altText: null,\n                  companionClickThroughURLTemplate: null,\n                  companionClickTrackingURLTemplates: [],\n                  trackingEvents: {}\n                };\n              }(v.parseAttributes(e));\n              t.htmlResources = v.childrenByName(e, "HTMLResource").reduce(function (e, t) {\n                var r = v.parseNodeText(t);\n                return r ? e.concat(r) : e;\n              }, []), t.iframeResources = v.childrenByName(e, "IFrameResource").reduce(function (e, t) {\n                var r = v.parseNodeText(t);\n                return r ? e.concat(r) : e;\n              }, []), t.staticResources = v.childrenByName(e, "StaticResource").reduce(function (e, t) {\n                var r = v.parseNodeText(t);\n                return r ? e.concat({\n                  url: r,\n                  creativeType: t.getAttribute("creativeType") || null\n                }) : e;\n              }, []), t.altText = v.parseNodeText(v.childByName(e, "AltText")) || null;\n              var r = v.childByName(e, "TrackingEvents");\n              r && v.childrenByName(r, "Tracking").forEach(function (e) {\n                var r = e.getAttribute("event"),\n                  n = v.parseNodeText(e);\n                r && n && (Array.isArray(t.trackingEvents[r]) || (t.trackingEvents[r] = []), t.trackingEvents[r].push(n));\n              }), t.companionClickTrackingURLTemplates = v.childrenByName(e, "CompanionClickTracking").map(function (e) {\n                return {\n                  id: e.getAttribute("id") || null,\n                  url: v.parseNodeText(e)\n                };\n              }), t.companionClickThroughURLTemplate = v.parseNodeText(v.childByName(e, "CompanionClickThrough")) || null;\n              var n = v.childByName(e, "AdParameters");\n              return n && (t.adParameters = {\n                value: v.parseNodeText(n),\n                xmlEncoded: n.getAttribute("xmlEncoded") || null\n              }), t;\n            }), r;\n          }\n          function b(e, t) {\n            var r;\n            var i = function () {\n              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n              var _n5 = n(e),\n                t = _n5.id,\n                r = _n5.adId,\n                i = _n5.sequence,\n                o = _n5.apiFramework;\n              return {\n                id: t,\n                adId: r,\n                sequence: i,\n                apiFramework: o,\n                type: "linear",\n                duration: 0,\n                skipDelay: null,\n                mediaFiles: [],\n                mezzanine: null,\n                interactiveCreativeFile: null,\n                closedCaptionFiles: [],\n                videoClickThroughURLTemplate: null,\n                videoClickTrackingURLTemplates: [],\n                videoCustomClickURLTemplates: [],\n                adParameters: null,\n                icons: [],\n                trackingEvents: {}\n              };\n            }(t);\n            i.duration = v.parseDuration(v.parseNodeText(v.childByName(e, "Duration")));\n            var o = e.getAttribute("skipoffset");\n            if (null == o) i.skipDelay = null;else if ("%" === o.charAt(o.length - 1) && -1 !== i.duration) {\n              var _e5 = parseInt(o, 10);\n              i.skipDelay = i.duration * (_e5 / 100);\n            } else i.skipDelay = v.parseDuration(o);\n            var a = v.childByName(e, "VideoClicks");\n            if (a) {\n              var _e6 = v.childByName(a, "ClickThrough");\n              i.videoClickThroughURLTemplate = _e6 ? {\n                id: _e6.getAttribute("id") || null,\n                url: v.parseNodeText(_e6)\n              } : null, v.childrenByName(a, "ClickTracking").forEach(function (e) {\n                i.videoClickTrackingURLTemplates.push({\n                  id: e.getAttribute("id") || null,\n                  url: v.parseNodeText(e)\n                });\n              }), v.childrenByName(a, "CustomClick").forEach(function (e) {\n                i.videoCustomClickURLTemplates.push({\n                  id: e.getAttribute("id") || null,\n                  url: v.parseNodeText(e)\n                });\n              });\n            }\n            var s = v.childByName(e, "AdParameters");\n            s && (i.adParameters = {\n              value: v.parseNodeText(s),\n              xmlEncoded: s.getAttribute("xmlEncoded") || null\n            }), v.childrenByName(e, "TrackingEvents").forEach(function (e) {\n              v.childrenByName(e, "Tracking").forEach(function (e) {\n                var t = e.getAttribute("event");\n                var n = v.parseNodeText(e);\n                if (t && n) {\n                  if ("progress" === t) {\n                    if (r = e.getAttribute("offset"), !r) return;\n                    t = "%" === r.charAt(r.length - 1) ? "progress-".concat(r) : "progress-".concat(v.parseDuration(r));\n                  }\n                  Array.isArray(i.trackingEvents[t]) || (i.trackingEvents[t] = []), i.trackingEvents[t].push(n);\n                }\n              });\n            }), v.childrenByName(e, "MediaFiles").forEach(function (e) {\n              v.childrenByName(e, "MediaFile").forEach(function (e) {\n                i.mediaFiles.push(function (e) {\n                  var t = {\n                    id: null,\n                    fileURL: null,\n                    fileSize: 0,\n                    deliveryType: "progressive",\n                    mimeType: null,\n                    mediaType: null,\n                    codec: null,\n                    bitrate: 0,\n                    minBitrate: 0,\n                    maxBitrate: 0,\n                    width: 0,\n                    height: 0,\n                    apiFramework: null,\n                    scalable: null,\n                    maintainAspectRatio: null\n                  };\n                  t.id = e.getAttribute("id"), t.fileURL = v.parseNodeText(e), t.deliveryType = e.getAttribute("delivery"), t.codec = e.getAttribute("codec"), t.mimeType = e.getAttribute("type"), t.mediaType = e.getAttribute("mediaType") || "2D", t.apiFramework = e.getAttribute("apiFramework"), t.fileSize = parseInt(e.getAttribute("fileSize") || 0), t.bitrate = parseInt(e.getAttribute("bitrate") || 0), t.minBitrate = parseInt(e.getAttribute("minBitrate") || 0), t.maxBitrate = parseInt(e.getAttribute("maxBitrate") || 0), t.width = parseInt(e.getAttribute("width") || 0), t.height = parseInt(e.getAttribute("height") || 0);\n                  var r = e.getAttribute("scalable");\n                  r && "string" == typeof r && (t.scalable = v.parseBoolean(r));\n                  var n = e.getAttribute("maintainAspectRatio");\n                  return n && "string" == typeof n && (t.maintainAspectRatio = v.parseBoolean(n)), t;\n                }(e));\n              });\n              var t = v.childByName(e, "InteractiveCreativeFile");\n              t && (i.interactiveCreativeFile = function (e) {\n                var t = function () {\n                  var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                  return {\n                    type: e.type || null,\n                    apiFramework: e.apiFramework || null,\n                    variableDuration: v.parseBoolean(e.variableDuration),\n                    fileURL: null\n                  };\n                }(v.parseAttributes(e));\n                return t.fileURL = v.parseNodeText(e), t;\n              }(t));\n              var r = v.childByName(e, "ClosedCaptionFiles");\n              r && v.childrenByName(r, "ClosedCaptionFile").forEach(function (e) {\n                var t = function () {\n                  var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                  return {\n                    type: e.type || null,\n                    language: e.language || null,\n                    fileURL: null\n                  };\n                }(v.parseAttributes(e));\n                t.fileURL = v.parseNodeText(e), i.closedCaptionFiles.push(t);\n              });\n              var n = v.childByName(e, "Mezzanine"),\n                o = function (e) {\n                  var t = {};\n                  var r = !1;\n                  return ["delivery", "type", "width", "height"].forEach(function (n) {\n                    e && e.getAttribute(n) ? t[n] = e.getAttribute(n) : r = !0;\n                  }), r ? null : t;\n                }(n);\n              if (o) {\n                var _e7 = {\n                  id: null,\n                  fileURL: null,\n                  delivery: null,\n                  codec: null,\n                  type: null,\n                  width: 0,\n                  height: 0,\n                  fileSize: 0,\n                  mediaType: "2D"\n                };\n                _e7.id = n.getAttribute("id"), _e7.fileURL = v.parseNodeText(n), _e7.delivery = o.delivery, _e7.codec = n.getAttribute("codec"), _e7.type = o.type, _e7.width = parseInt(o.width, 10), _e7.height = parseInt(o.height, 10), _e7.fileSize = parseInt(n.getAttribute("fileSize"), 10), _e7.mediaType = n.getAttribute("mediaType") || "2D", i.mezzanine = _e7;\n              }\n            });\n            var l = v.childByName(e, "Icons");\n            return l && v.childrenByName(l, "Icon").forEach(function (e) {\n              i.icons.push(function (e) {\n                var t = {\n                  program: null,\n                  height: 0,\n                  width: 0,\n                  xPosition: 0,\n                  yPosition: 0,\n                  apiFramework: null,\n                  offset: null,\n                  duration: 0,\n                  type: null,\n                  staticResource: null,\n                  htmlResource: null,\n                  iframeResource: null,\n                  pxratio: "1",\n                  iconClickThroughURLTemplate: null,\n                  iconClickTrackingURLTemplates: [],\n                  iconViewTrackingURLTemplate: null,\n                  iconClickFallbackImages: []\n                };\n                t.program = e.getAttribute("program"), t.height = parseInt(e.getAttribute("height") || 0), t.width = parseInt(e.getAttribute("width") || 0), t.xPosition = function (e) {\n                  return -1 !== ["left", "right"].indexOf(e) ? e : parseInt(e || 0);\n                }(e.getAttribute("xPosition")), t.yPosition = function (e) {\n                  return -1 !== ["top", "bottom"].indexOf(e) ? e : parseInt(e || 0);\n                }(e.getAttribute("yPosition")), t.apiFramework = e.getAttribute("apiFramework"), t.pxratio = e.getAttribute("pxratio") || "1", t.offset = v.parseDuration(e.getAttribute("offset")), t.duration = v.parseDuration(e.getAttribute("duration")), v.childrenByName(e, "HTMLResource").forEach(function (e) {\n                  t.type = e.getAttribute("creativeType") || "text/html", t.htmlResource = v.parseNodeText(e);\n                }), v.childrenByName(e, "IFrameResource").forEach(function (e) {\n                  t.type = e.getAttribute("creativeType") || 0, t.iframeResource = v.parseNodeText(e);\n                }), v.childrenByName(e, "StaticResource").forEach(function (e) {\n                  t.type = e.getAttribute("creativeType") || 0, t.staticResource = v.parseNodeText(e);\n                });\n                var r = v.childByName(e, "IconClicks");\n                if (r) {\n                  t.iconClickThroughURLTemplate = v.parseNodeText(v.childByName(r, "IconClickThrough")), v.childrenByName(r, "IconClickTracking").forEach(function (e) {\n                    t.iconClickTrackingURLTemplates.push({\n                      id: e.getAttribute("id") || null,\n                      url: v.parseNodeText(e)\n                    });\n                  });\n                  var _e8 = v.childByName(r, "IconClickFallbackImages");\n                  _e8 && v.childrenByName(_e8, "IconClickFallbackImage").forEach(function (e) {\n                    t.iconClickFallbackImages.push({\n                      url: v.parseNodeText(e) || null,\n                      width: e.getAttribute("width") || null,\n                      height: e.getAttribute("height") || null\n                    });\n                  });\n                }\n                return t.iconViewTrackingURLTemplate = v.parseNodeText(v.childByName(e, "IconViewTracking")), t;\n              }(e));\n            }), i;\n          }\n          function k(e, t) {\n            var r = function () {\n              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n              var _n6 = n(e),\n                t = _n6.id,\n                r = _n6.adId,\n                i = _n6.sequence,\n                o = _n6.apiFramework;\n              return {\n                id: t,\n                adId: r,\n                sequence: i,\n                apiFramework: o,\n                type: "nonlinear",\n                variations: [],\n                trackingEvents: {}\n              };\n            }(t);\n            return v.childrenByName(e, "TrackingEvents").forEach(function (e) {\n              var t, n;\n              v.childrenByName(e, "Tracking").forEach(function (e) {\n                t = e.getAttribute("event"), n = v.parseNodeText(e), t && n && (Array.isArray(r.trackingEvents[t]) || (r.trackingEvents[t] = []), r.trackingEvents[t].push(n));\n              });\n            }), v.childrenByName(e, "NonLinear").forEach(function (e) {\n              var t = {\n                id: null,\n                width: 0,\n                height: 0,\n                expandedWidth: 0,\n                expandedHeight: 0,\n                scalable: !0,\n                maintainAspectRatio: !0,\n                minSuggestedDuration: 0,\n                apiFramework: "static",\n                adType: "nonLinearAd",\n                type: null,\n                staticResource: null,\n                htmlResource: null,\n                iframeResource: null,\n                nonlinearClickThroughURLTemplate: null,\n                nonlinearClickTrackingURLTemplates: [],\n                adParameters: null\n              };\n              t.id = e.getAttribute("id") || null, t.width = e.getAttribute("width"), t.height = e.getAttribute("height"), t.expandedWidth = e.getAttribute("expandedWidth"), t.expandedHeight = e.getAttribute("expandedHeight"), t.scalable = v.parseBoolean(e.getAttribute("scalable")), t.maintainAspectRatio = v.parseBoolean(e.getAttribute("maintainAspectRatio")), t.minSuggestedDuration = v.parseDuration(e.getAttribute("minSuggestedDuration")), t.apiFramework = e.getAttribute("apiFramework"), v.childrenByName(e, "HTMLResource").forEach(function (e) {\n                t.type = e.getAttribute("creativeType") || "text/html", t.htmlResource = v.parseNodeText(e);\n              }), v.childrenByName(e, "IFrameResource").forEach(function (e) {\n                t.type = e.getAttribute("creativeType") || 0, t.iframeResource = v.parseNodeText(e);\n              }), v.childrenByName(e, "StaticResource").forEach(function (e) {\n                t.type = e.getAttribute("creativeType") || 0, t.staticResource = v.parseNodeText(e);\n              });\n              var n = v.childByName(e, "AdParameters");\n              n && (t.adParameters = {\n                value: v.parseNodeText(n),\n                xmlEncoded: n.getAttribute("xmlEncoded") || null\n              }), t.nonlinearClickThroughURLTemplate = v.parseNodeText(v.childByName(e, "NonLinearClickThrough")), v.childrenByName(e, "NonLinearClickTracking").forEach(function (e) {\n                t.nonlinearClickTrackingURLTemplates.push({\n                  id: e.getAttribute("id") || null,\n                  url: v.parseNodeText(e)\n                });\n              }), r.variations.push(t);\n            }), r;\n          }\n          function T(e) {\n            var t = [];\n            return e.forEach(function (e) {\n              var r = A(e);\n              r && t.push(r);\n            }), t;\n          }\n          function A(e) {\n            if ("#comment" === e.nodeName) return null;\n            var t = {\n                name: null,\n                value: null,\n                attributes: {},\n                children: []\n              },\n              r = e.attributes,\n              n = e.childNodes;\n            if (t.name = e.nodeName, e.attributes) for (var _e9 in r) if (r.hasOwnProperty(_e9)) {\n              var _n7 = r[_e9];\n              _n7.nodeName && _n7.nodeValue && (t.attributes[_n7.nodeName] = _n7.nodeValue);\n            }\n            for (var _e10 in n) if (n.hasOwnProperty(_e10)) {\n              var _r7 = A(n[_e10]);\n              _r7 && t.children.push(_r7);\n            }\n            if (0 === t.children.length || 1 === t.children.length && ["#cdata-section", "#text"].indexOf(t.children[0].name) >= 0) {\n              var _r8 = v.parseNodeText(e);\n              "" !== _r8 && (t.value = _r8), t.children = [];\n            }\n            return null === (i = t).value && 0 === Object.keys(i.attributes).length && 0 === i.children.length ? null : t;\n            var i;\n          }\n          function E(e) {\n            return e.getAttribute("AdID") || e.getAttribute("adID") || e.getAttribute("adId") || null;\n          }\n          var w = {\n            Wrapper: {\n              subElements: ["VASTAdTagURI", "Impression"]\n            },\n            BlockedAdCategories: {\n              attributes: ["authority"]\n            },\n            InLine: {\n              subElements: ["AdSystem", "AdTitle", "Impression", "AdServingId", "Creatives"]\n            },\n            Category: {\n              attributes: ["authority"]\n            },\n            Pricing: {\n              attributes: ["model", "currency"]\n            },\n            Verification: {\n              oneOfinLineResources: ["JavaScriptResource", "ExecutableResource"],\n              attributes: ["vendor"]\n            },\n            UniversalAdId: {\n              attributes: ["idRegistry"]\n            },\n            JavaScriptResource: {\n              attributes: ["apiFramework", "browserOptional"]\n            },\n            ExecutableResource: {\n              attributes: ["apiFramework", "type"]\n            },\n            Tracking: {\n              attributes: ["event"]\n            },\n            Creatives: {\n              subElements: ["Creative"]\n            },\n            Creative: {\n              subElements: ["UniversalAdId"]\n            },\n            Linear: {\n              subElements: ["MediaFiles", "Duration"]\n            },\n            MediaFiles: {\n              subElements: ["MediaFile"]\n            },\n            MediaFile: {\n              attributes: ["delivery", "type", "width", "height"]\n            },\n            Mezzanine: {\n              attributes: ["delivery", "type", "width", "height"]\n            },\n            NonLinear: {\n              oneOfinLineResources: ["StaticResource", "IFrameResource", "HTMLResource"],\n              attributes: ["width", "height"]\n            },\n            Companion: {\n              oneOfinLineResources: ["StaticResource", "IFrameResource", "HTMLResource"],\n              attributes: ["width", "height"]\n            },\n            StaticResource: {\n              attributes: ["creativeType"]\n            },\n            Icons: {\n              subElements: ["Icon"]\n            },\n            Icon: {\n              oneOfinLineResources: ["StaticResource", "IFrameResource", "HTMLResource"]\n            }\n          };\n          function L(e, t) {\n            if (!w[e.nodeName] || !w[e.nodeName].attributes) return;\n            var r = w[e.nodeName].attributes.filter(function (t) {\n              return !e.getAttribute(t);\n            });\n            r.length > 0 && C({\n              name: e.nodeName,\n              parentName: e.parentNode.nodeName,\n              attributes: r\n            }, t);\n          }\n          function R(e, t, r) {\n            var n = w[e.nodeName],\n              i = !r && "Wrapper" !== e.nodeName;\n            if (n && !i) {\n              if (n.subElements) {\n                var _r9 = n.subElements.filter(function (t) {\n                  return !v.childByName(e, t);\n                });\n                _r9.length > 0 && C({\n                  name: e.nodeName,\n                  parentName: e.parentNode.nodeName,\n                  subElements: _r9\n                }, t);\n              }\n              r && n.oneOfinLineResources && (n.oneOfinLineResources.some(function (t) {\n                return v.childByName(e, t);\n              }) || C({\n                name: e.nodeName,\n                parentName: e.parentNode.nodeName,\n                oneOfResources: n.oneOfinLineResources\n              }, t));\n            }\n          }\n          function x(e) {\n            return e.children && 0 !== e.children.length;\n          }\n          function C(e, t) {\n            var r = e.name,\n              n = e.parentName,\n              i = e.attributes,\n              o = e.subElements,\n              a = e.oneOfResources,\n              s = "Element \'".concat(r, "\'");\n            s += i ? " missing required attribute(s) \'".concat(i.join(", "), "\' ") : o ? " missing required sub element(s) \'".concat(o.join(", "), "\' ") : a ? " must provide one of the following \'".concat(a.join(", "), "\' ") : " is empty", t("VAST-warning", {\n              message: s,\n              parentElement: n,\n              specVersion: 4.1\n            });\n          }\n          var S = {\n            verifyRequiredValues: function e(t, r, n) {\n              if (t && t.nodeName) if ("InLine" === t.nodeName && (n = !0), L(t, r), x(t)) {\n                R(t, r, n);\n                for (var _i = 0; _i < t.children.length; _i++) e(t.children[_i], r, n);\n              } else 0 === v.parseNodeText(t).length && C({\n                name: t.nodeName,\n                parentName: t.parentNode.nodeName\n              }, r);\n            },\n            hasSubElements: x,\n            emitMissingValueWarning: C,\n            verifyRequiredAttributes: L,\n            verifyRequiredSubElements: R\n          };\n          function N(e, t) {\n            var _ref = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n              r = _ref.allowMultipleAds,\n              n = _ref.followAdditionalWrappers;\n            var i = Array.from(e.childNodes).filter(function (e) {\n              var t = e.nodeName.toLowerCase();\n              return "inline" === t || !1 !== n && "wrapper" === t;\n            });\n            var _iterator = _createForOfIteratorHelper(i),\n              _step;\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var _n8 = _step.value;\n                if (v.copyNodeAttribute("id", e, _n8), v.copyNodeAttribute("sequence", e, _n8), v.copyNodeAttribute("adType", e, _n8), "Wrapper" === _n8.nodeName) return {\n                  ad: P(_n8, t),\n                  type: "WRAPPER"\n                };\n                if ("InLine" === _n8.nodeName) return {\n                  ad: I(_n8, t, {\n                    allowMultipleAds: r\n                  }),\n                  type: "INLINE"\n                };\n                var _i2 = _n8.nodeName.toLowerCase();\n                t("VAST-warning", {\n                  message: "<".concat(_n8.nodeName, "inline" === _i2 ? "> must be written <InLine>" : "> must be written <Wrapper>"),\n                  wrongNode: _n8\n                });\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          }\n          function I(e, t) {\n            var _ref2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n              r = _ref2.allowMultipleAds;\n            return !1 === r && e.getAttribute("sequence") ? null : O(e, t);\n          }\n          function O(e, t) {\n            var r = [];\n            t && S.verifyRequiredValues(e, t);\n            var n = Array.from(e.childNodes),\n              i = function () {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                return {\n                  id: e.id || null,\n                  sequence: e.sequence || null,\n                  adType: e.adType || null,\n                  adServingId: null,\n                  categories: [],\n                  expires: null,\n                  viewableImpression: [],\n                  system: null,\n                  title: null,\n                  description: null,\n                  advertiser: null,\n                  pricing: null,\n                  survey: null,\n                  errorURLTemplates: [],\n                  impressionURLTemplates: [],\n                  creatives: [],\n                  extensions: [],\n                  adVerifications: [],\n                  blockedAdCategories: [],\n                  followAdditionalWrappers: !0,\n                  allowMultipleAds: !1,\n                  fallbackOnNoAd: null\n                };\n              }(v.parseAttributes(e));\n            return n.forEach(function (e) {\n              switch (e.nodeName) {\n                case "Error":\n                  i.errorURLTemplates.push(v.parseNodeText(e));\n                  break;\n                case "Impression":\n                  i.impressionURLTemplates.push({\n                    id: e.getAttribute("id") || null,\n                    url: v.parseNodeText(e)\n                  });\n                  break;\n                case "Creatives":\n                  i.creatives = function (e) {\n                    var t = [];\n                    return e.forEach(function (e) {\n                      var r = {\n                          id: e.getAttribute("id") || null,\n                          adId: E(e),\n                          sequence: e.getAttribute("sequence") || null,\n                          apiFramework: e.getAttribute("apiFramework") || null\n                        },\n                        n = [];\n                      var i;\n                      v.childrenByName(e, "UniversalAdId").forEach(function (e) {\n                        var t = {\n                          idRegistry: e.getAttribute("idRegistry") || "unknown",\n                          value: v.parseNodeText(e)\n                        };\n                        n.push(t);\n                      });\n                      var o = v.childByName(e, "CreativeExtensions");\n                      o && (i = T(v.childrenByName(o, "CreativeExtension")));\n                      for (var _o in e.childNodes) {\n                        var _a = e.childNodes[_o];\n                        var _s = void 0;\n                        switch (_a.nodeName) {\n                          case "Linear":\n                            _s = b(_a, r);\n                            break;\n                          case "NonLinearAds":\n                            _s = k(_a, r);\n                            break;\n                          case "CompanionAds":\n                            _s = y(_a, r);\n                        }\n                        _s && (n && (_s.universalAdIds = n), i && (_s.creativeExtensions = i), t.push(_s));\n                      }\n                    }), t;\n                  }(v.childrenByName(e, "Creative"));\n                  break;\n                case "Extensions":\n                  {\n                    var _t2 = v.childrenByName(e, "Extension");\n                    i.extensions = T(_t2), i.adVerifications.length || (r = function (e) {\n                      var t = null,\n                        r = [];\n                      return e.some(function (e) {\n                        return t = v.childByName(e, "AdVerifications");\n                      }), t && (r = U(v.childrenByName(t, "Verification"))), r;\n                    }(_t2));\n                    break;\n                  }\n                case "AdVerifications":\n                  i.adVerifications = U(v.childrenByName(e, "Verification"));\n                  break;\n                case "AdSystem":\n                  i.system = {\n                    value: v.parseNodeText(e),\n                    version: e.getAttribute("version") || null\n                  };\n                  break;\n                case "AdTitle":\n                  i.title = v.parseNodeText(e);\n                  break;\n                case "AdServingId":\n                  i.adServingId = v.parseNodeText(e);\n                  break;\n                case "Category":\n                  i.categories.push({\n                    authority: e.getAttribute("authority") || null,\n                    value: v.parseNodeText(e)\n                  });\n                  break;\n                case "Expires":\n                  i.expires = parseInt(v.parseNodeText(e), 10);\n                  break;\n                case "ViewableImpression":\n                  i.viewableImpression.push(function (e) {\n                    var t = function t(e, _t3) {\n                      var r = v.parseNodeText(_t3);\n                      return r && e.push(r), e;\n                    };\n                    return {\n                      id: e.getAttribute("id") || null,\n                      viewable: v.childrenByName(e, "Viewable").reduce(t, []),\n                      notViewable: v.childrenByName(e, "NotViewable").reduce(t, []),\n                      viewUndetermined: v.childrenByName(e, "ViewUndetermined").reduce(t, [])\n                    };\n                  }(e));\n                  break;\n                case "Description":\n                  i.description = v.parseNodeText(e);\n                  break;\n                case "Advertiser":\n                  i.advertiser = {\n                    id: e.getAttribute("id") || null,\n                    value: v.parseNodeText(e)\n                  };\n                  break;\n                case "Pricing":\n                  i.pricing = {\n                    value: v.parseNodeText(e),\n                    model: e.getAttribute("model") || null,\n                    currency: e.getAttribute("currency") || null\n                  };\n                  break;\n                case "Survey":\n                  i.survey = {\n                    value: v.parseNodeText(e),\n                    type: e.getAttribute("type") || null\n                  };\n                  break;\n                case "BlockedAdCategories":\n                  i.blockedAdCategories.push({\n                    authority: e.getAttribute("authority") || null,\n                    value: v.parseNodeText(e)\n                  });\n              }\n            }), r.length && (i.adVerifications = i.adVerifications.concat(r)), i;\n          }\n          function P(e, t) {\n            var r = O(e, t),\n              n = e.getAttribute("followAdditionalWrappers"),\n              i = e.getAttribute("allowMultipleAds"),\n              o = e.getAttribute("fallbackOnNoAd");\n            r.followAdditionalWrappers = !n || v.parseBoolean(n), r.allowMultipleAds = !!i && v.parseBoolean(i), r.fallbackOnNoAd = o ? v.parseBoolean(o) : null;\n            var a = v.childByName(e, "VASTAdTagURI");\n            if (a ? r.nextWrapperURL = v.parseNodeText(a) : (a = v.childByName(e, "VASTAdTagURL"), a && (r.nextWrapperURL = v.parseNodeText(v.childByName(a, "URL")))), r.creatives.forEach(function (e) {\n              if (["linear", "nonlinear"].includes(e.type)) {\n                if (e.trackingEvents) {\n                  r.trackingEvents || (r.trackingEvents = {}), r.trackingEvents[e.type] || (r.trackingEvents[e.type] = {});\n                  var _loop = function _loop(_t4) {\n                    var n = e.trackingEvents[_t4];\n                    Array.isArray(r.trackingEvents[e.type][_t4]) || (r.trackingEvents[e.type][_t4] = []), n.forEach(function (n) {\n                      r.trackingEvents[e.type][_t4].push(n);\n                    });\n                  };\n                  for (var _t4 in e.trackingEvents) {\n                    _loop(_t4);\n                  }\n                }\n                e.videoClickTrackingURLTemplates && (Array.isArray(r.videoClickTrackingURLTemplates) || (r.videoClickTrackingURLTemplates = []), e.videoClickTrackingURLTemplates.forEach(function (e) {\n                  r.videoClickTrackingURLTemplates.push(e);\n                })), e.videoClickThroughURLTemplate && (r.videoClickThroughURLTemplate = e.videoClickThroughURLTemplate), e.videoCustomClickURLTemplates && (Array.isArray(r.videoCustomClickURLTemplates) || (r.videoCustomClickURLTemplates = []), e.videoCustomClickURLTemplates.forEach(function (e) {\n                  r.videoCustomClickURLTemplates.push(e);\n                }));\n              }\n            }), r.nextWrapperURL) return r;\n          }\n          function U(e) {\n            var t = [];\n            return e.forEach(function (e) {\n              var r = {\n                  resource: null,\n                  vendor: null,\n                  browserOptional: !1,\n                  apiFramework: null,\n                  type: null,\n                  parameters: null,\n                  trackingEvents: {}\n                },\n                n = Array.from(e.childNodes);\n              v.assignAttributes(e.attributes, r), n.forEach(function (e) {\n                var t = e.nodeName,\n                  n = e.textContent,\n                  i = e.attributes;\n                switch (t) {\n                  case "JavaScriptResource":\n                  case "ExecutableResource":\n                    r.resource = n.trim(), v.assignAttributes(i, r);\n                    break;\n                  case "VerificationParameters":\n                    r.parameters = n.trim();\n                }\n              });\n              var i = v.childByName(e, "TrackingEvents");\n              i && v.childrenByName(i, "Tracking").forEach(function (e) {\n                var t = e.getAttribute("event"),\n                  n = v.parseNodeText(e);\n                t && n && (Array.isArray(r.trackingEvents[t]) || (r.trackingEvents[t] = []), r.trackingEvents[t].push(n));\n              }), t.push(r);\n            }), t;\n          }\n          var j = /*#__PURE__*/function () {\n            function j() {\n              _classCallCheck(this, j);\n              this._handlers = [];\n            }\n            _createClass(j, [{\n              key: "on",\n              value: function on(e, t) {\n                if ("function" != typeof t) throw new TypeError("The handler argument must be of type Function. Received type ".concat(_typeof(t)));\n                if (!e) throw new TypeError("The event argument must be of type String. Received type ".concat(_typeof(e)));\n                return this._handlers.push({\n                  event: e,\n                  handler: t\n                }), this;\n              }\n            }, {\n              key: "once",\n              value: function once(e, t) {\n                return this.on(e, function (e, t, r) {\n                  var n = {\n                    fired: !1,\n                    wrapFn: void 0\n                  };\n                  function i() {\n                    n.fired || (e.off(t, n.wrapFn), n.fired = !0, r.bind(e).apply(void 0, arguments));\n                  }\n                  return n.wrapFn = i, i;\n                }(this, e, t));\n              }\n            }, {\n              key: "off",\n              value: function off(e, t) {\n                return this._handlers = this._handlers.filter(function (r) {\n                  return r.event !== e || r.handler !== t;\n                }), this;\n              }\n            }, {\n              key: "emit",\n              value: function emit(e) {\n                for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];\n                var i = !1;\n                return this._handlers.forEach(function (t) {\n                  "*" === t.event && (i = !0, t.handler.apply(t, [e].concat(r))), t.event === e && (i = !0, t.handler.apply(t, r));\n                }), i;\n              }\n            }, {\n              key: "removeAllListeners",\n              value: function removeAllListeners(e) {\n                return e ? (this._handlers = this._handlers.filter(function (t) {\n                  return t.event !== e;\n                }), this) : (this._handlers = [], this);\n              }\n            }, {\n              key: "listenerCount",\n              value: function listenerCount(e) {\n                return this._handlers.filter(function (t) {\n                  return t.event === e;\n                }).length;\n              }\n            }, {\n              key: "listeners",\n              value: function listeners(e) {\n                return this._handlers.reduce(function (t, r) {\n                  return r.event === e && t.push(r.handler), t;\n                }, []);\n              }\n            }, {\n              key: "eventNames",\n              value: function eventNames() {\n                return this._handlers.map(function (e) {\n                  return e.event;\n                });\n              }\n            }]);\n            return j;\n          }();\n          var V = 0,\n            D = 0;\n          var M = function M(e, t) {\n              !e || !t || e <= 0 || t <= 0 || (D = (D * V + 8 * e / t) / ++V);\n            },\n            B = {\n              ERRORCODE: 900,\n              extensions: []\n            },\n            _ = "VAST response version not supported";\n          var F = /*#__PURE__*/function (_j) {\n            _inherits(F, _j);\n            var _super = _createSuper(F);\n            function F() {\n              var _this2;\n              _classCallCheck(this, F);\n              var _ref3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n                e = _ref3.fetcher;\n              _this2 = _super.call(this), _this2.maxWrapperDepth = null, _this2.rootErrorURLTemplates = [], _this2.errorURLTemplates = [], _this2.remainingAds = [], _this2.parsingOptions = {}, _this2.fetcher = e || null;\n              return _this2;\n            }\n            _createClass(F, [{\n              key: "trackVastError",\n              value: function trackVastError(e, t) {\n                for (var r = arguments.length, n = new Array(r > 2 ? r - 2 : 0), i = 2; i < r; i++) n[i - 2] = arguments[i];\n                this.emit("VAST-error", Object.assign.apply(Object, [{}, B, t].concat(n))), f.track(e, t);\n              }\n            }, {\n              key: "getErrorURLTemplates",\n              value: function getErrorURLTemplates() {\n                return this.rootErrorURLTemplates.concat(this.errorURLTemplates);\n              }\n            }, {\n              key: "getEstimatedBitrate",\n              value: function getEstimatedBitrate() {\n                return D;\n              }\n            }, {\n              key: "initParsingStatus",\n              value: function initParsingStatus() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                this.maxWrapperDepth = e.wrapperLimit || 10, this.parsingOptions = {\n                  allowMultipleAds: e.allowMultipleAds\n                }, this.rootURL = "", this.resetParsingStatus(), M(e.byteLength, e.requestDuration);\n              }\n            }, {\n              key: "resetParsingStatus",\n              value: function resetParsingStatus() {\n                this.errorURLTemplates = [], this.rootErrorURLTemplates = [], this.vastVersion = null;\n              }\n            }, {\n              key: "getRemainingAds",\n              value: function getRemainingAds(e) {\n                var _this3 = this;\n                if (0 === this.remainingAds.length) return Promise.reject(new Error("No more ads are available for the given VAST"));\n                var t = e ? this.remainingAds : [this.remainingAds.shift()];\n                return this.errorURLTemplates = [], this.resolveAds(t, {\n                  wrapperDepth: 0,\n                  url: this.rootURL\n                }).then(function (e) {\n                  return _this3.buildVASTResponse(e);\n                });\n              }\n            }, {\n              key: "parseVAST",\n              value: function parseVAST(e) {\n                var _this4 = this;\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                return this.initParsingStatus(t), t.isRootVAST = !0, this.parse(e, t).then(function (e) {\n                  return _this4.buildVASTResponse(e);\n                });\n              }\n            }, {\n              key: "buildVASTResponse",\n              value: function buildVASTResponse(e) {\n                var t = function (e) {\n                  var t = e.ads,\n                    r = e.errorURLTemplates,\n                    n = e.version;\n                  return {\n                    ads: t || [],\n                    errorURLTemplates: r || [],\n                    version: n || null\n                  };\n                }({\n                  ads: e,\n                  errorURLTemplates: this.getErrorURLTemplates(),\n                  version: this.vastVersion\n                });\n                return this.completeWrapperResolving(t), t;\n              }\n            }, {\n              key: "parseVastXml",\n              value: function parseVastXml(e, t) {\n                var _t$isRootVAST = t.isRootVAST,\n                  r = _t$isRootVAST === void 0 ? !1 : _t$isRootVAST,\n                  _t$url = t.url,\n                  n = _t$url === void 0 ? null : _t$url,\n                  _t$wrapperDepth = t.wrapperDepth,\n                  i = _t$wrapperDepth === void 0 ? 0 : _t$wrapperDepth,\n                  o = t.allowMultipleAds,\n                  a = t.followAdditionalWrappers;\n                if (!e || !e.documentElement || "VAST" !== e.documentElement.nodeName) {\n                  var s;\n                  this.emit("VAST-ad-parsed", {\n                    type: "ERROR",\n                    url: n,\n                    wrapperDepth: i\n                  });\n                  var _t5 = "VideoAdServingTemplate" === (null == e || null === (s = e.documentElement) || void 0 === s ? void 0 : s.nodeName);\n                  throw new Error(_t5 ? _ : "Invalid VAST XMLDocument");\n                }\n                var l = [],\n                  c = e.documentElement.childNodes,\n                  u = e.documentElement.getAttribute("version");\n                r && u && (this.vastVersion = u);\n                for (var _e11 in c) {\n                  var _t6 = c[_e11];\n                  if ("Error" === _t6.nodeName) {\n                    var _e12 = v.parseNodeText(_t6);\n                    r ? this.rootErrorURLTemplates.push(_e12) : this.errorURLTemplates.push(_e12);\n                  } else if ("Ad" === _t6.nodeName) {\n                    if (this.vastVersion && parseFloat(this.vastVersion) < 3) o = !0;else if (!1 === o && l.length > 1) break;\n                    var _e13 = N(_t6, this.emit.bind(this), {\n                      allowMultipleAds: o,\n                      followAdditionalWrappers: a\n                    });\n                    _e13.ad ? (l.push(_e13.ad), this.emit("VAST-ad-parsed", {\n                      type: _e13.type,\n                      url: n,\n                      wrapperDepth: i,\n                      adIndex: l.length - 1,\n                      vastVersion: u\n                    })) : this.trackVastError(this.getErrorURLTemplates(), {\n                      ERRORCODE: 101\n                    });\n                  }\n                }\n                return l;\n              }\n            }, {\n              key: "parse",\n              value: function parse(e) {\n                var _ref4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                  _ref4$url = _ref4.url,\n                  t = _ref4$url === void 0 ? null : _ref4$url,\n                  _ref4$resolveAll = _ref4.resolveAll,\n                  r = _ref4$resolveAll === void 0 ? !0 : _ref4$resolveAll,\n                  _ref4$wrapperSequence = _ref4.wrapperSequence,\n                  n = _ref4$wrapperSequence === void 0 ? null : _ref4$wrapperSequence,\n                  _ref4$previousUrl = _ref4.previousUrl,\n                  i = _ref4$previousUrl === void 0 ? null : _ref4$previousUrl,\n                  _ref4$wrapperDepth = _ref4.wrapperDepth,\n                  o = _ref4$wrapperDepth === void 0 ? 0 : _ref4$wrapperDepth,\n                  _ref4$isRootVAST = _ref4.isRootVAST,\n                  a = _ref4$isRootVAST === void 0 ? !1 : _ref4$isRootVAST,\n                  s = _ref4.followAdditionalWrappers,\n                  l = _ref4.allowMultipleAds,\n                  c = [];\n                this.vastVersion && parseFloat(this.vastVersion) < 3 && a && (l = !0);\n                try {\n                  c = this.parseVastXml(e, {\n                    isRootVAST: a,\n                    url: t,\n                    wrapperDepth: o,\n                    allowMultipleAds: l,\n                    followAdditionalWrappers: s\n                  });\n                } catch (e) {\n                  return Promise.reject(e);\n                }\n                if (1 === c.length && null != n && (c[0].sequence = n), !1 === r) {\n                  var _e14 = v.getSortedAdPods(c),\n                    _t7 = v.getStandAloneAds(c);\n                  _e14.length ? c = _e14 : _t7.length && (c = [_t7.shift()]), this.remainingAds = _t7;\n                }\n                return this.resolveAds(c, {\n                  wrapperDepth: o,\n                  previousUrl: i,\n                  url: t\n                });\n              }\n            }, {\n              key: "resolveAds",\n              value: function resolveAds() {\n                var _this5 = this;\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                  _ref5 = arguments.length > 1 ? arguments[1] : void 0,\n                  t = _ref5.wrapperDepth,\n                  r = _ref5.previousUrl,\n                  n = _ref5.url;\n                var i = [];\n                return r = n, e.forEach(function (e) {\n                  var n = _this5.resolveWrappers(e, t, r);\n                  i.push(n);\n                }), Promise.all(i).then(function (e) {\n                  return f.flatten(e);\n                });\n              }\n            }, {\n              key: "resolveWrappers",\n              value: function resolveWrappers(e, t, r) {\n                var _this6 = this;\n                var n = _objectSpread({}, e);\n                return new Promise(function (e) {\n                  var i;\n                  if (t++, !n.nextWrapperURL) return delete n.nextWrapperURL, e(n);\n                  if (!_this6.fetcher) return n.VASTAdTagURI = n.nextWrapperURL, delete n.nextWrapperURL, e(n);\n                  if (t >= _this6.maxWrapperDepth) return n.errorCode = 302, delete n.nextWrapperURL, e(n);\n                  n.nextWrapperURL = v.resolveVastAdTagURI(n.nextWrapperURL, r);\n                  var o = null !== (i = _this6.parsingOptions.allowMultipleAds) && void 0 !== i ? i : n.allowMultipleAds,\n                    a = n.sequence;\n                  _this6.fetcher.fetchVAST({\n                    url: n.nextWrapperURL,\n                    emitter: _this6.emit.bind(_this6),\n                    maxWrapperDepth: _this6.maxWrapperDepth\n                  }).then(function (i) {\n                    return _this6.parse(i, {\n                      url: n.nextWrapperURL,\n                      previousUrl: r,\n                      wrapperSequence: a,\n                      wrapperDepth: t,\n                      followAdditionalWrappers: n.followAdditionalWrappers,\n                      allowMultipleAds: o\n                    }).then(function (t) {\n                      if (delete n.nextWrapperURL, 0 === t.length) return n.creatives = [], e(n);\n                      t.forEach(function (e) {\n                        e && v.mergeWrapperAdData(e, n);\n                      }), e(t);\n                    });\n                  }).catch(function (t) {\n                    n.errorCode = t.message === _ ? 102 : 301, n.errorMessage = t.message, e(n);\n                  });\n                });\n              }\n            }, {\n              key: "completeWrapperResolving",\n              value: function completeWrapperResolving(e) {\n                if (0 === e.ads.length) this.trackVastError(e.errorURLTemplates, {\n                  ERRORCODE: 303\n                });else for (var _t8 = e.ads.length - 1; _t8 >= 0; _t8--) {\n                  var _r10 = e.ads[_t8],\n                    _n9 = !_r10.creatives.some(function (e) {\n                      var t;\n                      return (null === (t = e.mediaFiles) || void 0 === t ? void 0 : t.length) > 0;\n                    });\n                  !_r10.errorCode && !_n9 || _r10.VASTAdTagURI || (this.trackVastError(_r10.errorURLTemplates.concat(e.errorURLTemplates), {\n                    ERRORCODE: _r10.errorCode || 303\n                  }, {\n                    ERRORMESSAGE: _r10.errorMessage || ""\n                  }, {\n                    extensions: _r10.extensions\n                  }, {\n                    system: _r10.system\n                  }), e.ads.splice(_t8, 1));\n                }\n              }\n            }]);\n            return F;\n          }(j);\n          var W = null;\n          var q = {\n            data: {},\n            length: 0,\n            getItem: function getItem(e) {\n              return this.data[e];\n            },\n            setItem: function setItem(e, t) {\n              this.data[e] = t, this.length = Object.keys(this.data).length;\n            },\n            removeItem: function removeItem(e) {\n              delete this.data[e], this.length = Object.keys(this.data).length;\n            },\n            clear: function clear() {\n              this.data = {}, this.length = 0;\n            }\n          };\n          var K = /*#__PURE__*/function () {\n            function K() {\n              _classCallCheck(this, K);\n              this.storage = this.initStorage();\n            }\n            _createClass(K, [{\n              key: "initStorage",\n              value: function initStorage() {\n                if (W) return W;\n                try {\n                  W = "undefined" != typeof window && null !== window ? window.localStorage || window.sessionStorage : null;\n                } catch (e) {\n                  W = null;\n                }\n                return W && !this.isStorageDisabled(W) || (W = q, W.clear()), W;\n              }\n            }, {\n              key: "isStorageDisabled",\n              value: function isStorageDisabled(e) {\n                var t = "__VASTStorage__";\n                try {\n                  if (e.setItem(t, t), e.getItem(t) !== t) return e.removeItem(t), !0;\n                } catch (e) {\n                  return !0;\n                }\n                return e.removeItem(t), !1;\n              }\n            }, {\n              key: "getItem",\n              value: function getItem(e) {\n                return this.storage.getItem(e);\n              }\n            }, {\n              key: "setItem",\n              value: function setItem(e, t) {\n                return this.storage.setItem(e, t);\n              }\n            }, {\n              key: "removeItem",\n              value: function removeItem(e) {\n                return this.storage.removeItem(e);\n              }\n            }, {\n              key: "clear",\n              value: function clear() {\n                return this.storage.clear();\n              }\n            }]);\n            return K;\n          }();\n          var G = 12e4,\n            H = {\n              get: function () {\n                var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, t) {\n                  var _n10, _i3, _o2, _a2;\n                  return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                    while (1) switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _n10 = new AbortController();\n                        _i3 = setTimeout(function () {\n                          throw _n10.abort(), new Error("URLHandler: Request timed out after ".concat(t.timeout || G, " ms (408)"));\n                        }, t.timeout || G);\n                        _context2.next = 5;\n                        return fetch(e, _objectSpread(_objectSpread({}, t), {}, {\n                          signal: _n10.signal,\n                          credentials: t.withCredentials ? "include" : "omit"\n                        })).finally(function () {\n                          clearTimeout(_i3);\n                        });\n                      case 5:\n                        _o2 = _context2.sent;\n                        _a2 = function (e) {\n                          return f.isBrowserEnvironment() && "https:" === window.location.protocol && e.url.includes("http://") ? "URLHandler: Cannot go from HTTPS to HTTP." : 200 === e.status && e.ok ? null : "URLHandler: ".concat(e.statusText, " (").concat(e.status, ")");\n                        }(_o2);\n                        return _context2.abrupt("return", _a2 ? {\n                          error: new Error(_a2),\n                          statusCode: _o2.status\n                        } : function () {\n                          var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n                            var t, n;\n                            return _regeneratorRuntime().wrap(function _callee$(_context) {\n                              while (1) switch (_context.prev = _context.next) {\n                                case 0:\n                                  _context.next = 2;\n                                  return e.text();\n                                case 2:\n                                  t = _context.sent;\n                                  if (!f.isBrowserEnvironment()) {\n                                    _context.next = 7;\n                                    break;\n                                  }\n                                  _context.t0 = new DOMParser();\n                                  _context.next = 11;\n                                  break;\n                                case 7:\n                                  _context.next = 9;\n                                  return r.e("vendors-node_modules_xmldom_xmldom_lib_index_js").then(r.t.bind(r, "./node_modules/@xmldom/xmldom/lib/index.js", 19));\n                                case 9:\n                                  _context.t1 = _context.sent.DOMParser;\n                                  _context.t0 = new _context.t1();\n                                case 11:\n                                  n = _context.t0;\n                                  return _context.abrupt("return", {\n                                    xml: n.parseFromString(t, "text/xml"),\n                                    details: {\n                                      byteLength: t.length,\n                                      statusCode: e.status,\n                                      rawXml: t\n                                    }\n                                  });\n                                case 13:\n                                case "end":\n                                  return _context.stop();\n                              }\n                            }, _callee);\n                          }));\n                          return function (_x3) {\n                            return _ref6.apply(this, arguments);\n                          };\n                        }()(_o2));\n                      case 10:\n                        _context2.prev = 10;\n                        _context2.t0 = _context2["catch"](0);\n                        return _context2.abrupt("return", {\n                          error: _context2.t0,\n                          statusCode: "AbortError" === _context2.t0.name ? 408 : null\n                        });\n                      case 13:\n                      case "end":\n                        return _context2.stop();\n                    }\n                  }, _callee2, null, [[0, 10]]);\n                }));\n                function get(_x, _x2) {\n                  return _get.apply(this, arguments);\n                }\n                return get;\n              }()\n            };\n          var z = /*#__PURE__*/function () {\n            function z() {\n              _classCallCheck(this, z);\n              this.URLTemplateFilters = [];\n            }\n            _createClass(z, [{\n              key: "setOptions",\n              value: function setOptions() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                this.urlHandler = e.urlHandler || e.urlhandler || H, this.fetchingOptions = {\n                  timeout: e.timeout || G,\n                  withCredentials: Boolean(e.withCredentials)\n                };\n              }\n            }, {\n              key: "addURLTemplateFilter",\n              value: function addURLTemplateFilter(e) {\n                "function" == typeof e && this.URLTemplateFilters.push(e);\n              }\n            }, {\n              key: "removeLastURLTemplateFilter",\n              value: function removeLastURLTemplateFilter() {\n                this.URLTemplateFilters.pop();\n              }\n            }, {\n              key: "countURLTemplateFilters",\n              value: function countURLTemplateFilters() {\n                return this.URLTemplateFilters.length;\n              }\n            }, {\n              key: "clearURLTemplateFilters",\n              value: function clearURLTemplateFilters() {\n                this.URLTemplateFilters = [];\n              }\n            }, {\n              key: "fetchVAST",\n              value: function () {\n                var _fetchVAST = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e) {\n                  var t, r, n, i, _e$wrapperDepth, o, _e$previousUrl, a, _e$wrapperAd, s, l, c, u;\n                  return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                    while (1) switch (_context3.prev = _context3.next) {\n                      case 0:\n                        r = e.url, n = e.maxWrapperDepth, i = e.emitter, _e$wrapperDepth = e.wrapperDepth, o = _e$wrapperDepth === void 0 ? 0 : _e$wrapperDepth, _e$previousUrl = e.previousUrl, a = _e$previousUrl === void 0 ? null : _e$previousUrl, _e$wrapperAd = e.wrapperAd, s = _e$wrapperAd === void 0 ? null : _e$wrapperAd;\n                        l = Date.now();\n                        this.URLTemplateFilters.forEach(function (e) {\n                          r = e(r);\n                        }), i("VAST-resolving", {\n                          url: r,\n                          previousUrl: a,\n                          wrapperDepth: o,\n                          maxWrapperDepth: n,\n                          timeout: this.fetchingOptions.timeout,\n                          wrapperAd: s\n                        });\n                        _context3.next = 5;\n                        return this.urlHandler.get(r, this.fetchingOptions);\n                      case 5:\n                        c = _context3.sent;\n                        u = Math.round(Date.now() - l);\n                        if (!(i("VAST-resolved", _objectSpread({\n                          url: r,\n                          previousUrl: a,\n                          wrapperDepth: o,\n                          error: (null == c ? void 0 : c.error) || null,\n                          duration: u,\n                          statusCode: (null == c ? void 0 : c.statusCode) || null\n                        }, null == c ? void 0 : c.details)), M(null == c || null === (t = c.details) || void 0 === t ? void 0 : t.byteLength, u), c.error)) {\n                          _context3.next = 9;\n                          break;\n                        }\n                        throw new Error(c.error);\n                      case 9:\n                        return _context3.abrupt("return", c.xml);\n                      case 10:\n                      case "end":\n                        return _context3.stop();\n                    }\n                  }, _callee3, this);\n                }));\n                function fetchVAST(_x4) {\n                  return _fetchVAST.apply(this, arguments);\n                }\n                return fetchVAST;\n              }()\n            }]);\n            return z;\n          }();\n          var Y = /*#__PURE__*/function () {\n            function Y() {\n              _classCallCheck(this, Y);\n              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,\n                r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new K();\n              this.cappingFreeLunch = e, this.cappingMinimumTimeInterval = t, this.fetcher = new z(), this.vastParser = new F({\n                fetcher: this.fetcher\n              }), this.storage = r, void 0 === this.lastSuccessfulAd && (this.lastSuccessfulAd = 0), void 0 === this.totalCalls && (this.totalCalls = 0), void 0 === this.totalCallsTimeout && (this.totalCallsTimeout = 0);\n            }\n            _createClass(Y, [{\n              key: "addURLTemplateFilter",\n              value: function addURLTemplateFilter(e) {\n                this.fetcher.addURLTemplateFilter(e);\n              }\n            }, {\n              key: "removeLastURLTemplateFilter",\n              value: function removeLastURLTemplateFilter() {\n                this.fetcher.removeLastURLTemplateFilter();\n              }\n            }, {\n              key: "countURLTemplateFilters",\n              value: function countURLTemplateFilters() {\n                return this.fetcher.countURLTemplateFilters();\n              }\n            }, {\n              key: "clearURLTemplateFilters",\n              value: function clearURLTemplateFilters() {\n                this.fetcher.clearURLTemplateFilters();\n              }\n            }, {\n              key: "getParser",\n              value: function getParser() {\n                return this.vastParser;\n              }\n            }, {\n              key: "lastSuccessfulAd",\n              get: function get() {\n                return this.storage.getItem("vast-client-last-successful-ad");\n              },\n              set: function set(e) {\n                this.storage.setItem("vast-client-last-successful-ad", e);\n              }\n            }, {\n              key: "totalCalls",\n              get: function get() {\n                return this.storage.getItem("vast-client-total-calls");\n              },\n              set: function set(e) {\n                this.storage.setItem("vast-client-total-calls", e);\n              }\n            }, {\n              key: "totalCallsTimeout",\n              get: function get() {\n                return this.storage.getItem("vast-client-total-calls-timeout");\n              },\n              set: function set(e) {\n                this.storage.setItem("vast-client-total-calls-timeout", e);\n              }\n            }, {\n              key: "hasRemainingAds",\n              value: function hasRemainingAds() {\n                return this.vastParser.remainingAds.length > 0;\n              }\n            }, {\n              key: "getNextAds",\n              value: function getNextAds(e) {\n                return this.vastParser.getRemainingAds(e);\n              }\n            }, {\n              key: "parseVAST",\n              value: function parseVAST(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                return this.fetcher.setOptions(t), this.vastParser.parseVAST(e, t);\n              }\n            }, {\n              key: "get",\n              value: function get(e) {\n                var _this7 = this;\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                var r = Date.now();\n                return t.hasOwnProperty("resolveAll") || (t.resolveAll = !1), this.totalCallsTimeout < r ? (this.totalCalls = 1, this.totalCallsTimeout = r + 36e5) : this.totalCalls++, new Promise(function (n, i) {\n                  if (_this7.cappingFreeLunch >= _this7.totalCalls) return i(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(_this7.totalCalls, "/").concat(_this7.cappingFreeLunch)));\n                  var o = r - _this7.lastSuccessfulAd;\n                  if (o < 0) _this7.lastSuccessfulAd = 0;else if (o < _this7.cappingMinimumTimeInterval) return i(new Error("VAST call canceled  (".concat(_this7.cappingMinimumTimeInterval, ")ms minimum interval reached")));\n                  _this7.vastParser.initParsingStatus(t), _this7.fetcher.setOptions(t), _this7.vastParser.rootURL = e, _this7.fetcher.fetchVAST({\n                    url: e,\n                    emitter: _this7.vastParser.emit.bind(_this7.vastParser),\n                    maxWrapperDepth: _this7.vastParser.maxWrapperDepth\n                  }).then(function (r) {\n                    return t.previousUrl = e, t.isRootVAST = !0, t.url = e, _this7.vastParser.parse(r, t).then(function (e) {\n                      var t = _this7.vastParser.buildVASTResponse(e);\n                      n(t);\n                    });\n                  }).catch(function (e) {\n                    return i(e);\n                  });\n                });\n              }\n            }]);\n            return Y;\n          }();\n          var Q = /*#__PURE__*/function (_j2) {\n            _inherits(Q, _j2);\n            var _super2 = _createSuper(Q);\n            function Q(e, t, r) {\n              var _this8;\n              _classCallCheck(this, Q);\n              var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,\n                i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];\n              _this8 = _super2.call(this), _this8.ad = t, _this8.creative = r, _this8.variation = n, _this8.muted = i, _this8.impressed = !1, _this8.skippable = !1, _this8.trackingEvents = {}, _this8.trackedProgressEvents = [], _this8.lastPercentage = 0, _this8._alreadyTriggeredQuartiles = {}, _this8.emitAlwaysEvents = ["creativeView", "start", "firstQuartile", "midpoint", "thirdQuartile", "complete", "resume", "pause", "rewind", "skip", "closeLinear", "close"];\n              for (var _e15 in _this8.creative.trackingEvents) {\n                var _t9 = _this8.creative.trackingEvents[_e15];\n                _this8.trackingEvents[_e15] = _t9.slice(0);\n              }\n              !function (e) {\n                return "linear" === e.type;\n              }(_this8.creative) ? _this8._initVariationTracking() : _this8._initLinearTracking(), e && _this8.on("start", function () {\n                e.lastSuccessfulAd = Date.now();\n              });\n              return _this8;\n            }\n            _createClass(Q, [{\n              key: "_initLinearTracking",\n              value: function _initLinearTracking() {\n                this.linear = !0, this.skipDelay = this.creative.skipDelay, this.setDuration(this.creative.duration), this.clickThroughURLTemplate = this.creative.videoClickThroughURLTemplate, this.clickTrackingURLTemplates = this.creative.videoClickTrackingURLTemplates;\n              }\n            }, {\n              key: "_initVariationTracking",\n              value: function _initVariationTracking() {\n                if (this.linear = !1, this.skipDelay = -1, this.variation) {\n                  for (var _e16 in this.variation.trackingEvents) {\n                    var _t10 = this.variation.trackingEvents[_e16];\n                    this.trackingEvents[_e16] ? this.trackingEvents[_e16] = this.trackingEvents[_e16].concat(_t10.slice(0)) : this.trackingEvents[_e16] = _t10.slice(0);\n                  }\n                  "nonLinearAd" === this.variation.adType ? (this.clickThroughURLTemplate = this.variation.nonlinearClickThroughURLTemplate, this.clickTrackingURLTemplates = this.variation.nonlinearClickTrackingURLTemplates, this.setDuration(this.variation.minSuggestedDuration)) : function (e) {\n                    return "companionAd" === e.adType;\n                  }(this.variation) && (this.clickThroughURLTemplate = this.variation.companionClickThroughURLTemplate, this.clickTrackingURLTemplates = this.variation.companionClickTrackingURLTemplates);\n                }\n              }\n            }, {\n              key: "setDuration",\n              value: function setDuration(e) {\n                f.isValidTimeValue(e) ? (this.assetDuration = e, this.quartiles = {\n                  firstQuartile: Math.round(25 * this.assetDuration) / 100,\n                  midpoint: Math.round(50 * this.assetDuration) / 100,\n                  thirdQuartile: Math.round(75 * this.assetDuration) / 100\n                }) : this.emit("TRACKER-error", {\n                  message: "the duration provided is not valid. duration: ".concat(e)\n                });\n              }\n            }, {\n              key: "setProgress",\n              value: function setProgress(e) {\n                var _this9 = this;\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                  r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];\n                if (!f.isValidTimeValue(e) || "object" != _typeof(t)) return void this.emit("TRACKER-error", {\n                  message: "One given setProgress parameter has the wrong type. progress: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n                var n = this.skipDelay || -1;\n                if (-1 === n || this.skippable || (n > e ? this.emit("skip-countdown", n - e) : (this.skippable = !0, this.emit("skip-countdown", 0))), this.assetDuration > 0) {\n                  var _n11 = Math.round(e / this.assetDuration * 100),\n                    _i4 = [];\n                  if (e > 0) {\n                    _i4.push("start");\n                    for (var _e17 = this.lastPercentage; _e17 < _n11; _e17++) _i4.push("progress-".concat(_e17 + 1, "%"));\n                    _i4.push("progress-".concat(e));\n                    for (var _t11 in this.quartiles) this.isQuartileReached(_t11, this.quartiles[_t11], e) && (_i4.push(_t11), this._alreadyTriggeredQuartiles[_t11] = !0);\n                    this.lastPercentage = _n11;\n                  }\n                  _i4.forEach(function (e) {\n                    _this9.track(e, {\n                      macros: t,\n                      once: r\n                    });\n                  }), e < this.progress && (this.track("rewind", {\n                    macros: t\n                  }), this.trackedProgressEvents && this.trackedProgressEvents.splice(0));\n                }\n                this.progress = e;\n              }\n            }, {\n              key: "isQuartileReached",\n              value: function isQuartileReached(e, t, r) {\n                var n = !1;\n                return t <= r && !this._alreadyTriggeredQuartiles[e] && (n = !0), n;\n              }\n            }, {\n              key: "setMuted",\n              value: function setMuted(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                "boolean" == typeof e && "object" == _typeof(t) ? (this.muted !== e && this.track(e ? "mute" : "unmute", {\n                  macros: t\n                }), this.muted = e) : this.emit("TRACKER-error", {\n                  message: "One given setMuted parameter has the wrong type. muted: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n              }\n            }, {\n              key: "setPaused",\n              value: function setPaused(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                "boolean" == typeof e && "object" == _typeof(t) ? (this.paused !== e && this.track(e ? "pause" : "resume", {\n                  macros: t\n                }), this.paused = e) : this.emit("TRACKER-error", {\n                  message: "One given setPaused parameter has the wrong type. paused: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n              }\n            }, {\n              key: "setFullscreen",\n              value: function setFullscreen(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                "boolean" == typeof e && "object" == _typeof(t) ? (this.fullscreen !== e && this.track(e ? "fullscreen" : "exitFullscreen", {\n                  macros: t\n                }), this.fullscreen = e) : this.emit("TRACKER-error", {\n                  message: "One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n              }\n            }, {\n              key: "setExpand",\n              value: function setExpand(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                "boolean" == typeof e && "object" == _typeof(t) ? (this.expanded !== e && (this.track(e ? "expand" : "collapse", {\n                  macros: t\n                }), this.track(e ? "playerExpand" : "playerCollapse", {\n                  macros: t\n                })), this.expanded = e) : this.emit("TRACKER-error", {\n                  message: "One given setExpand parameter has the wrong type. expanded: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n              }\n            }, {\n              key: "setSkipDelay",\n              value: function setSkipDelay(e) {\n                f.isValidTimeValue(e) ? this.skipDelay = e : this.emit("TRACKER-error", {\n                  message: "setSkipDelay parameter does not have a valid value. duration: ".concat(e)\n                });\n              }\n            }, {\n              key: "trackImpression",\n              value: function trackImpression() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.impressed || (this.impressed = !0, this.trackURLs(this.ad.impressionURLTemplates, e), this.track("creativeView", {\n                  macros: e\n                })) : this.emit("TRACKER-error", {\n                  message: "trackImpression parameter has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "trackViewableImpression",\n              value: function trackViewableImpression() {\n                var _this10 = this;\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.ad.viewableImpression.forEach(function (t) {\n                  _this10.trackURLs(t.viewable, e);\n                }) : this.emit("TRACKER-error", {\n                  message: "trackViewableImpression given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "trackNotViewableImpression",\n              value: function trackNotViewableImpression() {\n                var _this11 = this;\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.ad.viewableImpression.forEach(function (t) {\n                  _this11.trackURLs(t.notViewable, e);\n                }) : this.emit("TRACKER-error", {\n                  message: "trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "trackUndeterminedImpression",\n              value: function trackUndeterminedImpression() {\n                var _this12 = this;\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.ad.viewableImpression.forEach(function (t) {\n                  _this12.trackURLs(t.viewUndetermined, e);\n                }) : this.emit("TRACKER-error", {\n                  message: "trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "error",\n              value: function error() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n                  t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n                "object" == _typeof(e) && "boolean" == typeof t ? this.trackURLs(this.ad.errorURLTemplates, e, {\n                  isCustomCode: t\n                }) : this.emit("TRACKER-error", {\n                  message: "One given error parameter has the wrong type. macros: ".concat(f.formatMacrosValues(e), ", isCustomCode: ").concat(t)\n                });\n              }\n            }, {\n              key: "errorWithCode",\n              value: function errorWithCode(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n                "string" == typeof e && "boolean" == typeof t ? (this.error({\n                  ERRORCODE: e\n                }, t), console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")) : this.emit("TRACKER-error", {\n                  message: "One given errorWithCode parameter has the wrong type. errorCode: ".concat(e, ", isCustomCode: ").concat(t)\n                });\n              }\n            }, {\n              key: "complete",\n              value: function complete() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("complete", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "complete given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "notUsed",\n              value: function notUsed() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? (this.track("notUsed", {\n                  macros: e\n                }), this.trackingEvents = []) : this.emit("TRACKER-error", {\n                  message: "notUsed given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "otherAdInteraction",\n              value: function otherAdInteraction() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("otherAdInteraction", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "otherAdInteraction given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "acceptInvitation",\n              value: function acceptInvitation() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("acceptInvitation", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "acceptInvitation given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "adExpand",\n              value: function adExpand() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("adExpand", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "adExpand given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "adCollapse",\n              value: function adCollapse() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("adCollapse", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "adCollapse given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "minimize",\n              value: function minimize() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("minimize", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "minimize given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "verificationNotExecuted",\n              value: function verificationNotExecuted(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                if ("string" != typeof e || "object" != _typeof(t)) return void this.emit("TRACKER-error", {\n                  message: "One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n                if (!this.ad || !this.ad.adVerifications || !this.ad.adVerifications.length) throw new Error("No adVerifications provided");\n                if (!e) throw new Error("No vendor provided, unable to find associated verificationNotExecuted");\n                var r = this.ad.adVerifications.find(function (t) {\n                  return t.vendor === e;\n                });\n                if (!r) throw new Error("No associated verification element found for vendor: ".concat(e));\n                var n = r.trackingEvents;\n                if (n && n.verificationNotExecuted) {\n                  var _e18 = n.verificationNotExecuted;\n                  this.trackURLs(_e18, t), this.emit("verificationNotExecuted", {\n                    trackingURLTemplates: _e18\n                  });\n                }\n              }\n            }, {\n              key: "overlayViewDuration",\n              value: function overlayViewDuration(e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                "string" == typeof e && "object" == _typeof(t) ? (t.ADPLAYHEAD = e, this.track("overlayViewDuration", {\n                  macros: t\n                })) : this.emit("TRACKER-error", {\n                  message: "One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n              }\n            }, {\n              key: "close",\n              value: function close() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track(this.linear ? "closeLinear" : "close", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "close given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "skip",\n              value: function skip() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("skip", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "skip given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "load",\n              value: function load() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n                "object" == _typeof(e) ? this.track("loaded", {\n                  macros: e\n                }) : this.emit("TRACKER-error", {\n                  message: "load given macros has the wrong type. macros: ".concat(e)\n                });\n              }\n            }, {\n              key: "click",\n              value: function click() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,\n                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n                if (null !== e && "string" != typeof e || "object" != _typeof(t)) return void this.emit("TRACKER-error", {\n                  message: "One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e, ", macros: ").concat(f.formatMacrosValues(t))\n                });\n                this.clickTrackingURLTemplates && this.clickTrackingURLTemplates.length && this.trackURLs(this.clickTrackingURLTemplates, t);\n                var r = this.clickThroughURLTemplate || e,\n                  n = _objectSpread({}, t);\n                if (r) {\n                  this.progress && (n.ADPLAYHEAD = this.progressFormatted());\n                  var _e19 = f.resolveURLTemplates([r], n)[0];\n                  this.emit("clickthrough", _e19);\n                }\n              }\n            }, {\n              key: "trackProgressEvents",\n              value: function trackProgressEvents(e, t, r) {\n                var _this13 = this;\n                var n = parseFloat(e.split("-")[1]);\n                Object.entries(this.trackingEvents).filter(function (e) {\n                  var _e20 = _slicedToArray(e, 1),\n                    t = _e20[0];\n                  return t.startsWith("progress-");\n                }).map(function (e) {\n                  var _e21 = _slicedToArray(e, 2),\n                    t = _e21[0],\n                    r = _e21[1];\n                  return {\n                    name: t,\n                    time: parseFloat(t.split("-")[1]),\n                    urls: r\n                  };\n                }).filter(function (e) {\n                  var t = e.time;\n                  return t <= n && t > _this13.progress;\n                }).forEach(function (e) {\n                  var n = e.name,\n                    i = e.urls;\n                  !r && _this13.trackedProgressEvents.includes(n) || (_this13.emit(n, {\n                    trackingURLTemplates: i\n                  }), _this13.trackURLs(i, t), r ? delete _this13.trackingEvents[n] : _this13.trackedProgressEvents.push(n));\n                });\n              }\n            }, {\n              key: "track",\n              value: function track(e) {\n                var _ref7 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                  _ref7$macros = _ref7.macros,\n                  t = _ref7$macros === void 0 ? {} : _ref7$macros,\n                  _ref7$once = _ref7.once,\n                  r = _ref7$once === void 0 ? !1 : _ref7$once;\n                if ("object" != _typeof(t)) return void this.emit("TRACKER-error", {\n                  message: "track given macros has the wrong type. macros: ".concat(t)\n                });\n                "closeLinear" === e && !this.trackingEvents[e] && this.trackingEvents.close && (e = "close"), e.startsWith("progress-") && !e.endsWith("%") && this.trackProgressEvents(e, t, r);\n                var n = this.trackingEvents[e],\n                  i = this.emitAlwaysEvents.indexOf(e) > -1;\n                n ? (this.emit(e, {\n                  trackingURLTemplates: n\n                }), this.trackURLs(n, t)) : i && this.emit(e, null), r && (delete this.trackingEvents[e], i && this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e), 1));\n              }\n            }, {\n              key: "trackURLs",\n              value: function trackURLs(e) {\n                var t;\n                var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n                var _f$filterUrlTemplates = f.filterUrlTemplates(e),\n                  i = _f$filterUrlTemplates.validUrls,\n                  o = _f$filterUrlTemplates.invalidUrls;\n                o.length && this.emit("TRACKER-error", {\n                  message: "Provided urls are malformed. url: ".concat(o)\n                });\n                var a = _objectSpread({}, r);\n                this.linear && (this.creative && this.creative.mediaFiles && this.creative.mediaFiles[0] && this.creative.mediaFiles[0].fileURL && (a.ASSETURI = this.creative.mediaFiles[0].fileURL), this.progress && (a.ADPLAYHEAD = this.progressFormatted())), null !== (t = this.creative) && void 0 !== t && null !== (t = t.universalAdIds) && void 0 !== t && t.length && (a.UNIVERSALADID = this.creative.universalAdIds.map(function (e) {\n                  return e.idRegistry.concat(" ", e.value);\n                }).join(",")), this.ad && (this.ad.sequence && (a.PODSEQUENCE = this.ad.sequence), this.ad.adType && (a.ADTYPE = this.ad.adType), this.ad.adServingId && (a.ADSERVINGID = this.ad.adServingId), this.ad.categories && this.ad.categories.length && (a.ADCATEGORIES = this.ad.categories.map(function (e) {\n                  return e.value;\n                }).join(",")), this.ad.blockedAdCategories && this.ad.blockedAdCategories.length && (a.BLOCKEDADCATEGORIES = this.ad.blockedAdCategories.map(function (e) {\n                  return e.value;\n                }).join(","))), f.track(i, a, n);\n              }\n            }, {\n              key: "convertToTimecode",\n              value: function convertToTimecode(e) {\n                if (!f.isValidTimeValue(e)) return "";\n                var t = 1e3 * e,\n                  r = Math.floor(t / 36e5),\n                  n = Math.floor(t / 6e4 % 60),\n                  i = Math.floor(t / 1e3 % 60),\n                  o = Math.floor(t % 1e3);\n                return "".concat(f.addLeadingZeros(r, 2), ":").concat(f.addLeadingZeros(n, 2), ":").concat(f.addLeadingZeros(i, 2), ".").concat(f.addLeadingZeros(o, 3));\n              }\n            }, {\n              key: "progressFormatted",\n              value: function progressFormatted() {\n                return this.convertToTimecode(this.progress);\n              }\n            }]);\n            return Q;\n          }(j);\n        },\n        "./node_modules/abortcontroller-polyfill/dist/umd-polyfill.js": function node_modulesAbortcontrollerPolyfillDistUmdPolyfillJs(e, t, r) {\n          var n, i;\n          void 0 === (i = "function" == typeof (n = function n() {\n            "use strict";\n\n            function e(e, t) {\n              if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n            }\n            function t(e, t) {\n              for (var r = 0; r < t.length; r++) {\n                var n = t[r];\n                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n              }\n            }\n            function n(e, r, n) {\n              return r && t(e.prototype, r), n && t(e, n), Object.defineProperty(e, "prototype", {\n                writable: !1\n              }), e;\n            }\n            function i(e, t) {\n              if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n              e.prototype = Object.create(t && t.prototype, {\n                constructor: {\n                  value: e,\n                  writable: !0,\n                  configurable: !0\n                }\n              }), Object.defineProperty(e, "prototype", {\n                writable: !1\n              }), t && a(e, t);\n            }\n            function o(e) {\n              return o = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) {\n                return e.__proto__ || Object.getPrototypeOf(e);\n              }, o(e);\n            }\n            function a(e, t) {\n              return a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) {\n                return e.__proto__ = t, e;\n              }, a(e, t);\n            }\n            function s() {\n              if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n              if (Reflect.construct.sham) return !1;\n              if ("function" == typeof Proxy) return !0;\n              try {\n                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n              } catch (e) {\n                return !1;\n              }\n            }\n            function l(e) {\n              if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n              return e;\n            }\n            function c(e, t) {\n              if (t && ("object" == _typeof(t) || "function" == typeof t)) return t;\n              if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");\n              return l(e);\n            }\n            function u(e) {\n              var t = s();\n              return function () {\n                var r,\n                  n = o(e);\n                if (t) {\n                  var i = o(this).constructor;\n                  r = Reflect.construct(n, arguments, i);\n                } else r = n.apply(this, arguments);\n                return c(this, r);\n              };\n            }\n            function d(e, t) {\n              for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = o(e)););\n              return e;\n            }\n            function h() {\n              return h = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) {\n                var n = d(e, t);\n                if (n) {\n                  var i = Object.getOwnPropertyDescriptor(n, t);\n                  return i.get ? i.get.call(arguments.length < 3 ? e : r) : i.value;\n                }\n              }, h.apply(this, arguments);\n            }\n            var p = function () {\n                function t() {\n                  e(this, t), Object.defineProperty(this, "listeners", {\n                    value: {},\n                    writable: !0,\n                    configurable: !0\n                  });\n                }\n                return n(t, [{\n                  key: "addEventListener",\n                  value: function value(e, t, r) {\n                    e in this.listeners || (this.listeners[e] = []), this.listeners[e].push({\n                      callback: t,\n                      options: r\n                    });\n                  }\n                }, {\n                  key: "removeEventListener",\n                  value: function value(e, t) {\n                    if (e in this.listeners) for (var r = this.listeners[e], n = 0, i = r.length; n < i; n++) if (r[n].callback === t) return void r.splice(n, 1);\n                  }\n                }, {\n                  key: "dispatchEvent",\n                  value: function value(e) {\n                    var _this14 = this;\n                    if (e.type in this.listeners) {\n                      var _loop2 = function _loop2() {\n                        i = t[r];\n                        try {\n                          i.callback.call(_this14, e);\n                        } catch (e) {\n                          Promise.resolve().then(function () {\n                            throw e;\n                          });\n                        }\n                        i.options && i.options.once && _this14.removeEventListener(e.type, i.callback);\n                      };\n                      for (var t = this.listeners[e.type].slice(), r = 0, n = t.length; r < n; r++) {\n                        var i;\n                        _loop2();\n                      }\n                      return !e.defaultPrevented;\n                    }\n                  }\n                }]), t;\n              }(),\n              f = function (t) {\n                i(a, t);\n                var r = u(a);\n                function a() {\n                  var t;\n                  return e(this, a), (t = r.call(this)).listeners || p.call(l(t)), Object.defineProperty(l(t), "aborted", {\n                    value: !1,\n                    writable: !0,\n                    configurable: !0\n                  }), Object.defineProperty(l(t), "onabort", {\n                    value: null,\n                    writable: !0,\n                    configurable: !0\n                  }), Object.defineProperty(l(t), "reason", {\n                    value: void 0,\n                    writable: !0,\n                    configurable: !0\n                  }), t;\n                }\n                return n(a, [{\n                  key: "toString",\n                  value: function value() {\n                    return "[object AbortSignal]";\n                  }\n                }, {\n                  key: "dispatchEvent",\n                  value: function value(e) {\n                    "abort" === e.type && (this.aborted = !0, "function" == typeof this.onabort && this.onabort.call(this, e)), h(o(a.prototype), "dispatchEvent", this).call(this, e);\n                  }\n                }]), a;\n              }(p),\n              m = function () {\n                function t() {\n                  e(this, t), Object.defineProperty(this, "signal", {\n                    value: new f(),\n                    writable: !0,\n                    configurable: !0\n                  });\n                }\n                return n(t, [{\n                  key: "abort",\n                  value: function value(e) {\n                    var t;\n                    try {\n                      t = new Event("abort");\n                    } catch (e) {\n                      "undefined" != typeof document ? document.createEvent ? (t = document.createEvent("Event")).initEvent("abort", !1, !1) : (t = document.createEventObject()).type = "abort" : t = {\n                        type: "abort",\n                        bubbles: !1,\n                        cancelable: !1\n                      };\n                    }\n                    var r = e;\n                    if (void 0 === r) if ("undefined" == typeof document) (r = new Error("This operation was aborted")).name = "AbortError";else try {\n                      r = new DOMException("signal is aborted without reason");\n                    } catch (e) {\n                      (r = new Error("This operation was aborted")).name = "AbortError";\n                    }\n                    this.signal.reason = r, this.signal.dispatchEvent(t);\n                  }\n                }, {\n                  key: "toString",\n                  value: function value() {\n                    return "[object AbortController]";\n                  }\n                }]), t;\n              }();\n            function g(e) {\n              return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL ? (console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"), !0) : "function" == typeof e.Request && !e.Request.prototype.hasOwnProperty("signal") || !e.AbortController;\n            }\n            function v(e) {\n              "function" == typeof e && (e = {\n                fetch: e\n              });\n              var t = e,\n                r = t.fetch,\n                n = t.Request,\n                i = void 0 === n ? r.Request : n,\n                o = t.AbortController,\n                a = t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n                s = void 0 !== a && a;\n              if (!g({\n                fetch: r,\n                Request: i,\n                AbortController: o,\n                __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: s\n              })) return {\n                fetch: r,\n                Request: l\n              };\n              var l = i;\n              (l && !l.prototype.hasOwnProperty("signal") || s) && ((l = function l(e, t) {\n                var r;\n                t && t.signal && (r = t.signal, delete t.signal);\n                var n = new i(e, t);\n                return r && Object.defineProperty(n, "signal", {\n                  writable: !1,\n                  enumerable: !1,\n                  configurable: !0,\n                  value: r\n                }), n;\n              }).prototype = i.prototype);\n              var c = r;\n              return {\n                fetch: function fetch(e, t) {\n                  var r = l && l.prototype.isPrototypeOf(e) ? e.signal : t ? t.signal : void 0;\n                  if (r) {\n                    var n;\n                    try {\n                      n = new DOMException("Aborted", "AbortError");\n                    } catch (e) {\n                      (n = new Error("Aborted")).name = "AbortError";\n                    }\n                    if (r.aborted) return Promise.reject(n);\n                    var i = new Promise(function (e, t) {\n                      r.addEventListener("abort", function () {\n                        return t(n);\n                      }, {\n                        once: !0\n                      });\n                    });\n                    return t && t.signal && delete t.signal, Promise.race([i, c(e, t)]);\n                  }\n                  return c(e, t);\n                },\n                Request: l\n              };\n            }\n            "undefined" != typeof Symbol && Symbol.toStringTag && (m.prototype[Symbol.toStringTag] = "AbortController", f.prototype[Symbol.toStringTag] = "AbortSignal"), function (e) {\n              if (g(e)) if (e.fetch) {\n                var t = v(e),\n                  r = t.fetch,\n                  n = t.Request;\n                e.fetch = r, e.Request = n, Object.defineProperty(e, "AbortController", {\n                  writable: !0,\n                  enumerable: !1,\n                  configurable: !0,\n                  value: m\n                }), Object.defineProperty(e, "AbortSignal", {\n                  writable: !0,\n                  enumerable: !1,\n                  configurable: !0,\n                  value: f\n                });\n              } else console.warn("fetch() is not available, cannot install abortcontroller-polyfill");\n            }("undefined" != typeof self ? self : r.g);\n          }) ? n.call(t, r, t, e) : n) || (e.exports = i);\n        },\n        "./src/ads/AdManager.js": function srcAdsAdManagerJs(e, t, r) {\n          "use strict";\n\n          r.r(t), r.d(t, {\n            default: function _default() {\n              return f;\n            }\n          });\n          var n = r("./node_modules/@dailymotion/vast-client/dist/vast-client.min.js"),\n            i = r("./src/ads/VASTAd.js"),\n            o = r("./src/ads/VideoPlayer.js"),\n            a = r("./src/ads/AdsLogger.js"),\n            s = r("./src/ads/Log.js");\n          r("./node_modules/abortcontroller-polyfill/dist/umd-polyfill.js");\n          function l(e) {\n            return l = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (e) {\n              return _typeof(e);\n            } : function (e) {\n              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);\n            }, l(e);\n          }\n          function c() {\n            c = function c() {\n              return t;\n            };\n            var e,\n              t = {},\n              r = Object.prototype,\n              n = r.hasOwnProperty,\n              i = Object.defineProperty || function (e, t, r) {\n                e[t] = r.value;\n              },\n              o = "function" == typeof Symbol ? Symbol : {},\n              a = o.iterator || "@@iterator",\n              s = o.asyncIterator || "@@asyncIterator",\n              u = o.toStringTag || "@@toStringTag";\n            function d(e, t, r) {\n              return Object.defineProperty(e, t, {\n                value: r,\n                enumerable: !0,\n                configurable: !0,\n                writable: !0\n              }), e[t];\n            }\n            try {\n              d({}, "");\n            } catch (e) {\n              d = function d(e, t, r) {\n                return e[t] = r;\n              };\n            }\n            function h(e, t, r, n) {\n              var o = t && t.prototype instanceof b ? t : b,\n                a = Object.create(o.prototype),\n                s = new O(n || []);\n              return i(a, "_invoke", {\n                value: C(e, r, s)\n              }), a;\n            }\n            function p(e, t, r) {\n              try {\n                return {\n                  type: "normal",\n                  arg: e.call(t, r)\n                };\n              } catch (e) {\n                return {\n                  type: "throw",\n                  arg: e\n                };\n              }\n            }\n            t.wrap = h;\n            var f = "suspendedStart",\n              m = "suspendedYield",\n              g = "executing",\n              v = "completed",\n              y = {};\n            function b() {}\n            function k() {}\n            function T() {}\n            var A = {};\n            d(A, a, function () {\n              return this;\n            });\n            var E = Object.getPrototypeOf,\n              w = E && E(E(P([])));\n            w && w !== r && n.call(w, a) && (A = w);\n            var L = T.prototype = b.prototype = Object.create(A);\n            function R(e) {\n              ["next", "throw", "return"].forEach(function (t) {\n                d(e, t, function (e) {\n                  return this._invoke(t, e);\n                });\n              });\n            }\n            function x(e, t) {\n              function r(i, o, a, s) {\n                var c = p(e[i], e, o);\n                if ("throw" !== c.type) {\n                  var u = c.arg,\n                    d = u.value;\n                  return d && "object" == l(d) && n.call(d, "__await") ? t.resolve(d.__await).then(function (e) {\n                    r("next", e, a, s);\n                  }, function (e) {\n                    r("throw", e, a, s);\n                  }) : t.resolve(d).then(function (e) {\n                    u.value = e, a(u);\n                  }, function (e) {\n                    return r("throw", e, a, s);\n                  });\n                }\n                s(c.arg);\n              }\n              var o;\n              i(this, "_invoke", {\n                value: function value(e, n) {\n                  function i() {\n                    return new t(function (t, i) {\n                      r(e, n, t, i);\n                    });\n                  }\n                  return o = o ? o.then(i, i) : i();\n                }\n              });\n            }\n            function C(t, r, n) {\n              var i = f;\n              return function (o, a) {\n                if (i === g) throw Error("Generator is already running");\n                if (i === v) {\n                  if ("throw" === o) throw a;\n                  return {\n                    value: e,\n                    done: !0\n                  };\n                }\n                for (n.method = o, n.arg = a;;) {\n                  var s = n.delegate;\n                  if (s) {\n                    var l = S(s, n);\n                    if (l) {\n                      if (l === y) continue;\n                      return l;\n                    }\n                  }\n                  if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {\n                    if (i === f) throw i = v, n.arg;\n                    n.dispatchException(n.arg);\n                  } else "return" === n.method && n.abrupt("return", n.arg);\n                  i = g;\n                  var c = p(t, r, n);\n                  if ("normal" === c.type) {\n                    if (i = n.done ? v : m, c.arg === y) continue;\n                    return {\n                      value: c.arg,\n                      done: n.done\n                    };\n                  }\n                  "throw" === c.type && (i = v, n.method = "throw", n.arg = c.arg);\n                }\n              };\n            }\n            function S(t, r) {\n              var n = r.method,\n                i = t.iterator[n];\n              if (i === e) return r.delegate = null, "throw" === n && t.iterator.return && (r.method = "return", r.arg = e, S(t, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y;\n              var o = p(i, t.iterator, r.arg);\n              if ("throw" === o.type) return r.method = "throw", r.arg = o.arg, r.delegate = null, y;\n              var a = o.arg;\n              return a ? a.done ? (r[t.resultName] = a.value, r.next = t.nextLoc, "return" !== r.method && (r.method = "next", r.arg = e), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);\n            }\n            function N(e) {\n              var t = {\n                tryLoc: e[0]\n              };\n              1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n            }\n            function I(e) {\n              var t = e.completion || {};\n              t.type = "normal", delete t.arg, e.completion = t;\n            }\n            function O(e) {\n              this.tryEntries = [{\n                tryLoc: "root"\n              }], e.forEach(N, this), this.reset(!0);\n            }\n            function P(t) {\n              if (t || "" === t) {\n                var r = t[a];\n                if (r) return r.call(t);\n                if ("function" == typeof t.next) return t;\n                if (!isNaN(t.length)) {\n                  var i = -1,\n                    o = function r() {\n                      for (; ++i < t.length;) if (n.call(t, i)) return r.value = t[i], r.done = !1, r;\n                      return r.value = e, r.done = !0, r;\n                    };\n                  return o.next = o;\n                }\n              }\n              throw new TypeError(l(t) + " is not iterable");\n            }\n            return k.prototype = T, i(L, "constructor", {\n              value: T,\n              configurable: !0\n            }), i(T, "constructor", {\n              value: k,\n              configurable: !0\n            }), k.displayName = d(T, u, "GeneratorFunction"), t.isGeneratorFunction = function (e) {\n              var t = "function" == typeof e && e.constructor;\n              return !!t && (t === k || "GeneratorFunction" === (t.displayName || t.name));\n            }, t.mark = function (e) {\n              return Object.setPrototypeOf ? Object.setPrototypeOf(e, T) : (e.__proto__ = T, d(e, u, "GeneratorFunction")), e.prototype = Object.create(L), e;\n            }, t.awrap = function (e) {\n              return {\n                __await: e\n              };\n            }, R(x.prototype), d(x.prototype, s, function () {\n              return this;\n            }), t.AsyncIterator = x, t.async = function (e, r, n, i, o) {\n              void 0 === o && (o = Promise);\n              var a = new x(h(e, r, n, i), o);\n              return t.isGeneratorFunction(r) ? a : a.next().then(function (e) {\n                return e.done ? e.value : a.next();\n              });\n            }, R(L), d(L, u, "Generator"), d(L, a, function () {\n              return this;\n            }), d(L, "toString", function () {\n              return "[object Generator]";\n            }), t.keys = function (e) {\n              var t = Object(e),\n                r = [];\n              for (var n in t) r.push(n);\n              return r.reverse(), function e() {\n                for (; r.length;) {\n                  var n = r.pop();\n                  if (n in t) return e.value = n, e.done = !1, e;\n                }\n                return e.done = !0, e;\n              };\n            }, t.values = P, O.prototype = {\n              constructor: O,\n              reset: function reset(t) {\n                if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = "next", this.arg = e, this.tryEntries.forEach(I), !t) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = e);\n              },\n              stop: function stop() {\n                this.done = !0;\n                var e = this.tryEntries[0].completion;\n                if ("throw" === e.type) throw e.arg;\n                return this.rval;\n              },\n              dispatchException: function dispatchException(t) {\n                if (this.done) throw t;\n                var r = this;\n                function i(n, i) {\n                  return s.type = "throw", s.arg = t, r.next = n, i && (r.method = "next", r.arg = e), !!i;\n                }\n                for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n                  var a = this.tryEntries[o],\n                    s = a.completion;\n                  if ("root" === a.tryLoc) return i("end");\n                  if (a.tryLoc <= this.prev) {\n                    var l = n.call(a, "catchLoc"),\n                      c = n.call(a, "finallyLoc");\n                    if (l && c) {\n                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);\n                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);\n                    } else if (l) {\n                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);\n                    } else {\n                      if (!c) throw Error("try statement without catch or finally");\n                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);\n                    }\n                  }\n                }\n              },\n              abrupt: function abrupt(e, t) {\n                for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n                  var i = this.tryEntries[r];\n                  if (i.tryLoc <= this.prev && n.call(i, "finallyLoc") && this.prev < i.finallyLoc) {\n                    var o = i;\n                    break;\n                  }\n                }\n                o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);\n                var a = o ? o.completion : {};\n                return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, y) : this.complete(a);\n              },\n              complete: function complete(e, t) {\n                if ("throw" === e.type) throw e.arg;\n                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), y;\n              },\n              finish: function finish(e) {\n                for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n                  var r = this.tryEntries[t];\n                  if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), I(r), y;\n                }\n              },\n              catch: function _catch(e) {\n                for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n                  var r = this.tryEntries[t];\n                  if (r.tryLoc === e) {\n                    var n = r.completion;\n                    if ("throw" === n.type) {\n                      var i = n.arg;\n                      I(r);\n                    }\n                    return i;\n                  }\n                }\n                throw Error("illegal catch attempt");\n              },\n              delegateYield: function delegateYield(t, r, n) {\n                return this.delegate = {\n                  iterator: P(t),\n                  resultName: r,\n                  nextLoc: n\n                }, "next" === this.method && (this.arg = e), y;\n              }\n            }, t;\n          }\n          function u(e, t, r, n, i, o, a) {\n            try {\n              var s = e[o](a),\n                l = s.value;\n            } catch (e) {\n              return void r(e);\n            }\n            s.done ? t(l) : Promise.resolve(l).then(n, i);\n          }\n          function d(e) {\n            return function () {\n              var t = this,\n                r = arguments;\n              return new Promise(function (n, i) {\n                var o = e.apply(t, r);\n                function a(e) {\n                  u(o, n, i, a, s, "next", e);\n                }\n                function s(e) {\n                  u(o, n, i, a, s, "throw", e);\n                }\n                a(void 0);\n              });\n            };\n          }\n          function h(e, t) {\n            for (var r = 0; r < t.length; r++) {\n              var n = t[r];\n              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, p(n.key), n);\n            }\n          }\n          function p(e) {\n            var t = function (e, t) {\n              if ("object" != l(e) || !e) return e;\n              var r = e[Symbol.toPrimitive];\n              if (void 0 !== r) {\n                var n = r.call(e, t || "default");\n                if ("object" != l(n)) return n;\n                throw new TypeError("@@toPrimitive must return a primitive value.");\n              }\n              return ("string" === t ? String : Number)(e);\n            }(e, "string");\n            return "symbol" == l(t) ? t : t + "";\n          }\n          var f = function () {\n            return e = function e(t, r, i, o, l, c, u, d) {\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n              }(this, e), this.vastUrl = t, this.adId = r, this.vastClient = new n.VASTClient(), this.options = i || {\n                wrapperLimit: 5\n              }, this.options.resolveAll = !0, this.options.allowMultipleAds = !0, this.options.followAdditionalWrappers = !0, this.config = o, this.sign = l, this.token = c, this.ad = null, this.adsRequestOptions = u || {\n                vastTimeout: 5e3\n              }, this.adsRenderingOptions = d || {\n                mediaLoadTimeout: 5e3,\n                bufferingVideoTimeout: 5e3,\n                bitrate: 1e3,\n                muted: !1\n              }, this.isSetSource = !1, (0, a.AdsLogger)("constructor: ", this), this.logger = new s.Log();\n            }, t = [{\n              key: "loadAndPlayAds",\n              value: (p = d(c().mark(function e() {\n                var t;\n                return c().wrap(function (e) {\n                  for (;;) switch (e.prev = e.next) {\n                    case 0:\n                      return e.prev = 0, e.next = 3, this.resolveVastChainWithTimeout(this.vastUrl, this.options, this.adsRequestOptions.vastTimeout);\n                    case 3:\n                      (t = e.sent).length > 0 ? (this.ad = t[0], (0, a.AdsLogger)("Playing ad:", this.ad), this.playAd()) : ((0, a.AdsLogger)("No ads to play."), this.logError("Vast error"), this.callbackMessage("ERROR")), e.next = 12;\n                      break;\n                    case 7:\n                      e.prev = 7, e.t0 = e.catch(0), (0, a.AdsLogger)("Error loading VAST ads:", e.t0), this.logError(e.t0), this.callbackMessage("ERROR");\n                    case 12:\n                    case "end":\n                      return e.stop();\n                  }\n                }, e, this, [[0, 7]]);\n              })), function () {\n                return p.apply(this, arguments);\n              })\n            }, {\n              key: "logError",\n              value: function value(e) {\n                this.logger.logError(this.config, {\n                  campaignId: "",\n                  vastNameId: "",\n                  vastCampaignId: "",\n                  mixId: "",\n                  skipOffset: 0,\n                  duration: 0,\n                  bitrate: "-1",\n                  enableLogError: 0\n                }, new Date().getTime(), this.adsRenderingOptions.bitrate, 0, JSON.stringify(e), 300, this.token);\n              }\n            }, {\n              key: "resolveVastChainWithTimeout",\n              value: (u = d(c().mark(function e(t, r, n) {\n                var i = this;\n                return c().wrap(function (e) {\n                  for (;;) switch (e.prev = e.next) {\n                    case 0:\n                      return (0, a.AdsLogger)("Resolving VAST chain:", n), e.abrupt("return", new Promise(function (e, o) {\n                        var a = setTimeout(function () {\n                          o(new Error("VAST timeout: Failed to resolve VAST chain within the specified time."));\n                        }, n);\n                        i.resolveVastChain(t, r).then(function (t) {\n                          clearTimeout(a), e(t);\n                        }).catch(function (e) {\n                          clearTimeout(a), o(e);\n                        });\n                      }));\n                    case 2:\n                    case "end":\n                      return e.stop();\n                  }\n                }, e);\n              })), function (e, t, r) {\n                return u.apply(this, arguments);\n              })\n            }, {\n              key: "resolveVastChain",\n              value: (l = d(c().mark(function e(t, r) {\n                var n,\n                  o,\n                  s,\n                  l = this,\n                  u = arguments;\n                return c().wrap(function (e) {\n                  for (;;) switch (e.prev = e.next) {\n                    case 0:\n                      if (!((n = u.length > 2 && void 0 !== u[2] ? u[2] : 0) >= r.wrapperLimit)) {\n                        e.next = 3;\n                        break;\n                      }\n                      throw new Error("Maximum wrapper depth reached");\n                    case 3:\n                      return e.next = 5, this.vastClient.get(t, r);\n                    case 5:\n                      if (o = e.sent, this.callbackMessage("REQUEST"), (0, a.AdsLogger)("VAST response:", o, r), !o.ads.some(function (e) {\n                        return e.wrapper;\n                      })) {\n                        e.next = 11;\n                        break;\n                      }\n                      return s = o.ads.find(function (e) {\n                        return e.wrapper;\n                      }), e.abrupt("return", this.resolveVastChain(s.wrapper.VASTAdTagURI, r, n + 1));\n                    case 11:\n                      return e.abrupt("return", o.ads.map(function (e) {\n                        return new i.VASTAd(e, l.vastClient, l.config, l.sign, l.token, l.adsRenderingOptions);\n                      }));\n                    case 12:\n                    case "end":\n                      return e.stop();\n                  }\n                }, e, this);\n              })), function (e, t) {\n                return l.apply(this, arguments);\n              })\n            }, {\n              key: "playAd",\n              value: function value() {\n                if (this.ad) {\n                  var e = this.ad.getLinearAd();\n                  return e && (this.mediaFile = this.ad.getMediaFile(e.mediaFiles, this.adsRenderingOptions.bitrate), !this.mediaFile) ? ((0, a.AdsLogger)("No media file found:"), void this.destroy()) : void 0;\n                }\n              }\n            }, {\n              key: "setSource",\n              value: function value() {\n                var e = this;\n                this.isSetSource || (this.videoPlayer = new o.VideoPlayer(this.adId, this.adsRenderingOptions), this.videoPlayer.setSource(this.mediaFile.fileURL).then(function () {\n                  e.ad && ((0, a.AdsLogger)("loaded blob", e), e.isSetSource = !0, e.videoPlayer.play(e.ad), e.ad.initializeTracker(e.videoPlayer), e.ad.initSkipAds(e.videoPlayer));\n                }).catch(function (t) {\n                  (0, a.AdsLogger)("Error: ", t), e.destroy();\n                }));\n              }\n            }, {\n              key: "playAds",\n              value: function value() {\n                var e = this;\n                this.videoPlayer && this.videoPlayer.playAds();\n                var t = 1e3 * this.videoPlayer.getPlayer().duration;\n                (0, a.AdsLogger)("Duration", t), setTimeout(function () {\n                  (0, a.AdsLogger)("Timeout complete"), e.callbackMessage("COMPLETE");\n                }, t);\n              }\n            }, {\n              key: "callbackMessage",\n              value: function value(e) {\n                (0, a.AdsLogger)("callbackMessage", e);\n                var t = {\n                  type: e,\n                  campaignId: "",\n                  duration: "",\n                  errorCode: "",\n                  errorMessage: ""\n                };\n                window.postMessage(t, "*");\n              }\n            }, {\n              key: "playWhenInterrupted",\n              value: function value() {\n                this.videoPlayer && this.videoPlayer.playWhenInterrupted();\n              }\n            }, {\n              key: "pauseAds",\n              value: function value() {\n                this.videoPlayer && this.videoPlayer.pauseAds();\n              }\n            }, {\n              key: "skip",\n              value: function value() {\n                (0, a.AdsLogger)("AdManager skipAds"), this.ad.skip();\n              }\n            }, {\n              key: "destroy",\n              value: function value() {\n                this.videoPlayer && this.videoPlayer.destroy(), this.ad.destroy(), this.ad = null;\n              }\n            }], t && h(e.prototype, t), r && h(e, r), Object.defineProperty(e, "prototype", {\n              writable: !1\n            }), e;\n            var e, t, r, l, u, p;\n          }();\n        },\n        "./src/ads/AdsLogger.js": function srcAdsAdsLoggerJs(e, t, r) {\n          "use strict";\n\n          function n() {\n            var e;\n            localStorage.logger && console.log.apply(console, [(e = new Date(), t(e.getHours()) + ":" + t(e.getMinutes()) + ":" + t(e.getSeconds()) + "." + e.getMilliseconds()), "Ads log: "].concat(Array.prototype.slice.call(arguments)));\n            function t(e) {\n              return e < 10 ? "0" + e : e;\n            }\n          }\n          r.r(t), r.d(t, {\n            AdsLogger: function AdsLogger() {\n              return n;\n            }\n          });\n        },\n        "./src/ads/Log.js": function srcAdsLogJs(e, t, r) {\n          "use strict";\n\n          r.r(t), r.d(t, {\n            Log: function Log() {\n              return d;\n            }\n          });\n          var n = r("./node_modules/md5/md5.js"),\n            i = r.n(n);\n          function o(e) {\n            return o = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (e) {\n              return _typeof(e);\n            } : function (e) {\n              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);\n            }, o(e);\n          }\n          function a() {\n            a = function a() {\n              return t;\n            };\n            var e,\n              t = {},\n              r = Object.prototype,\n              n = r.hasOwnProperty,\n              i = Object.defineProperty || function (e, t, r) {\n                e[t] = r.value;\n              },\n              s = "function" == typeof Symbol ? Symbol : {},\n              l = s.iterator || "@@iterator",\n              c = s.asyncIterator || "@@asyncIterator",\n              u = s.toStringTag || "@@toStringTag";\n            function d(e, t, r) {\n              return Object.defineProperty(e, t, {\n                value: r,\n                enumerable: !0,\n                configurable: !0,\n                writable: !0\n              }), e[t];\n            }\n            try {\n              d({}, "");\n            } catch (e) {\n              d = function d(e, t, r) {\n                return e[t] = r;\n              };\n            }\n            function h(e, t, r, n) {\n              var o = t && t.prototype instanceof b ? t : b,\n                a = Object.create(o.prototype),\n                s = new O(n || []);\n              return i(a, "_invoke", {\n                value: C(e, r, s)\n              }), a;\n            }\n            function p(e, t, r) {\n              try {\n                return {\n                  type: "normal",\n                  arg: e.call(t, r)\n                };\n              } catch (e) {\n                return {\n                  type: "throw",\n                  arg: e\n                };\n              }\n            }\n            t.wrap = h;\n            var f = "suspendedStart",\n              m = "suspendedYield",\n              g = "executing",\n              v = "completed",\n              y = {};\n            function b() {}\n            function k() {}\n            function T() {}\n            var A = {};\n            d(A, l, function () {\n              return this;\n            });\n            var E = Object.getPrototypeOf,\n              w = E && E(E(P([])));\n            w && w !== r && n.call(w, l) && (A = w);\n            var L = T.prototype = b.prototype = Object.create(A);\n            function R(e) {\n              ["next", "throw", "return"].forEach(function (t) {\n                d(e, t, function (e) {\n                  return this._invoke(t, e);\n                });\n              });\n            }\n            function x(e, t) {\n              function r(i, a, s, l) {\n                var c = p(e[i], e, a);\n                if ("throw" !== c.type) {\n                  var u = c.arg,\n                    d = u.value;\n                  return d && "object" == o(d) && n.call(d, "__await") ? t.resolve(d.__await).then(function (e) {\n                    r("next", e, s, l);\n                  }, function (e) {\n                    r("throw", e, s, l);\n                  }) : t.resolve(d).then(function (e) {\n                    u.value = e, s(u);\n                  }, function (e) {\n                    return r("throw", e, s, l);\n                  });\n                }\n                l(c.arg);\n              }\n              var a;\n              i(this, "_invoke", {\n                value: function value(e, n) {\n                  function i() {\n                    return new t(function (t, i) {\n                      r(e, n, t, i);\n                    });\n                  }\n                  return a = a ? a.then(i, i) : i();\n                }\n              });\n            }\n            function C(t, r, n) {\n              var i = f;\n              return function (o, a) {\n                if (i === g) throw Error("Generator is already running");\n                if (i === v) {\n                  if ("throw" === o) throw a;\n                  return {\n                    value: e,\n                    done: !0\n                  };\n                }\n                for (n.method = o, n.arg = a;;) {\n                  var s = n.delegate;\n                  if (s) {\n                    var l = S(s, n);\n                    if (l) {\n                      if (l === y) continue;\n                      return l;\n                    }\n                  }\n                  if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {\n                    if (i === f) throw i = v, n.arg;\n                    n.dispatchException(n.arg);\n                  } else "return" === n.method && n.abrupt("return", n.arg);\n                  i = g;\n                  var c = p(t, r, n);\n                  if ("normal" === c.type) {\n                    if (i = n.done ? v : m, c.arg === y) continue;\n                    return {\n                      value: c.arg,\n                      done: n.done\n                    };\n                  }\n                  "throw" === c.type && (i = v, n.method = "throw", n.arg = c.arg);\n                }\n              };\n            }\n            function S(t, r) {\n              var n = r.method,\n                i = t.iterator[n];\n              if (i === e) return r.delegate = null, "throw" === n && t.iterator.return && (r.method = "return", r.arg = e, S(t, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y;\n              var o = p(i, t.iterator, r.arg);\n              if ("throw" === o.type) return r.method = "throw", r.arg = o.arg, r.delegate = null, y;\n              var a = o.arg;\n              return a ? a.done ? (r[t.resultName] = a.value, r.next = t.nextLoc, "return" !== r.method && (r.method = "next", r.arg = e), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);\n            }\n            function N(e) {\n              var t = {\n                tryLoc: e[0]\n              };\n              1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n            }\n            function I(e) {\n              var t = e.completion || {};\n              t.type = "normal", delete t.arg, e.completion = t;\n            }\n            function O(e) {\n              this.tryEntries = [{\n                tryLoc: "root"\n              }], e.forEach(N, this), this.reset(!0);\n            }\n            function P(t) {\n              if (t || "" === t) {\n                var r = t[l];\n                if (r) return r.call(t);\n                if ("function" == typeof t.next) return t;\n                if (!isNaN(t.length)) {\n                  var i = -1,\n                    a = function r() {\n                      for (; ++i < t.length;) if (n.call(t, i)) return r.value = t[i], r.done = !1, r;\n                      return r.value = e, r.done = !0, r;\n                    };\n                  return a.next = a;\n                }\n              }\n              throw new TypeError(o(t) + " is not iterable");\n            }\n            return k.prototype = T, i(L, "constructor", {\n              value: T,\n              configurable: !0\n            }), i(T, "constructor", {\n              value: k,\n              configurable: !0\n            }), k.displayName = d(T, u, "GeneratorFunction"), t.isGeneratorFunction = function (e) {\n              var t = "function" == typeof e && e.constructor;\n              return !!t && (t === k || "GeneratorFunction" === (t.displayName || t.name));\n            }, t.mark = function (e) {\n              return Object.setPrototypeOf ? Object.setPrototypeOf(e, T) : (e.__proto__ = T, d(e, u, "GeneratorFunction")), e.prototype = Object.create(L), e;\n            }, t.awrap = function (e) {\n              return {\n                __await: e\n              };\n            }, R(x.prototype), d(x.prototype, c, function () {\n              return this;\n            }), t.AsyncIterator = x, t.async = function (e, r, n, i, o) {\n              void 0 === o && (o = Promise);\n              var a = new x(h(e, r, n, i), o);\n              return t.isGeneratorFunction(r) ? a : a.next().then(function (e) {\n                return e.done ? e.value : a.next();\n              });\n            }, R(L), d(L, u, "Generator"), d(L, l, function () {\n              return this;\n            }), d(L, "toString", function () {\n              return "[object Generator]";\n            }), t.keys = function (e) {\n              var t = Object(e),\n                r = [];\n              for (var n in t) r.push(n);\n              return r.reverse(), function e() {\n                for (; r.length;) {\n                  var n = r.pop();\n                  if (n in t) return e.value = n, e.done = !1, e;\n                }\n                return e.done = !0, e;\n              };\n            }, t.values = P, O.prototype = {\n              constructor: O,\n              reset: function reset(t) {\n                if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = "next", this.arg = e, this.tryEntries.forEach(I), !t) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = e);\n              },\n              stop: function stop() {\n                this.done = !0;\n                var e = this.tryEntries[0].completion;\n                if ("throw" === e.type) throw e.arg;\n                return this.rval;\n              },\n              dispatchException: function dispatchException(t) {\n                if (this.done) throw t;\n                var r = this;\n                function i(n, i) {\n                  return s.type = "throw", s.arg = t, r.next = n, i && (r.method = "next", r.arg = e), !!i;\n                }\n                for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n                  var a = this.tryEntries[o],\n                    s = a.completion;\n                  if ("root" === a.tryLoc) return i("end");\n                  if (a.tryLoc <= this.prev) {\n                    var l = n.call(a, "catchLoc"),\n                      c = n.call(a, "finallyLoc");\n                    if (l && c) {\n                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);\n                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);\n                    } else if (l) {\n                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);\n                    } else {\n                      if (!c) throw Error("try statement without catch or finally");\n                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);\n                    }\n                  }\n                }\n              },\n              abrupt: function abrupt(e, t) {\n                for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n                  var i = this.tryEntries[r];\n                  if (i.tryLoc <= this.prev && n.call(i, "finallyLoc") && this.prev < i.finallyLoc) {\n                    var o = i;\n                    break;\n                  }\n                }\n                o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);\n                var a = o ? o.completion : {};\n                return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, y) : this.complete(a);\n              },\n              complete: function complete(e, t) {\n                if ("throw" === e.type) throw e.arg;\n                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), y;\n              },\n              finish: function finish(e) {\n                for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n                  var r = this.tryEntries[t];\n                  if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), I(r), y;\n                }\n              },\n              catch: function _catch(e) {\n                for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n                  var r = this.tryEntries[t];\n                  if (r.tryLoc === e) {\n                    var n = r.completion;\n                    if ("throw" === n.type) {\n                      var i = n.arg;\n                      I(r);\n                    }\n                    return i;\n                  }\n                }\n                throw Error("illegal catch attempt");\n              },\n              delegateYield: function delegateYield(t, r, n) {\n                return this.delegate = {\n                  iterator: P(t),\n                  resultName: r,\n                  nextLoc: n\n                }, "next" === this.method && (this.arg = e), y;\n              }\n            }, t;\n          }\n          function s(e, t, r, n, i, o, a) {\n            try {\n              var s = e[o](a),\n                l = s.value;\n            } catch (e) {\n              return void r(e);\n            }\n            s.done ? t(l) : Promise.resolve(l).then(n, i);\n          }\n          function l(e) {\n            return function () {\n              var t = this,\n                r = arguments;\n              return new Promise(function (n, i) {\n                var o = e.apply(t, r);\n                function a(e) {\n                  s(o, n, i, a, l, "next", e);\n                }\n                function l(e) {\n                  s(o, n, i, a, l, "throw", e);\n                }\n                a(void 0);\n              });\n            };\n          }\n          function c(e, t) {\n            for (var r = 0; r < t.length; r++) {\n              var n = t[r];\n              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, u(n.key), n);\n            }\n          }\n          function u(e) {\n            var t = function (e, t) {\n              if ("object" != o(e) || !e) return e;\n              var r = e[Symbol.toPrimitive];\n              if (void 0 !== r) {\n                var n = r.call(e, t || "default");\n                if ("object" != o(n)) return n;\n                throw new TypeError("@@toPrimitive must return a primitive value.");\n              }\n              return ("string" === t ? String : Number)(e);\n            }(e, "string");\n            return "symbol" == o(t) ? t : t + "";\n          }\n          var d = function () {\n            return e = function e() {\n              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "SANDBOX";\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n              }(this, e);\n              var r = "";\n              r = "SANDBOX" === t ? "https://dev-pubads.wiinvent.tv" : "PRODUCTION" === t || "VIETTEL_PRODUCTION" === t ? "https://pubads-wiinvent.tv360.vn" : "https://pubads.wiinvent.tv", this.host = r;\n            }, t = [{\n              key: "logError",\n              value: (o = l(a().mark(function e(t, r, n, i, o, s, l, c) {\n                var u, d, h;\n                return a().wrap(function (e) {\n                  for (;;) switch (e.prev = e.next) {\n                    case 0:\n                      return e.prev = 0, u = {\n                        tid: t.tenantId,\n                        cid: r.campaignId,\n                        br: t.bitrate,\n                        du: new Date().getTime() - n,\n                        d: this.gDI(),\n                        mid: r.mixId,\n                        pf: t.deviceType,\n                        type: "INSTREAM",\n                        si: this.gSi(t.tenantId, r.campaignId, r.mixId, this.gSa(20)),\n                        vbr: i,\n                        vsa: o,\n                        em: s,\n                        ec: l,\n                        token: c\n                      }, d = this.host + "/v1/w/logs/error", e.next = 5, fetch(d, {\n                        method: "POST",\n                        headers: {\n                          "Content-Type": "application/json"\n                        },\n                        body: JSON.stringify(u)\n                      });\n                    case 5:\n                      if ((h = e.sent).ok) {\n                        e.next = 8;\n                        break;\n                      }\n                      throw new Error("HTTP error! Status: ".concat(h.status, " ").concat(h.statusText));\n                    case 8:\n                      return e.abrupt("return");\n                    case 11:\n                      throw e.prev = 11, e.t0 = e.catch(0), AdsLogger("Error fetching logs:", e.t0), e.t0;\n                    case 15:\n                    case "end":\n                      return e.stop();\n                  }\n                }, e, this, [[0, 11]]);\n              })), function (e, t, r, n, i, a, s, l) {\n                return o.apply(this, arguments);\n              })\n            }, {\n              key: "logSkip",\n              value: (n = l(a().mark(function e(t, r, n, i) {\n                var o, s, l;\n                return a().wrap(function (e) {\n                  for (;;) switch (e.prev = e.next) {\n                    case 0:\n                      return e.prev = 0, o = new URL(this.host + "/v1/w/tracking/skip"), s = {\n                        si: n,\n                        tid: t.tenantId,\n                        cid: r.campaignId,\n                        mid: r.mixId,\n                        d: this.gDI(),\n                        pf: t.deviceType,\n                        vcid: r.vastCampaignId,\n                        vnid: r.vastNameId,\n                        sid: t.streamId,\n                        type: "INSTREAM",\n                        du: r.duration,\n                        br: t.bitrate,\n                        tk: i\n                      }, o.search = new URLSearchParams(s).toString(), e.next = 6, fetch(o, {\n                        method: "GET"\n                      });\n                    case 6:\n                      if ((l = e.sent).ok) {\n                        e.next = 9;\n                        break;\n                      }\n                      throw new Error("HTTP error! Status: ".concat(l.status, " ").concat(l.statusText));\n                    case 9:\n                      return e.abrupt("return");\n                    case 12:\n                      throw e.prev = 12, e.t0 = e.catch(0), AdsLogger("Error fetching logs:", e.t0), e.t0;\n                    case 16:\n                    case "end":\n                      return e.stop();\n                  }\n                }, e, this, [[0, 12]]);\n              })), function (e, t, r, i) {\n                return n.apply(this, arguments);\n              })\n            }, {\n              key: "gSa",\n              value: function value(e) {\n                for (var t = "", r = "abcdefghijklmnopqrstuvwxyz0123456789", n = 0; n < e; n++) t += r.charAt(Math.floor(36 * Math.random()));\n                return t;\n              }\n            }, {\n              key: "gAdsK",\n              value: function value(e, t, r, n) {\n                return i()(e + t + r + n);\n              }\n            }, {\n              key: "gSi",\n              value: function value(e, t, r, n) {\n                return n + this.gAdsK(e, t, r, n);\n              }\n            }, {\n              key: "gDI",\n              value: function value() {\n                var e = localStorage.getItem("wiinvent-viewer-id");\n                return null != e && null != e || (e = this.cU(), localStorage.setItem("wiinvent-viewer-id", e)), e;\n              }\n            }, {\n              key: "cU",\n              value: function value() {\n                var e = new Date().getTime();\n                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) {\n                  var r = (e + 16 * Math.random()) % 16 | 0;\n                  return e = Math.floor(e / 16), ("x" == t ? r : 3 & r | 8).toString(16);\n                });\n              }\n            }], t && c(e.prototype, t), r && c(e, r), Object.defineProperty(e, "prototype", {\n              writable: !1\n            }), e;\n            var e, t, r, n, o;\n          }();\n        },\n        "./src/ads/SkipAds.js": function srcAdsSkipAdsJs(e, t, r) {\n          "use strict";\n\n          function n(e) {\n            return n = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (e) {\n              return _typeof(e);\n            } : function (e) {\n              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);\n            }, n(e);\n          }\n          function i(e, t) {\n            for (var r = 0; r < t.length; r++) {\n              var n = t[r];\n              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, o(n.key), n);\n            }\n          }\n          function o(e) {\n            var t = function (e, t) {\n              if ("object" != n(e) || !e) return e;\n              var r = e[Symbol.toPrimitive];\n              if (void 0 !== r) {\n                var i = r.call(e, t || "default");\n                if ("object" != n(i)) return i;\n                throw new TypeError("@@toPrimitive must return a primitive value.");\n              }\n              return ("string" === t ? String : Number)(e);\n            }(e, "string");\n            return "symbol" == n(t) ? t : t + "";\n          }\n          r.r(t), r.d(t, {\n            SkipAds: function SkipAds() {\n              return a;\n            }\n          });\n          var a = function () {\n            return e = function e(t, r, n) {\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n              }(this, e), this.playerContainer = t, this.duration = r, this.skipOffset = n, this.skipButton = null, this.eventListeners = [], this.init();\n            }, t = [{\n              key: "init",\n              value: function value() {\n                this.skipOffset, this.renderSkipButton(), this.timer = setInterval(function () {}, 1e3);\n              }\n            }, {\n              key: "addEventListener",\n              value: function value(e, t, r) {\n                e.addEventListener(t, r), this.eventListeners.push({\n                  element: e,\n                  event: t,\n                  handler: r\n                });\n              }\n            }, {\n              key: "removeEventListeners",\n              value: function value() {\n                this.eventListeners.forEach(function (e) {\n                  var t = e.element,\n                    r = e.event,\n                    n = e.handler;\n                  t.removeEventListener(r, n);\n                }), this.eventListeners = [];\n              }\n            }, {\n              key: "renderSkipButton",\n              value: function value() {\n                var e = this;\n                this.skipButton = document.createElement("button"), this.skipButton.style.cssText = \'\\n      background-color: #000000;\\n      color: white;\\n      border: none;\\n      cursor: not-allowed;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      position: absolute;\\n      bottom: 20px;\\n      right: 20px;\\n      visibility: hidden;\\n      border: 1px solid rgba(255,255,255,.5);\\n      font-size: 1.1rem;\\n      line-height: 1.6rem;\\n      font-family: "Inter",Tahoma,Geneva,Verdana,sans-serif;\\n      font-weight: 700;\\n      color: #fff;\\n      border-radius: .3rem;\\n      padding: .7rem;\\n    \', this.playerContainer.appendChild(this.skipButton);\n                var t = this.skipOffset && this.skipOffset > 0 && this.skipOffset < this.duration ? this.skipOffset : this.duration,\n                  r = t === this.skipOffset ? "skip" : "nonSkip",\n                  n = {\n                    skip: \'Skip in countdown seconds &nbsp <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512" font-size=\\\'14px\\\'>\\x3c!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\\x3e<style>svg{fill:#ffffff}</style><path d="M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241V96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V271l-11.5 9.6-192 160z"/></svg>\',\n                    skipDone: \'Skip ads  &nbsp <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512" font-size=\\\'14px\\\'>\\x3c!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\\x3e<style>svg{fill:#ffffff}</style><path d="M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241V96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V271l-11.5 9.6-192 160z"/></svg>\',\n                    nonSkip: \'Ad ends in countdown seconds &nbsp <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512" font-size=\\\'14px\\\'>\\x3c!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\\x3e<style>svg{fill:#ffffff}</style><path d="M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241V96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V271l-11.5 9.6-192 160z"/></svg>\'\n                  };\n                this.addEventListener(this.skipButton, "mouseover", function () {\n                  e.skipButton.style.backgroundColor = "rgba(0,0,0,.9)", e.skipButton.style.border = "1px solid rgb(255,255,255)";\n                }), this.addEventListener(this.skipButton, "mouseout", function () {\n                  e.skipButton.style.backgroundColor = "#000000", e.skipButton.style.border = "1px solid rgba(255,255,255,.5)";\n                }), this.addEventListener(this.skipButton, "focus", function () {\n                  e.skipButton.style.backgroundColor = "rgba(0,0,0,.9)", e.skipButton.style.border = "1px solid rgb(255,255,255)";\n                }), this.addEventListener(this.skipButton, "blur", function () {\n                  e.skipButton.style.boxShadow = "none";\n                }), "skip" === r && (this.skipButton.disabled = !0), this.timer = setInterval(function () {\n                  e.skipButton ? (e.showSkipButton(), e.skipButton.innerHTML = n[r].replace("countdown", t), "skip" === r && t <= 0 && (e.skipButton.disabled = !1, e.skipButton.innerHTML = n.skipDone), "nonSkip" === r && t <= 0 && (e.showSkipButton(!1), clearInterval(e.timer)), t -= 1) : clearInterval(e.timer);\n                }, 1e3);\n              }\n            }, {\n              key: "skipAd",\n              value: function value() {\n                this.endAd();\n              }\n            }, {\n              key: "showSkipButton",\n              value: function value() {\n                var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];\n                this.skipButton && (this.skipButton.style.visibility = e ? "visible" : "hidden");\n              }\n            }, {\n              key: "destroy",\n              value: function value() {\n                this.removeEventListeners(), this.playerContainer.removeChild(this.skipButton), this.skipButton = null, clearInterval(this.timer);\n              }\n            }], t && i(e.prototype, t), r && i(e, r), Object.defineProperty(e, "prototype", {\n              writable: !1\n            }), e;\n            var e, t, r;\n          }();\n        },\n        "./src/ads/VASTAd.js": function srcAdsVASTAdJs(e, t, r) {\n          "use strict";\n\n          r.r(t), r.d(t, {\n            VASTAd: function VASTAd() {\n              return c;\n            }\n          });\n          var n = r("./node_modules/@dailymotion/vast-client/dist/vast-client.min.js"),\n            i = (r("./src/ads/SkipAds.js"), r("./src/ads/Log.js")),\n            o = r("./src/ads/AdsLogger.js");\n          function a(e) {\n            return a = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (e) {\n              return _typeof(e);\n            } : function (e) {\n              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);\n            }, a(e);\n          }\n          function s(e, t) {\n            for (var r = 0; r < t.length; r++) {\n              var n = t[r];\n              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, l(n.key), n);\n            }\n          }\n          function l(e) {\n            var t = function (e, t) {\n              if ("object" != a(e) || !e) return e;\n              var r = e[Symbol.toPrimitive];\n              if (void 0 !== r) {\n                var n = r.call(e, t || "default");\n                if ("object" != a(n)) return n;\n                throw new TypeError("@@toPrimitive must return a primitive value.");\n              }\n              return ("string" === t ? String : Number)(e);\n            }(e, "string");\n            return "symbol" == a(t) ? t : t + "";\n          }\n          var c = function () {\n            return e = function e(t, r, n, o, a, s) {\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n              }(this, e), this.adData = t, this.creatives = t.creatives, this.vastClient = r, this.tracker = null, this.quartileEvents = {}, this.impressionsTracked = !1, this.skipAds = null, this.adsStarted = !1, this.adsLoaded = !1, this.adsFirstStarted = !1, this.adsPlaying = !1, this.adInfo = {\n                campaignId: "-1",\n                vastNameId: "",\n                vastCampaignId: "",\n                mixId: "",\n                skipOffset: 5,\n                duration: 15,\n                bitrate: "-1",\n                enableLogError: 0\n              }, this.message = {\n                destroy: "DESTROY",\n                skip: "SKIPPED",\n                request: "REQUEST",\n                loaded: "LOADED",\n                start: "START",\n                play: "PLAY",\n                buffering: "BUFFERING",\n                paused: "PAUSED",\n                resumed: "RESUMED",\n                click: "CLICK",\n                impression: "IMPRESSION",\n                complete: "COMPLETE",\n                all_ads_complete: "ALL_ADS_COMPLETE",\n                player_error: "PLAYER_ERROR",\n                error: "ERROR",\n                user_close: "USER_CLOSE",\n                end: "END",\n                fullscreen: "FULLSCREEN",\n                get_ads: "GET_ADS",\n                no_ads: "NO_ADS"\n              }, this.config = n, this.sign = o, this.token = a, this.logger = new i.Log(), this.extensions = null, this.getExtenstion(), this.buffering = !1, this.bufferingTimer = null, this.adsRenderingOptions = s || {\n                mediaLoadTimeout: 5e3,\n                bufferingVideoTimeout: 5e3\n              }, this.tracker = null;\n            }, (t = [{\n              key: "getExtenstion",\n              value: function value() {\n                var e = this.adData.extensions.find(function (e) {\n                  return "wiCampaignInfo" === e.attributes.type;\n                });\n                (0, o.AdsLogger)("extensions:", e), e && (this.extensions = e.children), (0, o.AdsLogger)("extensions:", this.extensions), this.extensions && this.extensions.length > 0 && (this.adInfo.campaignId = this.extensions.find(function (e) {\n                  return "campaignId" === e.name;\n                }).value, this.adInfo.vastNameId = this.extensions.find(function (e) {\n                  return "vastNameId" === e.name;\n                }).value, this.adInfo.vastCampaignId = this.extensions.find(function (e) {\n                  return "vastCampaignId" === e.name;\n                }).value, this.adInfo.mixId = this.extensions.find(function (e) {\n                  return "mixId" === e.name;\n                }).value, this.adInfo.enableLogError = "0" == this.extensions.find(function (e) {\n                  return "enableLogError" === e.name;\n                }).value ? 0 : 1), (0, o.AdsLogger)("adInfo:", this.adInfo);\n              }\n            }, {\n              key: "getLinearAd",\n              value: function value() {\n                return this.creatives.find(function (e) {\n                  return "linear" === e.type;\n                });\n              }\n            }, {\n              key: "getMediaFile",\n              value: function value(e, t) {\n                var r = ["mp4", "webm"];\n                if (!e || 0 === e.length) return this.tracker = new n.VASTTracker(this.vastClient, this.adData, this.getLinearAd()), this.callbackMessage(this.message.no_ads), (0, o.AdsLogger)("MediaFile not found:", this.tracker), this.tracker ? (this.tracker.errorWithCode("401"), this.logger.logError(this.config, this.adInfo, this.startTime, this.adInfo.bitrate, this.adInfo.skipOffset ? 1 : 0, "MediaFile not found", 401, this.token), the, null) : null;\n                var i = e.sort(function (e, n) {\n                  var i = r.indexOf(n.format) - r.indexOf(e.format);\n                  if (0 !== i) return i;\n                  var o = Math.abs(e.bitrate - t),\n                    a = Math.abs(n.bitrate - t);\n                  return o !== a ? o - a : n.bitrate - e.bitrate;\n                })[0] || e[0];\n                return this.callbackMessage(this.message.get_ads), this.adInfo.bitrate = i.bitrate || "-1", i;\n              }\n            }, {\n              key: "initSkipAds",\n              value: function value(e) {\n                var t = this.getLinearAd(),\n                  r = (e.getContainer(), e.getPlayer()),\n                  n = r.duration,\n                  i = t.skipDelay,\n                  a = (t.duration && t.duration > 0 ? t.duration : n) || -1;\n                this.adInfo.skipOffset = i, this.adInfo.duration = a, (0, o.AdsLogger)("info:", i, a, n, r), (0, o.AdsLogger)("initSkipAds:", this.adInfo);\n              }\n            }, {\n              key: "initializeTracker",\n              value: function value(e) {\n                var t = this,\n                  r = this.getLinearAd();\n                if (r) {\n                  this.tracker = new n.VASTTracker(this.vastClient, this.adData, r), (0, o.AdsLogger)("tracker:", this.adData, this.tracker);\n                  var i = {\n                    playing: "playing",\n                    pause: "pause",\n                    resume: "resume",\n                    mute: "volumechange",\n                    unmute: "volumechange",\n                    fullscreen: "fullscreenchange",\n                    exitFullscreen: "fullscreenchange",\n                    firstQuartile: "timeupdate",\n                    midpoint: "timeupdate",\n                    thirdQuartile: "timeupdate",\n                    complete: "ended",\n                    clickthrough: "click",\n                    error: "error",\n                    waiting: "waiting",\n                    progress: "progress",\n                    canplaythrough: "canplaythrough",\n                    loadeddata: "loadeddata",\n                    canplay: "canplay",\n                    loadedmetadata: "loadedmetadata"\n                  };\n                  Object.keys(i).forEach(function (r) {\n                    var n = i[r];\n                    e.on(n, function (n) {\n                      switch (r) {\n                        case "canplay":\n                          (0, o.AdsLogger)("canplay: start buffering"), t.trackImpressions(), t.buffering = !0, t.bufferingTimer = setTimeout(function () {\n                            t.buffering && ((0, o.AdsLogger)("Buffering timeout. Skipping ad: ", 301), t.tracker && t.tracker.errorWithCode && t.tracker.errorWithCode(301..toString()), t.callbackMessage(t.message.error || "ERROR"), t.destroy(), e.destroy());\n                          }, t.adsRenderingOptions.bufferingVideoTimeout);\n                          break;\n                        case "loadedmetadata":\n                          (0, o.AdsLogger)("loadedmetadata:");\n                          break;\n                        case "loadeddata":\n                          t.adsLoaded || ((0, o.AdsLogger)("loadeddata:"), t.callbackMessage(t.message.loaded), t.adsLoaded = !0);\n                          break;\n                        case "pause":\n                          (0, o.AdsLogger)("Tracking: pause 0", i.currentTime, i.duration, i.paused);\n                          var i = e.getPlayer(),\n                            a = setTimeout(function () {\n                              i.paused && ((0, o.AdsLogger)("Tracking: pause 1"), t.onAdComplete(e, "pause"), clearTimeout(a));\n                            }, 300),\n                            s = i.currentTime,\n                            l = i.duration,\n                            c = Math.abs(s - l);\n                          (0, o.AdsLogger)("Tracking: pause 2", 1e3 * c), setTimeout(function () {\n                            t.onAdComplete(e, "pause");\n                          }, 1e3 * c);\n                          break;\n                        case "mute":\n                          (i = e.getPlayer()).muted ? t.tracker && t.tracker.track("mute") : t.tracker && t.tracker.track("unmute");\n                          break;\n                        case "fullscreen":\n                          document.fullscreenElement ? t.tracker.track("fullscreen") : t.tracker.track("exitFullscreen");\n                          break;\n                        case "firstQuartile":\n                        case "midpoint":\n                        case "thirdQuartile":\n                          t.trackQuartiles(e);\n                          break;\n                        case "click":\n                          t.tracker && t.tracker.click();\n                          break;\n                        case "error":\n                          if (t.tracker) {\n                            var u = e.getPlayer().error || void 0,\n                              d = "",\n                              h = 300;\n                            if (u) {\n                              switch (u.code) {\n                                case u.MEDIA_ERR_ABORTED:\n                                  d = "MediaError: Fetching process aborted by user.", h = 101;\n                                  break;\n                                case u.MEDIA_ERR_NETWORK:\n                                  d = "MediaError: A network error occurred while fetching the media.", h = 301;\n                                  break;\n                                case u.MEDIA_ERR_DECODE:\n                                  d = "MediaError: An error occurred while decoding the media.", h = 403;\n                                  break;\n                                case u.MEDIA_ERR_SRC_NOT_SUPPORTED:\n                                  d = "MediaError: The media resource could not be loaded or is not supported.", h = 401;\n                                  break;\n                                default:\n                                  d = "MediaError: An unknown error occurred.", h = 900;\n                              }\n                              t.tracker.errorWithCode(h.toString());\n                            }\n                            (0, o.AdsLogger)("Error:", u, d), t.adInfo.enableLogError && t.logger.logError(t.config, t.adInfo, t.startTime, t.adInfo.bitrate, t.adInfo.skipOffset ? 1 : 0, d, u.code || h, t.token);\n                          }\n                          t.callbackMessage(t.message.error || "ERROR");\n                          break;\n                        case "complete":\n                          t.onAdComplete(e, "ended");\n                          break;\n                        case "waiting":\n                          (0, o.AdsLogger)("Buffering started."), t.callbackMessage(t.message.buffering), t.buffering = !0, t.bufferingTimer = setTimeout(function () {\n                            t.buffering && ((0, o.AdsLogger)("Buffering timeout. Skipping ad: ", 301), t.tracker && t.tracker.errorWithCode && t.tracker.errorWithCode(301..toString()), t.callbackMessage(t.message.error || "ERROR"), t.destroy(), e.destroy());\n                          }, t.adsRenderingOptions.bufferingVideoTimeout);\n                          break;\n                        case "progress":\n                          break;\n                        case "playing":\n                          (0, o.AdsLogger)("Tracking:", r);\n                        case "canplaythrough":\n                          (0, o.AdsLogger)("Tracking:", r), (0, o.AdsLogger)("Buffering complete."), e.show(!0), t.adsStarted || (t.callbackMessage(t.message.start, r), t.adsStarted = !0), t.buffering = !1, clearTimeout(t.bufferingTimer);\n                          break;\n                        default:\n                          (0, o.AdsLogger)("Tracking:", r), t.tracker.track(r);\n                      }\n                    });\n                  });\n                }\n              }\n            }, {\n              key: "trackQuartiles",\n              value: function value(e) {\n                var t = this,\n                  r = e.getPlayer(),\n                  n = r.duration,\n                  i = r.currentTime,\n                  a = .25,\n                  s = .5,\n                  l = .75;\n                if (!this.adsFirstStarted && e.adsPlaying && (this.callbackMessage(this.message.play), this.adsFirstStarted = !0), i >= n * a && !this.quartileEvents.firstQuartile && (this.tracker.track("firstQuartile"), this.quartileEvents.firstQuartile = !0), i >= n * s && !this.quartileEvents.midpoint && (this.tracker.track("midpoint"), this.quartileEvents.midpoint = !0), i >= n * l && !this.quartileEvents.thirdQuartile && (this.tracker.track("thirdQuartile"), this.quartileEvents.thirdQuartile = !0), "number" == typeof n && "number" == typeof i && !this.quartileEvents.complete) {\n                  var c = Math.abs(i - n);\n                  c < 1 && (this.completeTimeout && clearTimeout(this.completeTimeout), this.completeTimeout = setTimeout(function () {\n                    (0, o.AdsLogger)("Tracking complete", 1e3 * c), t.quartileEvents.complete = !0, t.onAdComplete(void 0, "timeupdate");\n                  }, 1e3 * c));\n                }\n              }\n            }, {\n              key: "onAdComplete",\n              value: function value(e, t) {\n                try {\n                  (0, o.AdsLogger)("onAdComplete:", t), this.quartileEvents.complete = !0, this.completeTimeout && clearTimeout(this.completeTimeout), this.tracker && this.tracker.complete(), this.callbackMessage(this.message.complete), e && e.destroy(), this.skipAds && this.skipAds.destroy(), this.destroy();\n                } catch (e) {\n                  (0, o.AdsLogger)("Error:", e), this.callbackMessage(this.message.error);\n                }\n              }\n            }, {\n              key: "trackImpressions",\n              value: function value() {\n                !this.impressionsTracked && this.tracker && (this.tracker.trackImpression(), this.callbackMessage(this.message.impression), this.impressionsTracked = !0, this.startTime = new Date().getTime());\n              }\n            }, {\n              key: "setAdsPlaying",\n              value: function value(e) {\n                this.adsPlaying = e;\n              }\n            }, {\n              key: "callbackMessage",\n              value: function value(e, t) {\n                (0, o.AdsLogger)("callbackMessage", e);\n                var r = {\n                  type: e,\n                  campaignId: this.adInfo.campaignId,\n                  duration: this.adInfo.duration,\n                  errorCode: "",\n                  errorMessage: ""\n                };\n                window.postMessage(r, "*");\n              }\n            }, {\n              key: "skip",\n              value: function value() {\n                this.tracker.skip(), this.callbackMessage(this.message.skip), this.logger.logSkip(this.config, this.adInfo, this.sign, this.token), this.destroy();\n              }\n            }, {\n              key: "destroy",\n              value: function value() {\n                this.callbackMessage(this.message.end), this.tracker = null, this.quartileEvents = {}, this.impressionsTracked = !1, this.skipAds && this.skipAds.destroy();\n              }\n            }]) && s(e.prototype, t), r && s(e, r), Object.defineProperty(e, "prototype", {\n              writable: !1\n            }), e;\n            var e, t, r;\n          }();\n        },\n        "./src/ads/VideoPlayer.js": function srcAdsVideoPlayerJs(e, t, r) {\n          "use strict";\n\n          r.r(t), r.d(t, {\n            VideoPlayer: function VideoPlayer() {\n              return c;\n            }\n          });\n          var n = r("./src/ads/AdsLogger.js");\n          function i(e) {\n            return i = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function (e) {\n              return _typeof(e);\n            } : function (e) {\n              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);\n            }, i(e);\n          }\n          function o(e, t) {\n            var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];\n            if (!r) {\n              if (Array.isArray(e) || (r = function (e, t) {\n                if (e) {\n                  if ("string" == typeof e) return a(e, t);\n                  var r = {}.toString.call(e).slice(8, -1);\n                  return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? a(e, t) : void 0;\n                }\n              }(e)) || t && e && "number" == typeof e.length) {\n                r && (e = r);\n                var _n12 = 0,\n                  i = function i() {};\n                return {\n                  s: i,\n                  n: function n() {\n                    return _n12 >= e.length ? {\n                      done: !0\n                    } : {\n                      done: !1,\n                      value: e[_n12++]\n                    };\n                  },\n                  e: function e(_e22) {\n                    throw _e22;\n                  },\n                  f: i\n                };\n              }\n              throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n            }\n            var o,\n              s = !0,\n              l = !1;\n            return {\n              s: function s() {\n                r = r.call(e);\n              },\n              n: function n() {\n                var e = r.next();\n                return s = e.done, e;\n              },\n              e: function e(_e23) {\n                l = !0, o = _e23;\n              },\n              f: function f() {\n                try {\n                  s || null == r.return || r.return();\n                } finally {\n                  if (l) throw o;\n                }\n              }\n            };\n          }\n          function a(e, t) {\n            (null == t || t > e.length) && (t = e.length);\n            for (var r = 0, n = Array(t); r < t; r++) n[r] = e[r];\n            return n;\n          }\n          function s(e, t) {\n            for (var r = 0; r < t.length; r++) {\n              var n = t[r];\n              n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, l(n.key), n);\n            }\n          }\n          function l(e) {\n            var t = function (e, t) {\n              if ("object" != i(e) || !e) return e;\n              var r = e[Symbol.toPrimitive];\n              if (void 0 !== r) {\n                var n = r.call(e, t || "default");\n                if ("object" != i(n)) return n;\n                throw new TypeError("@@toPrimitive must return a primitive value.");\n              }\n              return ("string" === t ? String : Number)(e);\n            }(e, "string");\n            return "symbol" == i(t) ? t : t + "";\n          }\n          var c = function () {\n            return e = function e(t, r) {\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n              }(this, e), this.videoId = "wii-ads-vid", this.adsRenderingOptions = r, this.videoContainer = document.getElementById(t), this.videoElement = document.createElement("video"), this.videoElement.controls = !1, this.videoElement.muted = this.adsRenderingOptions.muted, this.videoElement.id = this.videoId, this.videoElement.setAttribute("preload", "auto"), this.videoElement.style.cssText = "\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n    ", this.videoContainer.appendChild(this.videoElement), this.show(!1), this.eventListeners = {}, this.adsPlaying = !1;\n            }, (t = [{\n              key: "setSource",\n              value: function value(e) {\n                var t = this;\n                return (0, n.AdsLogger)(e), new Promise(function (r, n) {\n                  t.blobUrl = e, r();\n                });\n              }\n            }, {\n              key: "show",\n              value: function value(e) {\n                (0, n.AdsLogger)("show", e);\n              }\n            }, {\n              key: "getPlayer",\n              value: function value() {\n                return this.videoElement;\n              }\n            }, {\n              key: "getContainer",\n              value: function value() {\n                return this.videoContainer;\n              }\n            }, {\n              key: "getCurrentTime",\n              value: function value() {\n                return this.videoElement.currentTime;\n              }\n            }, {\n              key: "playWhenInterrupted",\n              value: function value() {\n                this.videoElement.currentTime = this.currentTime, (0, n.AdsLogger)("playAds at", this.currentTime), this.videoElement.play();\n              }\n            }, {\n              key: "pauseAds",\n              value: function value() {\n                this.videoElement.pause(), (0, n.AdsLogger)("pauseAds at", this.videoElement.currentTime), this.currentTime = this.videoElement.currentTime;\n              }\n            }, {\n              key: "playAds",\n              value: function value() {\n                var e = this;\n                if (!this.adsPlaying) {\n                  var t = this.videoElement.play();\n                  t && t.then ? t.then(function () {\n                    e.adsPlaying = !0, (0, n.AdsLogger)("Ad playback started successfully.");\n                  }).catch(function (t) {\n                    (0, n.AdsLogger)("Autoplay was prevented:", t), e.destroy();\n                  }) : (this.adsPlaying = !0, (0, n.AdsLogger)("Ad playback started successfully."));\n                }\n              }\n            }, {\n              key: "play",\n              value: function value(e) {\n                var t = this;\n                this.videoElement.src = this.blobUrl, this.videoElement.load(), this.videoElement.volume = 1, this.adsRenderingOptions.muted && ((0, n.AdsLogger)("waitForAllVideosPaused THEN play"), this.waitForAllVideosPaused().then(function () {\n                  var r = t.videoElement.play();\n                  r && r.catch && r.catch(function (r) {\n                    (0, n.AdsLogger)("Autoplay was prevented:", r), t.destroy(), e.destroy();\n                  });\n                }).catch(function (r) {\n                  (0, n.AdsLogger)("Autoplay was prevented:", r), t.destroy(), e.destroy();\n                }));\n              }\n            }, {\n              key: "waitForAllVideosPaused",\n              value: function value() {\n                var e = this;\n                return new Promise(function (t, r) {\n                  var n = document.querySelectorAll("video");\n                  0 === n.length && r("No video elements found");\n                  var i = function i() {\n                    var t,\n                      r = o(n);\n                    try {\n                      for (r.s(); !(t = r.n()).done;) {\n                        var i = t.value;\n                        if (i.id !== e.videoId && !i.paused) return !1;\n                      }\n                    } catch (e) {\n                      r.e(e);\n                    } finally {\n                      r.f();\n                    }\n                    return !0;\n                  };\n                  if (i()) t();else {\n                    var a = function a() {\n                      i() && (n.forEach(function (e) {\n                        return e.removeEventListener("pause", a);\n                      }), t());\n                    };\n                    n.forEach(function (e) {\n                      return e.addEventListener("pause", a);\n                    });\n                  }\n                });\n              }\n            }, {\n              key: "on",\n              value: function value(e, t) {\n                this.eventListeners[e] && this.videoElement.removeEventListener(e, this.eventListeners[e]), this.eventListeners[e] = t, this.videoElement.addEventListener(e, this.eventListeners[e]);\n              }\n            }, {\n              key: "destroy",\n              value: function value() {\n                var e = this;\n                if ((0, n.AdsLogger)("VideoPlayer destroy"), (0, n.AdsLogger)(this.eventListeners), Object.keys(this.eventListeners).forEach(function (t) {\n                  e.eventListeners[t] && e.videoElement.removeEventListener(t, e.eventListeners[t]);\n                }), this.videoElement && this.videoContainer.contains(this.videoElement)) this.videoContainer.removeChild(this.videoElement);else {\n                  var t = document.getElementById(this.videoId);\n                  t && t.remove && t.remove();\n                }\n                this.eventListeners = {};\n              }\n            }]) && s(e.prototype, t), r && s(e, r), Object.defineProperty(e, "prototype", {\n              writable: !1\n            }), e;\n            var e, t, r;\n          }();\n        },\n        "./node_modules/charenc/charenc.js": function node_modulesCharencCharencJs(e) {\n          var t = {\n            utf8: {\n              stringToBytes: function stringToBytes(e) {\n                return t.bin.stringToBytes(unescape(encodeURIComponent(e)));\n              },\n              bytesToString: function bytesToString(e) {\n                return decodeURIComponent(escape(t.bin.bytesToString(e)));\n              }\n            },\n            bin: {\n              stringToBytes: function stringToBytes(e) {\n                for (var t = [], r = 0; r < e.length; r++) t.push(255 & e.charCodeAt(r));\n                return t;\n              },\n              bytesToString: function bytesToString(e) {\n                for (var t = [], r = 0; r < e.length; r++) t.push(String.fromCharCode(e[r]));\n                return t.join("");\n              }\n            }\n          };\n          e.exports = t;\n        },\n        "./node_modules/crypt/crypt.js": function node_modulesCryptCryptJs(e) {\n          var t, r;\n          t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r = {\n            rotl: function rotl(e, t) {\n              return e << t | e >>> 32 - t;\n            },\n            rotr: function rotr(e, t) {\n              return e << 32 - t | e >>> t;\n            },\n            endian: function endian(e) {\n              if (e.constructor == Number) return 16711935 & r.rotl(e, 8) | 4278255360 & r.rotl(e, 24);\n              for (var t = 0; t < e.length; t++) e[t] = r.endian(e[t]);\n              return e;\n            },\n            randomBytes: function randomBytes(e) {\n              for (var t = []; e > 0; e--) t.push(Math.floor(256 * Math.random()));\n              return t;\n            },\n            bytesToWords: function bytesToWords(e) {\n              for (var t = [], r = 0, n = 0; r < e.length; r++, n += 8) t[n >>> 5] |= e[r] << 24 - n % 32;\n              return t;\n            },\n            wordsToBytes: function wordsToBytes(e) {\n              for (var t = [], r = 0; r < 32 * e.length; r += 8) t.push(e[r >>> 5] >>> 24 - r % 32 & 255);\n              return t;\n            },\n            bytesToHex: function bytesToHex(e) {\n              for (var t = [], r = 0; r < e.length; r++) t.push((e[r] >>> 4).toString(16)), t.push((15 & e[r]).toString(16));\n              return t.join("");\n            },\n            hexToBytes: function hexToBytes(e) {\n              for (var t = [], r = 0; r < e.length; r += 2) t.push(parseInt(e.substr(r, 2), 16));\n              return t;\n            },\n            bytesToBase64: function bytesToBase64(e) {\n              for (var r = [], n = 0; n < e.length; n += 3) for (var i = e[n] << 16 | e[n + 1] << 8 | e[n + 2], o = 0; o < 4; o++) 8 * n + 6 * o <= 8 * e.length ? r.push(t.charAt(i >>> 6 * (3 - o) & 63)) : r.push("=");\n              return r.join("");\n            },\n            base64ToBytes: function base64ToBytes(e) {\n              e = e.replace(/[^A-Z0-9+\\/]/gi, "");\n              for (var r = [], n = 0, i = 0; n < e.length; i = ++n % 4) 0 != i && r.push((t.indexOf(e.charAt(n - 1)) & Math.pow(2, -2 * i + 8) - 1) << 2 * i | t.indexOf(e.charAt(n)) >>> 6 - 2 * i);\n              return r;\n            }\n          }, e.exports = r;\n        },\n        "./node_modules/is-buffer/index.js": function node_modulesIsBufferIndexJs(e) {\n          function t(e) {\n            return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);\n          }\n          e.exports = function (e) {\n            return null != e && (t(e) || function (e) {\n              return "function" == typeof e.readFloatLE && "function" == typeof e.slice && t(e.slice(0, 0));\n            }(e) || !!e._isBuffer);\n          };\n        },\n        "./node_modules/md5/md5.js": function node_modulesMd5Md5Js(e, t, r) {\n          var n, i, o, a, _s2;\n          n = r("./node_modules/crypt/crypt.js"), i = r("./node_modules/charenc/charenc.js").utf8, o = r("./node_modules/is-buffer/index.js"), a = r("./node_modules/charenc/charenc.js").bin, (_s2 = function s(e, t) {\n            e.constructor == String ? e = t && "binary" === t.encoding ? a.stringToBytes(e) : i.stringToBytes(e) : o(e) ? e = Array.prototype.slice.call(e, 0) : Array.isArray(e) || e.constructor === Uint8Array || (e = e.toString());\n            for (var r = n.bytesToWords(e), l = 8 * e.length, c = 1732584193, u = -271733879, d = -1732584194, h = 271733878, p = 0; p < r.length; p++) r[p] = 16711935 & (r[p] << 8 | r[p] >>> 24) | 4278255360 & (r[p] << 24 | r[p] >>> 8);\n            r[l >>> 5] |= 128 << l % 32, r[14 + (l + 64 >>> 9 << 4)] = l;\n            var f = _s2._ff,\n              m = _s2._gg,\n              g = _s2._hh,\n              v = _s2._ii;\n            for (p = 0; p < r.length; p += 16) {\n              var y = c,\n                b = u,\n                k = d,\n                T = h;\n              c = f(c, u, d, h, r[p + 0], 7, -680876936), h = f(h, c, u, d, r[p + 1], 12, -389564586), d = f(d, h, c, u, r[p + 2], 17, 606105819), u = f(u, d, h, c, r[p + 3], 22, -1044525330), c = f(c, u, d, h, r[p + 4], 7, -176418897), h = f(h, c, u, d, r[p + 5], 12, 1200080426), d = f(d, h, c, u, r[p + 6], 17, -1473231341), u = f(u, d, h, c, r[p + 7], 22, -45705983), c = f(c, u, d, h, r[p + 8], 7, 1770035416), h = f(h, c, u, d, r[p + 9], 12, -1958414417), d = f(d, h, c, u, r[p + 10], 17, -42063), u = f(u, d, h, c, r[p + 11], 22, -1990404162), c = f(c, u, d, h, r[p + 12], 7, 1804603682), h = f(h, c, u, d, r[p + 13], 12, -40341101), d = f(d, h, c, u, r[p + 14], 17, -1502002290), c = m(c, u = f(u, d, h, c, r[p + 15], 22, 1236535329), d, h, r[p + 1], 5, -165796510), h = m(h, c, u, d, r[p + 6], 9, -1069501632), d = m(d, h, c, u, r[p + 11], 14, 643717713), u = m(u, d, h, c, r[p + 0], 20, -373897302), c = m(c, u, d, h, r[p + 5], 5, -701558691), h = m(h, c, u, d, r[p + 10], 9, 38016083), d = m(d, h, c, u, r[p + 15], 14, -660478335), u = m(u, d, h, c, r[p + 4], 20, -405537848), c = m(c, u, d, h, r[p + 9], 5, 568446438), h = m(h, c, u, d, r[p + 14], 9, -1019803690), d = m(d, h, c, u, r[p + 3], 14, -187363961), u = m(u, d, h, c, r[p + 8], 20, 1163531501), c = m(c, u, d, h, r[p + 13], 5, -1444681467), h = m(h, c, u, d, r[p + 2], 9, -51403784), d = m(d, h, c, u, r[p + 7], 14, 1735328473), c = g(c, u = m(u, d, h, c, r[p + 12], 20, -1926607734), d, h, r[p + 5], 4, -378558), h = g(h, c, u, d, r[p + 8], 11, -2022574463), d = g(d, h, c, u, r[p + 11], 16, 1839030562), u = g(u, d, h, c, r[p + 14], 23, -35309556), c = g(c, u, d, h, r[p + 1], 4, -1530992060), h = g(h, c, u, d, r[p + 4], 11, 1272893353), d = g(d, h, c, u, r[p + 7], 16, -155497632), u = g(u, d, h, c, r[p + 10], 23, -1094730640), c = g(c, u, d, h, r[p + 13], 4, 681279174), h = g(h, c, u, d, r[p + 0], 11, -358537222), d = g(d, h, c, u, r[p + 3], 16, -722521979), u = g(u, d, h, c, r[p + 6], 23, 76029189), c = g(c, u, d, h, r[p + 9], 4, -640364487), h = g(h, c, u, d, r[p + 12], 11, -421815835), d = g(d, h, c, u, r[p + 15], 16, 530742520), c = v(c, u = g(u, d, h, c, r[p + 2], 23, -995338651), d, h, r[p + 0], 6, -198630844), h = v(h, c, u, d, r[p + 7], 10, 1126891415), d = v(d, h, c, u, r[p + 14], 15, -1416354905), u = v(u, d, h, c, r[p + 5], 21, -57434055), c = v(c, u, d, h, r[p + 12], 6, 1700485571), h = v(h, c, u, d, r[p + 3], 10, -1894986606), d = v(d, h, c, u, r[p + 10], 15, -1051523), u = v(u, d, h, c, r[p + 1], 21, -2054922799), c = v(c, u, d, h, r[p + 8], 6, 1873313359), h = v(h, c, u, d, r[p + 15], 10, -30611744), d = v(d, h, c, u, r[p + 6], 15, -1560198380), u = v(u, d, h, c, r[p + 13], 21, 1309151649), c = v(c, u, d, h, r[p + 4], 6, -145523070), h = v(h, c, u, d, r[p + 11], 10, -1120210379), d = v(d, h, c, u, r[p + 2], 15, 718787259), u = v(u, d, h, c, r[p + 9], 21, -343485551), c = c + y >>> 0, u = u + b >>> 0, d = d + k >>> 0, h = h + T >>> 0;\n            }\n            return n.endian([c, u, d, h]);\n          })._ff = function (e, t, r, n, i, o, a) {\n            var s = e + (t & r | ~t & n) + (i >>> 0) + a;\n            return (s << o | s >>> 32 - o) + t;\n          }, _s2._gg = function (e, t, r, n, i, o, a) {\n            var s = e + (t & n | r & ~n) + (i >>> 0) + a;\n            return (s << o | s >>> 32 - o) + t;\n          }, _s2._hh = function (e, t, r, n, i, o, a) {\n            var s = e + (t ^ r ^ n) + (i >>> 0) + a;\n            return (s << o | s >>> 32 - o) + t;\n          }, _s2._ii = function (e, t, r, n, i, o, a) {\n            var s = e + (r ^ (t | ~n)) + (i >>> 0) + a;\n            return (s << o | s >>> 32 - o) + t;\n          }, _s2._blocksize = 16, _s2._digestsize = 16, e.exports = function (e, t) {\n            if (null == e) throw new Error("Illegal argument " + e);\n            var r = n.wordsToBytes(_s2(e, t));\n            return t && t.asBytes ? r : t && t.asString ? a.bytesToString(r) : n.bytesToHex(r);\n          };\n        },\n        "./node_modules/regenerator-runtime/runtime.js": function node_modulesRegeneratorRuntimeRuntimeJs(e) {\n          var t = function (e) {\n            "use strict";\n\n            var t,\n              r = Object.prototype,\n              n = r.hasOwnProperty,\n              i = Object.defineProperty || function (e, t, r) {\n                e[t] = r.value;\n              },\n              o = "function" == typeof Symbol ? Symbol : {},\n              a = o.iterator || "@@iterator",\n              s = o.asyncIterator || "@@asyncIterator",\n              l = o.toStringTag || "@@toStringTag";\n            function c(e, t, r) {\n              return Object.defineProperty(e, t, {\n                value: r,\n                enumerable: !0,\n                configurable: !0,\n                writable: !0\n              }), e[t];\n            }\n            try {\n              c({}, "");\n            } catch (e) {\n              c = function c(e, t, r) {\n                return e[t] = r;\n              };\n            }\n            function u(e, t, r, n) {\n              var o = t && t.prototype instanceof v ? t : v,\n                a = Object.create(o.prototype),\n                s = new N(n || []);\n              return i(a, "_invoke", {\n                value: R(e, r, s)\n              }), a;\n            }\n            function d(e, t, r) {\n              try {\n                return {\n                  type: "normal",\n                  arg: e.call(t, r)\n                };\n              } catch (e) {\n                return {\n                  type: "throw",\n                  arg: e\n                };\n              }\n            }\n            e.wrap = u;\n            var h = "suspendedStart",\n              p = "suspendedYield",\n              f = "executing",\n              m = "completed",\n              g = {};\n            function v() {}\n            function y() {}\n            function b() {}\n            var k = {};\n            c(k, a, function () {\n              return this;\n            });\n            var T = Object.getPrototypeOf,\n              A = T && T(T(I([])));\n            A && A !== r && n.call(A, a) && (k = A);\n            var E = b.prototype = v.prototype = Object.create(k);\n            function w(e) {\n              ["next", "throw", "return"].forEach(function (t) {\n                c(e, t, function (e) {\n                  return this._invoke(t, e);\n                });\n              });\n            }\n            function L(e, t) {\n              function r(i, o, a, s) {\n                var l = d(e[i], e, o);\n                if ("throw" !== l.type) {\n                  var c = l.arg,\n                    u = c.value;\n                  return u && "object" == _typeof(u) && n.call(u, "__await") ? t.resolve(u.__await).then(function (e) {\n                    r("next", e, a, s);\n                  }, function (e) {\n                    r("throw", e, a, s);\n                  }) : t.resolve(u).then(function (e) {\n                    c.value = e, a(c);\n                  }, function (e) {\n                    return r("throw", e, a, s);\n                  });\n                }\n                s(l.arg);\n              }\n              var o;\n              i(this, "_invoke", {\n                value: function value(e, n) {\n                  function i() {\n                    return new t(function (t, i) {\n                      r(e, n, t, i);\n                    });\n                  }\n                  return o = o ? o.then(i, i) : i();\n                }\n              });\n            }\n            function R(e, r, n) {\n              var i = h;\n              return function (o, a) {\n                if (i === f) throw new Error("Generator is already running");\n                if (i === m) {\n                  if ("throw" === o) throw a;\n                  return {\n                    value: t,\n                    done: !0\n                  };\n                }\n                for (n.method = o, n.arg = a;;) {\n                  var s = n.delegate;\n                  if (s) {\n                    var l = x(s, n);\n                    if (l) {\n                      if (l === g) continue;\n                      return l;\n                    }\n                  }\n                  if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {\n                    if (i === h) throw i = m, n.arg;\n                    n.dispatchException(n.arg);\n                  } else "return" === n.method && n.abrupt("return", n.arg);\n                  i = f;\n                  var c = d(e, r, n);\n                  if ("normal" === c.type) {\n                    if (i = n.done ? m : p, c.arg === g) continue;\n                    return {\n                      value: c.arg,\n                      done: n.done\n                    };\n                  }\n                  "throw" === c.type && (i = m, n.method = "throw", n.arg = c.arg);\n                }\n              };\n            }\n            function x(e, r) {\n              var n = r.method,\n                i = e.iterator[n];\n              if (i === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, x(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), g;\n              var o = d(i, e.iterator, r.arg);\n              if ("throw" === o.type) return r.method = "throw", r.arg = o.arg, r.delegate = null, g;\n              var a = o.arg;\n              return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, g) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, g);\n            }\n            function C(e) {\n              var t = {\n                tryLoc: e[0]\n              };\n              1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t);\n            }\n            function S(e) {\n              var t = e.completion || {};\n              t.type = "normal", delete t.arg, e.completion = t;\n            }\n            function N(e) {\n              this.tryEntries = [{\n                tryLoc: "root"\n              }], e.forEach(C, this), this.reset(!0);\n            }\n            function I(e) {\n              if (null != e) {\n                var r = e[a];\n                if (r) return r.call(e);\n                if ("function" == typeof e.next) return e;\n                if (!isNaN(e.length)) {\n                  var i = -1,\n                    o = function r() {\n                      for (; ++i < e.length;) if (n.call(e, i)) return r.value = e[i], r.done = !1, r;\n                      return r.value = t, r.done = !0, r;\n                    };\n                  return o.next = o;\n                }\n              }\n              throw new TypeError(_typeof(e) + " is not iterable");\n            }\n            return y.prototype = b, i(E, "constructor", {\n              value: b,\n              configurable: !0\n            }), i(b, "constructor", {\n              value: y,\n              configurable: !0\n            }), y.displayName = c(b, l, "GeneratorFunction"), e.isGeneratorFunction = function (e) {\n              var t = "function" == typeof e && e.constructor;\n              return !!t && (t === y || "GeneratorFunction" === (t.displayName || t.name));\n            }, e.mark = function (e) {\n              return Object.setPrototypeOf ? Object.setPrototypeOf(e, b) : (e.__proto__ = b, c(e, l, "GeneratorFunction")), e.prototype = Object.create(E), e;\n            }, e.awrap = function (e) {\n              return {\n                __await: e\n              };\n            }, w(L.prototype), c(L.prototype, s, function () {\n              return this;\n            }), e.AsyncIterator = L, e.async = function (t, r, n, i, o) {\n              void 0 === o && (o = Promise);\n              var a = new L(u(t, r, n, i), o);\n              return e.isGeneratorFunction(r) ? a : a.next().then(function (e) {\n                return e.done ? e.value : a.next();\n              });\n            }, w(E), c(E, l, "Generator"), c(E, a, function () {\n              return this;\n            }), c(E, "toString", function () {\n              return "[object Generator]";\n            }), e.keys = function (e) {\n              var t = Object(e),\n                r = [];\n              for (var n in t) r.push(n);\n              return r.reverse(), function e() {\n                for (; r.length;) {\n                  var n = r.pop();\n                  if (n in t) return e.value = n, e.done = !1, e;\n                }\n                return e.done = !0, e;\n              };\n            }, e.values = I, N.prototype = {\n              constructor: N,\n              reset: function reset(e) {\n                if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(S), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n              },\n              stop: function stop() {\n                this.done = !0;\n                var e = this.tryEntries[0].completion;\n                if ("throw" === e.type) throw e.arg;\n                return this.rval;\n              },\n              dispatchException: function dispatchException(e) {\n                if (this.done) throw e;\n                var r = this;\n                function i(n, i) {\n                  return s.type = "throw", s.arg = e, r.next = n, i && (r.method = "next", r.arg = t), !!i;\n                }\n                for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n                  var a = this.tryEntries[o],\n                    s = a.completion;\n                  if ("root" === a.tryLoc) return i("end");\n                  if (a.tryLoc <= this.prev) {\n                    var l = n.call(a, "catchLoc"),\n                      c = n.call(a, "finallyLoc");\n                    if (l && c) {\n                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);\n                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);\n                    } else if (l) {\n                      if (this.prev < a.catchLoc) return i(a.catchLoc, !0);\n                    } else {\n                      if (!c) throw new Error("try statement without catch or finally");\n                      if (this.prev < a.finallyLoc) return i(a.finallyLoc);\n                    }\n                  }\n                }\n              },\n              abrupt: function abrupt(e, t) {\n                for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n                  var i = this.tryEntries[r];\n                  if (i.tryLoc <= this.prev && n.call(i, "finallyLoc") && this.prev < i.finallyLoc) {\n                    var o = i;\n                    break;\n                  }\n                }\n                o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);\n                var a = o ? o.completion : {};\n                return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, g) : this.complete(a);\n              },\n              complete: function complete(e, t) {\n                if ("throw" === e.type) throw e.arg;\n                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), g;\n              },\n              finish: function finish(e) {\n                for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n                  var r = this.tryEntries[t];\n                  if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), S(r), g;\n                }\n              },\n              catch: function _catch(e) {\n                for (var t = this.tryEntries.length - 1; t >= 0; --t) {\n                  var r = this.tryEntries[t];\n                  if (r.tryLoc === e) {\n                    var n = r.completion;\n                    if ("throw" === n.type) {\n                      var i = n.arg;\n                      S(r);\n                    }\n                    return i;\n                  }\n                }\n                throw new Error("illegal catch attempt");\n              },\n              delegateYield: function delegateYield(e, r, n) {\n                return this.delegate = {\n                  iterator: I(e),\n                  resultName: r,\n                  nextLoc: n\n                }, "next" === this.method && (this.arg = t), g;\n              }\n            }, e;\n          }(e.exports);\n          try {\n            regeneratorRuntime = t;\n          } catch (e) {\n            "object" == (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis)) ? globalThis.regeneratorRuntime = t : Function("r", "regeneratorRuntime = r")(t);\n          }\n        }\n      },\n      o = {};\n    function a(e) {\n      var t = o[e];\n      if (void 0 !== t) return t.exports;\n      var r = o[e] = {\n        exports: {}\n      };\n      return i[e](r, r.exports, a), r.exports;\n    }\n    a.m = i, a.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return a.d(t, {\n        a: t\n      }), t;\n    }, t = Object.getPrototypeOf ? function (e) {\n      return Object.getPrototypeOf(e);\n    } : function (e) {\n      return e.__proto__;\n    }, a.t = function (r, n) {\n      if (1 & n && (r = this(r)), 8 & n) return r;\n      if ("object" == _typeof(r) && r) {\n        if (4 & n && r.__esModule) return r;\n        if (16 & n && "function" == typeof r.then) return r;\n      }\n      var i = Object.create(null);\n      a.r(i);\n      var o = {};\n      e = e || [null, t({}), t([]), t(t)];\n      for (var s = 2 & n && r; "object" == _typeof(s) && !~e.indexOf(s); s = t(s)) Object.getOwnPropertyNames(s).forEach(function (e) {\n        return o[e] = function () {\n          return r[e];\n        };\n      });\n      return o.default = function () {\n        return r;\n      }, a.d(i, o), i;\n    }, a.d = function (e, t) {\n      for (var r in t) a.o(t, r) && !a.o(e, r) && Object.defineProperty(e, r, {\n        enumerable: !0,\n        get: t[r]\n      });\n    }, a.f = {}, a.e = function (e) {\n      return Promise.all(Object.keys(a.f).reduce(function (t, r) {\n        return a.f[r](e, t), t;\n      }, []));\n    }, a.u = function (e) {\n      return e + ".sdk.js";\n    }, a.g = function () {\n      if ("object" == (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis))) return globalThis;\n      try {\n        return this || new Function("return this")();\n      } catch (e) {\n        if ("object" == (typeof window === "undefined" ? "undefined" : _typeof(window))) return window;\n      }\n    }(), a.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r = {}, n = "AdManager:", a.l = function (e, t, i, o) {\n      if (r[e]) r[e].push(t);else {\n        var s, l;\n        if (void 0 !== i) for (var c = document.getElementsByTagName("script"), u = 0; u < c.length; u++) {\n          var d = c[u];\n          if (d.getAttribute("src") == e || d.getAttribute("data-webpack") == n + i) {\n            s = d;\n            break;\n          }\n        }\n        s || (l = !0, (s = document.createElement("script")).charset = "utf-8", s.timeout = 120, a.nc && s.setAttribute("nonce", a.nc), s.setAttribute("data-webpack", n + i), s.src = e), r[e] = [t];\n        var h = function h(t, n) {\n            s.onerror = s.onload = null, clearTimeout(p);\n            var i = r[e];\n            if (delete r[e], s.parentNode && s.parentNode.removeChild(s), i && i.forEach(function (e) {\n              return e(n);\n            }), t) return t(n);\n          },\n          p = setTimeout(h.bind(null, void 0, {\n            type: "timeout",\n            target: s\n          }), 12e4);\n        s.onerror = h.bind(null, s.onerror), s.onload = h.bind(null, s.onload), l && document.head.appendChild(s);\n      }\n    }, a.r = function (e) {\n      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: "Module"\n      }), Object.defineProperty(e, "__esModule", {\n        value: !0\n      });\n    }, function () {\n      var e;\n      a.g.importScripts && (e = a.g.location + "");\n      var t = a.g.document;\n      if (!e && t && (t.currentScript && "SCRIPT" === t.currentScript.tagName.toUpperCase() && (e = t.currentScript.src), !e)) {\n        var r = t.getElementsByTagName("script");\n        if (r.length) for (var n = r.length - 1; n > -1 && (!e || !/^http(s?):/.test(e));) e = r[n--].src;\n      }\n      if (!e) throw new Error("Automatic publicPath is not supported in this browser");\n      e = e.replace(/#.*$/, "").replace(/\\?.*$/, "").replace(/\\/[^\\/]+$/, "/"), a.p = e;\n    }(), function () {\n      var e = {\n        main: 0\n      };\n      a.f.j = function (t, r) {\n        var n = a.o(e, t) ? e[t] : void 0;\n        if (0 !== n) if (n) r.push(n[2]);else {\n          var i = new Promise(function (r, i) {\n            return n = e[t] = [r, i];\n          });\n          r.push(n[2] = i);\n          var o = a.p + a.u(t),\n            s = new Error();\n          a.l(o, function (r) {\n            if (a.o(e, t) && (0 !== (n = e[t]) && (e[t] = void 0), n)) {\n              var i = r && ("load" === r.type ? "missing" : r.type),\n                o = r && r.target && r.target.src;\n              s.message = "Loading chunk " + t + " failed.\\n(" + i + ": " + o + ")", s.name = "ChunkLoadError", s.type = i, s.request = o, n[1](s);\n            }\n          }, "chunk-" + t, t);\n        }\n      };\n      var t = function t(_t12, r) {\n          var n,\n            i,\n            _r11 = _slicedToArray(r, 3),\n            o = _r11[0],\n            s = _r11[1],\n            l = _r11[2],\n            c = 0;\n          if (o.some(function (t) {\n            return 0 !== e[t];\n          })) {\n            for (n in s) a.o(s, n) && (a.m[n] = s[n]);\n            if (l) l(a);\n          }\n          for (_t12 && _t12(r); c < o.length; c++) i = o[c], a.o(e, i) && e[i] && e[i][0](), e[i] = 0;\n        },\n        r = _this.webpackChunkAdManager = _this.webpackChunkAdManager || [];\n      r.forEach(t.bind(null, 0)), r.push = t.bind(null, r.push.bind(r));\n    }(), a("./node_modules/regenerator-runtime/runtime.js");\n    var s = a("./src/ads/AdManager.js");\n    return s = s.default;\n  }();\n});\n\n//# sourceURL=webpack://WI/./src/sdk/index.js?')},"./src/welcome/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _api = _interopRequireDefault(__webpack_require__(/*! ./network/api */ \"./src/welcome/network/api.js\"));\n// var _vast_player = _interopRequireDefault(require(\"./vast_player\"));\nvar _adsManager = _interopRequireDefault(__webpack_require__(/*! ../sdk */ \"./src/sdk/index.js\"));\nvar _md = _interopRequireDefault(__webpack_require__(/*! md5 */ \"./node_modules/md5/md5.js\"));\nvar _platform = _interopRequireDefault(__webpack_require__(/*! platform */ \"./node_modules/platform/platform.js\"));\nvar _token = _interopRequireDefault(__webpack_require__(/*! ./token */ \"./src/welcome/token.js\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nvar WiiSdk = /*#__PURE__*/function () {\n  function WiiSdk(config) {\n    _classCallCheck(this, WiiSdk);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"api\", void 0);\n    _defineProperty(this, \"sign\", void 0);\n    _defineProperty(this, \"salt\", void 0);\n    _defineProperty(this, \"token\", void 0);\n    this.config = config;\n    this.token = _token.generateAiACTIVToken();\n    this.salt = this.gSa(20);\n    this.sign = this.gSi(this.gDI(), this.config.tenantId, this.salt);\n    this.config = config;\n  }\n  _createClass(WiiSdk, [{\n    key: 'start',\n    value: function start() {\n      var _this = this;\n      this.welcomeContainer = document.getElementById('wii_Welcome') || '';\n      this.welcomeContainer && this.welcomeContainer.remove();\n      this.ads = this.loadCampaign(this.config, this.token);\n      this.api = new _api['default'](this.config, this.ads).then(function (result) {\n        if (result) {\n          var data = JSON.parse(result);\n          if (data.format === 'VAST') {\n            // window.parent.postMessage({ type: 'HAVE_ADS' }, '*');\n            _this.callbackMessage('HAVE_ADS');\n            _this.containerAds = document.createElement('div');\n            _this.containerAds.setAttribute('id', 'wii_Welcome');\n            _this.containerAds.style.cssText = \"\\n                position: fixed;\\n                width: 100vw;\\n                height: 100vh;\\n                top: 0;\\n                right: 0;\\n                background: #000000;\\n                z-index: 9999;\\n                visibility: hidden;\\n              \";\n            document.body.append(_this.containerAds);\n            // init player\n            // console.log('data.url', data.url);\n            _this.ads = new _adsManager['default'](data.url, 'wii_Welcome', {\n              wrapperLimit: 10\n            }, _this.config, _this.sign, _this.token, {\n              vastTimeout: (_this.config.vastLoadTimeout || 5) * 1000\n            }, {\n              bufferingVideoTimeout: (_this.config.bufferingVideoTimeout || 5) * 1000,\n              bitrate: _this.config.bitrate || 1000,\n              muted: _this.config.muted || false\n            });\n            _this.ads.loadAndPlayAds();\n            window.addEventListener('message', function (e) {\n              if (['START'].includes(e.data.type)) {\n                // console.log('startAds', this);\n                _this.containerAds.style.visibility = 'visible';\n                _this.playAds();\n              }\n              if (['GET_ADS'].includes(e.data.type)) {\n                // console.log('startAds', this);\n                _this.ads.setSource();\n              }\n            });\n            document.addEventListener(\"visibilitychange\", _this.handleVisibilityChange.bind(_this));\n          } else {\n            _this.callbackMessage('NO_ADS');\n            return;\n          }\n        } else {\n          _this.callbackMessage('NO_ADS');\n          return;\n        }\n      });\n    }\n  }, {\n    key: 'handleVisibilityChange',\n    value: function handleVisibilityChange() {\n      if (document.visibilityState === \"visible\") {\n        // App is back in focus, reload or restart the video\n        // console.log(\"App is back in focus, reload or restart the video\");\n        this.ads && this.ads.playWhenInterrupted();\n      } else {\n        // App is not in focus, pause the video\n        // console.log(\"App is not in focus, pause the video\");\n        this.ads && this.ads.pauseAds();\n      }\n    }\n  }, {\n    key: 'loadCampaign',\n    value: function loadCampaign() {\n      var host = '';\n      if (this.config.env === WI.Environment.SANDBOX) {\n        host = 'https://dev-pubads.wiinvent.tv';\n      } else if (this.config.env === WI.Environment.PRODUCTION) {\n        host = 'https://pubads-wiinvent.tv360.vn';\n      } else if (this.config.env === WI.Environment.VIETTEL_PRODUCTION) {\n        host = 'https://pubads-wiinvent.tv360.vn';\n      } else {\n        host = 'https://pubads.wiinvent.tv';\n      }\n      var url = host + '/v1/adserving/welcome/campaign?p='.concat(this.config.deviceType, '&d=').concat(this.gDI(), '&t=').concat(this.config.tenantId, '&si=').concat(this.sign, '&ai=').concat(this.config.adId || '', '&ti=').concat(this.config.transId || '', '&a=').concat(this.config.age || '0', '&gd=').concat(this.config.gender || 'NONE', '&uid=').concat(this.config.uid20 || '', '&mft=').concat(_platform.default.manufacturer || '', '&m=').concat(this.config.model || '', '&on=').concat(_platform.default.os.family || '', '&ov=').concat(_platform.default.os.version || '', '&tk=').concat(this.token || '', '&sm=').concat(this.config.segments || '');\n      return url;\n    }\n  }, {\n    key: \"playAds\",\n    value: function playAds() {\n      // console.log(\"Ads log: playAds callback\");\n      this.ads.playAds();\n    }\n  }, {\n    key: 'gSi',\n    value: function gSi(deviceId, tenantId, salt) {\n      var secret = this.gAdsK(deviceId, tenantId, salt);\n      return salt + secret;\n    }\n  }, {\n    key: 'gAdsK',\n    value: function gAdsK(deviceId, tenantId, salt) {\n      var hash = (0, _md['default'])(deviceId + tenantId + salt);\n      return hash;\n    }\n  }, {\n    key: 'gSa',\n    value: function gSa(size) {\n      var result = '';\n      var characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n      var charactersLength = characters.length;\n      for (var i = 0; i < size; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      return result;\n    }\n  }, {\n    key: 'gDI',\n    value: function gDI() {\n      var viewId = localStorage.getItem('wiinvent-viewer-id');\n      if (viewId == null || viewId == undefined) {\n        viewId = this.cU();\n        localStorage.setItem('wiinvent-viewer-id', viewId);\n      }\n      return viewId;\n    }\n  }, {\n    key: 'cU',\n    value: function cU() {\n      var dt = new Date().getTime();\n      var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : r & 0x3 | 0x8).toString(16);\n      });\n      return uuid;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      // _vast_player[\"destroy\"]();\n      if (this.welcomeContainer) {\n        this.welcomeContainer.remove();\n      } else {\n        this.welcomeContainer = document.getElementById('wii_Welcome') || '';\n        this.welcomeContainer && this.welcomeContainer.remove();\n      }\n      document.removeEventListener(\"visibilitychange\", this.handleVisibilityChange);\n      this.ads && this.ads.destroy();\n      this.ads = null;\n    }\n  }, {\n    key: 'destroyInit',\n    value: function destroyInit() {\n      this.ads && this.ads.destroy();\n      // _vast_player[\"destroyInit\"]();\n    }\n  }, {\n    key: 'changeSize',\n    value: function changeSize(width, height) {\n      // _vast_player[\"changeSize\"](width, height);\n    }\n  }, {\n    key: 'callbackMessage',\n    value: function callbackMessage(type) {\n      window.postMessage({\n        type: type\n      }, '*');\n    }\n  }, {\n    key: 'skip',\n    value: function skip() {\n      // _vast_player[\"skip\"]();\n      this.ads && this.ads.skip();\n      this.destroy();\n    }\n  }]);\n  return WiiSdk;\n}();\nexports[\"default\"] = WiiSdk;\n\n//# sourceURL=webpack://WI/./src/welcome/index.js?")},"./src/welcome/network/api.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports["default"] = Api;\nvar _network = _interopRequireDefault(__webpack_require__(/*! ./network */ "./src/welcome/network/network.js"));\nvar _ = __webpack_require__(/*! .. */ "./src/welcome/index.js");\nvar result = [];\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    "default": obj\n  };\n}\nfunction _typeof(obj) {\n  "@babel/helpers - typeof";\n\n  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ("value" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, "prototype", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, "string");\n  return _typeof(key) === "symbol" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== "object" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || "default");\n    if (_typeof(res) !== "object") return res;\n    throw new TypeError("@@toPrimitive must return a primitive value.");\n  }\n  return (hint === "string" ? String : Number)(input);\n}\nvar Api = /*#__PURE__*/function () {\n  function Api(config, url) {\n    _classCallCheck(this, Api);\n    this.network = new _network["default"]();\n    this.config = config;\n    var that = this;\n    var endpoint = url;\n    var headers = [[\'Content-Type\', \'application/json\'], [\'X-Tenant-Id\', that.config.tenantId]];\n    return that.network.xhr(endpoint, headers, null, "GET").then(function (data) {\n      return data;\n    }, function (error) {\n      return error;\n    });\n  }\n  return Api;\n}();\nexports["default"] = Api;\n\n//# sourceURL=webpack://WI/./src/welcome/network/api.js?')},"./src/welcome/network/network.js":(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports["default"] = void 0;\nfunction _typeof(obj) {\n  "@babel/helpers - typeof";\n\n  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === "string") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === "Object" && o.constructor) n = o.constructor.name;\n  if (n === "Map" || n === "Set") return Array.from(o);\n  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if ("value" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, "prototype", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, "string");\n  return _typeof(key) === "symbol" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== "object" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || "default");\n    if (_typeof(res) !== "object") return res;\n    throw new TypeError("@@toPrimitive must return a primitive value.");\n  }\n  return (hint === "string" ? String : Number)(input);\n}\nvar Network = /*#__PURE__*/function () {\n  function Network() {\n    _classCallCheck(this, Network);\n  }\n  _createClass(Network, [{\n    key: "xhr",\n    value: function xhr(url, headers, body, type) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open(type, url);\n        if (headers) {\n          headers.forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n            xhr.setRequestHeader(key, value);\n          });\n        }\n        xhr.onerror = function () {\n          return reject("Page not found!");\n        };\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          var okStatus = xhr.status >= 200 && xhr.status < 300;\n          var json = xhr.responseText;\n          // console.log(xhr.responseText)\n\n          if (xhr.status === 0) {\n            reject("Page not found!");\n          } else {\n            if (okStatus) {\n              resolve(json);\n            } else {\n              reject({\n                status: xhr.status,\n                message: json || xhr.responseText || \'\'\n              });\n            }\n          }\n        };\n        if (body) {\n          xhr.send(JSON.stringify(body));\n        } else {\n          xhr.send();\n        }\n      });\n    }\n  }]);\n  return Network;\n}();\nexports["default"] = Network;\n\n//# sourceURL=webpack://WI/./src/welcome/network/network.js?')},"./src/welcome/token.js":(module,exports,__webpack_require__)=>{eval('/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n!function (e, o) {\n  "object" == ( false ? 0 : _typeof(exports)) && "object" == ( false ? 0 : _typeof(module)) ? module.exports = o() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (o),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;\n}(self, function () {\n  return function () {\n    "use strict";\n\n    var e = {\n        d: function d(o, t) {\n          for (var r in t) e.o(t, r) && !e.o(o, r) && Object.defineProperty(o, r, {\n            enumerable: !0,\n            get: t[r]\n          });\n        },\n        o: function o(e, _o) {\n          return Object.prototype.hasOwnProperty.call(e, _o);\n        },\n        r: function r(e) {\n          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n            value: "Module"\n          }), Object.defineProperty(e, "__esModule", {\n            value: !0\n          });\n        }\n      },\n      o = {};\n    function t() {\n      var e = window.navigator,\n        _ref = e || {},\n        o = _ref.userAgent,\n        t = _ref.vendor;\n      return window.btoa(JSON.stringify({\n        ua: o,\n        vendor: t\n      }));\n    }\n    return e.r(o), e.d(o, {\n      generateAiACTIVToken: function generateAiACTIVToken() {\n        return t;\n      }\n    }), o;\n  }();\n});\n\n//# sourceURL=webpack://WI/./src/welcome/token.js?')},"./node_modules/charenc/charenc.js":module=>{eval("var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n//# sourceURL=webpack://WI/./node_modules/charenc/charenc.js?")},"./node_modules/crypt/crypt.js":module=>{eval("(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n//# sourceURL=webpack://WI/./node_modules/crypt/crypt.js?")},"./node_modules/is-buffer/index.js":module=>{eval("/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n//# sourceURL=webpack://WI/./node_modules/is-buffer/index.js?")},"./node_modules/md5/md5.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('(function(){\r\n  var crypt = __webpack_require__(/*! crypt */ "./node_modules/crypt/crypt.js"),\r\n      utf8 = (__webpack_require__(/*! charenc */ "./node_modules/charenc/charenc.js").utf8),\r\n      isBuffer = __webpack_require__(/*! is-buffer */ "./node_modules/is-buffer/index.js"),\r\n      bin = (__webpack_require__(/*! charenc */ "./node_modules/charenc/charenc.js").bin),\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === \'binary\')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error(\'Illegal argument \' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n//# sourceURL=webpack://WI/./node_modules/md5/md5.js?')},"./node_modules/platform/platform.js":function(module,exports,__webpack_require__){eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Platform.js v1.3.6\n * Copyright 2014-2020 Benjamin Tan\n * Copyright 2011-2013 John-David Dalton\n * Available under MIT license\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[\"object\"] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof __webpack_require__.g == 'object' && __webpack_require__.g;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': '(?:Edge|Edg|EdgA|EdgiOS)' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Vivaldi',\n      'Waterfox',\n      'WebPositive',\n      { 'label': 'Yandex Browser', 'pattern': 'YaBrowser' },\n      { 'label': 'UC Browser', 'pattern': 'UCBrowser' },\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chromium',\n      'Chrome',\n      { 'label': 'Chrome', 'pattern': '(?:HeadlessChrome)' },\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Alcatel': {},\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'Huawei': {},\n      'Lenovo': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Oppo': {},\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 },\n      'Xiaomi': { 'Mi': 1, 'Redmi': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'KaiOS',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      { 'label': 'DragonFly BSD', 'pattern': 'DragonFly' },\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect Android products.\n    // Browsers on Android devices typically provide their product IDS after \"Android;\"\n    // up to \"Build\" or \") AppleWebKit\".\n    // Example:\n    // \"Mozilla/5.0 (Linux; Android 8.1.0; Moto G (5) Plus) AppleWebKit/537.36\n    // (KHTML, like Gecko) Chrome/70.0.3538.80 Mobile Safari/537.36\"\n    if (/\\bAndroid\\b/.test(os) && !product &&\n        (data = /\\bAndroid[^;]*;(.*?)(?:Build|\\) AppleWebKit)\\b/i.exec(ua))) {\n      product = trim(data[1])\n        // Replace any language codes (eg. \"en-US\").\n        .replace(/^[a-z]{2}-[a-z]{2};\\s*/i, '')\n        || null;\n    }\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    } else if (manufacturer && product) {\n      product = product\n        .replace(RegExp('^(' + qualify(manufacturer) + ')[-_.\\\\s]', 'i'), manufacturer + ' ')\n        .replace(RegExp('^(' + qualify(manufacturer) + ')[-_.]?(\\\\w)', 'i'), manufacturer + ' $2');\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && /^Linux\\b/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect UC Browser speed mode.\n    else if (name == 'UC Browser' && /\\bUCWEB\\b/.test(ua)) {\n      description.push('speed mode');\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$)|UCBrowser|YaBrowser)',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (rhino) {\n          try {\n            version = context.require('ringo/engine').version.join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if ((data = context.system) && data.global.system == context.system) {\n              name = 'Narwhal';\n              os || (os = data[0].os || null);\n            }\n          }\n          if (!name) {\n            name = 'Rhino';\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          }\n          if (!name) {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : null;\n          }\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS|KaiOS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\b(?:Headless)?Chrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : data < 602 ? 9 : data < 604 ? 10 : data < 606 ? 11 : data < 608 ? 12 : '12');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      } else if (name == 'Chrome' && /\\bHeadlessChrome/i.test(ua)) {\n        description.unshift('headless');\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Newer versions of SRWare Iron uses the Chrome tag to indicate its version number.\n    else if (/\\bSRWare Iron\\b/.test(name) && !version) {\n      version = getVersion('Chrome');\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Ensure OS does not include the browser name.\n    if (os && os.indexOf(name) != -1 && !RegExp(name + ' OS').test(os)) {\n      os = os.replace(RegExp(' *' + qualify(name) + ' *'), '');\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Linux\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\",\n       * \"SuSE\", \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (true) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n      return platform;\n    }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else {}\n}.call(this));\n\n\n//# sourceURL=webpack://WI/./node_modules/platform/platform.js?")}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[n]={id:n,loaded:!1,exports:{}};return __webpack_modules__[n].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),__webpack_require__.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var __webpack_exports__=__webpack_require__("./src/index.js");return __webpack_exports__})()));